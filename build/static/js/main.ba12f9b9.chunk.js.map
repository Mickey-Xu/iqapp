{"version":3,"sources":["js/db.js","js/sfdl/constants/global.js","js/sfdl/constants/VisibilityOperators.js","js/sfdl/expr/isValidIdentifier.js","js/sfdl/utils/options.js","js/sfdl/constants/FieldTypes.js","js/sfdl/utils/crypto.js","js/sfdl/SingleLineIO.js","js/sfdl/ParagraphTextIO.js","js/sfdl/NumberIO.js","js/sfdl/SignatureIO.js","js/sfdl/StaticTextIO.js","js/sfdl/utils/xml.js","js/sfdl/YesNoIO.js","js/sfdl/SliderIO.js","js/sfdl/CheckboxesIO.js","js/sfdl/NaYesNoIO.js","js/sfdl/SectionIO.js","js/sfdl/PageIO.js","js/sfdl/DateIO.js","js/sfdl/CalculationIO.js","js/sfdl/PhotoIO.js","js/sfdl/TableIO.js","js/sfdl/genericMCIOFactory.js","js/sfdl/setup.js","js/sfdl/serialize.js","js/sfdl/utils/getDefaultValue.js","js/sfdl/deserialize.js","config/index.js","i18n.js","components/TemplateForm/TitlePage/index.js","api/base.js","api/auth.js","api/documents.js","api/fitters.js","api/groupInfo.js","api/installationMethodDict.js","api/orders.js","api/templates.js","api/task.js","api/changePassword.js","api/userManual.js","img/gps.png","img/subcontl.png","img/unit.png","reducers/activities.js","reducers/auth.js","reducers/documentList.js","reducers/fittersAssignmentTransfer.js","reducers/fittersCertification.js","reducers/fittersDemand.js","reducers/formData.js","reducers/groupInfo.js","reducers/installationMethodDict.js","reducers/installations.js","reducers/orderActivities.js","reducers/orderInstallationMethods.js","reducers/orders.js","reducers/overdueActivities.js","reducers/partnerFunctions.js","reducers/partners.js","reducers/productFamilies.js","reducers/projects.js","reducers/refreshTime.js","reducers/requestStatus.js","reducers/selectBale.js","reducers/settings.js","reducers/slectedCheckBoxList.js","reducers/tasks.js","reducers/templateForm.js","reducers/templates.js","reducers/versionUpdating.js","reducers/wayToInstallList.js","reducers/scrollPosition.js","reducers/nonConformityConfig.js","reducers/chars.js","reducers/index.js","reducers/alert.js","reducers/loading.js","reducers/projectFilterValue.js","reducers/timeHorizon.js","js/store.js","img/progress.png","assets/img/refresh.png","js/fetch.js","assets/img/Favicon.png","assets/svg/fitter2.svg","assets/svg/fitter3.svg","img/project.png","img/selectedProject.png","img/square.png","img/triangle.png","assets/img/logo.png","assets/svg/fitter.svg","img/projectIcon.png","img/userManual.png","assets/svg/about.svg","assets/svg/downLoad.svg","assets/svg/Elevator.svg","assets/svg/key.svg","assets/svg/language.svg","img/installation.png","img/name.png","img/number.png","img/order.png","img/productline.png","img/teamLeader.png","img/checkList.svg","assets/img/nodeStatus.png","assets/img/over_view.png","assets/img/loading.gif","assets/img/filter.png","js/publicFn/getOrderSiteAddress.js","js/publicFn/authUtils.js","js/publicFn/DatePermissionControl.js","js/publicFn/taskCleaner.js","js/publicFn/listOfInstallationBranches.js","components/PrivateRoute/index.js","components/ConfirmModal/index.js","components/CheckforUpdates/index.js","components/Alert/index.js","components/Loading/index.js","layouts/PrimaryLayout/index.js","pages/AboutPage/index.js","components/OrderListItem/index.js","components/OrderList/index.js","pages/ActivityDetailPage/index.js","components/ActivityList/index.js","components/FFTab/index.js","pages/ActivityListPage/index.js","pages/ChangePasswordPage/index.js","components/Model/index.js","components/Pdf/index.js","pages/DocumentsPage/index.js","components/FitterAssignment/index.js","components/FitterOverview/index.js","pages/FittersAssignmentPage/index.js","components/Form/SingleLine.jsx","components/Form/Form.jsx","components/Form/Checkbox.jsx","components/Form/Password.jsx","components/Form/PhoneNumber.jsx","components/Form/index.js","components/Form/Static.jsx","pages/LoginPage/index.js","components/Form/validate.js","components/SwitchLanguage/index.js","pages/MePage/index.js","pages/NewUserResetPasswordPage/index.js","components/OrderActivityList/index.js","components/OrderActivityListCard/index.js","pages/OrderActivityListPage/index.js","components/OrderActivityListMiniCard/index.js","components/OrderInfo/index.js","components/ProjectSiteAddress/index.js","pages/OrderDetailPage/index.js","pages/OrderInstallationListPage/index.js","components/UnitDetail/index.js","pages/ProjectDetailPage/index.js","components/ProjectItemList/index.js","components/ProjectSearchBar/index.js","components/SwitchActivityNumber/index.js","pages/ProjectInstallationStepsPage/index.js","components/ProjectSummary/index.js","components/ProjectListItem/index.js","components/ProjectList/index.js","pages/ProjectListPage/index.js","pages/ProjectProgressPage/index.js","pages/SubconTeamPage/index.js","pages/SynchronizePage/index.js","pages/TaskCreatePage/index.js","pages/TaskManagermentPage/index.js","components/TaskListCard/index.js","components/TaskList/index.js","pages/TasksPage/index.js","pages/TaskGroupPage/index.js","components/TemplateFilter/index.js","pages/TemplatePage/index.js","pages/UserManualPage/index.js","components/TaskItemCard/index.js","components/TaskListItem/index.js","pages/TaskListPage/index.js","App.js","serviceWorker.js","index.js","components/TemplateForm/Checkboxes/index.js","components/TemplateForm/DateTime/index.js","components/TemplateForm/Dropdown/index.js","components/TemplateForm/NaYesNo/index.js","components/TemplateForm/NumberText/index.js","components/TemplateForm/PageBreak/index.js","components/TemplateForm/Paragraph/index.js","components/Camera/index.js","components/TemplateForm/Photo/index.js","components/TemplateForm/SectionBreak/index.js","components/TemplateForm/Signature/index.js","components/TemplateForm/SingleChoice/index.js","components/TemplateForm/SingleLine/index.js","components/TemplateForm/Slider/index.js","components/TemplateForm/StaticText/index.js","components/TemplateForm/YesNo/index.js","js/util.js","js/templateFormUtil/index.js","js/schema.js","actions/alert.js","actions/auth.js","actions/documents.js","actions/entities.js","actions/fitters.js","actions/formData.js","actions/groupInfo.js","actions/initialization.js","actions/loading.js","actions/orders.js","actions/overdueActivities.js","actions/refreshTime.js","actions/settings.js","actions/templateForm.js","actions/templates.js","actions/timeHorizon.js","actions/versionUpdating.js","actions/task.js","actions/changePassword.js","actions/scrollPosition.js","actions/userManual.js","js/installationStep.js"],"names":["db","createDb","name","Dexie","version","stores","cache","SFDL_MAJOR_VERSION","Number","process","SFDL_MINOR_VERSION","SFDL_VERSION","XSD_REVISION","XSD_VERSION","RETURN_TO_APP_URLS","ops","ARG_TYPES","addOp","id","formulaOp","argType","Error","includes","isValidIdentifier","identifier","match","removeXMLInvalidChars","string","removeDiscouragedChars","regex","replace","RegExp","FREE_TEXT_VALUE","assert","STRING_OPS","Ops","isString","isNotString","containsString","doesNotContainString","startsWith","endsWith","NUMBER_OPS","isNumber","isNotNumber","greaterThan","lessThan","singleLine","initialSettings","labelI18n","English","required","important","annotatable","descriptionI18n","undefined","prefilledAnswer","visRules","externalVisRules","authorizationRules","tagRules","printTagRules","images","applicableOperators","convertibleTo","paragraph","number","min","max","unit","unitFront","slider","step","initialValue","date","label","includeTime","pastDateNotAllowed","futureDateNotAllowed","changeNotAllowed","hasDefaultValue","defaultValue","isDate","isNotDate","before","after","multipleChoice","options","nameI18n","value","selectedId","includeOther","isOption","isNotOption","dropdown","yesNo","isBool","naYesNo","notApplicableOption","fixedOption","buttonDescriptions","isExtBool","isNotExtBool","applicableButtonDescriptions","checkboxes","selectedIds","containsOption","doesNotContainOption","calculation","formula","signature","photo","staticText","textI18n","table","trs","columnHeader","tds","width","rowHeader","sectionBreak","qrCodeReader","isCollapsed","pageBreak","isTitlePageEnd","KEY","forge","util","hexToBytes","IV","serialize","doc","findField","parentNode","field","appendChild","appendQuestionBlock","settings","canDeserialize","node","nodeName","hasChildNode","deserialize","readQuestionBlock","getRequiredAttr","textFieldNode","getChildNode","text","textContent","getAttrWithDefault","textAreaNode","inputNode","trim","isNaN","console","warn","forEach","attr","hasAttribute","src","signatureNode","dataUrl","labelNode","guid","Object","keys","lang","appendVisRules","appendExtVisRules","appendImages","appendAuthorizationRules","length","tagRulesNode","tagName","operatorId","argument","alwaysAdd","appendStaticTagRules","appendPrintTagRules","getChildNodes","reduce","acc","textNode","assign","uuid","v4","type","readImages","questionBlock","setAttribute","checkboxNode","from","to","rangeNode","multiGroup","optionNode","selected","optionNodes","selectedValues","split","otherTextFieldNode","otherOptionText","otherOptionSelected","optionId","push","changeDescription","itemTexts","itemValues","naYesNoNode","dateNode","dateString","moment","Date","calculationNode","parseFloat","photoNode","tr","trNode","td","tdNode","tableNode","trNodes","trIndex","trId","tdIndex","tdId","contentNode","genericMCIOFactory","fieldType","xmlElementName","radioGroupOrDropdown","attrName","getAttribute","getValueAttr","register","io","FieldTypes","setup","SingleLineIO","ParagraphTextIO","NumberIO","SliderIO","DateIO","YesNoIO","NaYesNoIO","CheckboxesIO","SignatureIO","PhotoIO","CalculationIO","StaticTextIO","SectionIO","PageIO","TableIO","uninitializedTypes","filter","join","checkFieldTypes","buildSfdl","formMetaData","fields","status","form","createElement","globalTemplate","includeGeoLocation","sendOnce","forceSaveMultiLanguage","templateVersion","kgCode","maxNumberOfPictures","titleI18n","buildTitleAndDescription","logos","logosNode","buildLogo","languages","fallback","fallbackLang","buildLanguages","authorizationUniverse","map","authorization","buildAuthorizationUniveerse","tagUniverse","tag","buildTagUniverse","printTagUniverse","excludeFromOutput","buildPrintTagUniverse","tagRulesInFilter","buildTagRulesInFilter","printSettings","printHeader","headerText","printFooter","footerText","buildPrintSettings","emailAction","attachmentType","receivers","email","bind","returnToApp","appId","returnAppAction","webDavAction","key","cleartext","cipher","createCipher","start","iv","update","createBuffer","finish","encode64","output","getBytes","encrypt","fileType","buildFormActions","metadataNode","metadata","item","buildFormMetadata","blocks","blocksArraryNode","blockNode","title","fieldGuid","buildBuildingBlocks","find","f","result","firstPage","splice","extractPages","pageData","pageFields","page","appendTagRules","printTagRulesWithLatestName","rule","t","tagId","firstSection","extractSections","sectionData","sectionFields","section","buildFormField","serializer","_","get","authorizationId","authorizationName","defaultForm","server","path","username","password","removeLanguageSettings","languageSettings","langKey","indexOf","data","setupIO","fieldToMap","needRemoveLanguages","option","document","implementation","createDocument","XMLSerializer","serializeToString","expectedReturnType","questionNode","descriptionNode","annotation","annotationNode","n","imageUrl","tags","uniq","url","childName","hasChildNodes","i","childNodes","child","attributes","isTextContentEncode","createTextNode","decodeURIComponent","encodeURIComponent","returnType","hasOwnProperty","initValue","buttonDescriptionsNode","selectedDescriptionId","selectedButtonId","appendButtonDescriptions","Array","isArray","visRulesNode","fieldId","conjunctionOperator","positionRule","operator","ruleArgumentToString","printTagRulesNode","authorizationRulesNode","o","isMoment","format","extVisRulesNode","extConditionNode","externalForm","getDefaultValue","targetField","xmlText","arguments","fieldsVisRules","parser","DOMParser","docNode","parseFromString","documentElement","checkRootNode","checkSfdlVersion","checkXsdVersion","readFormMetadata","pageIndex","readLogos","readAuthorizationUniverse","readTagUniverse","readPrintTagUniverse","readTagRulesInFilter","readPrintSettings","readLanguages","readEmailAction","readWebdavAction","readReturnToAppAction","readDevices","readMetadata","readBuildingBlocks","readPage","readVisRules","position","readExtVisRules","readAuthorizationRules","readTagRules","readPrintTagRules","readButtonDescriptions","e","error","message","versionParts","major","minor","stylesheet","sourceMajor","sourceMinor","destMajor","destMinor","determineTransformStylesheet","xsltProcessor","XSLTProcessor","xsltDoc","importStylesheet","transformToFragment","transformSfdlVersion","xsdVersion","revision","s","lat","long","latLongAccuracy","instanceId","history","authorizationsNode","authorizationNode","tagsNode","tagNode","tagRulesInFilterNode","printSettingsNode","header","footer","languagesNode","langNode","actionNode","encrypted64","encrypted","decode64","decipher","createDecipher","decrypt","log","devicesNode","devNode","exportAction","exportDate","deviceId","blocksNode","fieldNode","pageNode","pageField","sectionIndex","readSection","sectionNode","sectionField","readField","types","fieldIo","parseVisRulesNode","op","condition","parseConditionNode","otherIdentifier","otherFields","otherField","convertRuleArgument","parseInt","String","isInternal","parseExtVisRulesNode","checkList","getPositionVR","rules","Math","getLastPostionOfVisRules","parseExtConditionNode","deserializeResult","findTagId","rulesNode","ruleNodes","alwaysAddRules","normalRules","ruleNode","concat","parseButtonDescriptionNode","REACT_APP_IDPT_API_BASE_URL","axiosConfig","baseURL","timeout","withCredentials","alertAutoHideDuration","blobResponseURLs","formDataURLs","localizedStrings","en","appName","INSTAPP_JOBLIST_ACTIVITY_COCKPIT","INSTAPP_TEMPLATE_New_VERSION","INSTAPP_TEMPLATE_OVER_WRITE","JOBLIST_ACTIVITY","INSTAPP_JOBLIST_ACTIVITY_SUM","INSTAPP_JOBLIST_ACTIVITY_OVERDUE","INSTAPP_PROJECTLIST_PROJECT","INSTAPP_PROJECTLIST_PROJECT_LEADER","INSTAPP_JOBLIST_TASKS","INSTAPP_JOBLIST_ME","COCKPIT_FILTER_TODAY","COCKPIT_FILTER_THISWEEK","INSTAPP_COCKPIT_FILTER_THISMONTH","INSTAPP_COCKPIT_FILTER_SIXMONTH","COCKPIT_FILTER_OPEN","COCKPIT_FILTER_CONFIRMED","COCKPIT_FILTER_NONE","INSTAPP_JOBLIST_ACTIVITY_DETAIL","INSTAPP_JOBLIST_UNIT_DETAIL","PROJECTLIST_PROJECT","PROJECTLIST_PROJECT_NO","PROJECTLIST_PROJECT_DESCRIPTION","PROJECTLIST_SITE_ADDRESS","JOBLIST_SUBCON_TL","INSTAPP_PROJECTLIST_FitterCount","INSTAPP_PROJECTLIST_UnitCount","JOBLIST_ORDER","JOBLIST_ORDER_NUMBER","ORDERDETAILS_PRODUCT_FAMILY","INSTAPP_JOBLIST_INSTMETHOD","VIEW_INSTALLATION_CHECKLIST","INSTALLATION_CHECKLIST","VIEW_NONCONFORMANCE_ITEMS","Close_NONCONFORMANCE_ITEMS","NONCONFORMITY_LIST","INSTAPP_JOBLIST_UNIT_PROGRESS","ISNTAPP_JOBLIST_ACTIVITY","ISNTAPP_JOBLIST_STEPS","PROJECTLIST_PLANNED_FINISH","PROJECTLIST_CONFIRMED_FINISH","ORDERDETAILS_LOCK","ORDERDETAILS_UNLOCK","GENERAL_CONFIRM","GENERAL_CANCEL","ISNTAPP_JOBLIST_DOC_TODO","ISNTAPP_JOBLIST_DOC_DONE","ISNTAPP_WITHOUT_TEMPLATES","ISNTAPP_JOBLIST_INST_STEPS","ISNTAPP_PROJECTLIST_FITTER_ASSIGNMENT","GENERAL_OVERVIEW","ISNTAPP_PROJECTLIST_FITTER_ASSIGNMENT2","ISNTAPP_PROJECTLIST_FITTER_ASSIGNED_TOTAL","ISNTAPP_PROJECTLIST_FITTER_NEED","ISNTAPP_PROJECTLIST_FITTER_Qualified","ISNTAPP_PROJECTLIST_FITTER_Assigned","ISNTAPP_PROJECTLIST_FITTER_CONFIRM","ISNTAPP_PROJECTLIST_PROJECT_PROGRESS","ISNTAPP_PROJECTLIST_PROJECT_INSTALLATIONSTEPS","LATERALMENU_PROJECT_LIST","PROJECTLIST_DETAILS","ISNTAPP_UNITS","ISNTAPP_PROJECTS","ISNTAPP_LANGUAGE","ISNTAPP_SYNCHRONIZE","ISNTAPP_CHANGE_PASSWORD","ISNTAPP_ABOUT","ISNTAPP_LANGUAGE_ZH_CN","ISNTAPP_LANGUAGE_EN","ISNTAPP_ME","ISNTAPP_SIGN_OUT","ISNTAPP_SYNC_PAGE","ISNTAPP_SYNCHRONIZE_PAGE","ISNTAPP_SYNCHRONIZE_ORDER","ISNTAPP_SYNCHRONIZE_MASTER_DATA","ISNTAPP_SYNCHRONIZE_ORDER_DATA","ISNTAPP_SYNCHRONIZE_DOCUMENTS","ISNTAPP_SYNCHRONIZE_TEMPLATE_LIST","ISNTAPP_SYNCHRONIZE_DOCUMENT_LIST","ISNTAPP_SYNCHRONIZE_TASK","ISNTAPP_SYNCHRONIZE_TASK_LIST","ISNTAPP_LOADED","ISNTAPP_LOADING","ISNTAPP_FEIL_TO_LOAD","ISNTAPP_NEW_PASSWORD","ISNTAPP_OLD_PASSWORD","ISNTAPP_CONFIRME_CHANGE_PASSWORD","ISNTAPP_UPDATES","ISNTAPP_INSTALLATION_QUALITY_APP","ISNTAPP_NEW_VERSION_FOUND","ISNTAPP_LATEST_VERSION","ISNTAPP_CHECK_UPDATES","ISNTAPP_COPYRIGHT","ISNTAPP_VERSION","ISNTAPP_TASKS","ISNTAPP_TASKS_CREATED_BY_ME","ISNTAPP_TASKS_ASSIGUED_TO_ME","ISNTAPP_TO_COMPLETE","ISNTAPP_TO_CLOSE","ISNTAPP_CLOSED","ISNTAPP_COMPLETE","ISNTAPP_COMPLETE_COMMENT","ISNTAPP_DELETE","ISNTAPP_CLOSE","ISNTAPP_TASK","ISNTAPP_TASK_CREATED","ISNTAPP_TASK_DESCRIPTION","ISNTAPP_DUE_DATE","ISNTAPP_ASSIGNEE","ISNTAPP_SUBMIT","ISNTAPP_CONFIRM_TO_CLOSE_THIS_TASK","ISNTAPP_CONFIRM_TO_DELETE_THIS_TASK","ISNTAPP_PLEASE_SELECT_COnFIRM_DATE","ISNTAPP_SEARCH_PROJECT_LIST","ISNTAPP_PROJECT_PROGRESS","ISNTAPP_SEARCH_ORDER","ISNTAPP_PROJECT_SITE_ADDRESS","ISNTAPP_PROGRESS","ISNTAPP_BASIC","ISNTAPP_PENDING","ISNTAPP_ALL","ISNTAPP_DESIGNATION","ISNTAPP_INSTALLATION_METHODS","ISNTAPP_NO_PERMISSION","ISNTAPP_CONFIRM_TO","ISNTAPP_DETE","ISNTAPP_PLEASE_SELECT","ISNTAPP_IMPORT_PICTURES","ISNTAPP_RESHOOT","ISNTAPP_USE_PHOTOS","ISNTAPP_TAKE_PICTURE","ISNTAPP_TEMPLATE","ISNTAPP_SAVE_AS_PDF","ISNTAPP_TEMPLATE_UPLOAD","INSTALLATION_FUTURE","INSTALLATION_WEEKS","INSTALLATION_PROJECT_NAME","INSTALLATION_DO_YOU_WANGT_TO_SAVE_THE_DRAFT","INSTALLATION_ACTIVITY_DOCUMENT","INSTALLATION_STOPS","INSTALLATION_HOIST_HEIGHT","INSTALLATION_USER_MANUAL","INSTALLATION_SAVE","INSTALLATION_CLEAR","ISNTAPP_HISTORY","ISNTAPP_INPUT_ORDER_NO","ISNTAPP_INPUT_PE_JOB_NO","ISNTAPP_PLAN_START_DATE","ISNTAPP_PLAN_END_DATE","ISNTAPP_ACTUAL_START_DATE","ISNTAPP_ACTUAL_END_DATE","ISNTAPP_ACTUAL_CLOSED_DATE","ISNTAPP_START","ISNTAPP_UPLOADED","LocalizeContext","React","createContext","useStyles","makeStyles","logo","height","description","margin","spacing","TitlePage","props","classes","className","alt","variant","axios","queryString","v","getQueryString","responseType","some","element","catch","response","Promise","reject","code","post","useFormData","postData","formData","FormData","append","JSON","stringify","getPostData","headers","login","logout","getProfile","uploadDocumentForm","fetchFittersDemand","fetchFittersCertification","fetchFittersAssignmentTransfer","postFittersAssignmentTransfer","fetchGroupInfo","postGroupInfo","getInstallationMethodDict","fetchMasterData","fetchOrdersData","fetchOrdersDataByProjects","customizer","objValue","srcValue","fetchOrdersDataByProjectsAndMerge","projects","userInfo","auth","store","getState","promises","splitCount","ceil","ps","projectNos","slice","pNumber","roles","fulfilledValues","allSettled","then","results","mergeWith","resolve","updateOrderInstallationsMethod","updateOrderActivityStatus","getInstMethods","updateLocalInstallationStepConfirmDate","getLocalInstallationStepConfirmDate","checkFileIsExisting","fetchTemplatesData","fetchTemplateFormData","pdfDownLoad","getDocumentList","getDraft","saveDraft","getNoConformityList","getHistoryList","closeNonConfirmityItems","fetchIDPTTasks","userId","fetchEISVOrdersData","index","createTask","processingTasks","action","changePassword","restNewUserStatus","getUserManual","downLoadPdf","module","exports","initialState","parse","window","localStorage","getItem","initData","initDate","documentStatus","masterDataStatus","ordersDataStatus","templateListStatus","taskListStatus","language","versionUpdating","state","payload","serviceWorkerInitialized","serviceWorkerUpdated","serviceWorkerRegistration","appReducer","combineReducers","activities","alert","documentList","projectNo","orderNo","activityNo","documentName","modified","newState","groupInfo","projrctNumber","groupName","gropInfo","groupItem","projectNumber","initOrderList","initGroupItem","installations","requestStatus","loading","orderActivities","stepNo","confirmedDate","installationStepConfirmDates","orderAcitivity","orderInstallationMethods","orders","overdueActivities","productFamilies","partners","partnerFunctions","projectFilterValue","selectBale","slectedCheckBoxList","flag","orderNumber","newStateSet","Set","defaultTab","historyPage","timeHorizon","templates","templateForm","documentNo","documentPart","productFamily","productLine","changeValue","currentTemplateParams","fittersDemand","fittersCertification","fittersAssignmentTransfer","newData","fittersAssignmentTransferProc","installationMethodDict","refreshTime","tasks","chars","wayToInstallList","scrollPosition","namepath","nonConformityConfig","rootReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","CACHE","API","initDB","personalNumber","fetchProfile","param","api","put","entities","normalize","schema","getNonConformityConfig","orderActivitiesSort","templatesConverter","updateOrderActivities","newOrdersData","fetchLocalInstallationStepsConfirmDate","localInstallationStepsConfirmDateProc","all","res","localInstallationStepsConfirmDates","updateFittersAssignmentTransfer","extfittersAssignmentTransfer","fetchDocumentList","request","updateDocumentList","fetchTasks","userName","resp","taskDataConversion","fetchInstMethods","getProjectSiteAddress","params","getOrderSiteAddress","firstPartner","functionNumber","sort","siteAddress","showInActivityListSteps","activityAuth","role","rolesMapper","PE","tmp","authDesc","c","documentAuthorization","orderDetailSteps","filteredSteps","removeSteps","remove","allActivitiesNosInProjectProgress","SL","filteredActivities","r","installationSteps","allOrderDetailSteps","documentAuthorizationC","DatePermissionControl","prarms","activityNumber","permissions","datePermission","Confirm","Cancel","Lock","unLock","canUploadDoc","canReadDoc","docStatus","planedDateEditablePermission","planedDateCancelablePermission","finishedDateEditablePermission","finishedDateCancelablePermission","flagsNumber","flags","toDoOrDone","docIsFinish","flagNumber","permissionObj","CanConfirm","CanCancel","CanSetConstraint","CanDeleteDonstraint","HasConstraint","SupervisorActivity","HideActivity","PaymentOk","PaymentNotOk","ProgressType","binFlagNumberOrder","toString","padStart","reverse","DateConfirmFlag","Permission","authNumbers","authorizationC","editable","documentAuthorizationR","taskCleaner","ProjectNo","OrderNo","getListOfInstallationBranches","prctr","connect","isAuthenticated","Component","component","rest","render","pathname","location","Transition","forwardRef","ref","direction","ConfirmModal","children","open","handleClick","onClose","mask","hiddenCancel","i18n","useContext","Dialog","fullWidth","TransitionComponent","keepMounted","DialogTitle","style","textAlign","DialogContent","Box","DialogActions","padding","Button","onClick","color","btn","bottom","marginLeft","CheckforUpdates","isServiceWorkerUpdated","dispatch","useDispatch","useState","setOpen","useEffect","timer","setTimeout","clearTimeout","textTransform","backgroundColor","size","Snackbar","anchorOrigin","horizontal","vertical","autoHideDuration","Loading","withStyles","backdrop","zIndex","drawer","Backdrop","CircularProgress","mapDispatchToProps","refresh","getData","repo","getLanguage","getRefreshData","recordRefreshTime","setScrollPosition","backPage","root","goBack","TitleBar","appBar","borderBottomColor","borderBottomStyle","borderBottomWidth","toolbar","minHeight","icon","minWidth","title1","flex","fontFamily","fontSize","title2","pageLevel","isShowRefreshButton","AppBar","elevation","Toolbar","ArrowBackIos","aria-label","Typography","Refresh","BottomBar","screen","content","paddingTop","project","marginBottom","transform","taskSum","isEISV","BottomNavigation","showLabels","BottomNavigationAction","display","Schedule","Link","SelectedProjectIcon","projectIcon","AssignmentOutlined","fitter2","fitter3","Hint","taskCount","right","borderRadius","lineHeight","useHistory","PrimaryLayout","main","top","left","overflowY","isDirectReturn","isFetchAll","useLocation","mainRef","useRef","scrollPos","onScroll","target","scrollTop","getAwaitComplateAwaitCloseCount","task","self","findIndex","taskType","awaitStartNum","awaitComplateNum","awaitCloseNum","box","listItemText","list","listItem","borderBottom","button","isServiceWorkerInitialized","Logo","align","registrationWaiting","waiting","postMessage","addEventListener","removeItem","reload","OrderListItem","palette","overdue","pending","leadingDate","projectName","productFamilyName","pendingList","toOrder","unitDesignation","stops","hoistHeight","overdueActivity","pendingActivity","Grid","container","xs","clolor","disabled","ownProps","leadingStartDate","leadingEndDate","getStopsOrHoistHeight","toLocaleDateString","activityStatus","today","setHours","overdueList","confirmList","sortOrderActivitiesList","sortDate","a","b","List","overflow","theme","descriptionShort","scrollRef","scrollToPosition","ActivityList","normal","cardStyle","flexDirection","alignItems","grid","setOverdueActivities","useOverdueActivities","activity","total","Card","justifyContent","classnames","fontWeight","descriptionShort3","descriptionShort14","notOverdue","orderActivityNumber","orderActivity","getTime","calculateOverdue","orderActivitiesList","activitiesObj","activitiesList","showStepNos","tab","whiteSpace","FFTab","tabs","selectedTabValue","onTabChange","setValue","Tabs","indicatorColor","textColor","onChange","event","newValue","Tab","setTimeHorizon","formControl","submit","descript","marginTop","values","oldPassword","newPassword","confrimNewPassword","setValues","isShowPassword","setShowPassword","showPassword","handleMouseDownPassword","preventDefault","checkoutPassword","hasUpperCase","test","hasLowerCase","hasNumbers","hasNonalphas","FormControl","InputLabel","Input","maxLength","prop","endAdornment","InputAdornment","IconButton","onMouseDown","currentPassword","verificationSubmit","Model","handleClose","fullScreen","pdfjs","GlobalWorkerOptions","workerSrc","Pdf","filePath","pageWidth","setPageWidth","numPages","setNumPages","file","onLoadSuccess","fill","pageNumber","scale","dynamicDisplay","config","closeEnabledInOILScreen","ListofIncongruentItems","expanded","setExpanded","canClick","nonConformities","nonConformityItems","Accordion","newExpanded","AccordionSummary","AccordionDetails","ml","mr","gutterBottom","splitChar","getSpecifyStr","itemName","paddingLeft","imgSource","Square","Triangle","getSquareORTriangle","questionType","Checkbox","inputProps","checkedVlaue","checked","Template","add","navIcon","template","mandDoc","documentDescription","fetchPdf","documents","foe","region","branch","DisableTheEntranceroot","fetchNoConformityList","fetchHistoryList","closeNonConfirmity","modelContent","setModelContent","setTitle","setData","versionIdentifier","ActivityNo","Description","historyData","checkContent","checkedData","subItem","itemValue","documentInfo","items","showButton","showUploadButton","stopPropagation","DocumentName","handleClickOpen","Divider","AccordionActions","DocumentsPage","pageDescription","setPageDescription","pageSource","my","productCategory","templatesData","order","documentsItem","getTemplateList","ele","fo","FitterAssignment","grey","defaultAssignedList","confirm","fitterConfirmList","setFitterConfirmList","sqmNr","fitterName","fitterRole","newFitterConfirmList","fitterIndex","assignedList","fitterAssignmentList","joinProductFramilyName","framilyNames","bias","productFamilyLists","unshift","FitterOverview","assignedTotal","units","need","qualified","assigned","productFamilyList","productFamilyCountList","prev","next","currentFamilyAssigned","assignedCount","fittersNeed","activeTab","setActiveTab","SingleLine","autoFocus","errorMessage","placeholder","readonly","TextField","helperText","readOnly","validation","FormControlLabel","control","Password","htmlFor","PhoneNumber","Form","shrink","InputBase","LoginPage","setAuth","validate","schindler","mt","mb","hasError","isPwdInit","setItem","SwitchLanguage","setLanguage","menuItemData","MenuItem","languageType","instructions","headerContainer","asdf","company","ProjectQuantity","progress","calculationOfInstallationSteps","peInfo","imgSrc","downLoad","link","about","userManualIcon","fitter","Elevator","theOverallProgress","ListItem","ListItemText","primary","ListItemAvatar","reset","firstLogin","firstLoginPassword","OrderActivityList","tabType","oneThousandPlannedDate","nineThousandPlannedDate","setActivity","currentActivity","setCurrentActivity","setDate","confirmedDateMinAndMax","currentData","confPreStart","confPast","DatePicker","autoOk","disableToolbar","minDate","maxDate","d","OrderActivityListCard","card","cardActions","CheckCircleOutlineOutlined","isExecutable","verifyWhenConfirm7020or70C0","foundItems","flatMap","stepNumber","CancelOutlined","DescriptionOutlined","CardContent","info","hint","ScheduleOutlined","isInstallationStep","EventNoteOutlined","EventAvailableOutlined","CardActions","hideInProgress","authOrderActivities","ownprops","publicFn","OrderActivityListMiniCard","OrderInfo","select","currency","setCurrency","defaultselectValue","handleSubmit","orderNumbers","installationMethod","installMethods","publicFN","teamLeader","name1","PM","getHint","finishedDateEditable","finishedDateCancelable","filteredOrderActivitiesData","originalStep","allOrderActivitiesData","whetherToShutDown","methods","methodsList","installationMethods","defaultSelectInstalltion","showInstallations","fitterQuantity","orderQuantity","installMethod","elevatorProgress","filteredOrderActivities","allOrderActivities","numberIcon","nameIcon","gpsIcon","subcontlIcon","progressIcon","unitIcon","orderIcon","productlineIcon","installationIcon","listIcon","getChecklistActivityNo","setTab","steps","marginRight","overView","UnitDetail","Steps","OverView","FormLabel","muito","alignSelf","ProjectItemList","contant","dueDate","plannedDate","unConfirmDate","install","stopWork","goodsAfloat","documentCompleteStatus","ProjectSearchBar","typography","maxWidth","input","caption","iconButton","Paper","Search","SwitchActivityNumber","flexGrow","activityNumberList","activityNumberAndUnitDesignationMapping","stepNumberList","selectedValue","setSelectedValue","ActivityNumberDropDown","ordersOfThisProject","installationMethodCode","installationMethodName","j","confirmedDateFormatter","leadingDateFormatter","ConfirmDate","PlanDate","searchValue","setSearchValue","selectedActivityNumber","setSelectedActivityNumber","media","expand","transition","transitions","create","duration","shortest","expandOpen","avatar","border","textDecoration","CardHeader","Avatar","subheader","paddingBottom","ProjectListItem","background","default","searchCriteria","ProjectListPage","setSearchCriteria","toDoOrDne","getDocumentComplateStatus","getCurrentElevatorStatus","secondList","loadItem","fail","updateOrdersData","soNo","SODialog","setSODialog","setUserInfo","SONO","setSONO","moduleName","setModuleName","masterDataRefreshTime","orderDataRefreshTime","templateListDataRefreshTime","documentListDataRefreshTime","taskListDataRefreshTime","synchroData","confirmRefresh","TaskCreatePage","itemBox","assignerList","orderList","projectList","partnerNo","fetchCreateTask","setDescription","details","setDetails","setProjectNo","setOrderNo","setDueDate","assigneeID","setAssigneeID","autoComplete","InputLabelProps","multiline","lodash","unionBy","orderNum","cplDate","assigneeCMNT","back","partner","TaskManagermentPage","itemIcon","discriptionBox","iconBox","discription","taskNum","ChevronRight","getTaskCount","TaskListCard","contentColor","wordBreak","fontColor","iconColor","AssignerName","AssigneeName","AssignmentTurnedInOutlined","DueDate","Details","CPLDate","AssigneeCMNT","ForwardOutlined","DeleteForeverOutlined","Assigner","PartnerNo","Assignee","AssigneeID","TaskList","currentTask","setCurrentTask","setCplDate","submitData","setSubmitData","taskName","currentTaskData","submitDatas","Status","rows","resize","tasksData","assigner","assignee","setStatus","currentStatusTasks","Fab","taskDataGroup","CheckboxListSecondary","handleToggle","idx","labelId","ListItemIcon","edge","tabIndex","disableRipple","Index","confirmFilter","aria-labelledby","aria-describedby","TemplatePage","savePDF","formState","fieldsState","getTemplateForm","templateFormData","initTemplateForm","storeCurrentParams","saveAndReturn","removeTemplateState","useParams","setInitData","dialog","setDialog","setChecked","setTemplateForm","deleteDraftFromLocal","Base64","encode","currentParams","isFormUpdated","decode","FilterIcon","verify","override","removeNotVisibleFields","draftData","isVisible","componentGenerator","initProps","TemplateFilter","currentIndex","newChecked","checkedId","tagRule","tmplLangMapper","draftParam","expendParam","routeParams","extendParam","preview","pdfurl","setPdfurl","UserManualPage","setTabs","tabItem","setTabItem","tabName","planStartDate","actualStartDate","planEndDate","actualEndDate","actualCloseDate","TaskItemCard","taskList","activityParams","awaitStart","awaitComplate","awaitClose","TaskListItem","createBrowserHistory","createMuiTheme","script","async","body","removeChild","CssBaseline","Provider","libInstance","utils","MomentUtils","locale","ThemeProvider","exact","TasksGroupPage","ActivityListPage","ActivityDetailPage","FittersAssignmentPage","OrderInstallationListPage","OrderActivityListPage","OrderDetailPage","SubconTeamPage","TasksPage","MePage","AboutPage","SynchronizePage","ChangePasswordPage","NewUserResetPasswordPage","ProjectProgressPage","ProjectInstallationStepsPage","ProjectDetailPage","TaskListPage","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","getElementById","URL","href","origin","fetch","contentType","ready","unregister","checkValidServiceWorker","lable","Checkboxes","FormGroup","disableForm","propsChecked","FormHelperText","textField","DateTime","borderTop","Dropdown","setState","toggleDrawer","Drawer","anchor","ButtomGroup","descriptionImg","NaYesNo","NumberText","maxMin","showNumberText","onBlur","clsx","InputProps","startAdornment","hr","PageBreak","Paragraph","Slide","FullScreenDialog","videoRef","canvasRef","isCameraOn","setIsCameraOn","setPhoto","stream","current","srcObject","getTracks","track","stop","toggleCamera","mediaDevices","getUserMedia","video","facingMode","viewportHeight","innerHeight","playsInline","autoPlay","pointerEvents","canvas","context","getContext","videoWidth","videoHeight","drawImage","base64Image","toDataURL","takePhoto","btm","inputFile","opacity","Photo","photoStyle","setPhotoStyle","photoEl","iptRef","projectData","showWatermark","onPhotoChange","fileReader","FileReader","files","fillTextToImg","onloadend","Image","onload","Compressor","quality","convertSize","success","readAsDataURL","err","accept","showCameraFrame","SectionBreak","userSelect","sigContainer","paper","sigPad","modal","Signature","signModalOpen","setSignModalOpen","sPhotoStyle","setSPhotoStyle","sPadEl","sPhotoEl","Modal","canvasProps","clear","signPhoto","getTrimmedCanvas","SingleChoice","RadioGroup","Radio","Chinese","Slider","valueLabelDisplay","StaticText","formattedText","dangerouslySetInnerHTML","__html","YesNo","Switch","labelPlacement","timeHorizonFilter","end","getDay","elem","groupInfoProc","projectGroupInfo","groupInfoDeproc","verifyType","k","alertInfo","templateParms","templateDataList","requiredData","count","orderProgress","projectProgress","projectOrders","progressArray","sum","setActivityStatusParams","combinePdf","isInstallationStepEditable","handedOverToMaintenance","debugQuantity","guideDoorInstallation","startTheInstallation","installationNotStarted","orderNos","currentRefreshTime","getMonth","getDate","getHours","getMinutes","saveTheFirstRefreshTime","datatime","allDataRefreshTime","parmas","isSubconTLOrPE","getDocumentListParmas","currentForm","initForm","isEqual","checkTemplateForm","existData","getRawTemplate","getDraftFromLocal","getDraftFromApi","saveDraftToLocal","currentParam","draftParams","storeData","array","activityList","completeSum","completed","cloneDeep","taskStatusCount","statusCount","countTaskStatuses","pendingCloseCount","pendingCompleteCount","pendingStartCoun","allowreupload","finally","disableTheEntranceroot","docAuthActivityNos","isEnableCorrectImage","now","year","getFullYear","month","day","hours","minutes","seconds","getSeconds","getLocationFromCoordinates","latitude","longitude","BMap","geocoder","Geocoder","point","Point","getLocation","address","base64","projectParams","geolocation","getCurrentPosition","coords","time","watermarkText","img","ctx","fillRect","font","fillStyle","fillText","formatDateToYMD","taskId","salesOrderNo","actualClosedDate","statusDesc","defaultNaYesNoValues","na","fixed","yes","no","customizeNaYesNoValues","notok","ok","square","triangle","verifyNumber","initFormState","orderData","textFieldText","InstallationClientName","installationTeamLeader","branchName","CurrentDate","desc","Moment","photoURL","currentTarget","componentMapper","and","or","rulesIndex","fieldIndex","cond","eval","EN","ZH","Entity","idAttribute","workCenter","installation","orderInstallationMethod","char","itemNo","charID","partnerFunction","fittersDemands","fittersCertifications","masterData","workCenters","ordersData","hideAlert","setError","severity","setInfo","savePdf","dataDraft","setEntities","confirmFittersAssignmentList","setFormData","setGroupInfo","fetchAll","installationStep","setLoading","hideLoading","showLoading","selectValue","datas","newEntities","V001","toISOString","substring","setMethods","setLocalInstallationStepConfirmDate","setAllLocalInstallationStepConfirmDate","setAllDataRefreshTime","setRequestStatus","closeLoading","openLoading","closeLoadingShowFailInfo","fetchOrders","fetchDocuments","fetchTasksList","loaded","setOrderDetailPageDefaultTab","setHistoryPage","setTemplateFormState","removeTemplateFormState","handleOnChange","fetchTemplateForm","setTemplates","setDocuments","extendParams","blob","setSwInIt","setSwUpdate","setTasks","toLocaleUpperCase","lastData","firstLoginRestPassword","getPdfData","userManualData","stepDescription","nineStepsToFourteen","updateActivitiesData","activityStatusSetNineStepsToFourteen","activity7080","activity7070","activity7060","activity7050","activity7040","activity7030","activity7020","activity7010","addActivityStepEditable","steps9","steps3","steps14","updateInstallationStepDesc"],"mappings":"2IAAA,wEAEIA,EAFJ,SAIMC,EAAW,SAACC,IAChBF,EAAK,IAAIG,IAAMD,IAEZE,QAAQ,GAAGC,OAAO,CACnBC,MAAO,S,mICGEC,EAAqBC,OAChCC,KAGWC,EAAqBF,OAChCC,KAEWE,EAAY,UAAMJ,EAAN,YAA4BG,GAExCE,EAAeJ,OAAOC,MAEtBI,EAAW,UAAMN,EAAN,YAA4BG,EAA5B,YAAkDE,GAU7DE,EAAqB,CAAC,0BCvB/BC,EAAM,GAEJC,EAAY,CAAC,SAAU,SAAU,OAAQ,OAAQ,WAAY,WAKnE,SAASC,EAAMC,EAAIhB,EAAMiB,EAAWC,GAClC,GAAIL,EAAIG,GACN,MAAM,IAAIG,MAAM,4BAA8BH,GAEhD,IAAKF,EAAUM,SAASF,GACtB,MAAM,IAAIC,MAAM,mCAAqCD,GAGvDL,EAAIG,GAAM,CAAEA,KAAIhB,OAAMiB,YAAWC,WAGnCH,EAAM,WAAY,KAAM,KAAM,UAC9BA,EAAM,cAAe,SAAU,KAAM,UACrCA,EAAM,WAAY,cAAe,KAAM,UACvCA,EAAM,cAAe,kBAAmB,KAAM,UAC9CA,EAAM,WAAY,KAAM,KAAM,YAC9BA,EAAM,cAAe,SAAU,KAAM,YACrCA,EAAM,SAAU,KAAM,KAAM,QAC5BA,EAAM,YAAa,KAAM,KAAM,WAC/BA,EAAM,eAAgB,SAAU,KAAM,WACtCA,EAAM,SAAU,KAAM,KAAM,QAC5BA,EAAM,YAAa,SAAU,KAAM,QACnCA,EAAM,SAAU,YAAa,SAAU,QACvCA,EAAM,QAAS,WAAY,QAAS,QACpCA,EAAM,aAAc,cAAe,aAAc,UACjDA,EAAM,WAAY,YAAa,WAAY,UAC3CA,EAAM,cAAe,kBAAmB,KAAM,UAC9CA,EAAM,WAAY,eAAgB,KAAM,UACxCA,EAAM,iBAAkB,WAAY,WAAY,UAChDA,EAAM,iBAAkB,WAAY,WAAY,YAChDA,EAAM,uBAAwB,mBAAoB,gBAAiB,UACnEA,EAAM,uBAAwB,mBAAoB,gBAAiB,YAEpDF,Q,kCCvCA,SAASQ,EAAkBC,GACxC,OAAOA,EAAWC,MAAM,wBAGnB,SAASC,EAAsBC,GAAwC,IAAhCC,IAA+B,yDAIvEC,EAAQ,6HAmBZ,OAlBAF,EAASA,EAAOG,QAAQD,EAAO,IAE3BD,IAEFC,EAAQ,IAAIE,OACV,sqBAQA,KAEFJ,EAASA,EAAOG,QAAQD,EAAO,KAG1BF,ECJF,IAAMK,EAAkB,yBAC/BC,IAAOV,EAAkBS,I,sCCXnBE,EAAa,CACjBC,EAAIC,SACJD,EAAIE,YACJF,EAAIG,eACJH,EAAII,qBACJJ,EAAIK,WACJL,EAAIM,UAGAC,EAAa,CACjBP,EAAIQ,SACJR,EAAIS,YACJT,EAAIU,YACJV,EAAIW,UAyCS,GACbC,WAAY,CACV7C,KAAM,mBACN8C,gBAAiB,CACfxB,WAAY,WACZyB,UAAW,CAAEC,QAAS,qBACtBC,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,gBAAiB,CAAEJ,aAASK,GAC5BC,gBAAiB,GACjBC,SAAU,GACVC,iBAAkB,GAClBC,mBAAoB,GACpBC,SAAU,GACVC,cAAe,GACfC,OAAQ,IAEVC,oBAAqB7B,EACrB8B,cAAe,CAAC,cAGlBC,UAAW,CACT/D,KAAM,iBACN8C,gBAAiB,CACfxB,WAAY,WACZyB,UAAW,CAAEC,QAAS,qBACtBC,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,gBAAiB,CAAEJ,aAASK,GAC5BC,gBAAiB,GACjBG,mBAAoB,GACpBF,SAAU,GACVC,iBAAkB,GAClBE,SAAU,GACVC,cAAe,GACfC,OAAQ,IAEVC,oBAAqB7B,EACrB8B,cAAe,CAAC,eAGlBE,OAAQ,CACNhE,KAAM,SACN8C,gBAAiB,CACfxB,WAAY,WACZyB,UAAW,CAAEC,QAAS,kBACtBC,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,gBAAiB,CAAEJ,aAASK,GAC5BC,gBAAiB,GACjBW,IAAK,KACLC,IAAK,KACLC,KAAM,GACNC,WAAW,EACXb,SAAU,GACVC,iBAAkB,GAClBC,mBAAoB,GACpBC,SAAU,GACVC,cAAe,GACfC,OAAQ,IAEVC,oBAAqBrB,EACrBsB,cAAe,IAGjBO,OAAQ,CACNrE,KAAM,SACN8C,gBAAiB,CACfxB,WAAY,WACZyB,UAAW,CAAEC,QAAS,kCACtBE,WAAW,EACXC,aAAa,EACbC,gBAAiB,CAAEJ,aAASK,GAC5BY,IAAK,EACLC,IAAK,IACLI,KAAM,EACNC,aAAc,GACdhB,SAAU,GACVC,iBAAkB,GAClBC,mBAAoB,GACpBC,SAAU,GACVC,cAAe,GACfC,OAAQ,IAEVC,oBAAqBrB,EACrBsB,cAAe,IAGjBU,KAAM,CACJxE,KAAM,YACN8C,gBAAiB,CACfxB,WAAY,WACZmD,MAAO,gBACP1B,UAAW,CAAEC,QAAS,iBACtBC,UAAU,EACVC,WAAW,EACXC,aAAa,EACbuB,aAAa,EACbC,oBAAoB,EACpBC,sBAAsB,EACtBC,kBAAkB,EAClBC,iBAAiB,EACjBC,aAAc,KACd3B,gBAAiB,CAAEJ,aAASK,GAC5BE,SAAU,GACVC,iBAAkB,GAClBC,mBAAoB,GACpBC,SAAU,GACVC,cAAe,GACfC,OAAQ,IAEVC,oBAAqB,CAAC5B,EAAI+C,OAAQ/C,EAAIgD,UAAWhD,EAAIiD,OAAQjD,EAAIkD,OACjErB,cAAe,IAGjBsB,eAAgB,CACdpF,KAAM,kBACN8C,gBAAiB,CACfxB,WAAY,WACZyB,UAAW,CAAEC,QAAS,oBACtBC,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,gBAAiB,CAAEJ,aAASK,GAC5BgC,QAAS,CACP,CAAErE,GAAI,KAAMsE,SAAU,CAAEtC,QAAS,YAAcuC,MAAO,UACtD,CAAEvE,GAAI,KAAMsE,SAAU,CAAEtC,QAAS,YAAcuC,MAAO,UACtD,CAAEvE,GAAI,KAAMsE,SAAU,CAAEtC,QAAS,YAAcuC,MAAO,WAExDC,WAAY,KACZC,cAAc,EACdlC,SAAU,GACVC,iBAAkB,GAClBC,mBAAoB,GACpBC,SAAU,GACVC,cAAe,GACfC,OAAQ,IAEVC,oBAAqB,CAAC5B,EAAIyD,SAAUzD,EAAI0D,aACxC7B,cAAe,CAAC,aAGlB8B,SAAU,CACR5F,KAAM,WACN8C,gBAAiB,CACfxB,WAAY,WACZyB,UAAW,CAAEC,QAAS,oBACtBC,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,gBAAiB,CAAEJ,aAASK,GAC5BgC,QAAS,CACP,CAAErE,GAAI,KAAMsE,SAAU,CAAEtC,QAAS,YAAcuC,MAAO,UACtD,CAAEvE,GAAI,KAAMsE,SAAU,CAAEtC,QAAS,YAAcuC,MAAO,UACtD,CAAEvE,GAAI,KAAMsE,SAAU,CAAEtC,QAAS,YAAcuC,MAAO,WAExDC,WAAY,KACZC,cAAc,EACdlC,SAAU,GACVC,iBAAkB,GAClBC,mBAAoB,GACpBC,SAAU,GACVC,cAAe,GACfC,OAAQ,IAEVC,oBAAqB,CAAC5B,EAAIyD,SAAUzD,EAAI0D,aACxC7B,cAAe,CAAC,mBAGlB+B,MAAO,CACL7F,KAAM,SACN8C,gBAAiB,CACfxB,WAAY,WACZyB,UAAW,CAAEC,QAAS,aACtBE,WAAW,EACXC,aAAa,EACbC,gBAAiB,CAAEJ,aAASK,GAC5BkB,cAAc,EACdhB,SAAU,GACVC,iBAAkB,GAClBC,mBAAoB,GACpBC,SAAU,GACVC,cAAe,GACfC,OAAQ,IAEVC,oBAAqB,CAAC5B,EAAI6D,QAC1BhC,cAAe,IAGjBiC,QAAS,CACP/F,KAAM,YACN8C,gBAAiB,CACfxB,WAAY,WACZyB,UAAW,CAAEC,QAAS,aACtBC,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,gBAAiB,CAAEJ,aAASK,GAC5B2C,qBAAqB,EACrBC,aAAa,EACb1C,SAAU,GACVC,iBAAkB,GAClBC,mBAAoB,GACpBC,SAAU,GACVC,cAAe,GACfC,OAAQ,GACRsC,mBAAoB,IAEtBrC,oBAAqB,CAAC5B,EAAIkE,UAAWlE,EAAImE,cACzCC,6BA1P2B,CAC7B,CAAErF,GAAI,MAAOhB,KAAM,OACnB,CAAEgB,GAAI,KAAMhB,KAAM,MAClB,CAAEgB,GAAI,KAAMhB,KAAM,OAClB,CAAEgB,GAAI,QAAShB,KAAM,UACrB,CAAEgB,GAAI,KAAMhB,KAAM,MAClB,CAAEgB,GAAI,SAAUhB,KAAM,UACtB,CAAEgB,GAAI,WAAYhB,KAAM,UACxB,CAAEgB,GAAI,QAAShB,KAAM,UAmPnB8D,cAAe,IAGjBwC,WAAY,CACVtG,KAAM,aACN8C,gBAAiB,CACfxB,WAAY,WACZyB,UAAW,CAAEC,QAAS,oBACtBE,WAAW,EACXC,aAAa,EACbC,gBAAiB,CAAEJ,aAASK,GAC5BgC,QAAS,CACP,CAAErE,GAAI,KAAMsE,SAAU,CAAEtC,QAAS,YAAcuC,MAAO,UACtD,CAAEvE,GAAI,KAAMsE,SAAU,CAAEtC,QAAS,YAAcuC,MAAO,UACtD,CAAEvE,GAAI,KAAMsE,SAAU,CAAEtC,QAAS,YAAcuC,MAAO,WAExDgB,YAAa,GACbd,cAAc,EACdlC,SAAU,GACVC,iBAAkB,GAClBC,mBAAoB,GACpBC,SAAU,GACVC,cAAe,GACfC,OAAQ,IAEVC,oBAAqB,CAAC5B,EAAIuE,eAAgBvE,EAAIwE,sBAC9C3C,cAAe,IAGjB4C,YAAa,CACX1G,KAAM,cACN8C,gBAAiB,CACfxB,WAAY,WACZyB,UAAW,CAAEC,QAAS,eACtBE,WAAW,EACXC,aAAa,EACbC,gBAAiB,CAAEJ,aAASK,GAC5BsD,QAAS,IACTpD,SAAU,GACVC,iBAAkB,GAClBC,mBAAoB,GACpBC,SAAU,GACVC,cAAe,GACfC,OAAQ,IAEVC,oBAAqBrB,EACrBsB,cAAe,IAGjB8C,UAAW,CACT5G,KAAM,YACN8C,gBAAiB,CACfxB,WAAY,WACZyB,UAAW,CAAEC,QAAS,aACtBC,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,gBAAiB,CAAEJ,aAASK,GAC5BE,SAAU,GACVC,iBAAkB,GAClBC,mBAAoB,GACpBG,OAAQ,GACRF,SAAU,GACVC,cAAe,IAEjBE,oBAAqB,GACrBC,cAAe,IAGjB+C,MAAO,CACL7G,KAAM,QACN8C,gBAAiB,CACfxB,WAAY,WACZyB,UAAW,CAAEC,QAAS,gBACtBC,UAAU,EACVC,WAAW,EACXC,aAAa,EACbC,gBAAiB,CAAEJ,aAASK,GAC5BE,SAAU,GACVC,iBAAkB,GAClBC,mBAAoB,GACpBG,OAAQ,GACRF,SAAU,GACVC,cAAe,IAEjBE,oBAAqB,GACrBC,cAAe,IAGjBgD,WAAY,CACV9G,KAAM,cACN8C,gBAAiB,CACfxB,WAAY,WACZyF,SAAU,CACR/D,QACE,2FAGJE,WAAW,EACXK,SAAU,GACVC,iBAAkB,GAClBC,mBAAoB,GACpBC,SAAU,GACVC,cAAe,GACfC,OAAQ,IAEVC,oBAAqB7B,EACrB8B,cAAe,IAGjBkD,MAAO,CACLhH,KAAM,QACN8C,gBAAiB,CACfxB,WAAY,QACZyB,UAAW,CAAEC,QAAS,eACtB+D,SAAU,CACR/D,QAAS,gCAEXI,gBAAiB,CAAEJ,aAASK,GAC5B4D,IAAK,CACH,CACEjG,GAAI,KACJkG,cAAc,EACdC,IAAK,CACH,CAAEnG,GAAI,KAAMsE,SAAU,CAAEtC,QAAS,IAAMoE,MAAO,IAC9C,CAAEpG,GAAI,KAAMsE,SAAU,CAAEtC,QAAS,SAAWoE,MAAO,IACnD,CAAEpG,GAAI,KAAMsE,SAAU,CAAEtC,QAAS,SAAWoE,MAAO,IACnD,CAAEpG,GAAI,KAAMsE,SAAU,CAAEtC,QAAS,SAAWoE,MAAO,MAGvD,CACEpG,GAAI,KACJmG,IAAK,CACH,CAAEnG,GAAI,KAAMqG,WAAW,EAAM/B,SAAU,CAAEtC,QAAS,UAClD,CAAEhC,GAAI,KAAMsE,SAAU,CAAEtC,aAASK,IACjC,CAAErC,GAAI,KAAMsE,SAAU,CAAEtC,aAASK,IACjC,CAAErC,GAAI,KAAMsE,SAAU,CAAEtC,aAASK,MAGrC,CACErC,GAAI,KACJmG,IAAK,CACH,CAAEnG,GAAI,KAAMqG,WAAW,EAAM/B,SAAU,CAAEtC,QAAS,UAClD,CAAEhC,GAAI,KAAMsE,SAAU,CAAEtC,aAASK,IACjC,CAAErC,GAAI,KAAMsE,SAAU,CAAEtC,aAASK,IACjC,CAAErC,GAAI,KAAMsE,SAAU,CAAEtC,aAASK,MAGrC,CACErC,GAAI,KACJmG,IAAK,CACH,CAAEnG,GAAI,KAAMqG,WAAW,EAAM/B,SAAU,CAAEtC,QAAS,UAClD,CAAEhC,GAAI,KAAMsE,SAAU,CAAEtC,aAASK,IACjC,CAAErC,GAAI,KAAMsE,SAAU,CAAEtC,aAASK,IACjC,CAAErC,GAAI,KAAMsE,SAAU,CAAEtC,aAASK,OAIvCJ,UAAU,EACVC,WAAW,EACX2B,kBAAkB,EAClBtB,SAAU,GACVC,iBAAkB,GAClBC,mBAAoB,GACpBC,SAAU,GACVC,cAAe,GACfC,OAAQ,IAEVC,oBAAqB7B,EACrB8B,cAAe,IAGjBwD,aAAc,CACZtH,KAAM,gBACN8C,gBAAiB,CACfxB,WAAY,WACZyB,UAAW,CAAEC,QAAS,iBACtBE,WAAW,EACXqE,cAAc,EACdnE,gBAAiB,CACfJ,QAAS,sDAEXwE,aAAa,EACbjE,SAAU,GACVC,iBAAkB,GAClBE,SAAU,GACVC,cAAe,IAEjBE,oBAAqB,GACrBC,cAAe,IAGjB2D,UAAW,CACTzH,KAAM,aACN8C,gBAAiB,CACfxB,WAAY,WACZyB,UAAW,CAAEC,QAAS,cACtBwE,aAAa,EACbjE,SAAU,GACVC,iBAAkB,GAClBE,SAAU,GACVC,cAAe,GACf+D,gBAAgB,GAElB7D,oBAAqB,GACrBC,cAAe,K,iBCpeb6D,EAAMC,IAAMC,KAAKC,WACrB,oEAEIC,EAAKH,IAAMC,KAAKC,WAAW,oCCMlB,OACbE,UADa,SACHC,EAAKC,EAAWC,EAAYC,GAepCC,GAAYJ,EAZUK,GACpBL,EACAC,EACAC,EACA,SACAC,GAO8B,YAAaA,EAAMG,SAAShD,QAG9DiD,eAnBa,SAmBEC,GACb,MACoB,mBAAlBA,EAAKC,UAAiCC,GAAaF,EAAM,cAI7DG,YAzBa,SAyBDH,GACV,IAAIL,EAAQS,GAAkBJ,EAAM,aAAc,UAClDL,EAAMG,SAAStF,SAAiD,SAAtC6F,GAAgBL,EAAM,YAEhD,IAAMM,EAAgBC,GAAaP,EAAM,aAUzC,OATAL,EAAMG,SAASU,KAAOF,EAAcG,YACpCd,EAAMG,SAASjF,gBAAkB6F,GAC/BJ,EACA,mBACA,IAGFX,EAAMG,SAAShD,MAAQwD,EAAcG,YAE9Bd,ICxCI,GACbJ,UADa,SACHC,EAAKC,EAAWC,EAAYC,GAepCC,GAAYJ,EAXUK,GACpBL,EACAC,EACAC,EACA,SACAC,GAM8B,WAAYA,EAAMG,SAAShD,QAG7DiD,eAnBa,SAmBEC,GACb,MAAyB,mBAAlBA,EAAKC,UAAiCC,GAAaF,EAAM,aAGlEG,YAvBa,SAuBDH,GACV,IAAIL,EAAQS,GAAkBJ,EAAM,YAAa,UACjDL,EAAMG,SAAStF,SAAiD,SAAtC6F,GAAgBL,EAAM,YAEhD,IAAMW,EAAeJ,GAAaP,EAAM,YAUxC,OATAL,EAAMG,SAASU,KAAOG,EAAaF,YACnCd,EAAMG,SAASjF,gBAAkB6F,GAC/BC,EACA,mBACA,IAGFhB,EAAMG,SAAShD,MAAQ6D,EAAaF,YAE7Bd,ICrCI,GACbJ,UADa,SACHC,EAAKC,EAAWC,EAAYC,GAAQ,IAAD,EAQvCA,EAAMG,SANRtE,EAFyC,EAEzCA,IACAC,EAHyC,EAGzCA,IACAC,EAJyC,EAIzCA,KACAC,EALyC,EAKzCA,UACAd,EANyC,EAMzCA,gBACAiC,EAPyC,EAOzCA,MAUF8C,GAAYJ,EAPUK,GACpBL,EACAC,EACAC,EACA,UACAC,GAE8B,cAAe,KAAM,CACnDjE,OACA,gBAAiBC,EACjBH,MACAC,MACA,mBAAoBZ,EACpBiC,WAIJiD,eA5Ba,SA4BEC,GACb,MACoB,mBAAlBA,EAAKC,UAAiCC,GAAaF,EAAM,gBAI7DG,YAlCa,SAkCDH,GACV,IAAIL,EAAQS,GAAkBJ,EAAM,SAAU,WAC9CL,EAAMG,SAAStF,SAAiD,SAAtC6F,GAAgBL,EAAM,YAEhD,IAAMY,EAAYL,GAAaP,EAAM,eAgCrC,OA/BAL,EAAMG,SAASpE,KAAOgF,GAAmBE,EAAW,OAAQ,IAC5DjB,EAAMG,SAASnE,UACsC,SAAnD+E,GAAmBE,EAAW,iBAChCjB,EAAMG,SAASjF,gBAAkB6F,GAC/BE,EACA,mBACA,IAGFjB,EAAMG,SAAShD,MAAQ4D,GAAmBE,EAAW,QAAS,IAE1DA,EAAUH,aAAgD,KAAjCG,EAAUH,YAAYI,SACjDlB,EAAMG,SAAShD,MAAQjF,OAAO+I,EAAUH,YAAYI,QAChDC,MAAMnB,EAAMG,SAAShD,QACvBiE,QAAQC,KACN,uCAAyCJ,EAAUH,cAKzD,CAAC,MAAO,OAAOQ,SAAQ,SAACC,GAEpBN,EAAUO,aAAaD,IACqB,KAA5Cb,GAAgBO,EAAWM,GAAML,OAEjClB,EAAMG,SAASoB,GAAQrJ,OAAO6I,GAAmBE,EAAWM,EAAM,MAElEvB,EAAMG,SAASoB,GAAQ,QAIpBvB,ICtEI,GACbJ,UADa,SACHC,EAAKC,EAAWC,EAAYC,GAQpCC,GAAYJ,EAPUK,GACpBL,EACAC,EACAC,EACA,SACAC,GAE8B,YAAa,KAAM,CACjDyB,IAC2B,MAAzBzB,EAAMG,SAAShD,MACX,iFACA6C,EAAMG,SAAShD,SAIzBiD,eAjBa,SAiBEC,GACb,MACoB,mBAAlBA,EAAKC,UAAiCC,GAAaF,EAAM,cAI7DG,YAvBa,SAuBDH,GACV,IAAIL,EAAQS,GAAkBJ,EAAM,YAAa,UACjDL,EAAMG,SAAStF,SAAiD,SAAtC6F,GAAgBL,EAAM,YAEhD,IAAMqB,EAAgBd,GAAaP,EAAM,aAOzC,OANAL,EAAMG,SAASwB,QACbZ,GAAmBW,EAAe,MAAO,IAAIR,aAAUjG,EAEzD+E,EAAMG,SAAShD,MACb4D,GAAmBW,EAAe,MAAO,IAAIR,aAAUjG,EAElD+E,IC5BI,GACbJ,UADa,SACHC,EAAKC,EAAWC,EAAYC,GAAQ,IACpCpH,EAAOoH,EAAPpH,GADmC,EAYvCoH,EAAMG,SATRjH,EAHyC,EAGzCA,WACAyF,EAJyC,EAIzCA,SACA7D,EALyC,EAKzCA,UACAK,EANyC,EAMzCA,SACAK,EAPyC,EAOzCA,OACAH,EARyC,EAQzCA,mBACAC,EATyC,EASzCA,SACAC,EAVyC,EAUzCA,cACAH,EAXyC,EAWzCA,iBAGIwG,EAAY3B,GAAYJ,EAAKE,EAAY,QAAS,KAAM,CAC5D8B,KAAMjJ,EACNM,WAAYA,EACZ4B,cAGFgH,OAAOC,KAAKpD,GAAU2C,SAAQ,SAACU,GACC,qBAAnBrD,EAASqD,IAClB/B,GAAYJ,EAAK+B,EAAW,OAAQjD,EAASqD,GAAO,CAAEA,YAI1DC,GAAepC,EAAKC,EAAW8B,EAAWzG,GAC1C+G,GAAkBrC,EAAKC,EAAW8B,EAAWxG,GAC7C+G,GAAatC,EAAK+B,EAAWpG,GAC7B4G,GAAyBvC,EAAK+B,EAAW5B,EAAO3E,GCiQ7C,SAA8BwE,EAAKE,EAAYC,EAAO1E,GAC3D,GAAIA,GAAYA,EAAS+G,OAAS,EAAG,CACnC,IAAMC,EAAerC,GAAYJ,EAAKE,EAAY,aAElDzE,EAASgG,SAAQ,YAAmD,IAAhDiB,EAA+C,EAA/CA,QAA+C,EAAtCC,WAAsC,EAA1BC,SAA0B,EAAhBC,UACjD/I,IAAO4I,GAEPtC,GAAYJ,EAAKyC,EAAc,MAAO,KAAM,CAAE1K,KAAM2K,QDvQtDI,CAAqB9C,EAAK+B,EAAW5B,EAAO1E,GAC5CsH,GAAoB/C,EAAK+B,EAAW5B,EAAOzE,IAG7C6E,eAnCa,SAmCEC,GACb,MAAyB,UAAlBA,EAAKC,UAGdE,YAvCa,SAuCDH,GACV,IAAM1B,EAAWkE,GAAcxC,EAAM,QAAQyC,QAAO,SAACC,EAAKC,GACxD,OAAOlB,OAAOmB,OAAO,GAAIF,EAAlBjB,OAAA,IAAAA,CAAA,GACJf,GACCiC,EACA,OVnCkB,WUqChBA,EAASlC,gBAEd,IAEH,MAAO,CACLlI,GAAImI,GAAmBV,EAAM,OAAQ6C,IAAKC,MAC1CC,KAAM,aACNjD,SAAU,CACRjH,WAAY6H,GAAmBV,EAAM,aAAc6C,IAAKC,MACxDxE,SAAUA,EACV7D,UAAkD,SAAvC4F,GAAgBL,EAAM,aACjC7E,OAAQ6H,GAAWhD,OEhEZ,GACbT,UADa,SACHC,EAAKC,EAAWC,EAAYC,GAAQ,IACpC7D,EAAiB6D,EAAMG,SAAvBhE,aAEFmH,EAAgBpD,GACpBL,EACAC,EACAC,EACA,UACAC,GAEFsD,EAAcC,aAAa,QAASpH,GAEpC8D,GAAYJ,EAAKyD,EAAe,WAAY,KAAM,CAChDnG,MAAO6C,EAAMG,SAAShD,SAI1BiD,eAlBa,SAkBEC,GACb,MAAyB,mBAAlBA,EAAKC,UAAiCC,GAAaF,EAAM,aAGlEG,YAtBa,SAsBDH,GACV,IAAIL,EAAQS,GAAkBJ,EAAM,QAAS,WAEvCmD,EAAe5C,GAAaP,EAAM,YAIxC,OAHAL,EAAMG,SAAShE,aAC8B,SAA3CuE,GAAgB8C,EAAc,SAEzBxD,IC5BI,GACbJ,UADa,SACHC,EAAKC,EAAWC,EAAYC,GAAQ,IAAD,EACKA,EAAMG,SAA9CtE,EADmC,EACnCA,IAAKC,EAD8B,EAC9BA,IAAKI,EADyB,EACzBA,KAAMC,EADmB,EACnBA,aAAcgB,EADK,EACLA,MAEhCmG,EAAgBpD,GACpBL,EACAC,EACAC,EACA,UACAC,GAEFsD,EAAcC,aAAa,QAASpH,GAEpC8D,GAAYJ,EAAKyD,EAAe,QAAS,KAAM,CAC7CG,KAAM5H,EACN6H,GAAI5H,EACJI,KAAMA,EACNiB,WAIJiD,eArBa,SAqBEC,GACb,MAAyB,mBAAlBA,EAAKC,UAAiCC,GAAaF,EAAM,UAGlEG,YAzBa,SAyBDH,GACV,IAAIL,EAAQS,GAAkBJ,EAAM,SAAU,WAExCsD,EAAY/C,GAAaP,EAAM,SACrCL,EAAMG,SAAStE,IAAM3D,OAAOwI,GAAgBiD,EAAW,SACvD3D,EAAMG,SAASrE,IAAM5D,OAAOwI,GAAgBiD,EAAW,OACvD3D,EAAMG,SAASjE,KAAOhE,OAAOwI,GAAgBiD,EAAW,SACxD3D,EAAMG,SAAShE,aAAejE,OAAOwI,GAAgBiD,EAAW,UAEhE,IAAMxG,EAAQjF,OAAO6I,GAAmBV,EAAM,QAAS,MAKvD,OAJKnI,OAAOiJ,MAAMhE,KAChB6C,EAAMG,SAAShD,MAAQA,GAGlB6C,ICnCI,GACbJ,UADa,SACHC,EAAKC,EAAWC,EAAYC,GAAQ,IAAD,EACTA,EAAMG,SAAhClD,EADmC,EACnCA,QAASI,EAD0B,EAC1BA,aAEXiG,EAAgBpD,GACpBL,EACAC,EACAC,EACA,WACAC,GAGI4D,EAAa3D,GAAYJ,EAAKyD,EAAe,eAenD,GAbArG,EAAQqE,SAAQ,YAA6B,EAA1B1I,GAA2B,IAAvBsE,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MACzB0G,EAAa5D,GAAYJ,EAAK+D,EAAY,SAAU,KAAM,CAC9DzG,MAAOA,EACP2G,SAAU9D,EAAMG,SAAShD,MAAMnE,SAASmE,KAG1C2E,OAAOC,KAAK7E,GAAUoE,SAAQ,SAACU,GACC,qBAAnB9E,EAAS8E,IAClB/B,GAAYJ,EAAKgE,EAAY,OAAQ3G,EAAS8E,GAAO,CAAEA,eAKzD3E,EAAc,CAChB,IAAMwG,EAAa5D,GAAYJ,EAAK+D,EAAY,SAAU,KAAM,CAC9DzG,MAAOzD,EACPoK,UAAU,IAEZ7D,GAAYJ,EAAKgE,EAAY,eAIjCzD,eApCa,SAoCEC,GACb,MACoB,mBAAlBA,EAAKC,UAAiCC,GAAaF,EAAM,gBAI7DG,YA1Ca,SA0CDH,GACV,IAAIL,EAAQS,GAAkBJ,EAAM,aAAc,YAG5C0D,EAAclB,GADGjC,GAAaP,EAAM,eACQ,UAE9C2D,EAAiBjD,GAAmBV,EAAM,QAAS,IACvDL,EAAMG,SAAShD,MACM,KAAnB6G,EAAwB,GAAKA,EAAeC,MAAM,KAEpD,IAAIhH,EAAU,GACVkB,EAAc,GAyClB,OAxCA6B,EAAMG,SAASlD,QAAUA,EACzB+C,EAAMG,SAAShC,YAAcA,EAE7B6B,EAAMG,SAAS9C,cAAe,EAE9B0G,EAAYzC,SAAQ,SAACuC,GACnB,GAAItD,GAAasD,EAAY,aAAc,CACzC,IAAMK,EAAqBtD,GAAaiD,EAAY,aACpD7D,EAAMG,SAAS9C,cAAe,EAC9B2C,EAAMG,SAASgE,gBAAkBD,EAAmBpD,YACpDd,EAAMG,SAASiE,oBAC2C,SAAxDrD,GAAmB8C,EAAY,WAAY,aACxC,CACL,IAAMQ,EAAWnB,IAAKC,KAEhBjG,EAAW2F,GAAcgB,EAAY,QAAQf,QACjD,SAACC,EAAKC,GACJ,OAAOlB,OAAOmB,OAAO,GAAIF,EAAlBjB,OAAA,IAAAA,CAAA,GACJf,GACCiC,EACA,Od/DY,WciEVA,EAASlC,gBAGjB,IAGF7D,EAAQqH,KAAK,CACX1L,GAAIyL,EACJnH,SAAUA,EACVC,MAAOuD,GAAgBmD,EAAY,WAGuB,SAAxD9C,GAAmB8C,EAAY,WAAY,UAC7C1F,EAAYmG,KAAKD,OAKhBrE,IClGI,GACbJ,UADa,SACHC,EAAKC,EAAWC,EAAYC,GAAQ,IAAD,EAKvCA,EAAMG,SAHRvC,EAFyC,EAEzCA,oBACA2G,EAHyC,EAGzCA,kBACA1G,EAJyC,EAIzCA,YAYFoC,GAAYJ,EARUK,GACpBL,EACAC,EACAC,EACA,SACAC,GAG8B,YAAa,KAAM,CACjD,wBAAyBpC,EACzB,eAAgBC,EAChB,mCAAoC0G,GAEhC,QACJpH,MAAO6C,EAAMG,SAAShD,MACtBqH,UAAWxE,EAAMG,SAASqE,UAC1BC,WAAYzE,EAAMG,SAASsE,cAI/BrE,eA7Ba,SA6BEC,GACb,MACoB,mBAAlBA,EAAKC,UAAiCC,GAAaF,EAAM,cAI7DG,YAnCa,SAmCDH,GACV,IAAIL,EAAQS,GAAkBJ,EAAM,UAAW,UAC/CL,EAAMG,SAAStF,SAAiD,SAAtC6F,GAAgBL,EAAM,YAEhD,IAAMqE,EAAc9D,GAAaP,EAAM,aACvCL,EAAMG,SAASvC,oBAC6C,SAA1D8C,GAAgBgE,EAAa,yBAC/B1E,EAAMG,SAAStC,YACgD,SAA7DkD,GAAmB2D,EAAa,eAAgB,SAClD1E,EAAMG,SAASoE,kBAKP,SAJNxD,GACE2D,EACA,mCACA,SAGJ1E,EAAMG,SAAShD,MACb4D,GAAmB2D,EAAa,QAAS,IAAIxD,aAAUjG,EAEzD,IAAIuJ,EAAYzD,GAAmB2D,EAAa,YAAa,IAC7D1E,EAAMG,SAASqE,UAA0B,KAAdA,EAAmB,GAAKA,EAAUP,MAAM,KAEnE,IAAIQ,EAAa1D,GAAmB2D,EAAa,aAAc,IAG/D,OAFA1E,EAAMG,SAASsE,WAA4B,KAAfA,EAAoB,GAAKA,EAAWR,MAAM,KAE/DjE,ICtEI,GACbJ,UADa,WAEX,MAAM,IAAI7G,MAAM,mCAGlBqH,eALa,SAKEC,GACb,OAAO,GAGTG,YATa,SASDH,GACV,MAAM,IAAItH,MAAM,sCCVL,GACb6G,UADa,WAEX,MAAM,IAAI7G,MAAM,gCAGlBqH,eALa,SAKEC,GACb,OAAO,GAGTG,YATa,SASDH,GACV,MAAM,IAAItH,MAAM,mCCCL,GACb6G,UADa,SACHC,EAAKC,EAAWC,EAAYC,GACpC,IAAMsD,EAAgBpD,GACpBL,EACAC,EACAC,EACA,OACAC,GANyC,EAgBvCA,EAAMG,SAPR7D,EATyC,EASzCA,YACAC,EAVyC,EAUzCA,mBACAC,EAXyC,EAWzCA,qBACAC,EAZyC,EAYzCA,iBACAC,EAbyC,EAazCA,gBAKE6E,EAAO,CACT,wBAAyBhF,EACzB,0BAA2BC,EAC3B,qBAAsBC,EACtB,oBAAqBC,EACrBS,MAvByC,EAezCA,OAWET,IACF6E,EAAK,iBAAmB,cAG1BtB,GACEJ,EACAyD,EACAhH,EAAc,WAAa,OAC3B,GACAiF,IAIJnB,eAxCa,SAwCEC,GACb,MACoB,mBAAlBA,EAAKC,WACJC,GAAaF,EAAM,SAAWE,GAAaF,EAAM,cAItDG,YA/Ca,SA+CDH,GACV,IAAIL,EAAQS,GAAkBJ,EAAM,OAAQ,QAC5CL,EAAMG,SAAStF,SAAiD,SAAtC6F,GAAgBL,EAAM,YAEhD,IAAM/D,EAAciE,GAAaF,EAAM,YACvCL,EAAMG,SAAS7D,YAAcA,EAE7B,IAAMqI,EAAW/D,GAAaP,EAAM/D,EAAc,WAAa,QAEzDsI,EAAaD,EAAS7D,YAqB5B,OApBI8D,GAAoC,KAAtBA,EAAW1D,SAEzBlB,EAAMG,SAAShD,MADbb,EACqBuI,IAAO,IAAIC,KAAKF,IAEhBC,IAAOD,EAAY,eAI9C5E,EAAMG,SAAS5D,mBACsD,SAAnEwE,GAAmB4D,EAAU,wBAAyB,SACxD3E,EAAMG,SAAS3D,qBAEb,SADAuE,GAAmB4D,EAAU,0BAA2B,SAE1D3E,EAAMG,SAAS1D,iBACmD,SAAhEsE,GAAmB4D,EAAU,qBAAsB,SACrD3E,EAAMG,SAASzD,gBACkD,SAA/DqE,GAAmB4D,EAAU,oBAAqB,SAEpD3E,EAAMG,SAAShD,MAAQ4D,GAAmB4D,EAAU,QAAS,IAEtD3E,IC9EI,GACbJ,UADa,SACHC,EAAKC,EAAWC,EAAYC,GAAQ,IACpCzB,EAAYyB,EAAMG,SAAlB5B,QASR0B,GAAYJ,EAPUK,GACpBL,EACAC,EACAC,EACA,UACAC,GAE8B,cAAe,KAAM,CACnDzB,QAASA,GAAW,OAIxB6B,eAhBa,SAgBEC,GACb,MACoB,mBAAlBA,EAAKC,UAAiCC,GAAaF,EAAM,gBAI7DG,YAtBa,SAsBDH,GACV,IAAIL,EAAQS,GAAkBJ,EAAM,cAAe,WAE7C0E,EAAkBnE,GAAaP,EAAM,eAC3CL,EAAMG,SAAS5B,QAAUmC,GAAgBqE,EAAiB,WAE1D,IAAM5H,EAAQ6H,WAAWjE,GAAmBV,EAAM,QAAS,KAK3D,OAJKnI,OAAOiJ,MAAMhE,KAChB6C,EAAMG,SAAShD,MAAQA,GAGlB6C,ICjCI,GACbJ,UADa,SACHC,EAAKC,EAAWC,EAAYC,GAQpCC,GAAYJ,EAPUK,GACpBL,EACAC,EACAC,EACA,SACAC,GAE8B,QAAS,KAAM,CAC7CyB,IAC2B,MAAzBzB,EAAMG,SAAShD,MACX,iFACA6C,EAAMG,SAAShD,SAIzBiD,eAjBa,SAiBEC,GACb,MAAyB,mBAAlBA,EAAKC,UAAiCC,GAAaF,EAAM,UAGlEG,YArBa,SAqBDH,GACV,IAAIL,EAAQS,GAAkBJ,EAAM,QAAS,UAC7CL,EAAMG,SAAStF,SAAiD,SAAtC6F,GAAgBL,EAAM,YAEhD,IAAM4E,EAAYrE,GAAaP,EAAM,SAOrC,OANAL,EAAMG,SAASwB,QACbZ,GAAmBkE,EAAW,MAAO,IAAI/D,aAAUjG,EAErD+E,EAAMG,SAAShD,MACb4D,GAAmBkE,EAAW,MAAO,IAAI/D,aAAUjG,EAE9C+E,IC7BI,GACbJ,UADa,SACHC,EAAKC,EAAWC,EAAYC,GAAQ,IAAD,EACTA,EAAMG,SAAhCtB,EADmC,EACnCA,IAAKpC,EAD8B,EAC9BA,iBACP6G,EAAgBpD,GACpBL,EACAC,EACAC,EACA,WACAC,GAIIpB,EAAQqB,GAAYJ,EAAKyD,EAAe,QAAS,GAF5C,CAAE,qBAAsB7G,IAInCoC,EAAIyC,SAAQ,SAAC4D,GACX,IAAMC,EAASlF,GAAYJ,EAAKjB,EAAO,MAEvCsG,EAAGnG,IAAIuC,SAAQ,SAAC8D,GACd,IAAI7D,EAAO2D,EAAGpG,aAAe,CAAEE,MAAOoG,EAAGpG,OAAU,GAC7CqG,EAASpF,GAAYJ,EAAKsF,EAAQ,KAAM,GAAI5D,IAE5B,IAApB2D,EAAGpG,eACc,IAAjBsG,EAAGnG,WACHxC,EAEAqF,OAAOC,KAAKqD,EAAGlI,UAAUoE,SAAQ,SAACU,GACC,qBAAtBoD,EAAGlI,SAAS8E,IACrB/B,GAAYJ,EAAKwF,EAAQ,OAAQD,EAAGlI,SAAS8E,GAAO,CAAEA,YAI1D/B,GAAYJ,EAAKwF,EAAQ,YAAaD,EAAGxN,aAMjDwI,eArCa,SAqCEC,GACb,MAAyB,mBAAlBA,EAAKC,UAAiCC,GAAaF,EAAM,UAGlEG,YAzCa,SAyCDH,GACV,IAAIL,EAAQS,GAAkBJ,EAAM,QAAS,YAEvCiF,EAAY1E,GAAaP,EAAM,SAC/BkF,EAAU1C,GAAcyC,EAAW,MACnC7I,EAC6D,SAAjEsE,GAAmBuE,EAAW,qBAAsB,SAClDzG,EAAM,GAkGV,OAjGAmB,EAAMG,SAAStB,IAAMA,EACrBmB,EAAMG,SAAStF,SAAiD,SAAtC6F,GAAgBL,EAAM,YAEhDkF,EAAQjE,SAAQ,SAAC6D,EAAQK,GACvB,IAAMC,EAAOvC,IAAKC,KACdpE,EAAM,GACM,IAAZyG,EACF3G,EAAIyF,KAAK,CACP1L,GAAI6M,EACJ3G,cAAc,EACdC,IAAKA,IAGPF,EAAIyF,KAAK,CACP1L,GAAI6M,EACJ1G,IAAKA,IAGO8D,GAAcsC,EAAQ,MAE9B7D,SAAQ,SAAC+D,EAAQK,GACvB,IAAMC,EAAOzC,IAAKC,KAKlB,GAJAtE,EAAI2G,GAASzG,IAAIuF,KAAK,CACpB1L,GAAI+M,IAGU,IAAZH,EAAe,CACjB,IAAMtI,EAAW2F,GAAcwC,EAAQ,QAAQvC,QAC7C,SAACC,EAAKC,GACJ,OAAOlB,OAAOmB,OAAO,GAAIF,EAAlBjB,OAAA,IAAAA,CAAA,GACJf,GACCiC,EACA,OrBrEU,WqBuERA,EAASlC,gBAGjB,IAEFjC,EAAI2G,GAASzG,IAAI2G,GAASxI,SAAWA,EACrC2B,EAAI2G,GAASzG,IAAI2G,GAAS1G,MAAQ+B,GAChCsE,EACA,QACA,QAEG,GAAgB,IAAZK,EAAe,CACxB7G,EAAI2G,GAASzG,IAAI2G,GAASzG,WAAY,EACtC,IAAM/B,EAAW2F,GAAcwC,EAAQ,QAAQvC,QAC7C,SAACC,EAAKC,GACJ,OAAOlB,OAAOmB,OAAO,GAAIF,EAAlBjB,OAAA,IAAAA,CAAA,GACJf,GACCiC,EACA,OrBzFU,WqB2FRA,EAASlC,gBAGjB,IAEFjC,EAAI2G,GAASzG,IAAI2G,GAASxI,SAAWA,OAChC,GAAIT,EAAkB,CAC3B,IAAMmJ,EAAchF,GAAayE,EAAQ,aACrCnI,EAAW,GACX0I,EAAYpE,aAAa,QAC3BtE,EAAW2F,GAAcwC,EAAQ,QAAQvC,QAAO,SAACC,EAAKC,GACpD,OAAOlB,OAAOmB,OAAO,GAAIF,EAAlBjB,OAAA,IAAAA,CAAA,GACJf,GACCiC,EACA,OrBzGU,WqB2GRA,EAASlC,gBAEd,IAGH5D,EAAQ,QACsB,KAA5B0I,EAAY9E,kBACgB7F,IAA5B2K,EAAY9E,YACR8E,EAAY9E,iBACZ7F,EAER4D,EAAI2G,GAASzG,IAAI2G,GAASxI,SAAWA,MAChC,CACL,IAAM0I,EAAchF,GAAayE,EAAQ,aACrCnI,EAAW,GACfA,EAAQ,QACsB,KAA5B0I,EAAY9E,kBACgB7F,IAA5B2K,EAAY9E,YACR8E,EAAY9E,iBACZ7F,EACN4D,EAAI2G,GAASzG,IAAI2G,GAASxI,SAAWA,SAK3C8C,EAAMG,SAAS1D,iBAAmBA,EAE3BuD,IChJI,SAAS6F,EAAmBC,EAAWC,GACpD,MAAO,CACLnG,UADK,SACKC,EAAKC,EAAWC,EAAYC,GAAQ,IAAD,EACTA,EAAMG,SAAhClD,EADmC,EACnCA,QAASI,EAD0B,EAC1BA,aAEXiG,EAAgBpD,GACpBL,EACAC,EACAC,EACA,SACAC,GAGIgG,EAAuB/F,GAC3BJ,EACAyD,EACAyC,GAsBF,GAnBA9I,EAAQqE,SAAQ,YAA6B,EAA1B1I,GAA2B,IAAvBsE,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MACzB0G,EAAa5D,GACjBJ,EACAmG,EACA,SACA,KACA,CACE7I,MAAOA,EACP2G,SAAU3G,IAAU6C,EAAMG,SAAShD,QAIvC2E,OAAOC,KAAK7E,GAAUoE,SAAQ,SAACU,GACC,qBAAnB9E,EAAS8E,IAClB/B,GAAYJ,EAAKgE,EAAY,OAAQ3G,EAAS8E,GAAO,CAAEA,eAKzD3E,EAAc,CAChB,IAAMwG,EAAa5D,GACjBJ,EACAmG,EACA,SACA,KACA,CACE7I,MAAOzD,EACPoK,UAAU,IAGd7D,GAAYJ,EAAKgE,EAAY,eAIjCzD,eApDK,SAoDUC,GACb,MACoB,mBAAlBA,EAAKC,UAAiCC,GAAaF,EAAM0F,IAI7DvF,YA1DK,SA0DOH,GACV,IAAIL,EAAQS,GAAkBJ,EAAMyF,EAAW,UAC/C9F,EAAMG,SAAStF,SAAiD,SAAtC6F,GAAgBL,EAAM,YAEhDL,EAAMG,SAAShD,MX0Bd,SAAsBkD,EAAM4F,GACjC,OAAI5F,EAAKmB,aAAayE,GACb5F,EAAK6F,aAAaD,GAElB,GW9BkBE,CAAa9F,EAAM,SAE1C,IACM0D,EAAclB,GADQjC,GAAaP,EAAM0F,GACQ,UAEnD9I,EAAU,GA6Cd,OA5CA+C,EAAMG,SAASlD,QAAUA,EAEzB+C,EAAMG,SAAS/C,WAAa,KAC5B4C,EAAMG,SAAS9C,cAAe,EAE9B0G,EAAYzC,SAAQ,SAACuC,GACnB,GAAItD,GAAasD,EAAY,aAAc,CACzC,IAAMK,EAAqBtD,GAAaiD,EAAY,aACpD7D,EAAMG,SAAS9C,cAAe,EAC9B2C,EAAMG,SAASgE,gBAAkBD,EAAmBpD,YACpDd,EAAMG,SAASiE,oBAC2C,SAAxDrD,GAAmB8C,EAAY,WAAY,aACxC,CACL,IAAMQ,EAAWnB,IAAKC,KAEhBjG,EAAW2F,GAAcgB,EAAY,QAAQf,QACjD,SAACC,EAAKC,GACJ,OAAOlB,OAAOmB,OAAO,GAAIF,EAAlBjB,OAAA,IAAAA,CAAA,GACJf,GACCiC,EACA,OtB/EU,WsBiFRA,EAASlC,gBAGjB,IAGF7D,EAAQqH,KAAK,CACX1L,GAAIyL,EACJnH,SAAUA,EACVC,MAAOuD,GAAgBmD,EAAY,WAGuB,SAAxD9C,GAAmB8C,EAAY,WAAY,WAC7C7D,EAAMG,SAAS/C,WAAaiH,OAK9BrE,EAAMG,SAASiE,sBACjBpE,EAAMG,SAAS/C,WAAa,MAGvB4C,IC5Gb,SAASoG,EAAShD,EAAMiD,GAMtBC,EAAWlD,GAAMiD,GAAKA,EAaT,SAASE,IACtBH,EAAS,aAAcI,GACvBJ,EAAS,YAAaK,GACtBL,EAAS,SAAUM,GACnBN,EAAS,SAAUO,GACnBP,EAAS,OAAQQ,GACjBR,EACE,iBACAP,EAAmB,iBAAkB,gBAEvCO,EAAS,WAAYP,EAAmB,WAAY,aACpDO,EAAS,QAASS,GAClBT,EAAS,UAAWU,GACpBV,EAAS,aAAcW,GACvBX,EAAS,YAAaY,GACtBZ,EAAS,QAASa,GAClBb,EAAS,cAAec,GACxBd,EAAS,aAAce,GACvBf,EAAS,eAAgBgB,GACzBhB,EAAS,YAAaiB,GACtBjB,EAAS,QAASkB,GA9BpB,WACE,IAAMC,EAAqBzF,OAAOC,KAAKuE,GACpCkB,QAAO,SAACpE,GAAD,OAAWkD,EAAWlD,GAAMiD,MACnCoB,KAAK,MAER,GAA2B,KAAvBF,EACF,MAAM,IAAIxO,MAAM,gCAAkCwO,GA0BpDG,GC7CF,SAASC,EAAU9H,EAAK+H,EAAcC,GAC/BD,EAAazH,SAAS2H,SACzBF,EAAazH,SAAS2H,OAAS,WAGjC,IAAMC,EAAOlI,EAAImI,cAAc,QAC/BnI,EAAII,YAAY8H,GAChBA,EAAKxE,aAAa,UAAWlL,GAC7B0P,EAAKxE,aAAa,aAAcqE,EAAazH,SAASjH,YACtD6O,EAAKxE,aAAa,SAAUqE,EAAazH,SAAS2H,QAClDC,EAAKxE,aACH,uBACyCtI,IAAzC2M,EAAazH,SAAS8H,eAClBL,EAAazH,SAAS8H,eACtB,KAENF,EAAKxE,aACH,uBACAqE,EAAazH,SAAS+H,oBAExBH,EAAKxE,aAAa,YAAaqE,EAAazH,SAASgI,UACrDJ,EAAKxE,aACH,4BACAqE,EAAazH,SAASiI,wBAExBL,EAAKxE,aACH,mBACyC,MAAzCqE,EAAazH,SAAS8H,eAClBL,EAAaS,gBACb,IAENN,EAAKxE,aAAa,cAAe,IACjCwE,EAAKxE,aAAa,eAAgB,IAClCwE,EAAKxE,aAAa,gBAAiBqE,EAAahP,IAChDmP,EAAKxE,aAAa,cAAehL,GACjCwP,EAAKxE,aAAa,UAAWqE,EAAazH,SAASmI,QACnDP,EAAKxE,aACH,yBACAqE,EAAazH,SAASoI,qBA0I1B,SAAkC1I,EAAKkI,EAAMH,GAAe,IAAD,EAClBA,EAAazH,SAA5CqI,EADiD,EACjDA,UAAWxN,EADsC,EACtCA,gBAEnB8G,OAAOC,KAAKyG,GAAWlH,SAAQ,SAACU,GACC,qBAApBwG,EAAUxG,IACnB/B,GAAYJ,EAAKkI,EAAM,QAASS,EAAUxG,GAAO,CAAEA,YAIvDF,OAAOC,KAAK/G,GAAiBsG,SAAQ,SAACU,GACC,qBAA1BhH,EAAgBgH,IACzB/B,GAAYJ,EAAKkI,EAAM,cAAe/M,EAAgBgH,GAAO,CAAEA,YAlJnEyG,CAAyB5I,EAAKkI,EAAMH,GAuJtC,SAAmB/H,EAAKkI,EAAMH,GAAe,IACnCc,EAAUd,EAAazH,SAAvBuI,MAEFC,EAAY1I,GAAYJ,EAAKkI,EAAM,SACzC5F,GAAatC,EAAK8I,EAAWD,GA1J7BE,CAAU/I,EAAKkI,EAAMH,GA6JvB,SAAwB/H,EAAKkI,EAAMH,GACjC,IAAMiB,EAAY5I,GAAYJ,EAAKkI,EAAM,aAEzCH,EAAaiB,UAAUvH,SAAQ,SAACU,GAC9B/B,GAAYJ,EAAKgJ,EAAW,WAAY7G,EAAM,CAC5C8G,SAAU9G,IAAS4F,EAAamB,kBAjKpCC,CAAenJ,EAAKkI,EAAMH,GAsK5B,SAAqC/H,EAAKkI,EAAMH,GAC9C,IAAMqB,EAAwBhJ,GAAYJ,EAAKkI,EAAM,kBAErDH,EAAazH,SAAS8I,sBACnBC,KAAI,SAACC,GAAD,OAAmBA,EAAcvR,QACrC4P,QAAO,SAAC2B,GAAD,OAAmBlQ,EAAkBkQ,MAC5C7H,SAAQ,SAAC6H,GAAD,OACPlJ,GAAYJ,EAAKoJ,EAAuB,gBAAiB,GAAI,CAC3DrR,KAAMuR,OA7KZC,CAA4BvJ,EAAKkI,EAAMH,GAkLzC,SAA0B/H,EAAKkI,EAAMH,GACnC,IAAMyB,EAAcpJ,GAAYJ,EAAKkI,EAAM,QAE3CH,EAAazH,SAASkJ,YACnBH,KAAI,SAACI,GAAD,OAASA,EAAI1R,QACjB4P,QAAO,SAAC8B,GAAD,OAASrQ,EAAkBqQ,MAClChI,SAAQ,SAACgI,GAAD,OAASrJ,GAAYJ,EAAKwJ,EAAa,MAAO,GAAI,CAAEzR,KAAM0R,OAvLrEC,CAAiB1J,EAAKkI,EAAMH,GA0L9B,SAA+B/H,EAAKkI,EAAMH,GACxC,IAAMyB,EAAcpJ,GAAYJ,EAAKkI,EAAM,cAE3CH,EAAazH,SAASqJ,iBACnBhC,QAAO,SAAC8B,GAAD,OAASrQ,EAAkBqQ,EAAI1R,SACtC0J,SAAQ,SAACgI,GAAD,OACPrJ,GAAYJ,EAAKwJ,EAAa,MAAO,GAAI,CACvCzR,KAAM0R,EAAI1R,KACV,sBAAuB0R,EAAIG,uBAjMjCC,CAAsB7J,EAAKkI,EAAMH,GAsMnC,SAA+B/H,EAAKkI,EAAMH,GAAe,IAC/C+B,EAAqB/B,EAAazH,SAAlCwJ,iBACR1J,GAAYJ,EAAKkI,EAAM,sBAAuB4B,GAvM9CC,CAAsB/J,EAAKkI,EAAMH,GA0MnC,SAA4B/H,EAAKkI,EAAMH,GAAe,IAAD,EAM/CA,EAAazH,SAAS0J,cAJxBC,EAFiD,EAEjDA,YACAC,EAHiD,EAGjDA,WACAC,EAJiD,EAIjDA,YACAC,EALiD,EAKjDA,WAGI9J,EAAWF,GAAYJ,EAAKkI,EAAM,iBAAkB,GAAI,CAC5D,kBAAmB+B,EACnB,kBAAmBE,IAGrB/J,GAAYJ,EAAKM,EAAU,SAAU4J,GACrC9J,GAAYJ,EAAKM,EAAU,SAAU8J,GAvNrCC,CAAmBrK,EAAKkI,EAAMH,GA0NhC,SAA0B/H,EAAKkI,EAAMH,GACnC,GAAIA,EAAazH,SAASgK,YAAYrG,SAAU,CAC9C,IAAMqG,EAAclK,GAAYJ,EAAKkI,EAAM,gBAErCqC,EAAmBxC,EAAazH,SAASgK,YAAzCC,eACDA,GAA4C,IAA1BA,EAAe/H,SACpC+H,EAAiB,OAGnBD,EAAY5G,aAAa,kBAAmB6G,GAE5CxC,EAAazH,SAASgK,YAAYE,UAC/BnB,KAAI,SAACoB,GAAD,OAAWA,EAAMpJ,UACrBsG,QAAO,SAAC8C,GAAD,MAAqB,KAAVA,KAClBhJ,QAAQrB,GAAYsK,KAAK,KAAM1K,EAAKsK,EAAa,aAGtD,GAAIvC,EAAazH,SAASqK,YAAY1G,SAAU,CAE9C,GAAc,KADA8D,EAAazH,SAASqK,YAAYC,MAAMvJ,OACpC,CAChB,IAAMwJ,EAAkBzK,GAAYJ,EAAKkI,EAAM,wBAC/C9H,GACEJ,EACA6K,EACA,UACA9C,EAAazH,SAASqK,YAAYC,QAKxC,GAAI7C,EAAazH,SAASwK,aAAa7G,SAAU,CAC/C,IAAM6G,EAAe1K,GAAYJ,EAAKkI,EAAM,iBAE5C,CAAC,SAAU,OAAQ,WAAY,YAAYzG,SAAQ,SAACsJ,GAClD3K,GACEJ,EACA8K,EACAC,EnBxTD,SAAiBC,GACtB,IAAMC,EAAStL,IAAMsL,OAAOC,aAAa,UAAWxL,GAKpD,OAJAuL,EAAOE,MAAM,CAAEC,GAAItL,IACnBmL,EAAOI,OAAO1L,IAAMC,KAAK0L,aAAaN,IACtCC,EAAOM,SAEA5L,IAAMC,KAAK4L,SAASP,EAAOQ,OAAOC,YmBmTnCC,CAAQ5D,EAAazH,SAASwK,aAAaC,QARA,IAYzCa,EAAa7D,EAAazH,SAASwK,aAAnCc,SACDA,GAAgC,IAApBA,EAASpJ,SACxBoJ,EAAW,OAGbxL,GAAYJ,EAAK8K,EAAc,YAAac,IAxQ9CC,CAAiB7L,EAAKkI,EAAMH,GA4Q9B,SAA2B/H,EAAKkI,EAAMH,GACpC,IAAM+D,EAAe1L,GAAYJ,EAAKkI,EAAM,cAE5CH,EAAazH,SAASyL,SACnB1C,KAAI,SAAC2C,GACJ,MAAO,CAAEjB,IAAKiB,EAAKjB,IAAI1J,OAAQ/D,MAAO0O,EAAK1O,MAAM+D,WAElDsG,QAAO,SAACqE,GAAD,MAAuB,KAAbA,EAAKjB,KAA6B,KAAfiB,EAAK1O,SACzCmE,SAAQ,SAACuK,GACR5L,GAAYJ,EAAK8L,EAAc,YAAa,KAAM,CAChDf,IAAKiB,EAAKjB,IACVzN,MAAO0O,EAAK1O,WAtRlB2O,CAAkBjM,EAAKkI,EAAMH,GA2R/B,SAA6B/H,EAAKkI,EAAMH,GACtC,QAAqC3M,IAAjC2M,EAAazH,SAAS4L,OAAsB,CAC9C,IAAMC,EAAmB/L,GAAYJ,EAAKkI,EAAM,UAEhDH,EAAazH,SAAS4L,OAAOzK,SAAQ,SAACuK,GACpC,IAAMI,EAAYhM,GAAYJ,EAAKmM,EAAkB,QAAS,KAAM,CAClEnK,KAAMgK,EAAKhK,KACX3I,WAAY2S,EAAK3S,WACjBgT,MAAOL,EAAKK,MACZzK,IAAKoK,EAAKpK,MAGZoK,EAAKhE,OAAOvG,SAAQ,SAAC6K,GACnBlM,GAAYJ,EAAKoM,EAAW,QAAS,KAAM,CAAEpK,KAAMsK,WAvSzDC,CAAoBvM,EAAKkI,EAAMH,GAE/B,IAAM9H,EAAY,SAAClH,GAAD,OAAQiP,EAAOwE,MAAK,SAACC,GAAD,OAAOA,EAAE1T,KAAOA,MAChDqQ,EAAwBrB,EAAazH,SAAS8I,sBAC9CI,EAAczB,EAAazH,SAASkJ,YACpCG,EAAmB5B,EAAazH,SAASqJ,kBAwSjD,SAAsB3B,GAEpB,IAAM0E,EAAS1E,EAAO/E,QACpB,SAACC,EAAK/C,GACJ,GAAmB,cAAfA,EAAMoD,KAAsB,CAAC,IACvBxK,EAAOoH,EAAPpH,GADsB,EAU1BoH,EAAMG,SAPRjH,EAH4B,EAG5BA,WACAyB,EAJ4B,EAI5BA,UACAQ,EAL4B,EAK5BA,SACAmE,EAN4B,EAM5BA,eACAhE,EAP4B,EAO5BA,SACAC,EAR4B,EAQ5BA,cACAH,EAT4B,EAS5BA,iBAaF,OAXA2H,EAAIuB,KAAK,CACP1L,KACAM,aACAyB,YACAQ,WACA0M,OAAQ,GACRvI,iBACAhE,WACAC,gBACAH,qBAEK2H,EAIP,OAFoBA,EAAIA,EAAIV,OAAS,GACzBwF,OAAOvD,KAAKtE,GACjB+C,IAGX,CACE,CACE7J,WAAY,uBACZyB,UAAW,KACXQ,SAAU,GACV0M,OAAQ,GACRvM,SAAU,GACVC,cAAe,GACfH,iBAAkB,MAOlBoR,EAAYD,EAAO,GAEC,OAAxBC,EAAU7R,WACoB,OAA9B6R,EAAUxR,iBACkB,IAA5BwR,EAAU3E,OAAOxF,QAEjBkK,EAAOE,OAAO,EAAG,GAGnB,OAAOF,GA/VPG,CAAa7E,GAAQvG,SAAQ,SAACqL,GAAc,IAExC/T,EASE+T,EATF/T,GACAM,EAQEyT,EARFzT,WACAyB,EAOEgS,EAPFhS,UACAQ,EAMEwR,EANFxR,SACQyR,EAKND,EALF9E,OACAvI,EAIEqN,EAJFrN,eACAhE,EAGEqR,EAHFrR,SACAC,EAEEoR,EAFFpR,cACAH,EACEuR,EADFvR,iBAEIyR,EAAO5M,GAAYJ,EAAKkI,EAAM,OAAQ,KAAM,CAChDlG,KAAMjJ,EACNM,WAAYA,EACZ,iBAAkBoG,IAuBpB,GApBI3E,GACFmH,OAAOC,KAAKpH,GAAW2G,SAAQ,SAACU,GACC,qBAApBrH,EAAUqH,IACnB/B,GAAYJ,EAAKgN,EAAM,QAASlS,EAAUqH,GAAO,CAAEA,YAKrD7G,GACF8G,GAAepC,EAAKC,EAAW+M,EAAM1R,GAGnCC,GACF8G,GAAkBrC,EAAKC,EAAW+M,EAAMzR,GAGtCE,GACFwR,GAAejN,EAAKgN,EAAM,KAAMvR,GAG9BC,EAAe,CAEjB,IAAIwR,EAA8BxR,EAAc2N,KAAI,SAAC8D,GACnD,IAAM1D,EAAME,EAAiB6C,MAAK,SAACY,GAAD,OAAOA,EAAErU,KAAOoU,EAAKE,SACvD,OAAOpL,OAAOmB,OAAO,GAAI+J,EAAM,CAAEzK,QAAS+G,EAAI1R,UAEhDgL,GAAoB/C,EAAKgN,EAAM,KAAME,IAsT3C,SAAyBlF,GAEvB,IAAM0E,EAAS1E,EAAO/E,QACpB,SAACC,EAAK/C,GACJ,GAAmB,iBAAfA,EAAMoD,KAAyB,CAAC,IAC1BxK,EAAOoH,EAAPpH,GADyB,EAY7BoH,EAAMG,SATRjH,EAH+B,EAG/BA,WACAyB,EAJ+B,EAI/BA,UACAG,EAL+B,EAK/BA,UACAE,EAN+B,EAM/BA,gBACAG,EAP+B,EAO/BA,SACAG,EAR+B,EAQ/BA,SACAC,EAT+B,EAS/BA,cACA4D,EAV+B,EAU/BA,aACA/D,EAX+B,EAW/BA,iBAeF,OAbA2H,EAAIuB,KAAK,CACP1L,KACAM,aACAyB,YACAG,YACAE,kBACAG,WACA0M,OAAQ,GACRvM,WACAC,gBACA4D,eACA/D,qBAEK2H,EAIP,OAFuBA,EAAIA,EAAIV,OAAS,GACzBwF,OAAOvD,KAAKtE,GACpB+C,IAGX,CACE,CACE7J,WAAY,0BACZyB,UAAW,KACXG,WAAW,EACXE,gBAAiB,KACjBG,SAAU,GACV0M,OAAQ,GACRvM,SAAU,GACVC,cAAe,GACf4D,cAAc,EACd/D,iBAAkB,MAOlB+R,EAAeZ,EAAO,GAEC,OAA3BY,EAAaxS,WACoB,OAAjCwS,EAAanS,iBACkB,IAA/BmS,EAAatF,OAAOxF,QAEpBkK,EAAOE,OAAO,EAAG,GAGnB,OAAOF,GAnXLa,CAAgBR,GAAYtL,SAAQ,SAAC+L,GAAiB,IAElDzU,EAWEyU,EAXFzU,GACAM,EAUEmU,EAVFnU,WACAyB,EASE0S,EATF1S,UACAG,EAQEuS,EARFvS,UACAE,EAOEqS,EAPFrS,gBACAG,EAMEkS,EANFlS,SACQmS,EAKND,EALFxF,OAEAvM,EAGE+R,EAHF/R,SACAC,EAEE8R,EAFF9R,cACA4D,EACEkO,EADFlO,aAEIoO,EAAUtN,GAAYJ,EAAKgN,EAAM,UAAW,KAAM,CACtDhL,KAAMjJ,EACNM,WAAYA,EACZ4B,UAAWA,EACX,iBAAkBqE,IA6BpB,GA1BIxE,GACFmH,OAAOC,KAAKpH,GAAW2G,SAAQ,SAACU,GACC,qBAApBrH,EAAUqH,IACnB/B,GAAYJ,EAAK0N,EAAS,QAAS5S,EAAUqH,GAAO,CAAEA,YAKxDhH,GACF8G,OAAOC,KAAK/G,GAAiBsG,SAAQ,SAACU,GACC,qBAA1BhH,EAAgBgH,IACzB/B,GAAYJ,EAAK0N,EAAS,cAAevS,EAAgBgH,GAAO,CAC9DA,YAMJ7G,GACF8G,GAAepC,EAAKC,EAAWyN,EAASpS,GAGtCG,GACFwR,GAAejN,EAAK0N,EAAS,KAAMjS,GAGjCC,EAAe,CAEjB,IAAIwR,EAA8BxR,EAAc2N,KAAI,SAAC8D,GACnD,IAAM1D,EAAME,EAAiB6C,MAAK,SAACY,GAAD,OAAOA,EAAErU,KAAOoU,EAAKE,SACvD,OAAOpL,OAAOmB,OAAO,GAAI+J,EAAM,CAAEzK,QAAS+G,EAAI1R,UAEhDgL,GAAoB/C,EAAK0N,EAAS,KAAMR,GAG1CO,EAAchM,QACZkM,EAAejD,KACb,KACA1K,EACAC,EACAmJ,EACAI,EACAG,EACA+D,UAsTV,SAASC,EACP3N,EACAC,EACAmJ,EACAI,EACAG,EACA+D,EACAvN,GAEA,IAAMyN,EAAaC,IAAEC,IAAIrH,EAAN,UAAqBtG,EAAMoD,KAA3B,kBACnB,IAAIqK,EAmCF,MAAM,IAAI1U,MAAM,2CAA6CiH,EAAMoD,MAlC/DpD,EAAMG,SAAS9E,qBACjB2E,EAAMG,SAAS9E,mBAAqB2E,EAAMG,SAAS9E,mBAAmB6N,KACpE,SAAC8D,GACC,IAAM7D,EAAgBF,EAAsBoD,MAC1C,SAACY,GAAD,OAAOA,EAAErU,KAAOoU,EAAKY,mBAGvB,OADAjU,IAAOwP,GACArH,OAAOmB,OAAO,GAAI+J,EAAM,CAC7Ba,kBAAmB1E,EAAcvR,WAMrCoI,EAAMG,SAAS7E,WACjB0E,EAAMG,SAAS7E,SAAW0E,EAAMG,SAAS7E,SAAS4N,KAAI,SAAC8D,GACrD,IAAM1D,EAAMD,EAAYgD,MAAK,SAACY,GAAD,OAAOA,EAAErU,KAAOoU,EAAKE,SAElD,OADAvT,IAAO2P,GACAxH,OAAOmB,OAAO,GAAI+J,EAAM,CAAEzK,QAAS+G,EAAI1R,WAI9CoI,EAAMG,SAAS5E,gBACjByE,EAAMG,SAAS5E,cAAgByE,EAAMG,SAAS5E,cAAc2N,KAC1D,SAAC8D,GACC,IAAM1D,EAAME,EAAiB6C,MAAK,SAACY,GAAD,OAAOA,EAAErU,KAAOoU,EAAKE,SAEvD,OADAvT,IAAO2P,GACAxH,OAAOmB,OAAO,GAAI+J,EAAM,CAAEzK,QAAS+G,EAAI1R,WAKpD6V,EAAW5N,EAAKC,EAAWyN,EAASvN,GAMxC,IAAI8N,GAAc,CAChBlV,GAAIsK,IAAKC,KACT0F,UAAW,CxBzgBe,WwB0gB1BE,axB1gB0B,UwB2gB1B5I,SAAU,CACRjH,WAAY,GACZsP,UAAW,CAAE5N,QAAS,iBACtBqN,eAAgB,IAChBjN,gBAAiB,CACfJ,QACE,mEAEJsN,oBAAoB,EACpBC,UAAU,EACVC,wBAAwB,EACxBa,sBAAuB,GACvBI,YAAa,GACbG,iBAAkB,GAClBG,iBAAkB,IAClBQ,YAAa,CACXrG,UAAU,EACVuG,UAAW,IAEbG,YAAa,CACX1G,UAAU,EACV2G,MAAOjS,EAAmB,IAE5BmS,aAAc,CACZ7G,UAAU,EACViK,OAAQ,GACRC,KAAM,GACNC,SAAU,GACVC,SAAU,IAEZtC,SAAU,GACVG,OAAQ,GACRrD,MAAO,GACPJ,OAAQ,GACRC,oBAAqB,KACrBsB,cAAe,CACbC,aAAa,EACbC,WAAY,GACZC,aAAa,EACbC,WAAY,MAkBlB,SAASkE,GAAuBC,EAAkBvF,GAChD/G,OAAOC,KAAKqM,GAAkB9M,SAAQ,SAAUsJ,GAC1CA,EAAIzQ,SAAS,SAA4C,kBAA1BiU,EAAiBxD,IAClD9I,OAAOC,KAAKqM,EAAiBxD,IAAMtJ,SAAQ,SAAU+M,GAC/CxF,EAAUyF,QAAQD,GAAW,UACxBD,EAAiBxD,GAAKyD,SAOxB,SAASzO,GAAU2O,GAChCC,IAEA,IA5BuBC,EA4BjB7G,EAAe2G,EAAKxG,KACpBF,EAAS0G,EAAK1G,SACU0G,EAAKG,sBA9BZD,EAqCL5G,EAnClBsG,GAAuBL,GAAY3N,SAAU2N,GAAYjF,WACzD4F,EAAWnN,SAAQ,SAAUtB,GAC3BmO,GAAuBnO,EAAMG,SAAU2N,GAAYjF,WACb,qBAA3B7I,EAAMG,SAASlD,SACxB+C,EAAMG,SAASlD,QAAQqE,SAAQ,SAACqN,GAC9BR,GAAuBQ,EAAQb,GAAYjF,kBAiCjD,IAAMhJ,EAAM+O,SAASC,eAAeC,eAAe,GAAI,GAAI,MAI3D,OAHAnH,EAAU9H,EAAK+H,EAAcC,GAGtBzO,EACL,4CAFiB,IAAI2V,eAGRC,kBAAkBnP,IbrnB5B,SAASY,GAAkBJ,EAAM+C,EAAM6L,GAC5C,GAAIvO,GAAgBL,EAAM,iBAAmB4O,EAC3C,MAAM,IAAIlW,MAAJ,yBAA4BqK,EAA5B,mBAA2C6L,IAGnD,IAAMC,EAAetO,GAAaP,EAAM,YAElC1F,EAAYkI,GAAcqM,EAAc,QAAQpM,QACpD,SAACC,EAAKC,GACJ,OAAOlB,OAAOmB,OAAO,GAAIF,EAAlBjB,OAAA,IAAAA,CAAA,GACJf,GACCiC,EACA,OXIkB,WWFhBA,EAASlC,gBAGjB,IAGI9F,EAAe,eXJK,UWKR+F,GAAmBmO,EAAc,mBAAejU,IAGlE4H,GAAcqM,EAAc,eAAe5N,SAAQ,SAAC6N,GAClDnU,EAAgB0F,GAAgByO,EAAiB,SAC/CA,EAAgBrO,eAGpB,IAAM/F,EAAcwF,GAAaF,EAAM,cACnC+O,EAAa,KAEjB,GAAIrU,EAAa,CACf,IAAMsU,EAAiBzO,GAAaP,EAAM,cAEpCQ,EAAOgC,GAAcwM,EAAgB,QACxCnG,KAAI,SAACoG,GAAD,OAAOA,EAAExO,eACb2G,KAAK,KACF8H,EAAWhP,GAAa8O,EAAgB,SAC1C3O,GAAgBE,GAAayO,EAAgB,SAAU,OACvD,MAEAxO,GAAQ0O,KACVH,EAAa,CAAEvO,OAAM0O,aAIzB,IAAMC,EAAO9B,IAAE+B,KACb1O,GAAmBV,EAAM,OAAQ,IAC9B4D,MAAM,KACNiF,KAAI,SAACI,GAAD,OAASA,EAAIpI,UACjBsG,QAAO,SAAC8B,GAAD,OAASA,MAGrB,MAAO,CACL1Q,GAAImI,GAAmBV,EAAM,OAAQ6C,IAAKC,MAC1CC,KAAMA,EACNgM,aACAI,OACArP,SAAU,CACRjH,WAAYwH,GAAgBL,EAAM,cAClC1F,UAAWA,EACXG,UAAkD,SAAvC4F,GAAgBL,EAAM,aACjCtF,YAAaA,EACbC,gBAAiBA,EACjBQ,OAAQ6H,GAAW6L,KAKlB,SAAS7L,GAAW6L,GACzB,OAAOrM,GAAcqM,EAAc,SAAShG,KAAI,SAACoG,GAAD,MAAQ,CACtD1W,GAAIsK,IAAKC,KACTuM,IAAKhP,GAAgB4O,EAAG,WAIrB,SAASvO,GAAmBV,EAAM4F,EAAUtJ,GACjD,OAAI0D,EAAKmB,aAAayE,GACb5F,EAAK6F,aAAaD,GAElBtJ,EAIJ,SAAS+D,GAAgBL,EAAM4F,GACpC,GAAI5F,EAAKmB,aAAayE,GACpB,OAAO5F,EAAK6F,aAAaD,GAEzB,MAAM,IAAIlN,MAAJ,oBACSsH,EAAKC,SADd,2CACyD2F,EADzD,MAcH,SAAS1F,GAAaF,EAAMsP,GACjC,GAAItP,EAAKuP,gBACP,IAAK,IAAIC,EAAI,EAAGA,EAAIxP,EAAKyP,WAAWzN,OAAQwN,GAAK,EAAG,CAElD,GADcxP,EAAKyP,WAAWD,GACpBvP,WAAaqP,EACrB,OAAO,EAKb,OAAO,EAGF,SAAS/O,GAAaP,EAAMsP,GACjC,GAAItP,EAAKuP,gBACP,IAAK,IAAIC,EAAI,EAAGA,EAAIxP,EAAKyP,WAAWzN,OAAQwN,GAAK,EAAG,CAClD,IAAME,EAAQ1P,EAAKyP,WAAWD,GAC9B,GAAIE,EAAMzP,WAAaqP,EACrB,OAAOI,EAKb,MAAM,IAAIhX,MAAJ,4BACiBsH,EAAKC,SADtB,wBAC8CqP,EAD9C,qBAKD,SAAS9M,GAAcxC,EAAMsP,GAClC,IAAIpD,EAAS,GAEb,GAAIlM,EAAKuP,gBACP,IAAK,IAAIC,EAAI,EAAGA,EAAIxP,EAAKyP,WAAWzN,OAAQwN,GAAK,EAAG,CAClD,IAAME,EAAQ1P,EAAKyP,WAAWD,GAC1BE,EAAMzP,WAAaqP,GACrBpD,EAAOjI,KAAKyL,GAKlB,OAAOxD,EAGF,SAAStM,GACdJ,EACAE,EACAnI,GAIC,IAHDkJ,EAGA,uDAHc,GACdkP,EAEA,uDAFa,GACbC,IACA,yDACM5P,EAAOR,EAAImI,cAAcpQ,GA0B/B,OAzBAmI,EAAWE,YAAYI,GAEvByB,OAAOC,KAAKiO,GAAY1O,SAAQ,SAACsJ,GAC/B,IAAIzN,EAAQ6S,EAAWpF,GACT,OAAVzN,IACmB,kBAAVA,IACTA,EAAQA,EAAM3D,QAAQ,KAAM,MAE9B6G,EAAKkD,aAAaqH,EAAKzN,OAKvB2D,IACEmP,EACF5P,EAAKJ,YACHJ,EAAIqQ,eACFC,mBACEC,mBAAmBtP,GAAamD,MAAM,UAAUwD,KAAK,OAIxDpH,EAAKJ,YAAYJ,EAAIqQ,eAAepP,KAGpCT,EAiCF,SAASH,GACdL,EACAC,EACAC,EACAsQ,EACArQ,GACC,IACOpH,EAAiBoH,EAAjBpH,GAAIuH,EAAaH,EAAbG,SAEVjH,EAcEiH,EAdFjH,WACAyB,EAaEwF,EAbFxF,UACAG,EAYEqF,EAZFrF,UACAC,EAWEoF,EAXFpF,YACAC,EAUEmF,EAVFnF,gBACAG,EASEgF,EATFhF,SACAK,EAQE2E,EARF3E,OACAH,EAOE8E,EAPF9E,mBACAC,EAME6E,EANF7E,SACAC,EAKE4E,EALF5E,cACAuC,EAIEqC,EAJFrC,mBACA1C,EAGE+E,EAHF/E,iBACA+B,EAEEgD,EAFFhD,MAGItC,IAAWsF,EAASmQ,eAAe,aACrCnQ,EAAStF,SAGT0V,EAAY,GAIZA,EAFApT,EACEA,EAAMnE,SAAS,KACLmE,EAAM8G,MAAM,KAEZ9G,EAGF,GAGd,IAAMmG,EAAgBrD,GAAYJ,EAAKE,EAAY,iBAAkB,KAAM,CACzE8B,KAAMjJ,EACNM,WAAYA,EACZ2B,SAAUA,EACVC,UAAWA,EACX,cAAeuV,EACflT,MAAOoT,IAGLxV,GACFkF,GAAYJ,EAAKyD,EAAe,cAGlCrB,GAAepC,EAAKC,EAAWwD,EAAenI,GAC9C+G,GAAkBrC,EAAKC,EAAWwD,EAAelI,GACjDgH,GAAyBvC,EAAKyD,EAAetD,EAAO3E,GACpDyR,GAAejN,EAAKyD,EAAetD,EAAO1E,GAC1CsH,GAAoB/C,EAAKyD,EAAetD,EAAOzE,GA+M1C,SAAkCsE,EAAKE,EAAYjC,GACxD,GAAIA,GAAsBA,EAAmBuE,OAAS,EAAG,CACvD,IAAMmO,EAAyBvQ,GAC7BJ,EACAE,EACA,uBAGFjC,EAAmBwD,SACjB,YAAkD,IAA/CmP,EAA8C,EAA9CA,sBAAuBC,EAAuB,EAAvBA,iBACxBzQ,GAAYJ,EAAK2Q,EAAwB,qBAAsB,KAAM,CACnE,0BAA2BC,EAC3B,qBAAsBC,QA1N9BC,CAAyB9Q,EAAKyD,EAAexF,GAE7C,IAAMoR,EAAejP,GAAYJ,EAAKyD,EAAe,YAkBrD,OAhBAxB,OAAOC,KAAKpH,GAAW2G,SAAQ,SAACU,GACC,qBAApBrH,EAAUqH,IACnB/B,GAAYJ,EAAKqP,EAAc,OAAQvU,EAAUqH,GAAO,CAAEA,YAI9DF,OAAOC,KAAK/G,GAAiBsG,SAAQ,SAACU,GACC,qBAA1BhH,EAAgBgH,IACzB/B,GAAYJ,EAAKqP,EAAc,cAAelU,EAAgBgH,GAAO,CACnEA,YAKNG,GAAatC,EAAKqP,EAAc1T,GAEzB8H,EAeF,SAASnB,GAAatC,EAAKE,EAAYvE,GAC5CA,EAAO8F,SAAQ,YAAc,IAAXoO,EAAU,EAAVA,IAChBzP,GAAYJ,EAAKE,EAAY,QAAS,KAAM,CAAE0B,IAAKiO,OAIhD,SAASzN,GAAepC,EAAKC,EAAWC,EAAY5E,GACzD,GAAIyV,MAAMC,QAAQ1V,IAChB,GAAIA,EAASkH,OAAS,EAAG,CAEvB,IAAMyO,EAAe7Q,GACnBJ,EACAE,EACA,mBACA,MAGF5E,EAASmG,SAAQ,SAACyO,GAChB9N,GAAepC,EAAKC,EAAWgR,EAAcf,WAG5C,CAAC,IAEJgB,EAKE5V,EALF4V,QACAvO,EAIErH,EAJFqH,WACAC,EAGEtH,EAHFsH,SACAuO,EAEE7V,EAFF6V,oBACAC,EACE9V,EADF8V,aAEIjR,EAAQF,EAAUiR,GAChB5Q,EAAaH,EAAbG,SAERxG,IAAsC,kBAAxBwG,EAASjH,YAEvB+G,GAAYJ,EAAKE,EAAY,YAAa,KAAM,CAC9C,mBAAoBI,EAASjH,WAC7BgY,SAAU1O,EACV,uBAAwBwO,EACxBvO,SAAU0O,GAAqBnR,EAAOwC,EAAYC,GAClDwO,aAAcA,KAKb,SAASnE,GAAejN,EAAKE,EAAYC,EAAO1E,GACrD,GAAIA,GAAYA,EAAS+G,OAAS,EAAG,CACnC,IAAMC,EAAerC,GAAYJ,EAAKE,EAAY,aAElDzE,EAASgG,SAAQ,YAAmD,IAAhDiB,EAA+C,EAA/CA,QAASC,EAAsC,EAAtCA,WAAYC,EAA0B,EAA1BA,SAAUC,EAAgB,EAAhBA,UACjD/I,IAAO4I,GAEHG,EACFzC,GAAYJ,EAAKyC,EAAc,MAAO,KAAM,CAAE1K,KAAM2K,KAEpDE,EAAW0O,GAAqBnR,EAAOwC,EAAYC,GAEnDxC,GAAYJ,EAAKyC,EAAc,WAAY,KAAM,CAC/CgH,IAAK/G,EACL2O,SAAU1O,EACVC,SAAUA,SAOb,SAASG,GAAoB/C,EAAKE,EAAYC,EAAOzE,GAC1D,GAAIA,GAAiBA,EAAc8G,OAAS,EAAG,CAC7C,IAAM+O,EAAoBnR,GAAYJ,EAAKE,EAAY,mBAEvDxE,EAAc+F,SAAQ,YAAkB,IAAfiB,EAAc,EAAdA,QACvBtC,GAAYJ,EAAKuR,EAAmB,MAAO,KAAM,CAAExZ,KAAM2K,QAKxD,SAASH,GACdvC,EACAE,EACAC,EACA3E,GAEA,GAAIA,GAAsBA,EAAmBgH,OAAS,EAAG,CACvD,IAAMgP,EAAyBpR,GAC7BJ,EACAE,EACA,uBAGF1E,EAAmBiG,SAAQ,YAA4B,IAAzBuM,EAAwB,EAAxBA,kBAC5B5N,GAAYJ,EAAKwR,EAAwB,gBAAiB,KAAM,CAC9DzZ,KAAMiW,QAMP,SAASsD,GAAqBnR,EAAOwC,EAAYC,GACtD,IAAM3J,EAAUe,EAAI2I,GAAY1J,QACxBqH,EAAaH,EAAbG,SAER,GAAgB,aAAZrH,GAA0B2J,IAAa/I,EAAiB,CAAC,IAErDiV,EADcxO,EAAZlD,QACeoP,MAAK,SAACiF,GAAD,OAAOA,EAAEnU,QAAUsF,KAC/CA,EAAWkM,EAAOxR,MAQpB,MALgB,SAAZrE,IACFa,IAAOkL,IAAO0M,SAAS9O,IACvBA,EAAWA,EAAS+O,OAAO,eAGtB/O,EAGF,SAASP,GACdrC,EACAC,EACAC,EACA3E,GAEA,GAAIA,EACF,GAAIwV,MAAMC,QAAQzV,IAChB,GAAIA,EAAiBiH,OAAS,EAAG,CAE/B,IAAMoP,EAAkBxR,GACtBJ,EACAE,EACA,4BACA,MAGF3E,EAAiBkG,SAAQ,SAACyO,GACxB7N,GAAkBrC,EAAKC,EAAW2R,EAAiB1B,WAGlD,CAAC,IAEJgB,EAOE3V,EAPF2V,QACAvO,EAMEpH,EANFoH,WACAC,EAKErH,EALFqH,SACAuO,EAIE5V,EAJF4V,oBACAnJ,EAGEzM,EAHFyM,OACAE,EAEE3M,EAFF2M,KACAkJ,EACE7V,EADF6V,aAEIjR,EAAQ6H,EAAOwE,MAAK,SAACC,GAAD,OAAOA,EAAE1T,KAAOmY,KAClC5Q,EAAaH,EAAbG,SAERxG,IAAsC,kBAAxBwG,EAASjH,YAEvB,IAAMwY,EAAmBzR,GAAYJ,EAAKE,EAAY,YAAa,KAAM,CACvE,mBAAoBI,EAASjH,WAC7BgY,SAAU1O,EACV,uBAAwBwO,EACxBvO,SAAU0O,GAAqBnR,EAAOwC,EAAYC,GAClDwO,aAAcA,IAEVU,EAAe/R,GAAUmI,GAC/B9H,GACEJ,EACA6R,EACA,gBACAC,EACA,IACA,Ic7dO,SAASC,GAAgBxO,EAAMyO,GAC5C,OAAQzO,GACN,IAAK,SACH,OAAO,EACT,IAAK,SAEL,IAAK,UACH,MAAO,GACT,IAAK,OACH,OAAO,EACT,IAAK,OACH,OAAOyB,MACT,IAAK,WAAL,IACU5H,EAAY4U,EAAY1R,SAAxBlD,QAER,OADAtD,IAAOsD,EAAQoF,OAAS,GACjBpF,EAAQ,GAAGE,MACpB,QACE,MAAM,IAAIpE,MAAM,iBAAmBqK,ICC1B,SAAS5C,GAAYsR,GAE7BC,UAAU,IACbvD,IAGF,IACIzG,EACAF,EACAmK,EAHEC,EAAS,IAAIC,UAKnB,IACE,IAAMC,EAAUF,EAAOG,gBACrBhZ,EAAsB0Y,GACtB,mBACAO,gBAaF,GAXyB,SAArBF,EAAQ7R,UACVgS,GAAcH,GACdI,GAAiBJ,EAASL,GAC1BU,GAAgBL,EAASL,GAEzB/J,EAAO0K,GAAiBN,GACxBtK,EAAS,IACqB,qBAArBsK,EAAQ7R,WACjB0R,EAAiB,IAGfG,EAAQvC,gBAIV,IAHA,IAAI8C,EAAY,EAGP7C,EAAI,EAAGA,EAAIsC,EAAQrC,WAAWzN,OAAQwN,GAAK,EAAG,CACrD,IAAME,EAAQoC,EAAQrC,WAAWD,GACjC,OAAQE,EAAMzP,UACZ,IAAK,QACHyH,EAAK5H,SAASqI,UAAU9H,GAAgBqP,EAAO,SAC7CA,EAAMjP,YACR,MACF,IAAK,cACHiH,EAAK5H,SAASnF,gBAAgB0F,GAAgBqP,EAAO,SACnDA,EAAMjP,YACR,MACF,IAAK,QACH6R,GAAU5K,EAAMgI,GAChB,MACF,IAAK,iBACH6C,GAA0B7K,EAAMgI,GAChC,MACF,IAAK,OACH8C,GAAgB9K,EAAMgI,GACtB,MACF,IAAK,aACH+C,GAAqB/K,EAAMgI,GAC3B,MACF,IAAK,sBACHgD,GAAqBhL,EAAMgI,GAC3B,MACF,IAAK,iBACHiD,GAAkBjL,EAAMgI,GACxB,MACF,IAAK,YACHkD,GAAclL,EAAMgI,GACpB,MACF,IAAK,eACHmD,GAAgBnL,EAAMgI,GACtB,MACF,IAAK,gBACHoD,GAAiBpL,EAAMgI,GACvB,MACF,IAAK,uBACHqD,GAAsBrL,EAAMgI,GAC5B,MACF,IAAK,UACHsD,GAAYtL,EAAMgI,GAClB,MACF,IAAK,aACHuD,GAAavL,EAAMgI,GACnB,MACF,IAAK,SACHwD,GAAmBxL,EAAMgI,GACzB,MACF,IAAK,OACHyD,GAAS3L,EAAQkI,EAAO2C,GACxBA,GAAa,EACb,MACF,IAAK,4BAEH,MACF,IAAK,WACL,IAAK,QAEH,MACF,QACE,MAAM,IAAI3Z,MACR,mDACEgX,EAAMzP,WAMlB,GAAyB,SAArB6R,EAAQ7R,SAAqB,CAE/BuH,EACGL,QAAO,SAAC8E,GAAD,OACNhG,EAAWgG,EAAElJ,MAAM1I,gBAAgB4V,eAAe,eAEnDhP,SAAQ,SAACtB,GACRA,EAAMG,SAAShF,SAAWsY,GAAa5L,EAAQ7H,EAAMK,SAKzDwH,EACGL,QAAO,SAAC8E,GAAD,OACNhG,EAAWgG,EAAElJ,MAAM1I,gBAAgB4V,eAAe,uBAEnDhP,SAAQ,SAACtB,EAAO0T,GACf1T,EAAMG,SAAS/E,iBAAmBuY,GAChC9L,EACA7H,EAAMK,KACNqT,WAKsCzY,IAAxC8M,EAAK5H,SAAS8I,wBAChBlB,EAAK5H,SAAS8I,sBAAwB,IAExC,IAAMA,EAAwBlB,EAAK5H,SAAS8I,sBAC5CpB,EACGL,QAAO,SAAC8E,GAAD,OACNhG,EAAWgG,EAAElJ,MAAM1I,gBAAgB4V,eACjC,yBAGHhP,SAAQ,SAACtB,GACRA,EAAMG,SAAS9E,mBAAqBuY,GAClC3K,EACAjJ,EACAA,EAAMK,SAMZ,IAAMgJ,EAActB,EAAK5H,SAASkJ,YAClCxB,EACGL,QAAO,SAAC8E,GAAD,OACNhG,EAAWgG,EAAElJ,MAAM1I,gBAAgB4V,eAAe,eAEnDhP,SAAQ,SAACtB,GACRA,EAAMG,SAAS7E,SAAWuY,GACxBxK,EACArJ,EACAA,EAAMK,SAMZ,IAAMmJ,EAAmBzB,EAAK5H,SAASqJ,iBA6BvC,OA5BA3B,EACGL,QAAO,SAAC8E,GAAD,OACNhG,EAAWgG,EAAElJ,MAAM1I,gBAAgB4V,eAAe,oBAEnDhP,SAAQ,SAACtB,GACRA,EAAMG,SAAS5E,cAAgBuY,GAC7BtK,EACAxJ,EACAA,EAAMK,SAMZwH,EACGL,QAAO,SAAC8E,GAAD,OACNhG,EAAWgG,EAAElJ,MAAM1I,gBAAgB4V,eACjC,yBAGHhP,SAAQ,SAACtB,GACRA,EAAMG,SAASrC,mBAAqBiW,GAClClM,EACA7H,EAAMK,SAKL,CAAE0H,OAAMF,UAEf,MAAO,CAAEmK,kBAEX,MAAOgC,GACP,MAAO,CAAEC,MAAOD,EAAEE,UAOtB,SAAS5B,GAAcH,GACrB,GAAyB,SAArBA,EAAQ7R,UAA4C,qBAArB6R,EAAQ7R,SACzC,MAAM,IAAIvH,MAAM,sDAIpB,SAASwZ,GAAiBJ,EAASL,GACjC,IAAMha,EAAU4I,GAAgByR,EAAS,WACnCgC,EAAerc,EAAQmM,MAAM,KAC7BmQ,EAAQlc,OAAOic,EAAa,IAC5BE,EAAQnc,OAAOic,EAAa,IAElC,GAAIC,IAAUnc,GAAsBoc,EAAQjc,EAAoB,CAC9D,IAAIkc,EA8CR,SACEC,EACAC,EACAC,EACAC,GAEA,IAAIJ,EAAa,CAEjBA,kBACE,+jDAKF,OAAOA,EAFL,OAASC,EAAcC,EAAc,KAAOC,EAAYC,EAAY,SA1DnDC,CACfP,EACAC,EACApc,EACAG,GAGF,IAAIkc,EAGF,MAAM,IAAIvb,MACR,kDAA2CjB,EAA3C,4CACaO,EADb,mIAHF8Z,EAuDN,SAA8BA,EAASmC,EAAYxC,GACjD,IAAMG,EAAS,IAAIC,UACb0C,EAAgB,IAAIC,cAEtBC,EAAU7C,EAAOG,gBAAgBkC,EAAY,YAKjD,OAJAM,EAAcG,iBAAiBD,GAElBF,EAAcI,oBAAoB7C,EAASvD,UA9D1CqG,CAAqB9C,EAASmC,IAa9C,SAAS9B,GAAgBL,EAASL,GAChC,IAAMoD,EAAanU,GAAmBoR,EAAS,cAAe,IAE9D,GAA0B,IAAtB+C,EAAW7S,OAAf,CAIA,IAAM8R,EAAee,EAAWjR,MAAM,KAChCmQ,EAAQlc,OAAOic,EAAa,IAC5BE,EAAQnc,OAAOic,EAAa,IAC5BgB,EAAWjd,OAAOic,EAAa,IAErC,GACEC,EAAQnc,GACRoc,EAAQjc,GACR+c,EAAW7c,EAEX,MAAM,IAAIS,MACR,kDAA2Cmc,EAA3C,4CACa3c,EADb,oIAoCN,SAASka,GAAiBN,GAAU,IAAD,EACIpR,GACnCoR,EACA,eACA,IAEClO,MAAM,KACNuD,QAAO,SAAC4N,GAAD,MAAa,KAANA,KACdlM,KAAI,SAACkM,GAAD,OAAOld,OAAOkd,MARY,mBAC1BC,EAD0B,KACrBC,EADqB,KACfC,EADe,KAUjC,MAAO,CACL3c,GAAImI,GAAmBoR,EAAS,gBAAiBjP,IAAKC,MACtDqS,WACEzU,GAAmBoR,EAAS,mBAAelX,SAAcA,EAC3DoN,gBAAiBtH,GAAmBoR,EAAS,mBAAoB,OACjEkD,MACAC,OACAC,kBACAE,QAAS,GACT5M,UAAW,C1BlTa,W0BmTxBE,a1BnTwB,U0BoTxB5I,SAAU,CACRjH,WAAYwH,GAAgByR,EAAS,cACrC+C,WAAYnU,GAAmBoR,EAAS,cAAe,IACvDrK,OAAQ/G,GAAmBoR,EAAS,SAAU,WAC9ClK,eAAgBlH,GAAmBoR,EAAS,kBAAmB,KAC/D3J,UAAU,e1BzTY,U0B0TJzH,GAAmBoR,EAAS,aAASlX,IAEvDD,gBAAgB,e1B5TM,U0B6TJ+F,GAAmBoR,EAAS,mBAAelX,IAE7DiN,mBACuD,SAArDxH,GAAgByR,EAAS,wBAC3BhK,SAAgE,SAAtDpH,GAAmBoR,EAAS,YAAa,SACnD/J,uBAEE,SADArH,GAAmBoR,EAAS,4BAA6B,SAE3D9I,YAAa,GACbG,iBAAkB,GAClBG,iBAAkB,IAClBQ,YAAa,CACXrG,UAAU,EACVuG,UAAW,GACXD,eAAgB,IAElBI,YAAa,CACX1G,UAAU,EACV2G,MAAOjS,EAAmB,IAE5BmS,aAAc,CACZ7G,UAAU,EACViK,OAAQ,GACRC,KAAM,GACNC,SAAU,GACVC,SAAU,IAEZtC,SAAU,GACVG,OAAQ,GACRrD,MAAO,GACPJ,OAAQvH,GAAmBoR,EAAS,UAAW,IAC/C5J,oBAAqBxH,GACnBoR,EACA,yBACA,MAEFtI,cAAe,CACbC,aAAa,EACbC,WAAY,GACZC,aAAa,EACbC,WAAY,MAMpB,SAAS0I,GAAU5K,EAAMY,GACvBZ,EAAK5H,SAASuI,MAAQrF,GAAWsF,GAGnC,SAASiK,GAA0B7K,EAAM2N,GACvC3N,EAAK5H,SAAS8I,sBAAwBpG,GACpC6S,EACA,iBAECxM,KAAI,SAACyM,GAAD,OAAuBjV,GAAgBiV,EAAmB,WAC9DnO,QAAO,SAAC2B,GAAD,OAAmBlQ,EAAkBkQ,MAC5CD,KAAI,SAACC,GAAD,MAAoB,CACvBvQ,GAAIsK,IAAKC,KACTvL,KAAMuR,MAIZ,SAAS0J,GAAgB9K,EAAM6N,GAC7B7N,EAAK5H,SAASkJ,YAAcxG,GAAc+S,EAAU,OACjD1M,KAAI,SAAC2M,GAAD,OAAanV,GAAgBmV,EAAS,WAC1CrO,QAAO,SAAC8B,GAAD,OAASrQ,EAAkBqQ,MAClCJ,KAAI,SAACI,GAAD,MAAU,CACb1Q,GAAIsK,IAAKC,KACTvL,KAAM0R,MAIZ,SAASwJ,GAAqB/K,EAAM6N,GAClC7N,EAAK5H,SAASqJ,iBAAmB3G,GAAc+S,EAAU,OACtD1M,KAAI,SAAC2M,GAAD,MAAc,CACjBje,KAAM8I,GAAgBmV,EAAS,QAC/BpM,kBACkE,SAAhE1I,GAAmB8U,EAAS,sBAAuB,aAEtDrO,QAAO,mBAAcvO,EAAd,EAAGrB,SACVsR,KAAI,gBAAGtR,EAAH,EAAGA,KAAM6R,EAAT,EAASA,kBAAT,MAAkC,CACrC7Q,GAAIsK,IAAKC,KACTvL,KAAMA,EACN6R,kBAAmBA,MAIzB,SAASsJ,GAAqBhL,EAAM+N,GAClC/N,EAAK5H,SAASwJ,iBAAmBmM,EAAqBhV,YAGxD,SAASkS,GAAkBjL,EAAMgO,GAAoB,IAC3ClM,EAAkB9B,EAAK5H,SAAvB0J,cASR,GAPAA,EAAcC,YAEZ,SADA/I,GAAmBgV,EAAmB,kBAAmB,SAE3DlM,EAAcG,YAEZ,SADAjJ,GAAmBgV,EAAmB,kBAAmB,SAGvDxV,GAAawV,EAAmB,UAAW,CAC7C,IAAMC,EAASpV,GAAamV,EAAmB,UAC/ClM,EAAcE,WAAaiM,EAAOlV,YAGpC,GAAIP,GAAawV,EAAmB,UAAW,CAC7C,IAAME,EAASrV,GAAamV,EAAmB,UAC/ClM,EAAcI,WAAagM,EAAOnV,aAItC,SAASmS,GAAclL,EAAMmO,GAC3BnO,EAAKc,UAAYhG,GAAcqT,EAAe,YAAYhN,KAAI,SAACiN,GAAD,OAC5DA,EAASrV,YAAYI,UAGvBvH,IAAOoO,EAAKc,UAAUxG,OAAS,GAE/B0F,EAAKgB,aACHlG,GAAcqT,EAAe,YAC1B1O,QACC,SAACnH,GAAD,MAA4D,SAAlDU,GAAmBV,EAAM,WAAY,YAEhD6I,KAAI,SAAC7I,GAAD,OAAUA,EAAKS,YAAYI,UAAQ,I1B1blB,U0B6b5B,SAASgS,GAAgBnL,EAAMqO,GAAa,IAClCjM,EAAgBpC,EAAK5H,SAArBgK,YAERA,EAAYrG,UAAW,EACvBqG,EAAYE,UAAYxH,GAAcuT,EAAY,YAAYlN,KAC5D,SAAC7I,GAAD,OAAUA,EAAKS,eAEjBqJ,EAAYC,eAAiBrJ,GAC3BqV,EACA,kBACA,OAIJ,SAASjD,GAAiBpL,EAAMqO,GAAa,IACnCzL,EAAiB5C,EAAK5H,SAAtBwK,aAERA,EAAa7G,UAAW,EACxB,CAAC,SAAU,OAAQ,WAAY,YAAYxC,SAAQ,SAACC,GAClDoJ,EAAapJ,GrBzdV,SAAiB8U,GACtB,IAAMC,EAAY9W,IAAMC,KAAK8W,SAASF,GAEhCG,EAAWhX,IAAMsL,OAAO2L,eAAe,UAAWlX,GAKxD,OAJAiX,EAASxL,MAAM,CAAEC,GAAItL,IACrB6W,EAAStL,OAAO1L,IAAMC,KAAK0L,aAAamL,IACxCE,EAASpL,SAEFoL,EAASlL,OAAOiD,KqBidAmI,CAAQ9V,GAAawV,EAAY7U,GAAMT,gBAG9D,IAAI2K,EAAW,GACf,IACEA,EAAW7K,GAAawV,EAAY,aAAatV,YACjD,MAAOmT,GACP7S,QAAQuV,IAAI1C,GAGTxI,GAAgC,IAApBA,EAASpJ,SACxBoJ,EAAW,OAEbd,EAAac,SAAWA,EAG1B,SAAS2H,GAAsBrL,EAAMqO,GAAa,IACxC5L,EAAgBzC,EAAK5H,SAArBqK,YAERA,EAAY1G,UAAW,EACvB0G,EAAYC,MAAQ7J,GAAawV,EAAY,WAAWtV,YAG1D,SAASuS,GAAYtL,EAAM6O,GACzB7O,EAAK0N,QAAU5S,GAAc+T,EAAa,UAAU1N,KAAI,SAAC2N,GAAD,MAAc,CACpEC,aAAcpW,GAAgBmW,EAAS,iBACvCE,WAAY,IAAIjS,KAAKpE,GAAgBmW,EAAS,gBAC9CG,SAAUH,EAAQ/V,gBAItB,SAASwS,GAAavL,EAAM4D,GAC1B5D,EAAK5H,SAASyL,SAAW/I,GAAc8I,EAAc,aAAazC,KAChE,SAAC2C,GACC,MAAO,CACLjB,IAAKlK,GAAgBmL,EAAM,OAC3B1O,MAAOuD,GAAgBmL,EAAM,aAMrC,SAAS0H,GAAmBxL,EAAMkP,GAChClP,EAAK5H,SAAS4L,OAASlJ,GAAcoU,EAAY,SAAS/N,KACxD,SAAC+C,GAAD,MAAgB,CACdpK,KAAMnB,GAAgBuL,EAAW,QACjC/S,WAAYwH,GAAgBuL,EAAW,cACvCC,MAAOxL,GAAgBuL,EAAW,SAClCxK,IAAKf,GAAgBuL,EAAW,OAChCpE,OAAQhF,GAAcoJ,EAAW,SAAS/C,KAAI,SAACgO,GAAD,OAC5CxW,GAAgBwW,EAAW,eAMnC,SAAS1D,GAAS3L,EAAQsP,EAAUzE,GAClC,IAAI0E,EAAY,KAwBhB,IArBgB,IAAd1E,GACAnS,GAAa4W,EAAU,UACvBA,EAAS3V,aAAa,YAEtB4V,EAAY,CACVxe,GAAImI,GAAmBoW,EAAU,OAAQjU,IAAKC,MAC9CC,KAAM,YACNjD,SAAU,CACRjH,WAAY6H,GAAmBoW,EAAU,aAAc,IACvDxc,UAAU,e1BrhBU,U0BshBFoG,GAAmBoW,EAAU,aAASlc,IAExDmE,aAAa,EACbE,eAC8D,SAA5DyB,GAAmBoW,EAAU,iBAAkB,WAIrDtP,EAAOvD,KAAK8S,IAGVD,EAASvH,gBAEX,IADA,IAAIyH,EAAe,EACVxH,EAAI,EAAGA,EAAIsH,EAASrH,WAAWzN,OAAQwN,GAAK,EAAG,CACtD,IAAME,EAAQoH,EAASrH,WAAWD,GAEX,aAAnBE,EAAMzP,UAA8C,UAAnByP,EAAMzP,WASpB,UAAnByP,EAAMzP,UACR3G,IAAOyd,GACPA,EAAUjX,SAASxF,UAAU+F,GAAgBqP,EAAO,SAClDA,EAAMjP,aAEY,qBAAnBiP,EAAMzP,UACc,oBAAnByP,EAAMzP,WACRyP,EAAMH,iBAKN0H,GAAYzP,EAAQkI,EAAOsH,GAC3BA,GAAgB,IAJhB1d,IAAOyd,GACPA,EAAU/W,KAAO8W,KASzB,SAASG,GAAYzP,EAAQ0P,EAAaF,GACxC,IAAIG,EAAe,KAkCnB,IA/BmB,IAAjBH,GACA9W,GAAagX,EAAa,UAC1BA,EAAY/V,aAAa,UACzBjB,GAAagX,EAAa,gBAC1BA,EAAY/V,aAAa,kBAEzBgW,EAAe,CACb5e,GAAImI,GAAmBwW,EAAa,OAAQrU,IAAKC,MACjDC,KAAM,eACNjD,SAAU,CACRjH,WAAY6H,GAAmBwW,EAAa,aAAc,IAC1D5c,UAAU,e1BjlBU,U0BklBFoG,GAAmBwW,EAAa,aAAStc,IAE3DH,UAAyD,SAA9C4F,GAAgB6W,EAAa,aACxCvc,gBAAgB,e1BrlBI,U0BslBF+F,GACdwW,EACA,mBACAtc,IAGJmE,aAAa,EACbD,aACiE,SAA/D4B,GAAmBwW,EAAa,iBAAkB,WAIxD1P,EAAOvD,KAAKkT,IAGVD,EAAY3H,gBACd,IAAK,IAAIC,EAAI,EAAGA,EAAI0H,EAAYzH,WAAWzN,OAAQwN,GAAK,EAAG,CACzD,IAAME,EAAQwH,EAAYzH,WAAWD,GAEd,UAAnBE,EAAMzP,UAA2C,aAAnByP,EAAMzP,WAIjB,UAAnByP,EAAMzP,UACR3G,IAAO6d,GACPA,EAAarX,SAASxF,UAAU+F,GAAgBqP,EAAO,SACrDA,EAAMjP,aACoB,gBAAnBiP,EAAMzP,UACf3G,IAAO6d,GACPA,EAAarX,SAASnF,gBAAgB0F,GAAgBqP,EAAO,SAC3DA,EAAMjP,aAEW,qBAAnBiP,EAAMzP,UACa,oBAAnByP,EAAMzP,UAEN3G,IAAO6d,GACPA,EAAanX,KAAOkX,GAEpBE,GAAU5P,EAAQkI,KAQ1B,SAAS0H,GAAU5P,EAAQqP,GAGzB,IAFA,IAAMQ,EAAQ5V,OAAOC,KAAKuE,GAEjBuJ,EAAI,EAAGA,EAAI6H,EAAMrV,OAAQwN,GAAK,EAAG,CACxC,IAAMzM,EAAOsU,EAAM7H,GACb8H,EAAUrR,EAAWlD,GAAMiD,GAEjC,GAAIsR,EAAQvX,eAAe8W,GAAY,CACrC,IAAMlX,EAAQ2X,EAAQnX,YAAY0W,GAGlC,OAFAlX,EAAMK,KAAO6W,OACbrP,EAAOvD,KAAKtE,IAKhB,MAAM,IAAIjH,MAAM,0BAA4Bme,EAAU5W,UAGxD,SAASmT,GAAa5L,EAAQqP,GAC5B,OAAKA,GAID3W,GAAa2W,EAAW,oBAS9B,SAASU,EAAkB/P,EAAQxH,GACjC1G,IAAyB,qBAAlB0G,EAAKC,UAEZ,IAAI2Q,EAAe,EACb4G,EAAK9W,GAAmBV,EAAM,WAAY,IAE1CkM,EAAS,GAGf,GAFAA,EAAO2E,SAAW2G,EAEdxX,EAAKuP,gBACP,IAAK,IAAIC,EAAI,EAAGA,EAAIxP,EAAKyP,WAAWzN,OAAQwN,GAAK,EAAG,CAClD,IAAME,EAAQ1P,EAAKyP,WAAWD,GAE9B,OAAQE,EAAMzP,UACZ,IAAK,YAEH,IAAIwX,EAAYC,GAAmBlQ,EAAQkI,EAD3CkB,GAA8B,GAG9B1E,EAAOjI,KAAKwT,GACZ,MACF,IAAK,mBACHvL,EAAOjI,KAAKsT,EAAkB/P,EAAQkI,IACtC,MACF,IAAK,WACL,IAAK,QAEH,MACF,QACE,MAAM,IAAIhX,MACR,oDAAsDgX,EAAMzP,WAMlEiM,EAAOlK,QAAU,IACnBkK,EAAO2E,SAAW,OAGpB,OAAO3E,EA7CEqL,CAAkB/P,EAFPjH,GAAasW,EAAW,qBAJnC,GAsDX,SAASa,GAAmBlQ,EAAQxH,EAAM4Q,GACxCtX,IAAyB,cAAlB0G,EAAKC,UAEZ,IAAM0X,EAAkBtX,GAAgBL,EAAM,oBACxC4X,EAAcpQ,EAAOL,QACzB,SAAC8E,GAAD,OAAOA,EAAEnM,SAASjH,aAAe8e,KAEnC,GAA2B,IAAvBC,EAAY5V,OACd,MAAM,IAAItJ,MACR,yEACEif,GAGN,IAAME,EAAaD,EAAY,GAE3BzV,EAAa9B,GAAgBL,EAAM,YACjCvH,EAAUe,EAAI2I,GAAY1J,QAE5BkY,EAAsBjQ,GACxBV,EACA,uBACA,OAEEoC,EAAW0V,GACbrf,EACA4H,GAAgBL,EAAM,YACtB6X,GAGE9U,EAAOrC,GAAmBV,EAAM,YAAQpF,GAExCyY,EAAW0E,SAASrX,GAAmBV,EAAM,oBAAgBpF,IAQjE,MALmB,WAAfuH,GAA+C,YAApB0V,EAAW9U,OACxCZ,EAAa,YACbC,EAAW4V,OAAO5V,IAGb,CACL7J,GAAIsK,IAAKC,KACT4N,QAASmH,EAAWtf,GACpB4J,WAAYA,EACZC,SAAUA,EACVuO,oBAAqBA,EACrB5N,KAAMA,EACN6N,aAAcyC,GAAsBzC,EACpCqH,YAAY,GAIhB,SAASH,GAAoBrf,EAAS2J,EAAUzC,GAC9C,OAAQlH,GACN,IAAK,OACH,MAAoB,SAAb2J,EACT,IAAK,UAEH,OADA9I,IAAO,CAAC,GAAI,KAAM,QAAS,OAAQ,SAASX,SAASyJ,IAC9CA,EACT,IAAK,OACH,OAAOoC,IAAOpC,EAAU,cAC1B,IAAK,SACH,OAAOvK,OAAOuK,GAChB,IAAK,WACH,OAAIA,IAAa/I,EACKsG,EAAMG,SAASlD,QAAQoP,MACzC,SAACsC,GAAD,OAAYA,EAAOxR,QAAUsF,KAEZtF,MAEZsF,EAIX,IAAK,SACH,OAAOA,EACT,QACE,MAAM,IAAI1J,MAAM,0CAA4CD,IAIlE,SAAS6a,GAAgB9L,EAAQqP,EAAWxD,GAC1C,OAAKwD,GAID3W,GAAa2W,EAAW,6BAS9B,SAASqB,EAAqB1Q,EAAQxH,EAAMqT,GAC1C/Z,IAAyB,8BAAlB0G,EAAKC,UAEZ,IAAI2Q,EAwCN,SAAkCuH,EAAW9E,GAC3C,IAAM+E,EAAgBD,EAAU9E,GAAUvT,SAAShF,SAAS+N,KAAI,SAACwP,GAC/D,OAAOA,EAAMzH,gBAEf,OAAO0H,KAAK7c,IAAL,MAAA6c,KAAI,YAAQF,IA5CAG,CAAyB/Q,EAAQ6L,GAC9CmE,EAAK9W,GAAmBV,EAAM,WAAY,IAE1CkM,EAAS,GAGf,GAFAA,EAAO2E,SAAW2G,EAEdxX,EAAKuP,gBACP,IAAK,IAAIC,EAAI,EAAGA,EAAIxP,EAAKyP,WAAWzN,OAAQwN,GAAK,EAAG,CAClD,IAAME,EAAQ1P,EAAKyP,WAAWD,GAE9B,OAAQE,EAAMzP,UACZ,IAAK,YAEH,IAAIwX,EAAYe,GAAsBhR,EAAQkI,EAD9CkB,GAA8B,GAG9B1E,EAAOjI,KAAKwT,GACZ,MACF,IAAK,4BACHvL,EAAOjI,KAAKiU,EAAqB1Q,EAAQkI,EAAO2D,IAChD,MACF,IAAK,WACL,IAAK,QAEH,MACF,QACE,MAAM,IAAI3a,MACR,6DACEgX,EAAMzP,WAMdiM,EAAOlK,QAAU,IACnBkK,EAAO2E,SAAW,OAGpB,OAAO3E,EA9CEgM,CAAqB1Q,EAFVjH,GAAasW,EAAW,6BAEKxD,GANxC,GA8DX,SAASmF,GAAsBL,EAAWnY,EAAM4Q,GAC9CtX,IAAyB,cAAlB0G,EAAKC,UAEZ,IACMwY,EAAoBtY,GADJI,GAAaP,EAAM,iBACWS,aAAa,GAEjE,GAAIgY,EAAkB7E,MAAO,CAAC,IACpBA,EAAU6E,EAAV7E,MACR,MAAM,IAAIlb,MAAM,oCAAsCkb,GARI,IAWpDlM,EAAiB+Q,EAAjB/Q,KAAMF,EAAWiR,EAAXjR,OAERmQ,EAAkBtX,GAAgBL,EAAM,oBACxC4X,EAAcpQ,EAAOL,QACzB,SAAC8E,GAAD,OAAOA,EAAEnM,SAASjH,aAAe8e,KAEnC,GAA2B,IAAvBC,EAAY5V,OACd,MAAM,IAAItJ,MACR,yEACEif,GAGN,IAAME,EAAaD,EAAY,GAE3BzV,EAAa9B,GAAgBL,EAAM,YACjCvH,EAAUe,EAAI2I,GAAY1J,QAE5BkY,EAAsBjQ,GACxBV,EACA,uBACA,OAGEoC,EAAW0V,GACbrf,EACA4H,GAAgBL,EAAM,YACtB6X,GAGExE,EAAW0E,SAASrX,GAAmBV,EAAM,oBAAgBpF,IAOjE,MALmB,WAAfuH,GAA+C,YAApB0V,EAAW9U,OACxCZ,EAAa,YACbC,EAAW4V,OAAO5V,IAGb,CACL7J,GAAIsK,IAAKC,KACT4N,QAASmH,EAAWtf,GACpB4J,WAAYA,EACZC,SAAUA,EACVuO,oBAAqBA,EACrBjJ,KAAMA,EACNF,OAAQA,EACRoJ,aAAcyC,GAAsBzC,EACpCqH,YAAY,GAIhB,SAAS1E,GAAuB3K,EAAuBjJ,EAAOkX,GAC5D,QAAkBjc,IAAdic,EACF,MAAO,GAQT,OAAI3W,GAAa2W,EAAW,uBAEHrU,GADLjC,GAAasW,EAAW,uBACM,iBAEVhO,KAAI,SAAC2M,GACzC,IAVyBje,EAUnBiW,EAAoBnN,GAAgBmV,EAAS,QAC7CjI,GAXmBhW,EAWmBiW,EAVxB5E,EAAsBoD,MAAK,SAACY,GAAD,OAAOA,EAAErV,OAASA,KAC9CgB,IAUnB,MAAO,CACLA,GAAIsK,IAAKC,KACTyK,gBAAiBA,EACjBC,kBAAmBA,MAMhB,GAIX,SAASgG,GAAaxK,EAAarJ,EAAOkX,GACxC,QAAkBjc,IAAdic,EACF,MAAO,GAGT,IAAM6B,EAAY,SAACnhB,GACjB,IAAM0R,EAAMD,EAAYgD,MAAK,SAACY,GAAD,OAAOA,EAAErV,OAASA,KAE/C,OADA+B,IAAO2P,GACAA,EAAI1Q,IAGb,GAAI2H,GAAa2W,EAAW,aAAc,CACxC,IAAM8B,EAAYpY,GAAasW,EAAW,aAEpC+B,EAAYpW,GAAcmW,EAAW,YAGrCE,EAFiBrW,GAAcmW,EAAW,OAEV9P,KAAI,SAAC2M,GACzC,IAAMtT,EAAU7B,GAAgBmV,EAAS,QACnC3I,EAAQ6L,EAAUxW,GAClB2O,EAAW5K,EAAWtG,EAAMoD,MAAM3H,oBAAoB,GAC5D,MAAO,CACL7C,GAAIsK,IAAKC,KACT+J,MAAOA,EACP1K,WAAY0O,EAAStY,GACrB6J,SAAUmP,GAAgBV,EAASpY,QAASkH,GAC5C0C,WAAW,MAITyW,EAAcF,EAAU/P,KAAI,SAACkQ,GACjC,IAAM7W,EAAU7B,GAAgB0Y,EAAU,OACpClM,EAAQ6L,EAAUxW,GAClBC,EAAa9B,GAAgB0Y,EAAU,YAEvC3W,EAAW0V,GADDte,EAAI2I,GAAY1J,QAG9B4H,GAAgB0Y,EAAU,YAC1BpZ,GAGF,MAAO,CACLpH,GAAIsK,IAAKC,KACT+J,MAAOA,EACP1K,WAAYA,EACZC,SAAUA,EACVC,WAAW,MAIf,OAAOwW,EAAeG,OAAOF,GAE7B,MAAO,GAIX,SAASrF,GAAkBtK,EAAkBxJ,EAAOkX,GAClD,QAAkBjc,IAAdic,EACF,MAAO,GAQT,OAAI3W,GAAa2W,EAAW,mBAEHrU,GADLjC,GAAasW,EAAW,mBACM,OAEVhO,KAAI,SAAC2M,GACzC,IAVeje,EAUT2K,EAAU7B,GAAgBmV,EAAS,QACnC3I,GAXStV,EAWS2K,EAVdiH,EAAiB6C,MAAK,SAACY,GAAD,OAAOA,EAAErV,OAASA,KACzCgB,IAUT,MAAO,CACLA,GAAIsK,IAAKC,KACT+J,MAAOA,EACP3K,QAASA,MAMN,GAIX,SAASwR,GAAuBlM,EAAQqP,GACtC,OAAI3W,GAAa2W,EAAW,uBAY9B,SAAoCrP,EAAQxH,GAC1C1G,IAAyB,wBAAlB0G,EAAKC,UAEZ,IAAMiM,EAAS,GAEf,GAAIlM,EAAKuP,gBACP,IAAK,IAAIC,EAAI,EAAGA,EAAIxP,EAAKyP,WAAWzN,OAAQwN,GAAK,EAAG,CAClD,IAAME,EAAQ1P,EAAKyP,WAAWD,GAE9B,GAAuB,aAAnBE,EAAMzP,UAA8C,UAAnByP,EAAMzP,SAA3C,CAIA,IAAMmQ,EAAwB/P,GAC5BqP,EACA,2BAEIW,EAAmBhQ,GAAgBqP,EAAO,sBAEhD,GAAuB,uBAAnBA,EAAMzP,SAOR,MAAM,IAAIvH,MACR,uDACEgX,EAAMzP,UARViM,EAAOjI,KAAK,CACV1L,GAAIsK,IAAKC,KACTsN,sBAAuBA,EACvBC,iBAAkBA,KAW1B,OAAOnE,EAxCE+M,CAA2BzR,EALHjH,GAC7BsW,EACA,wBAKK,K,iCCzjCX,wIAC2B/e,ibAAYohB,4BADhC,IAIMC,EAAc,CACzBC,QALqBthB,kDAMrBuhB,QAAS,IACTC,iBAAiB,GAINC,EAAwB,IAExBC,EAAmB,GAEnBC,EAAe,I,gCCf5B,+EAEaC,EAAmB,CAC9BC,GAAI,CACFC,QAAS,2BACTC,iCAAkC,mBAClCC,6BAA8B,cAC9BC,4BAA6B,aAC7BC,iBAAkB,WAClBC,6BAA8B,QAC9BC,iCAAkC,UAClCC,4BAA6B,UAC7BC,mCAAoC,KACpCC,sBAAuB,OACvBC,mBAAoB,KACpBC,qBAAsB,QACtBC,wBAAyB,YACzBC,iCAAkC,aAClCC,gCAAiC,WACjCC,oBAAqB,OACrBC,yBAA0B,YAC1BC,oBAAqB,MACrBC,gCAAiC,kBACjCC,4BAA6B,cAC7BC,oBAAqB,UACrBC,uBAAwB,iBACxBC,gCAAiC,sBACjCC,yBAA0B,eAC1BC,kBAAmB,YACnBC,gCAAiC,eACjCC,8BAA+B,aAC/BC,cAAe,QACfC,qBAAsB,eACtBC,4BAA6B,iBAC7BC,2BAA4B,cAC5BC,4BAA6B,8BAC7BC,uBAAwB,yBACxBC,0BAA2B,oCAC3BC,2BAA4B,6BAC5BC,mBAAoB,qBACpBC,8BAA+B,wBAC/BC,yBAA0B,aAC1BC,sBAAuB,QACvBC,2BAA4B,iBAC5BC,6BAA8B,mBAC9BC,kBAAmB,OACnBC,oBAAqB,SACrBC,gBAAiB,UACjBC,eAAgB,SAChBC,yBAA0B,QAC1BC,yBAA0B,OAC1BC,0BAA2B,MAC3BC,2BAA4B,aAC5BC,sCAAuC,oBACvCC,iBAAkB,WAClBC,uCAAwC,aACxCC,0CAA2C,iBAC3CC,gCAAiC,iBACjCC,qCAAsC,oBACtCC,oCAAqC,WACrCC,mCAAoC,UACpCC,qCAAsC,mBACtCC,8CAA+C,6BAC/CC,yBAA0B,eAC1BC,oBAAqB,kBACrBC,cAAe,QACfC,iBAAkB,WAClBC,iBAAkB,WAClBC,oBAAqB,cACrBC,wBAAyB,kBACzBC,cAAe,QACfC,uBAAwB,QACxBC,oBAAqB,KACrBC,WAAY,KACZC,iBAAkB,WAClBC,kBAAmB,cACnBC,yBAA0B,uBAC1BC,0BAA2B,qBAC3BC,gCAAiC,2BACjCC,+BAAgC,0BAChCC,8BAA+B,wBAC/BC,kCAAmC,6BACnCC,kCAAmC,6BACnCC,yBAA0B,qBAC1BC,8BAA+B,yBAC/BC,eAAgB,UAChBC,gBAAiB,UACjBC,qBAAsB,eACtBC,qBAAsB,eACtBC,qBAAsB,eACtBC,iCAAkC,uBAClCC,gBAAiB,UACjBC,iCAAkC,2BAClCC,0BAA2B,oBAC3BC,uBAAwB,qCACxBC,sBAAuB,gBACvBC,kBAAmB,2BACnBC,gBAAiB,UACjBC,cAAe,QACfC,4BAA6B,sBAC7BC,6BAA8B,uBAC9BC,oBAAqB,cACrBC,iBAAkB,WAClBC,eAAgB,SAChBC,iBAAkB,WAClBC,yBAA0B,mBAC1BC,eAAgB,SAChBC,cAAe,QACfC,aAAc,mBACdC,qBAAsB,cACtBC,yBAA0B,cAC1BC,iBAAkB,WAClBC,iBAAkB,WAClBC,eAAgB,SAChBC,mCAAoC,8BACpCC,oCAAqC,+BACrCC,mCAAoC,8BACpCC,4BAA6B,sBAC7BC,yBAA0B,mBAC1BC,qBAAsB,eACtBC,6BAA8B,uBAC9BC,iBAAkB,YAClBC,cAAe,QACfC,gBAAiB,UACjBC,YAAa,MACbC,oBAAqB,cACrBC,6BAA8B,uBAC9BC,sBAAuB,gBACvBC,mBAAoB,cACpBC,aAAc,QACdC,sBAAuB,gBACvBC,wBAAyB,kBACzBC,gBAAiB,UACjBC,mBAAoB,aACpBC,qBAAqB,eACrBC,iBAAkB,WAClBC,oBAAqB,cACrBC,wBAAyB,SACzBC,oBAAqB,SACrBC,mBAAoB,QACpBC,0BAA2B,eAC3BC,4CACE,2EACFC,+BAAgC,oBAChCC,mBAAoB,QACpBC,0BAA2B,eAC3BC,yBAA0B,cAC1BC,kBAAmB,OACnBC,mBAAoB,QACpBC,gBAAiB,UACjBC,uBAAwB,6BACxBC,wBAAyB,8BACzBC,wBAAyB,kBACzBC,sBAAuB,gBACvBC,0BAA2B,oBAC3BC,wBAAyB,kBACzBC,2BAA4B,qBAC5BC,cAAe,QACfC,iBAAiB,YAEnB,QAAS,CACPzJ,QAAS,0CACTC,iCAAkC,2BAClCC,6BAA8B,qBAC9BC,4BAA6B,eAC7BC,iBAAkB,eAClBC,6BAA8B,eAC9BC,iCAAkC,eAClCC,4BAA6B,eAC7BC,mCAAoC,2BACpCC,sBAAuB,eACvBC,mBAAoB,SACpBC,qBAAsB,eACtBC,wBAAyB,eACzBC,iCAAkC,qBAClCC,gCAAiC,gBACjCC,oBAAqB,qBACrBC,yBAA0B,qBAC1BC,oBAAqB,eACrBC,gCAAiC,2BACjCC,4BAA6B,2BAC7BC,oBAAqB,eACrBC,uBAAwB,2BACxBC,gCAAiC,2BACjCC,yBAA0B,2BAC1BC,kBAAmB,iCACnBC,gCAAiC,iCACjCC,8BAA+B,2BAC/BC,cAAe,eACfC,qBAAsB,qBACtBC,4BAA6B,2BAC7BC,2BAA4B,2BAC5BC,4BAA6B,mDAC7BC,uBAAwB,uCACxBC,0BAA2B,oDAC3BC,2BAA4B,uCAC5BC,mBAAoB,iCACpBC,8BAA+B,uCAC/BC,yBAA0B,2BAC1BC,sBAAuB,2BACvBC,2BAA4B,2BAC5BC,6BAA8B,2BAC9BC,kBAAmB,eACnBC,oBAAqB,eACrBC,gBAAiB,eACjBC,eAAgB,eAChBC,yBAA0B,qBAC1BC,yBAA0B,qBAC1BC,0BAA2B,2BAC3BC,2BAA4B,2BAC5BC,sCAAuC,iCACvCC,iBAAkB,eAClBC,uCAAwC,eACxCC,0CAA2C,uCAC3CC,gCAAiC,2BACjCC,qCAAsC,iCACtCC,oCAAqC,iCACrCC,mCAAoC,eACpCC,qCAAsC,2BACtCC,8CAA+C,uCAC/CC,yBAA0B,2BAC1BC,oBAAqB,2BACrBE,iBAAkB,qBAClBD,cAAe,2BACfE,iBAAkB,eAClBC,oBAAqB,eACrBC,wBAAyB,2BACzBC,cAAe,eACfC,uBAAwB,gBACxBC,oBAAqB,gBACrBC,WAAY,SACZC,iBAAkB,gBAClBC,kBAAmB,gBACnBC,yBAA0B,uCAC1BC,0BAA2B,2BAC3BC,gCAAiC,kCACjCC,+BAAgC,uCAChCC,8BAA+B,2BAC/BC,kCAAmC,uCACnCC,kCAAmC,uCACnCC,yBAA0B,2BAC1BC,8BAA+B,wCAC/BC,eAAgB,sBAChBC,gBAAiB,qBACjBC,qBAAsB,2BACtBC,qBAAsB,qBACtBC,qBAAsB,qBACtBC,iCAAkC,iCAClCE,iCAAkC,uCAClCC,0BAA2B,uCAC3BC,uBAAwB,mDACxBC,sBAAuB,2BACvBJ,gBAAiB,eACjBK,kBAAmB,iDACnBC,gBAAiB,eACjBC,cAAe,eACfC,4BAA6B,uCAC7BC,6BAA8B,6CAC9BC,oBAAqB,qBACrBC,iBAAkB,qBAClBC,eAAgB,qBAChBC,iBAAkB,eAClBC,yBAA0B,2BAC1BC,eAAgB,eAChBC,cAAe,eACfC,aAAc,2BACdC,qBAAsB,2BACtBC,yBAA0B,2BAC1BC,iBAAkB,qBAClBC,iBAAkB,2BAClBC,eAAgB,eAChBC,mCAAoC,sEACpCC,oCAAqC,sEACrCC,mCAAoC,6CACpCC,4BAA6B,2BAC7BC,yBAA0B,2BAC1BC,qBAAsB,2BACtBC,6BAA8B,2BAC9BC,iBAAkB,gBAClBC,cAAe,2BACfC,gBAAiB,qBACjBC,YAAa,eACbC,oBAAqB,eACrBC,6BAA8B,2BAC9BC,sBAAuB,iCACvBC,mBAAoB,2BACpBC,aAAc,eACdC,sBAAuB,qBACvBO,wBAAyB,eACzBD,oBAAqB,2BACrBD,iBAAkB,gBAClBJ,wBAAyB,2BACzBC,gBAAiB,eACjBC,mBAAoB,2BACpBC,qBAAsB,eACtBI,oBAAqB,qBACrBC,mBAAoB,UACpBC,0BAA2B,2BAC3BC,4CACE,sGACFC,+BAAgC,2BAChCC,mBAAoB,qBACpBC,0BAA2B,2BAC3BC,yBAA0B,2BAC1BC,kBAAmB,eACnBC,mBAAoB,eACpBC,gBAAiB,eACjBC,uBAAwB,uCACxBC,wBAAyB,mCACzBC,wBAAyB,uCACzBC,sBAAuB,uCACvBC,0BAA0B,uCAC1BC,wBAAyB,uCACzBC,2BAA4B,uCAC5BC,cAAe,eACfC,iBAAkB,uBAITC,EA/Tb,OA+T+BC,EAAMC,cAAc9J,EAAiB,W,iCC/TpE,gFAGM+J,EAAYC,aAAW,kBAAkB,CAC7CC,KAAM,CACJhlB,MAAO,OACPilB,OAAQ,QAGVC,YAAa,CACXC,QAAQC,EAPiB,EAAGA,SAOZ,EAAG,EAAG,EAAG,QAIhBC,EAAY,SAACC,GAAW,IAAD,EAC5BC,EAAUT,IAEhB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,YACGQ,QADH,IACGA,GADH,UACGA,EAAO5b,aADV,aACG,EAAcQ,KAAI,SAAC8a,GAClB,OACE,yBACEQ,UAAWD,EAAQP,KACnBpZ,IAAKoZ,EAAKprB,GACV6I,IAAKuiB,EAAKtU,IACV+U,IAAI,aAKZ,kBAAC,IAAD,CAAYC,QAAQ,YAAYF,UAAWD,EAAQL,aAAnD,OACGI,QADH,IACGA,OADH,EACGA,EAAOJ,gB,k1CCeHvW,EAAM,SAAC+B,EAAKnB,GACvB,OAAOoW,IACJhX,IAAI+B,EA9Bc,SAACnB,GACtB,IAAIqW,EAAc,GAoBlB,OAlBIrW,IACFqW,EAAc9iB,OAAOC,KAAKwM,GACvBrF,KAAI,SAAC0B,GACJ,IAAI2B,EAAM,UAAM6D,mBAAmBxF,GAAzB,KAUV,OATIgG,MAAMC,QAAQtC,EAAK3D,IACrB2B,GAAUgC,EAAK3D,GACZ1B,KAAI,SAAC2b,GACJ,MAAM,GAAN,OAAUzU,mBAAmByU,OAE9Bpd,KAJO,UAIC,IAAMmD,EAAM,MAEvB2B,GAAM,UAAO6D,mBAAmB7B,EAAK3D,KAEhC2B,KAER9E,KAAK,MAGNmd,EACI,IAAN,OAAWA,GAGNA,EAKME,CAAevW,GADrB,2BAEAiL,KAFA,IAGHuL,aAAclL,IAAiBmL,MAAK,SAACC,GAAD,OAAavV,EAAIxV,WAAW+qB,MAC5D,OACA,UAELC,OAAM,YAA4B,IAAzBhR,EAAwB,EAAxBA,QAASiR,EAAe,EAAfA,SACjB,OAAwB,MAApBA,EAASrd,QAAsC,MAApBqd,EAASrd,OAC/Bsd,QAAQC,OAAO,CACpBC,KAAMH,EAASrd,OACfoM,QAASiR,EAAS5W,KAAK0F,MAAMC,UAIT,MAApBiR,EAASrd,OACJsd,QAAQC,OAAO,CACpBC,KAAMH,EAASrd,OACfoM,QAAS,mFAINkR,QAAQC,OAAO,CAAEC,KAAMH,EAASrd,OAAQoM,gBAIxCqR,EAAO,SAAC7V,EAAKnB,GACxB,IAAMiX,EAAc1L,IAAakL,MAAK,SAACC,GAAD,OAAavV,EAAIxV,WAAW+qB,MAC5DQ,EAzEY,SAAClX,GAA+B,IAAzBiX,EAAwB,wDACjD,GAAIA,EAAa,CACf,IAAME,EAAW,IAAIC,SAQrB,OAPA7jB,OAAOC,KAAKwM,GAAMjN,SAAQ,SAACsJ,GACrBgG,MAAMC,QAAQtC,EAAK3D,IACrB2D,EAAK3D,GAAKtJ,SAAQ,SAACuK,GAAD,OAAU6Z,EAASE,OAAOhb,EAAKiB,MAEjD6Z,EAASE,OAAOhb,EAAK2D,EAAK3D,OAGvB8a,EAEP,OAAOG,KAAKC,UAAUvX,GA6DPwX,CAAYxX,EAAMiX,GAEnC,OAAOb,IACJY,KAAK7V,EAAK+V,EADN,2BAEAjM,KAFA,IAGHwM,QAAUR,EAAuD,GAAzC,CAAE,eAAgB,uBAE3CN,OAAM,YAA4B,IAAzBhR,EAAwB,EAAxBA,QAASiR,EAAe,EAAfA,SACjB,OAAwB,MAApBA,EAASrd,QAAsC,MAApBqd,EAASrd,OAC/Bsd,QAAQC,OAAO,CACpBC,KAAMH,EAASrd,OACfoM,QAASiR,EAAS5W,KAAK0F,MAAMC,UAIT,MAApBiR,EAASrd,OACJsd,QAAQC,OAAO,CACpBC,KAAMH,EAASrd,OACfoM,QAAS,mFAINkR,QAAQC,OAAO,CAAEC,KAAMH,EAASrd,OAAQoM,gBChGxC+R,EAAQ,SAAC1X,GACpB,OAAOgX,EAAK,aAAchX,IAGf2X,EAAS,WACpB,OAAOvY,EAAI,oBAGAwY,EAAa,WACxB,OAAOxY,EAAI,iBCTAyY,EAAqB,SAAC7X,GACjC,OAAOgX,EACL,iEACAhX,ICHS8X,EAAqB,SAAC9X,GACjC,OAAOZ,EAAI,qBAAsBY,IAGtB+X,EAA4B,SAAC/X,GACxC,OAAOZ,EAAI,4BAA6BY,IAG7BgY,EAAiC,SAAChY,GAC7C,OAAOZ,EAAI,iCAAkCY,IAGlCiY,EAAgC,SAACjY,GAC5C,OAAOgX,EAAK,iCAAkChX,ICbnCkY,EAAiB,WAC5B,OAAO9Y,EAAI,mBAGA+Y,EAAgB,SAACnY,GAC5B,OAAOgX,EAAK,iBAAkBhX,ICLnBoY,EAA4B,WACvC,OAAOhZ,EAAI,gC,yBCCAiZ,EAAkB,SAACrY,GAC9B,OAAOZ,EAAI,kBAAmBY,IAGnBsY,EAAkB,SAACtY,GAC9B,OAAOZ,EAAI,iBAAkBY,IAGlBuY,EAA4B,SAACvY,GACxC,OAAOZ,EAAI,4BAA6BY,IAG1C,SAASwY,EAAWC,EAAUC,GAC5B,GAAIvZ,IAAEmD,QAAQmW,GACZ,OAAOA,EAAS3N,OAAO4N,GAIpB,IAAMC,EAAoC,SAACC,EAAUjrB,EAAMkrB,GAKhE,IAJA,IAAMC,EAAOC,IAAMC,WAAWF,KAC1BG,EAAW,GAEXC,EAAa9O,KAAK+O,KAAKP,EAAS9kB,OAASnG,GACpC2T,EAAI,EAAGA,EAAI4X,EAAY5X,IAAK,CACnC,IAAI8X,EAAK,CAAEC,WAAYT,EAASU,MAAMhY,EAAI3T,GAAO2T,EAAI,GAAK3T,KAC1D,OAAIkrB,QAAJ,IAAIA,OAAJ,EAAIA,EAAUU,WACZH,EAAE,QAAcP,EAASU,SAE3BN,EAASljB,KAAKwiB,EAA0Ba,IAG1C,GAAwB,IAApBH,EAASnlB,OAAc,CAEzB,IAAM6R,EAA6B,QAAf,OAAJmT,QAAI,IAAJA,OAAA,EAAAA,EAAMU,MAAM,IAAc,qJAA+B,qEAEzE,OAAO3C,QAAQC,OAAO,CAAEnR,QAASA,IAGnC,IAAI3H,EAAS,GACTyb,EAAkB,GAEtB,OAAO5C,QAAQ6C,WAAWT,GAAUU,MAAK,SAACC,GAOxC,GANAA,EAAQ7mB,SAAQ,SAACiL,GACO,cAAlBA,EAAOzE,QACTkgB,EAAgB1jB,KAAKiI,EAAOpP,UAID,IAA3B6qB,EAAgB3lB,OAAc,CAChC,IAAM6R,EAA6B,QAAf,OAAJmT,QAAI,IAAJA,OAAA,EAAAA,EAAMU,MAAM,IAAc,qJAA+B,qEAEzE,OAAO3C,QAAQC,OAAO,CAAEnR,QAASA,IAEjC,IAAK,IAAIrE,EAAI,EAAGA,EAAImY,EAAgB3lB,OAAQwN,IAC1CnC,IAAE0a,UAAU7b,EAAQyb,EAAgBnY,GAAGtB,KAAMwY,GAG/C,OAAO3B,QAAQiD,QAAQ9b,OAKhB+b,EAAiC,SAAC/Z,GAC7C,OAAOgX,EAAK,+BAAgChX,IAGjCga,EAA4B,SAACha,GACxC,OAAOgX,EAAK,yBAA0BhX,IAG3Bia,EAAiB,WAC5B,OAAO7a,EAAI,qBAGA8a,EAAyC,SAACla,GACrD,OAAOgX,EAAK,iCAAkChX,IAGnCma,EAAsC,SAACna,GAClD,OAAOZ,EAAI,iCAAkCY,IAGlCoa,EAAsB,SAACpa,GAClC,OAAOgX,EAAK,yBAA0BhX,ICrF3Bqa,EAAqB,SAACra,GACjC,OAAOZ,EAAI,oBAAqBY,IAGrBsa,EAAwB,SAACta,GACpC,OAAOZ,EAAI,mBAAoBY,IAGpBua,EAAc,SAACva,GAC1B,OAAOZ,EAAI,mBAAoBY,IAGpBwa,EAAkB,SAACxa,GAC9B,OAAOgX,EAAK,2BAA4BhX,IAG7Bya,EAAW,SAACza,GACvB,OAAOZ,EAAI,yBAA0BY,IAG1B0a,EAAY,SAAC1a,GACxB,OAAOgX,EAAK,kEAEVhX,IAIS2a,EAAsB,SAAC3a,GAClC,OAAOZ,EAAI,8BAA+BY,IAG/B4a,EAAiB,SAAC5a,GAC7B,OAAOZ,EAAI,qCAAsCY,IAGtC6a,EAA0B,SAAC7a,GACtC,OAAOgX,EAAK,+BAAgChX,IChCjC8a,EAAiB,SAACC,GAC7B,IAAI1wB,EAAuB,IAAlB0wB,EAAOjnB,OAAe,KAAOinB,EAASA,EAC/C,OAAO3b,EAAI,iCAAD,OAAkC/U,KAGjC2wB,EAAsB,WAAc,IAAbhb,EAAY,uDAAP,GACnCmB,EAAM,yBAKV,OAJAnB,EAAKjN,SAAQ,SAACuK,EAAM2d,GAElB9Z,IAAgB,IAAR8Z,EAAU,IAAI,IAAI,UAAnB,UAAkC3d,GAAlC,OAAyC0C,EAAKlM,OAAO,IAAImnB,EAAM,IAAI,OAErE7b,EAAI+B,IAGA+Z,EAAa,SAAClb,GACzB,OAAOgX,EAAK,mBAAoBhX,IAGrBmb,EAAkB,SAACC,EAAO/wB,EAAG2V,GACxC,OAAOgX,EAAK,eAAD,OAAgB3sB,EAAhB,YAAsB+wB,EAAtB,iBAAqC9D,KAAKC,UAAUvX,MCvBpDqb,EAAiB,SAACrb,GAC7B,OAAOgX,EAAK,uCAAwChX,IAGzCsb,EAAoB,WAC/B,OAAOtE,EAAK,qCCLDuE,EAAgB,WAC3B,OAAOnc,EAAI,yBAGAoc,EAAc,SAACnxB,GAC1B,OAAO+U,EAAI,gCAAiC,CAAE/U,S,kBCPhDoxB,EAAOC,QAAU,8mI,kBCAjBD,EAAOC,QAAU,sxI,kBCAjBD,EAAOC,QAAU,sgE,2CCAXC,EAAe,GCAfA,EAAerE,KAAKsE,MAAMC,OAAOC,aAAaC,QAAQ,SCAtDC,EAAW,G,OCEXL,EAAe,GCFfA,EAAe,GCAfA,EAAe,GCAfM,EAAW,GCAXN,EAAe,GCAfA,EAAe,GCAfA,EAAe,GCAfA,EAAe,GCAfA,EAAe,GCAfA,EAAe,GCAfA,EAAe,GCAfA,EAAe,GCAfA,EAAe,GCAfA,EAAe,GCAfA,EAAe,GCAfA,EAAe,GCAfA,EAAe,CACnBO,eAAgB,SAChBC,iBAAkB,SAClBC,iBAAkB,SAClBC,mBAAoB,SACpBC,eAAgB,U,QCLZX,EAAe,GCAfA,EAAe,CACnBY,SAAU,SCDNZ,EAAe,GCAfA,EAAe,G,QCEfA,EAAe,GCFfA,EAAe,GCmBNa,MAnBf,WAA8C,IAArBC,EAAoB,uDAAZ,GAAIrB,EAAQ,uCACnCsB,EAAYtB,EAAZsB,QACR,OAAQtB,EAAOvmB,MACb,IAAK,UACH,OAAO,2BACF4nB,GADL,IAEEE,0BAA2BF,EAAME,2BAErC,IAAK,YACH,OAAO,2BACFF,GADL,IAEEG,sBAAuBH,EAAMG,qBAC7BC,0BAA2BH,IAE/B,QACE,OAAOD,ICfPd,EAAe,GCAfA,EAAe,GCAfA,EAAe,GCAfA,EAAe,G,SCsCfmB,EAAaC,YAAgB,CACjCC,W/BrCa,WAAmC,IAAlCP,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,eAAiB,IACZmoB,EAAeN,EAAfM,WACR,OAAOA,EAAU,2BAAQP,GAAUO,GAAeP,EAEpD,QACE,OAAOA,I+B8BXQ,MCxCa,WAAoC,IAAnCR,EAAkC,uDAA1B,GAA0B,yCAApB5nB,EAAoB,EAApBA,KAAM6nB,EAAc,EAAdA,QAClC,OAAQ7nB,GACN,IAAK,YACH,OAAO6nB,EACT,QACE,OAAOD,IDoCX3D,K9BvCa,WAA8C,IAA7C2D,EAA4C,uDAApCd,EAAoC,yCAApB9mB,EAAoB,EAApBA,KAAM6nB,EAAc,EAAdA,QAC5C,OAAQ7nB,GACN,IAAK,WACH,OAAO6nB,EACT,QACE,OAAOD,I8BmCXS,a7BxCa,WAA0C,IAAzCT,EAAwC,uDAAhCT,EAAgC,yCAApBnnB,EAAoB,EAApBA,KAAM6nB,EAAc,EAAdA,QACxC,OAAQ7nB,GACN,IAAK,oBACH,OAAO,eAAK6nB,GACd,IAAK,uBAAL,IAEIS,EAKET,EALFS,UACAC,EAIEV,EAJFU,QACAC,EAGEX,EAHFW,WACAC,EAEEZ,EAFFY,aACAC,EACEb,EADFa,SAEIC,EAAQ,eAAQf,GA6BtB,OA5BKe,EAASL,KACZK,EAASL,GAAa,IAGnBK,EAASL,GAAWC,KACvBI,EAASL,GAAWC,GAAW,IAG5BI,EAASL,GAAWC,GAASC,KAChCG,EAASL,GAAWC,GAASC,GAAc,IAI3CG,EAASL,GAAWC,GAASC,GAAY5G,MACvC,SAAChR,GAAD,OAAOA,EAAEpc,OAASi0B,KAGpBE,EAASL,GAAWC,GAASC,GAAYtqB,SAAQ,SAACuK,GAC5CA,EAAKjU,OAASi0B,IAChBhgB,EAAKigB,SAAWA,MAIpBC,EAASL,GAAWC,GAASC,GAAYtnB,KAAK,CAC5C1M,KAAMi0B,EACNC,SAAUA,IAGPC,EACT,QACE,OAAOf,I6BFXtF,SzBzCa,WAA0C,IAAzCsF,EAAwC,uDAAhCR,EAAgC,yCAApBpnB,EAAoB,EAApBA,KAAM6nB,EAAc,EAAdA,QACxC,OAAQ7nB,GACN,IAAK,kBACH,MAAO,GACT,IAAK,gBACH,OAAO6nB,EACT,QACE,OAAOD,IyBmCXgB,UxB1Ca,WAA8C,IAA7ChB,EAA4C,uDAApCd,EAAoC,yCAApB9mB,EAAoB,EAApBA,KAAM6nB,EAAc,EAAdA,QAC5C,OAAQ7nB,GACN,IAAK,mBAAL,IACU6oB,EAAwChB,EAAxCgB,cAAeC,EAAyBjB,EAAzBiB,UAAW1T,EAAcyS,EAAdzS,UAC5B2T,EAAW,GACXC,EAAY,GAKlB,OAJAA,EAAUF,GAAa1T,EACvB2T,EAASF,GAAiBG,EAGnB,2BAAKpB,GAAUmB,GACxB,IAAK,iBAAL,IACUE,EAAiCpB,EAAjCoB,cAAeC,EAAkBrB,EAAlBqB,cACjBC,EAAgB,GAKtB,OAJAA,EAAa,mBAAyBD,EACtCC,EAAa,WAAiB,EAC9BvB,EAAMqB,GAAiBE,EAEhBvB,EACT,IAAK,mBACHQ,MAAM,UACN,MACF,IAAK,gBACH,OAAO,eAAKP,GACd,QACE,OAAOD,IwBkBXwB,ctB3Ca,WAAmC,IAAlCxB,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,eAAiB,IACZopB,EAAkBvB,EAAlBuB,cACR,OAAOA,EAAa,2BAAQxB,GAAUwB,GAAkBxB,EAE1D,QACE,OAAOA,IsBoCXyB,cZtCa,WAA0C,IAAzCzB,EAAwC,sEAA3Bd,GAAgBP,EAAW,uCAC9CvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,qBAEH,OADA4nB,EAAMC,EAAQrzB,KAAO,UAAYqzB,EAAQyB,QAClC,eAAK1B,GAEd,QACE,OAAOA,IY+BX0B,QE/Ca,WAAuC,IAAtC1B,EAAqC,iGAApB5nB,EAAoB,EAApBA,KAAM6nB,EAAc,EAAdA,QAErC,OAAQ7nB,GACN,IAAK,cACH,OAAO6nB,EACT,QACE,OAAOD,IF0CX2B,gBrB9Ca,WAAmC,IAAlC3B,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,eAAiB,IACZupB,EAAoB1B,EAApB0B,gBACR,OAAOA,EAAe,2BAAQ3B,GAAU2B,GAAoB3B,EAE9D,IAAK,0CAAL,IACUW,EAAmCV,EAAnCU,QAASiB,EAA0B3B,EAA1B2B,OAAQC,EAAkB5B,EAAlB4B,cAEzB,OADA7B,EAAMW,EAAU,IAAMiB,GAAQC,cAAgBA,EACvC,eAAK7B,GACd,IAAK,8CACH,IAAM8B,EAA4B,eAAQ7B,GAO1C,OANAnpB,OAAOC,KAAK+qB,GAA8BxrB,SAAQ,SAACyrB,GAC7C/B,EAAM+B,KACR/B,EAAM+B,GAAgBF,cACpBC,EAA6BC,GAAgBF,kBAG5C,eAAK7B,GACd,QACE,OAAOA,IqB0BXgC,yBpB/Ca,WAAmC,IAAlChC,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,eAAiB,IACZ4pB,EAA6B/B,EAA7B+B,yBACR,OAAOA,EAAwB,2BACtBhC,GAAUgC,GACfhC,EAEN,QACE,OAAOA,IoBsCXiC,OnBhDa,WAAmC,IAAlCjC,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,eAAiB,IACZ6pB,EAAWhC,EAAXgC,OACR,OAAOA,EAAM,2BAAQjC,GAAUiC,GAAWjC,EAE5C,QACE,OAAOA,ImByCXkC,kBlBjDa,WAA8C,IAA7ClC,EAA4C,uDAApCd,EAAoC,yCAApB9mB,EAAoB,EAApBA,KAAM6nB,EAAc,EAAdA,QAC5C,OAAQ7nB,GACN,IAAK,yBACH,OAAO,eAAK6nB,GACd,QACE,OAAOD,IkB6CX7D,SdlDa,WAAmC,IAAlC6D,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,eAAiB,IACZ+jB,EAAa8D,EAAb9D,SACR,OAAOA,EAAQ,2BAAQ6D,GAAU7D,GAAa6D,EAEhD,QACE,OAAOA,Ic2CXmC,gBfnDa,WAAmC,IAAlCnC,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,eAAiB,IACZ+pB,EAAoBlC,EAApBkC,gBACR,OAAOA,EAAe,2BAAQnC,GAAUmC,GAAoBnC,EAE9D,QACE,OAAOA,Ie4CXoC,ShBpDa,WAAmC,IAAlCpC,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,eAAiB,IACZgqB,EAAanC,EAAbmC,SACR,OAAOA,EAAQ,2BAAQpC,GAAUoC,GAAapC,EAEhD,QACE,OAAOA,IgB6CXqC,iBjBrDa,WAAmC,IAAlCrC,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,eAAiB,IACZiqB,EAAqBpC,EAArBoC,iBACR,OAAOA,EAAgB,2BAAQrC,GAAUqC,GAAqBrC,EAEhE,QACE,OAAOA,IiB8CXsC,mBGvDa,WAA8C,IAA7CtC,EAA4C,uDADvC,GACuC,yCAApB5nB,EAAoB,EAApBA,KAAM6nB,EAAc,EAAdA,QAC5C,OAAQ7nB,GACN,IAAK,yBACH,OAAO6nB,GAAoB,KAC7B,QACE,OAAOD,IHmDXuC,WXvDa,WAAmC,IAAlCvC,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,kBAIH,OAHA4nB,EAAM1c,QAAQ2c,IAAY,EACtBD,EAAMve,OAAOue,EAAM1c,QAAQ2c,GAAU,GACrCD,EAAM1mB,KAAK2mB,GACRA,EAAO,YAAOD,GAAS,KAEhC,IAAK,aAEH,OADAA,EAAQC,EACDA,EAAUD,EAAQ,KAE3B,IAAK,gBAEH,OADAA,EAAQC,EAGV,QACE,OAAOD,IWsCXwC,oBTxDa,WAA8C,IAA7CxC,EAA4C,uDAApCd,EAAoC,yCAApB9mB,EAAoB,EAApBA,KAAM6nB,EAAc,EAAdA,QAC5C,OAAQ7nB,GACN,IAAK,0BAAL,IACUqqB,EAAsBxC,EAAtBwC,KAAMC,EAAgBzC,EAAhByC,YACRC,EAAc,IAAIC,IAAI5C,EAAMnD,MAAM,IAClCkE,EAAWnb,MAAMnN,KAAKkqB,GAM5B,OALIF,EACF1B,EAASznB,KAAKopB,GAEd3B,EAAStf,OAAOsf,EAASzd,QAAQof,GAAc,GAE1C3B,EACT,IAAK,4BACH,MAAO,GACT,QACE,OAAOf,IS0CX7qB,SVvDa,WAAmC,IAAlC6qB,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,eACH,OAAO6nB,EAAU,CAAEH,SAAUG,GAAYD,EAE3C,IAAK,kBACH,OAAOC,EAAO,2BAAQD,GAAU,CAAE6C,WAAY5C,IAAcD,EAE9D,IAAK,mBACH,OAAOC,EAAO,2BAAQD,GAAU,CAAE8C,YAAa7C,IAAcD,EAE/D,QACE,OAAOA,IU2CX+C,YI1Da,WAA8C,IAA7C/C,EAA4C,uDAFvC,MAEuC,yCAApB5nB,EAAoB,EAApBA,KAAM6nB,EAAc,EAAdA,QAC5C,OAAQ7nB,GACN,IAAK,mBACH,OAAO6nB,EACT,QACE,OAAOD,IJsDXgD,UN3Da,WAAmC,IAAlChD,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,gBACH,OAAO6nB,EAET,QACE,OAAOD,IMqDXiD,aP1Da,WAAmC,IAAlCjD,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,6BAA+B,IAEhC8qB,EAMEjD,EANFiD,WACAC,EAKElD,EALFkD,aACAvC,EAIEX,EAJFW,WACAwC,EAGEnD,EAHFmD,cACAC,EAEEpD,EAFFoD,YACAvD,EACEG,EADFH,SAEIiB,EAAQ,eAAQf,GActB,cAbOe,EACLmC,EACE,IACAC,EACA,IACAvC,EACA,IACAwC,EACA,IACAC,EACA,IACAvD,GAEG,eAAKiB,GAEd,IAAK,0BACH,OAAOd,EAAO,2BAAQD,GAAUC,GAAYD,EAE9C,IAAK,kCACH,IAAMe,EAAWuC,YAAYtD,EAAOC,GACpC,OAAO,eAAKc,GAEd,IAAK,uBACH,IAAMwC,EAAwB,CAAEA,sBAAsB,eAAMtD,IAC5D,OAAOA,EAAO,2BAAQD,GAAUuD,GAA0BvD,EAE5D,QACE,OAAOA,IOmBXwD,c1B7Da,WAA8C,IAA7CxD,EAA4C,uDAApCd,EAAoC,yCAApB9mB,EAAoB,EAApBA,KAAM6nB,EAAc,EAAdA,QAC5C,OAAQ7nB,GACN,IAAK,qBACH,OAAO,eAAK6nB,GACd,QACE,OAAOD,I0ByDXyD,qB3B9Da,WAA8C,IAA7CzD,EAA4C,uDAApCd,EAAoC,yCAApB9mB,EAAoB,EAApBA,KAAM6nB,EAAc,EAAdA,QAC5C,OAAQ7nB,GACN,IAAK,4BACH,OAAO,eAAK6nB,GACd,QACE,OAAOD,I2B0DX0D,0B5B7Da,WAA8C,IAA7C1D,EAA4C,uDAApCd,EAAoC,yCAApB9mB,EAAoB,EAApBA,KAAM6nB,EAAc,EAAdA,QAC5C,OAAQ7nB,GACN,IAAK,kCACH,OAAO,eAAK6nB,GACd,IAAK,qCACH,IAAM0D,EAAUC,YAA8B3D,GAC9C,OAAO,2BAAKD,GAAU2D,GACxB,QACE,OAAO3D,I4BsDX6D,uBvBhEa,WAA8C,IAA7C7D,EAA4C,uDAApCd,EAAoC,yCAApB9mB,EAAoB,EAApBA,KAAM6nB,EAAc,EAAdA,QAC5C,OAAQ7nB,GACN,IAAK,+BACH,OAAO,eAAK6nB,GACd,QACE,OAAOD,IuB4DX8D,YbjEa,WAAmC,IAAlC9D,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,4BACH,OAAO6nB,EAAO,eAAQA,GAAYD,EAEpC,QACE,OAAOA,Ia2DX+D,MRlEa,WAAmC,IAAlC/D,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,YACH,OAAO6nB,EAET,QACE,OAAOD,IQ4DXgE,MDnEa,WAAmC,IAAlChE,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,eAAiB,IACZ4rB,EAAU/D,EAAV+D,MACR,OAAOA,EAAK,2BAAQhE,GAAUgE,GAAUhE,EAE1C,QACE,OAAOA,IC4DXD,kBACAkE,iBJrEa,WAAmC,IAAlCjE,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,cACH,OAAO6nB,EAAO,2BAAQD,GAAUC,GAAYD,EAE9C,QACE,OAAOA,II+DXkE,eHtEa,WAAmC,IAAlClE,EAAiC,uDAAzBd,EAAcP,EAAW,uCACvCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACN,IAAK,sBAEH,OADA4nB,EAAMC,EAAQkE,UAAYlE,EAAQvX,SAC3B,eAAKsX,GAEd,QACE,OAAOA,IG+DXoE,oBFvEa,WAAmC,IAAlCpE,EAAiC,uDAAzBd,EAAcP,EAAW,uCACrCvmB,EAAkBumB,EAAlBvmB,KAAM6nB,EAAYtB,EAAZsB,QACd,OAAQ7nB,GACJ,IAAK,eAAiB,IACVgsB,EAAwBnE,EAAxBmE,oBACR,OAAOA,EAAmB,2BAAQpE,GAAUoE,GAAwBpE,EAExE,QACI,OAAOA,ME6EJqE,EAXK,SAACrE,EAAOrB,GAQ1B,MAPoB,gBAAhBA,EAAOvmB,OACT4nB,OAAQ/vB,GAEU,eAAhB0uB,EAAOvmB,OACT4nB,EAAQ,IAGHK,EAAWL,EAAOrB,I,SKhFrB2F,EAAmBlF,OAAOmF,sCAAwCC,IAEzDC,gBACbJ,EACAC,EAAiBI,YAAgBC,Q,sCCRnC3F,EAAOC,QAAU,s1F,kBCAjBD,EAAOC,QAAU,s3C,mnBCgBJ7mB,EAAO,CAClBwsB,MAAO,EACPC,IAAK,GAGMC,EAAS,WACpB,IACMC,EADQzI,IAAMC,WACSF,KAAK0I,eAClCp4B,YAASo4B,IAGEC,EAAe,SAAfA,IAAsC,IAAtBC,EAAqB,uDAAb7sB,EAAKysB,IACxC,OAAII,IAAU7sB,EAAKysB,IACVK,MAAiBhI,MAAK,SAAC/C,GAE5B,OADAxtB,YAASwtB,EAAS5W,KAAKwhB,gBAChBr4B,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,OAAQ2V,KAAM4W,EAAS5W,OAAQ2Z,MAAK,WAC5D,OAAO9C,QAAQiD,QAAQlD,EAAS5W,YAKlC0hB,IAAU7sB,EAAKwsB,MACVl4B,IAAGM,MAAM2V,IAAI,QAAQua,MAAK,SAAClwB,GAChC,cAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,MACF6W,QAAQiD,QAAQrwB,EAAMuW,MAEtByhB,YALb,GAWWpJ,EAAkB,SAAlBA,IAAyC,IAAtBqJ,EAAqB,uDAAb7sB,EAAKysB,IAC3C,OAAII,IAAU7sB,EAAKysB,IACVK,MAAsBhI,MAAK,SAAC/C,GAAc,IACvCiL,EAAaC,YAAUlL,EAAS5W,KAAM+hB,KAAtCF,SAER,OADAA,EAAQ,oBAA0BG,cAC3B74B,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,aAAc2V,KAAM6hB,IAAYlI,MAAK,WAC7D,OAAO9C,QAAQiD,QAAQ+H,SAKzBH,IAAU7sB,EAAKwsB,MACVl4B,IAAGM,MAAM2V,IAAI,cAAcua,MAAK,SAAClwB,GACtC,cAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,MACF6W,QAAQiD,QAAQrwB,EAAMuW,MAEtBqY,YALb,GAkCF,SAASG,EAAWC,EAAUC,GAC5B,GAAIvZ,IAAEmD,QAAQmW,GACZ,OAAOA,EAAS3N,OAAO4N,GAIpB,IAAMH,EAA4B,SAA5BA,IAAmE,IAAtCmJ,EAAqC,uDAA7B7sB,EAAKysB,IAAK1I,EAAmB,uCAATjrB,EAAS,uCACvEmrB,EAAOC,IAAMC,WAAWF,KAE9B,GAAI4I,IAAU7sB,EAAKysB,IAAK,CAKtB,IAJA,IAAIrI,EAAW,GAEXC,EAAa9O,KAAK+O,KAAKP,EAAS9kB,OAASnG,GAEpC2T,EAAI,EAAGA,EAAI4X,EAAY5X,IAAK,CACnC,IAAI8X,EAAK,CAAEC,WAAYT,EAASU,MAAMhY,EAAI3T,GAAO2T,EAAI,GAAK3T,IAC1DsrB,EAASljB,KAAK4rB,IAA8BvI,IAG9C,GAAwB,IAApBH,EAASnlB,OAAc,CAEzB,IAAM6R,EAA6B,QAAf,OAAJmT,QAAI,IAAJA,OAAA,EAAAA,EAAMU,MAAM,IAAc,qJAA+B,qEACzE,OAAO3C,QAAQC,OAAO,CAAEnR,QAASA,IAGnC,IAAI3H,EAAS,GACTyb,EAAkB,GAEtB,OAAO5C,QAAQ6C,WAAWT,GAAUU,MAAK,SAACC,GAOxC,GANAA,EAAQ7mB,SAAQ,SAACiL,GACO,cAAlBA,EAAOzE,QACTkgB,EAAgB1jB,KAAKiI,EAAOpP,UAID,IAA3B6qB,EAAgB3lB,OAAc,CAChC,IAAM6R,EAA6B,QAAf,OAAJmT,QAAI,IAAJA,OAAA,EAAAA,EAAMU,MAAM,IAAc,qJAA+B,qEAEzE,OAAO3C,QAAQC,OAAO,CAAEnR,QAASA,IAEjC,IAAK,IAAIrE,EAAI,EAAGA,EAAImY,EAAgB3lB,OAAQwN,IAC1CnC,IAAE0a,UAAU7b,EAAQyb,EAAgBnY,GAAGtB,KAAMwY,GAG/Cxa,EAAOogB,gBAAkB6D,YAAoBjkB,EAAOogB,iBAL/C,IAMGyD,EAAaC,YAAU9jB,EAAQ+jB,KAA/BF,SACR,OAAO14B,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,aAAc2V,KAAM6hB,IAAYlI,MAAK,WAC7D,OAAO9C,QAAQiD,QAAQ+H,SAM/B,GAAIH,IAAU7sB,EAAKwsB,MACjB,OAAOl4B,IAAGM,MAAM2V,IAAI,cAAcua,MAAK,SAAClwB,GACtC,cAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,MACF6W,QAAQiD,QAAQrwB,EAAMuW,MAEtBuY,EAA0B1jB,EAAKysB,IAAK1I,EAAUjrB,OAMhD0sB,EAAqB,SAArBA,IAA4C,IAAtBqH,EAAqB,uDAAb7sB,EAAKysB,IAC9C,OAAII,IAAU7sB,EAAKysB,IACVK,MAAyBhI,MAAK,SAAC/C,GACpC,IAAM5W,EAAOkiB,YAAmBtL,EAAS5W,MACzC,OAAO7W,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,gBAAiB2V,KAAMA,IAAQ2Z,MAAK,WAC5D,OAAO9C,QAAQiD,QAAQ9Z,SAKzB0hB,IAAU7sB,EAAKwsB,MACVl4B,IAAGM,MAAM2V,IAAI,iBAAiBua,MAAK,SAAClwB,GACzC,cAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,MACF6W,QAAQiD,QAAQrwB,EAAMuW,MAEtBqa,YALb,GAgCW8H,EAAwB,SAACniB,GACpC,OAAO7W,IAAGM,MAAM2V,IAAI,cAAcua,MAAK,SAAClwB,GACtC,UAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,KAAM,CAAC,IACVoe,EAAoB30B,EAAMuW,KAA1Boe,gBACNA,EAAe,2BAAQA,GAAoBpe,EAAKoe,iBAChD,IAAMgE,EAAa,eAAQ34B,EAAMuW,MAEjC,OADAoiB,EAAchE,gBAAkBA,EACzBj1B,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,aAAc2V,KAAMoiB,IAE9C,OAAOvL,QAAQiD,QAAQ9Z,OAKhBqiB,EAAyC,SAAzCA,EACXriB,GAEI,IADJ0hB,EACG,uDADK7sB,EAAKysB,IAEb,GAAII,IAAU7sB,EAAKysB,IAAK,CAMtB,IALA,IAAIrI,EAAW,GACXL,EAAW5Y,EAAKqZ,WAChB1rB,EAAO,GACPurB,EAAa9O,KAAK+O,KAAKP,EAAS9kB,OAASnG,GAEpC2T,EAAI,EAAGA,EAAI4X,EAAY5X,IAAK,CACnC,IAAI8X,EAAK,CAAEC,WAAYT,EAASU,MAAMhY,EAAI3T,GAAO2T,EAAI,GAAK3T,IAC1DsrB,EAASljB,KAAK4rB,IAAwCvI,IAGxD,GAAwB,IAApBH,EAASnlB,OAAc,CACzB,IAAMkM,EAAOsiB,YAAsC,IACnD,OAAOn5B,IAAGM,MACPm4B,IAAI,CAAEv3B,GAAI,oCAAqC2V,KAAMA,IACrD2Z,MAAK,WACJ,OAAO9C,QAAQiD,QAAQ9Z,MAI7B,OAAO6W,QAAQ0L,IAAItJ,GAAUU,MAAK,SAAC/C,GAEjC,IADA,IAAI4L,EAAM,GACDlhB,EAAI,EAAGA,EAAI4X,EAAY5X,IAC9BkhB,EAAMA,EAAI1X,OAAO8L,EAAStV,GAAGtB,MAE/B,IAAMA,EAAOsiB,YAAsCE,GACnD,OAAOr5B,IAAGM,MACPm4B,IAAI,CAAEv3B,GAAI,oCAAqC2V,KAAMA,IACrD2Z,MAAK,WACJ,OAAO9C,QAAQiD,QAAQ9Z,SAK/B,GAAI0hB,IAAU7sB,EAAKwsB,MACjB,OAAOl4B,IAAGM,MAAM2V,IAAI,qCAAqCua,MAAK,SAAClwB,GAC7D,cAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,MACF6W,QAAQiD,QAAQrwB,EAAMuW,MAEtBqiB,EAAuCriB,OAMzCka,EAAyC,SAACla,GACrD,OAAO7W,IAAGM,MAAM2V,IAAI,qCAAqCua,MAAK,SAAClwB,GAC7D,UAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,KAAM,CACf,IAAIyiB,EAAkC,eAAQh5B,EAAMuW,MAKpD,OAHAyiB,EAAmCziB,EAAKod,QAAU,IAAMpd,EAAKqe,QAC3Dre,EAEK7W,IAAGM,MAAMm4B,IAAI,CAClBv3B,GAAI,oCACJ2V,KAAMyiB,IAGR,OAAO5L,QAAQiD,QAAQ9Z,OAwFhB0iB,EAAkC,SAAC1iB,GAC9C,OAAO7W,IAAGM,MAAM2V,IAAI,6BAA6Bua,MAAK,SAAClwB,GACrD,UAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,KAAM,CACf,IAAIogB,EAAO,eAAQ32B,EAAMuW,MACnB2iB,EAA+BtC,YAA8BrgB,GAEnE,OADAogB,EAAO,2BAAQA,GAAYuC,GACpBx5B,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,4BAA6B2V,KAAMogB,IAE7D,OAAOvJ,QAAQiD,QAAQ9Z,OAKhB4iB,EAAoB,SAApBA,EAAqBC,GAA+B,IAAtBnB,EAAqB,uDAAb7sB,EAAKysB,IACtD,OAAII,IAAU7sB,EAAKysB,IACVK,IAAoBkB,GAASlJ,MAAK,SAAC/C,GACxC,OAAOztB,IAAGM,MACPm4B,IAAI,CAAEv3B,GAAI,eAAgB2V,KAAM4W,EAAS5W,OACzC2Z,MAAK,WACJ,OAAO9C,QAAQiD,QAAQlD,EAAS5W,YAKpC0hB,IAAU7sB,EAAKwsB,MACVl4B,IAAGM,MAAM2V,IAAI,gBAAgBua,MAAK,SAAClwB,GACxC,cAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,MACF6W,QAAQiD,QAAQrwB,EAAMuW,MAEtB4iB,EAAkBC,WAL/B,GAiCWC,EAAqB,SAAC9iB,GACjC,OAAO7W,IAAGM,MAAM2V,IAAI,gBAAgBua,MAAK,SAAClwB,GACxC,UAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,KAAM,CAAC,IACRmd,EAA2Dnd,EAA3Dmd,UAAWC,EAAgDpd,EAAhDod,QAASC,EAAuCrd,EAAvCqd,WAAYC,EAA2Btd,EAA3Bsd,aAAcC,EAAavd,EAAbud,SAClD6C,EAAO,eAAQ32B,EAAMuW,MA8BzB,OA5BKogB,EAAQjD,KACXiD,EAAQjD,GAAa,IAGlBiD,EAAQjD,GAAWC,KACtBgD,EAAQjD,GAAWC,GAAW,IAG3BgD,EAAQjD,GAAWC,GAASC,KAC/B+C,EAAQjD,GAAWC,GAASC,GAAc,IAI1C+C,EAAQjD,GAAWC,GAASC,GAAY5G,MACtC,SAAChR,GAAD,OAAOA,EAAEpc,OAASi0B,KAGpB8C,EAAQjD,GAAWC,GAASC,GAAYtqB,SAAQ,SAACuK,GAC3CA,EAAKjU,OAASi0B,IAChBhgB,EAAKigB,SAAWA,MAIpB6C,EAAQjD,GAAWC,GAASC,GAAYtnB,KAAK,CAC3C1M,KAAMi0B,EACNC,SAAUA,IAGPp0B,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,eAAgB2V,KAAMogB,IAEhD,OAAOvJ,QAAQiD,QAAQ9Z,OAShB+iB,EAAa,SAAbA,IAAoC,IAAtBrB,EAAqB,uDAAb7sB,EAAKysB,IACtC,GAAII,IAAU7sB,EAAKysB,IAAK,CACtB,IAAMxI,EAAOxB,KAAKsE,MAAMC,OAAOC,aAAaC,QAAQ,SAEpD,OAAO4F,IACW7I,EAAKkK,UACpBrJ,MAAK,SAAC/C,GAAc,IAAD,EACdqM,EAAI,UAAGrM,EAAS5W,YAAZ,aAAG,EAAeA,KAAKrF,KAAI,SAAC2C,GAClC,OAAO4lB,YAAmB5lB,MAG5B,OAAOnU,IAAGM,MACPm4B,IAAI,CACHv3B,GAAI,QACJ2V,KAAMijB,IAEPtJ,MAAK,WACJ,OAAO9C,QAAQiD,QAAQmJ,SAKjC,GAAIvB,IAAU7sB,EAAKwsB,MACjB,OAAOl4B,IAAGM,MAAM2V,IAAI,SAASua,MAAK,SAAClwB,GACjC,cAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,MACF6W,QAAQiD,QAAQrwB,EAAMuW,MAEtB+iB,QAMFI,EAAmB,WAAuB,IAAtBzB,EAAqB,uDAAb7sB,EAAKysB,IAC5C,OAAII,IAAU7sB,EAAKysB,IACVK,MAAqBhI,MAAK,SAAC/C,GAChC,OAAOztB,IAAGM,MACPm4B,IAAI,CACHv3B,GAAI,cACJ2V,KAAM4W,EAAS5W,OAEhB2Z,MAAK,WACJ,OAAO9C,QAAQiD,QAAQlD,EAAS5W,YAKpC0hB,IAAU7sB,EAAKwsB,MACVl4B,IAAGM,MAAM2V,IAAI,eAAeua,MAAK,SAAClwB,GACvC,cAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,MACF6W,QAAQiD,QAAQrwB,EAAMuW,MAEtB+iB,YALb,I,oBChgBFtH,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,kBCA3CD,EAAOC,QAAU,0rC,kBCAjBD,EAAOC,QAAU,0uC,kBCAjBD,EAAOC,QAAU,8P,kBCAjBD,EAAOC,QAAU,0Y,oBCAjBD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,kBCA3CD,EAAOC,QAAU,svC,kBCAjBD,EAAOC,QAAU,07B,oBCAjBD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,iC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,kBCA3CD,EAAOC,QAAU,k0F,kBCAjBD,EAAOC,QAAU,k2E,kBCAjBD,EAAOC,QAAU,kvF,kBCAjBD,EAAOC,QAAU,snE,kBCAjBD,EAAOC,QAAU,0yF,kBCAjBD,EAAOC,QAAU,8qC,oBCAjBD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,kBCA3CD,EAAOC,QAAU,s2F,kBCAjBD,EAAOC,QAAU,smK,kBCAjBD,EAAOC,QAAU,8jB,kVCAV,IAAM0H,EAAwB,SAACpjB,EAAMqjB,GAAY,IAC9C3E,EAAqB1e,EAArB0e,OAAQG,EAAa7e,EAAb6e,SACRf,EAAkBuF,EAAlBvF,cAEFwF,EAAsB,SAACnE,GAC3B,IASkB,EATZoE,EAAehwB,OAAOC,KAAKqrB,GAC9B5lB,QAAO,SAACoD,GACP,OACEwiB,EAASxiB,GAAK8iB,cAAgBA,GACG,OAAjCN,EAASxiB,GAAKmnB,kBAGjBC,OAAO,GAEV,OAAIF,EACF,UAAO1E,EAAS0E,UAAhB,aAAO,EAAwBG,YAE1B,MAGT,GAAInwB,OAAOC,KAAKkrB,GAAQ5qB,OAAS,EAAG,CAClC,IAAIkK,EAASzK,OAAOC,KAAKkrB,GACtBzlB,QAAO,SAACkmB,GACP,OAAOT,EAAOS,GAAarB,gBAAkBA,KAE9C2F,OACA9oB,KAAI,SAACwkB,GACJ,MAAO,CACLA,cACAuE,YAAaJ,EAAoBnE,OAGpClmB,QAAO,SAACqE,GACP,QAASA,EAAKomB,eACb,GACL,OAAO1lB,EAASA,EAAO0lB,YAAc,GAEvC,MAAO,I,gCCnCIC,EAA0B,SAA1BA,EAA2BC,EAAcC,GACpD,IAAMC,EAAc,CAClBC,GAAI,KACJ,YAAa,WACb,GAAK,MAGD/lB,EAAS,GAEf,GAAa,UAAT6lB,EAMF,OALAtwB,OAAOC,KAAKswB,GAAa/wB,SAAQ,SAACsJ,GAChC,IAAM2nB,EAAML,EAAwBC,EAAcvnB,GAClD2B,EAAOjI,KAAP,MAAAiI,EAAM,YAASgmB,OAGV3hB,MAAMnN,KAAK,IAAImqB,IAAJ,UAAYrhB,KAGhC,IAAMimB,EAAWL,EAAaE,EAAYD,IAU1C,OARcxhB,MAAMnN,KAClB,IAAImqB,IAAJ,sBAAY4E,EAASrpB,cAAcspB,GAAnC,YAAyCD,EAASE,sBAAsBD,MAGpEnxB,SAAQ,SAACpF,GACbqQ,EAAOjI,KAAP,MAAAiI,EAAM,YAASrQ,EAAK+H,MAAM,UAGrBsI,GAGIomB,EAAmB,SAAnBA,EACXhG,EACAe,EACAyE,EACAC,GAEA,IAAMC,EAAc,CAClBC,GAAI,KACJ,YAAa,WACb,GAAK,MAGD/lB,EAAS,GAEf,GAAa,UAAT6lB,EAWF,OAVAtwB,OAAOC,KAAKswB,GAAa/wB,SAAQ,SAACsJ,GAChC,IAAM2nB,EAAMI,EACVhG,EACAe,EACAyE,EACAvnB,GAEF2B,EAAOjI,KAAP,MAAAiI,EAAM,YAASgmB,OAGV3hB,MAAMnN,KAAK,IAAImqB,IAAJ,UAAYrhB,KAGhC,IAAMimB,EAAWL,EAAaE,EAAYD,IAMtCQ,EAJUhiB,MAAMnN,KAClB,IAAImqB,IAAJ,sBAAY4E,EAASrpB,cAAcspB,GAAnC,YAAyCD,EAASE,sBAAsBD,MAGhDjrB,QAAO,SAACrK,GAChC,OAAwB,IAAjBA,EAAMkF,UAGf,GAAa,OAAT+vB,EAGAzF,EAAgBe,EAAc,WAC7Bf,EAAgBe,EAAc,SAE/BkF,EAActuB,KAAK,QAGnBsuB,EAActuB,KAAK,aAEhB,GAAa,OAAT8tB,EACTQ,EAActuB,KAAK,aAInB,GACEqoB,EAAgBe,EAAc,WAC7Bf,EAAgBe,EAAc,SAC/B,CACA,IAAMmF,EAAc,CAClB,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAGFnlB,IAAEolB,OAAOF,GAAe,SAACh3B,GACvB,OAAOi3B,EAAY75B,SAAS4C,MAIlC,OAAO,YAAI,IAAIgyB,IAAIgF,KAGRG,EAAoC,SAApCA,EAAqCZ,EAAcC,GAC9D,IAAMC,EAAc,CAClBC,GAAI,KACJ,YAAa,WACbU,GAAG,MAGCzmB,EAAS,GAEf,GAAa,UAAT6lB,EAMF,OALAtwB,OAAOC,KAAKswB,GAAa/wB,SAAQ,SAACsJ,GAChC,IAAM2nB,EAAMQ,EAAkCZ,EAAcC,GAC5D7lB,EAAOjI,KAAP,MAAAiI,EAAM,YAASgmB,OAGV3hB,MAAMnN,KAAK,IAAImqB,IAAJ,UAAYrhB,KAGhC,IAAMimB,EAAWL,EAAaE,EAAYD,IAMtCa,EAJmBriB,MAAMnN,KAC3B,IAAImqB,IAAJ,sBAAY4E,EAASrpB,cAAcspB,GAAnC,YAAyCD,EAASrpB,cAAc+pB,MAG1B1rB,QAAO,SAACrK,GAC9C,OAAwB,IAAjBA,EAAMkF,UAGT8wB,EAAoB,CACxB,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAOF,OAJAF,EAAqBA,EAAmBzrB,QACtC,SAACrK,GAAD,OAAYg2B,EAAkBn6B,SAASmE,OAM9Bi2B,EAAsB,SAAtBA,EACXzG,EACAe,EACAyE,EACAC,GAEA,IAAMC,EAAc,CAClBC,GAAI,KACJ,YAAa,WACb,GAAK,MAGD/lB,EAAS,GAEf,GAAa,UAAT6lB,EAWF,OAVAtwB,OAAOC,KAAKswB,GAAa/wB,SAAQ,SAACsJ,GAChC,IAAM2nB,EAAMa,EACVzG,EACAe,EACAyE,EACAvnB,GAEF2B,EAAOjI,KAAP,MAAAiI,EAAM,YAASgmB,OAGV3hB,MAAMnN,KAAK,IAAImqB,IAAJ,UAAYrhB,KAGhC,IAAMimB,EAAWL,EAAaE,EAAYD,IAWtCQ,EATUhiB,MAAMnN,KAClB,IAAImqB,IAAJ,sBACK4E,EAASrpB,cAAcspB,GAD5B,YAEKD,EAASE,sBAAsBD,GAFpC,YAGKD,EAASrpB,cAAc+pB,GAH5B,YAIKV,EAASE,sBAAsBQ,MAIZ1rB,QAAO,SAACrK,GAChC,OAAwB,IAAjBA,EAAMkF,UAGf,GAAa,OAAT+vB,EAGAzF,EAAgBe,EAAc,WAC7Bf,EAAgBe,EAAc,SAE/BkF,EAActuB,KAAK,QAGnBsuB,EAActuB,KAAK,aAEhB,GAAa,OAAT8tB,EACTQ,EAActuB,KAAK,aAKnB,GACEqoB,EAAgBe,EAAc,WAC7Bf,EAAgBe,EAAc,SAC/B,CACA,IAAMmF,EAAc,CAClB,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAGFnlB,IAAEolB,OAAOF,GAAe,SAACh3B,GACvB,OAAOi3B,EAAY75B,SAAS4C,WAI9Bg3B,EAActuB,KAAK,QAIvB,OAAOsM,MAAMnN,KAAK,IAAImqB,IAAJ,YAAYgF,MAiFnBS,EAAyB,SAAzBA,EACX1G,EACAe,EACAyE,EACAC,GAEA,IAAMC,EAAc,CAClBC,GAAI,KACJ,YAAa,WACb,GAAK,MAGD/lB,EAAS,GAEf,GAAa,UAAT6lB,EAWF,OAVAtwB,OAAOC,KAAKswB,GAAa/wB,SAAQ,SAACsJ,GAChC,IAAM2nB,EAAMc,EACV1G,EACAe,EACAyE,EACAvnB,GAEF2B,EAAOjI,KAAP,MAAAiI,EAAM,YAASgmB,OAGV3hB,MAAMnN,KAAK,IAAImqB,IAAJ,UAAYrhB,KAGhC,IAAMimB,EAAWL,EAAaE,EAAYD,IAItCQ,EAFUhiB,MAAMnN,KAAK,IAAImqB,IAAJ,YAAY4E,EAASE,sBAAsBD,KAE1CjrB,QAAO,SAACrK,GAChC,OAAwB,IAAjBA,EAAMkF,UAGf,GAAa,OAAT+vB,EAGAzF,EAAgBe,EAAc,WAC7Bf,EAAgBe,EAAc,SAE/BkF,EAActuB,KAAK,QAGnBsuB,EAActuB,KAAK,aAEhB,GAAa,OAAT8tB,EACTQ,EAActuB,KAAK,aAInB,GACEqoB,EAAgBe,EAAc,WAC7Bf,EAAgBe,EAAc,SAC/B,CACA,IAAMmF,EAAc,CAClB,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAGFnlB,IAAEolB,OAAOF,GAAe,SAACh3B,GACvB,OAAOi3B,EAAY75B,SAAS4C,MAKlC,OAAO,YAAI,IAAIgyB,IAAIgF,KC3XRU,EAAwB,SAAC/kB,EAAMglB,GAAY,IAAD,EAC7ClM,EAAmD9Y,EAAnD8Y,KAAMsF,EAA6Cpe,EAA7Coe,gBAAiBlB,EAA4Bld,EAA5Bkd,aAAcuC,EAAczf,EAAdyf,UACrCN,EAA+C6F,EAA/C7F,YAAa8F,EAAkCD,EAAlCC,eAAgBnH,EAAkBkH,EAAlBlH,cAC/B+F,EAAO/K,EAAKU,MAAM,GAClB0L,EAAcpM,EAAK8K,aACnBuB,EAAiB,CACrBC,SAAS,EACTC,QAAQ,EACRC,MAAM,EACNC,QAAQ,EACRC,cAAc,EACdC,YAAY,EACZC,UAAW,GACXC,8BAA8B,EAC9BC,gCAAgC,EAChCC,gCAAgC,EAChCC,kCAAkC,GAG9BC,EAAW,UACf3H,EAAgB,GAAD,OAAIe,EAAJ,YAAmB8F,WADnB,aACf,EAAqDe,MAEjDN,EAAYO,YAChBnI,EACAqB,EACA8F,EACAxF,EACAvC,GAGIgJ,EAA4B,SAAdR,EAEdM,EA3DgB,SAACG,GACvB,IAAMC,EAAgB,CACpBC,YAAY,EACZC,WAAW,EACXC,kBAAkB,EAClBC,qBAAqB,EACrBC,eAAe,EACfC,oBAAoB,EACpBC,cAAc,EACdC,WAAW,EACXC,cAAc,EACdC,cAAc,GAEVC,EAAqBld,SAASsc,EAAY,IAC7Ca,SAAS,GACTC,SAAS,GAAI,KACbvxB,MAAM,IACNwxB,UACAhuB,KAAK,IAMR,OALA3F,OAAOC,KAAK4yB,GAAerzB,SAAQ,SAACuK,EAAM2d,GACN,MAA9B8L,EAAmB9L,KACrBmL,EAAc9oB,IAAQ,MAGnB8oB,EAmCOe,CAAgBpB,GAE9B,GAAa,UAATlC,EACFtwB,OAAOC,KAAK2xB,GAAgBpyB,SAAQ,SAACq0B,GAChB,YAAfA,EACElB,IACFf,EAAeiC,IAAc,GAG/BjC,EAAeiC,IAAc,EAE/BjC,EAAc,UAAgBO,SAE3B,CACL,IAAM2B,EDkLoB,SAAjBC,EACXlJ,EACAe,EACAyE,EACAC,GAEA,IAAMC,EAAc,CAClBC,GAAI,KACJ,YAAa,WACbU,GAAG,MAGCzmB,EAAS,GAEf,GAAa,UAAT6lB,EAWF,OAVAtwB,OAAOC,KAAKswB,GAAa/wB,SAAQ,SAACsJ,GAChC,IAAM2nB,EAAMsD,EACVlJ,EACAe,EACAyE,EACAvnB,GAEF2B,EAAOjI,KAAP,MAAAiI,EAAM,YAASgmB,OAGV3hB,MAAMnN,KAAK,IAAImqB,IAAJ,UAAYrhB,KAGhC,IAAMimB,EAAWL,EAAaE,EAAYD,IAItCQ,EAFUhiB,MAAMnN,KAAK,IAAImqB,IAAJ,YAAY4E,EAASrpB,cAAcspB,KAElCjrB,QAAO,SAACrK,GAChC,OAAwB,IAAjBA,EAAMkF,UAGf,GAAa,OAAT+vB,EAGAzF,EAAgBe,EAAc,WAC7Bf,EAAgBe,EAAc,SAE/BkF,EAActuB,KAAK,QAGnBsuB,EAActuB,KAAK,aAKrB,GACEqoB,EAAgBe,EAAc,WAC7Bf,EAAgBe,EAAc,SAC/B,CACA,IAAMmF,EAAc,CAClB,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAGFnlB,IAAEolB,OAAOF,GAAe,SAACh3B,GACvB,OAAOi3B,EAAY75B,SAAS4C,MAKlC,OAAO,YAAI,IAAIgyB,IAAIgF,IC7PGiD,CAClBlJ,EACAe,EACA+F,EACArB,GAGFsB,EAAc,UAAgBO,EAE1B2B,EAAY58B,SAASw6B,KACnBiB,GAAeF,EAAMK,aACvBlB,EAAeC,SAAU,GAG3BD,EAAeE,OAASW,EAAMM,UAC9BnB,EAAeG,KAAOU,EAAMO,iBAC5BpB,EAAeI,OAASS,EAAMQ,oBAE9BrB,EAAeQ,6BAA+BK,EAAMO,iBACpDpB,EAAeS,+BAAiCI,EAAMQ,oBACtDrB,EAAeU,+BAAiCG,EAAMK,WACtDlB,EAAeW,iCAAmCE,EAAMM,gBAKtD55B,IADF0xB,EAAgB,GAAD,OAAIe,EAAJ,YAAmB8F,IAAkBsC,WAEa,IAAjEnJ,EAAgB,GAAD,OAAIe,EAAJ,YAAmB8F,IAAkBsC,WAIlD,OADAnJ,EAAgB,GAAD,OAAIe,EAAJ,YAAmB8F,IAAkB3G,eAGpD6G,EAAeC,SAAU,EACzBD,EAAeE,QAAS,IAExBF,EAAeC,SAAU,EACzBD,EAAeE,QAAS,IAIvBa,IACHf,EAAeC,SAAU,GAGPN,EAClB1G,EACAe,EACA+F,EACArB,GAGcp5B,SAASw6B,KACvBE,EAAeK,cAAe,GD2RE,SAAzBgC,EACXpJ,EACAe,EACAyE,EACAC,GAEA,IAAMC,EAAc,CAClBC,GAAI,KACJ,YAAa,WACb,GAAK,MAGD/lB,EAAS,GAEf,GAAa,UAAT6lB,EAWF,OAVAtwB,OAAOC,KAAKswB,GAAa/wB,SAAQ,SAACsJ,GAChC,IAAM2nB,EAAMwD,EACVpJ,EACAe,EACAyE,EACAvnB,GAEF2B,EAAOjI,KAAP,MAAAiI,EAAM,YAASgmB,OAGV3hB,MAAMnN,KAAK,IAAImqB,IAAJ,UAAYrhB,KAGhC,IAAMimB,EAAWL,EAAaE,EAAYD,IAStCQ,EAPUhiB,MAAMnN,KAClB,IAAImqB,IAAJ,sBACK4E,EAASE,sBAAsBD,GADpC,YAEKD,EAASE,sBAAsBQ,MAIZ1rB,QAAO,SAACrK,GAChC,OAAwB,IAAjBA,EAAMkF,UAGf,GAAa,OAAT+vB,EAGAzF,EAAgBe,EAAc,WAC7Bf,EAAgBe,EAAc,SAE/BkF,EAActuB,KAAK,QAGnBsuB,EAActuB,KAAK,aAEhB,GAAa,OAAT8tB,EACTQ,EAActuB,KAAK,aAInB,GACEqoB,EAAgBe,EAAc,WAC7Bf,EAAgBe,EAAc,SAC/B,CACA,IAAMmF,EAAc,CAClB,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAGFnlB,IAAEolB,OAAOF,GAAe,SAACh3B,GACvB,OAAOi3B,EAAY75B,SAAS4C,MAIlC,OAAO,YAAI,IAAIgyB,IAAIgF,ICzWGmD,CAClBpJ,EACAe,EACA+F,EACArB,GAGcp5B,SAASw6B,KACvBE,EAAeM,YAAa,GAKhC,OAAON,GCpJIsC,G,YAAc,SAACjH,EAAO9B,EAAQ9F,GACzC,IAAI5a,EAAS,GAEb,GAAKwiB,EAAL,CAIA,IAAK,IAAIlf,EAAI,EAAGA,EAAIkf,EAAM1sB,OAAQwN,KAC5Bkf,EAAMlf,GAAGomB,WACPn0B,OAAOC,KAAKolB,GAAUnuB,SAAS+1B,EAAMlf,GAAGomB,YAM1ClH,EAAMlf,GAAGqmB,SACPp0B,OAAOC,KAAKkrB,GAAQj0B,SAAS+1B,EAAMlf,GAAGqmB,WANxC3pB,EAAOjI,KAAKyqB,EAAMlf,IAaxB,OAAOtD,KCvBI4pB,EAAgC,SAACC,GAAW,IAAD,EA6CtD,iBA5Ca,CACX,CAAEx+B,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,+GAAsBgB,GAAI,SAClC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,+GAAsBgB,GAAI,SAClC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,SACjC,CAAEhB,KAAM,yGAAqBgB,GAAI,UAGvByT,MAAK,SAACR,GAChB,OAAOA,EAAKjT,KAAOV,OAAOk+B,aAD5B,aAAO,EAEHx+B,O,yeCjBSy+B,eANS,SAAC,GACvB,MAAO,CACLC,kBAFkC,EAAXjP,QAMZgP,EA1BM,SAAC,GAAwD,IAA3CE,EAA0C,EAArDC,UAAsBF,EAA+B,EAA/BA,gBAAoBG,EAAW,+CAC3E,OACE,kBAAC,IAAD,eACEC,OAAQ,SAACpS,GACP,OAAOgS,EACL,kBAACC,EAAcjS,GAEf,kBAAC,IAAD,CACE5gB,GAAI,CACFizB,SAAU,SACV3L,MAAO1G,EAAMsS,SAASD,cAK1BF,O,2JCPJI,EAAajT,IAAMkT,YAAW,SAAoBxS,EAAOyS,GAC7D,OAAO,kBAAC,IAAD,eAAOC,UAAU,KAAKD,IAAKA,GAASzS,OAyC9B2S,EAtCM,SAAC,GAQf,IAPLC,EAOI,EAPJA,SACAC,EAMI,EANJA,KACAC,EAKI,EALJA,YACAC,EAII,EAJJA,QACAnrB,EAGI,EAHJA,MACAorB,EAEI,EAFJA,KAEI,IADJC,oBACI,SACEC,EAAO5T,IAAM6T,WAAW9T,KAE9B,OACE,kBAAC+T,EAAA,EAAD,CACEC,WAAW,EACXR,KAAMA,EACNS,oBAAqBf,EACrBgB,aAAW,EACXR,QAAS,kBAAOC,GAAQD,MAExB,kBAACS,EAAA,EAAD,CAAaC,MAAO,CAAEC,UAAW,WAAa9rB,GAC9C,kBAAC+rB,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KAAMhB,IAER,kBAACiB,EAAA,EAAD,CAAeJ,MAAO,CAAEK,QAAS,UAC7Bb,GACA,kBAACc,EAAA,EAAD,CAAQ3T,QAAQ,YAAY4T,QAASjB,GAClCG,EAAK3a,gBAIV,kBAACwb,EAAA,EAAD,CAAQ3T,QAAQ,YAAY6T,MAAM,UAAUD,QAASlB,GAClDI,EAAK5a,oBCzCVkH,EAAYC,aAAW,kBAAkB,CAC7CyU,IAAK,CACHx5B,MAAO,MACP0U,SAAU,QACV+kB,QAAQrU,EAJiB,EAAGA,SAIZ,IAChBsU,WAAY,WAkEDC,EA9DS,SAAC,GAKlB,IAJLv1B,EAII,EAJJA,KACAk1B,EAGI,EAHJA,QAGI,IAFJM,8BAEI,MAFqB,GAErB,MADJ/rB,YACI,MADG,GACH,EACE0X,EAAUT,IACV+U,EAAWC,cAFb,EAGoBC,oBAAS,GAH7B,mBAGG5B,EAHH,KAGS6B,EAHT,KAKJC,qBAAU,WACR,IAAKX,EAAS,CACZ,IAAMY,EAAQC,YAAW,WACvBN,EAAS,GAAD,OACM,YAATz1B,EAAqBumB,MAAqBA,UAE9C,KACH,OAAO,kBAAMyP,aAAaF,OAE3B,CAACZ,EAASO,EAAUz1B,IAUvB,OACE,kBAAC80B,EAAA,EAAD,KACY,aAATrrB,EACC,kBAAC,EAAD,CACE0qB,cAAc,EACdJ,KAAMA,EACNG,MAAM,EACNF,YAfU,WAChB4B,GAAQ,GACRH,EAASlP,IAAe,mCACxBwP,YAAW,WACTb,MACC,OAMC,wCASA,kBAACJ,EAAA,EAAD,CAAK1T,UAAWD,EAAQiU,KACtB,kBAACH,EAAA,EAAD,CACEN,MAAO,CACLsB,cAAe,aACfC,gBAAiB,eACjBf,MAAO,QACPH,QAAS,OAEXT,WAAS,EACTW,QAASA,EACTiB,KAAK,QACL7U,QAAQ,aAEPkU,M,qICnDEvC,eACb,kBAAgB,CACdniB,QADF,EAAGsX,MACctX,YAEjB,SAAC2kB,GACC,MAAO,CACLxB,QAAS,WACPwB,EAASlP,WAPF0M,EAZD,SAAC,GAA0B,IAAxBniB,EAAuB,EAAvBA,QAASmjB,EAAc,EAAdA,QACxB,OACE,kBAACmC,EAAA,EAAD,CACEC,aAAc,CAAEC,WAAY,SAAUC,SAAU,UAChDC,iBAAkBhgB,IAClB1F,QAASA,EACTmjB,QAASA,EACTF,OAAQjjB,O,kBCRR2lB,EAAUC,aAAW,kBAAiB,CAC1CC,SAAU,CACRC,OAFuB,EAAGA,OAEXC,OAAS,EACxB1B,MAAO,WAHKuB,EAKZ,YAA2B,IAAxBvV,EAAuB,EAAvBA,QAASmI,EAAc,EAAdA,QACd,OACE,kBAACwN,EAAA,EAAD,CAAU1V,UAAWD,EAAQwV,SAAU5C,KAAMzK,GAC3C,kBAACyN,EAAA,EAAD,CAAkB5B,MAAM,gBAKflC,gBAAQ,YACrB,MAAO,CACL3J,QAFoC,EAAdA,WAAX2J,CAIZwD,G,6ECQGO,GAAqB,SAACvB,GAC1B,MAAO,CACL3S,OAAQ,WACN2S,EAASlP,QAEX0Q,QAAS,WACPxB,EAASlP,QAEX2Q,QAAS,WACPzB,EAASlP,IAAgB4Q,KAAU3K,SAErC4K,YAAa,WACX9iC,KAAGM,MAAM2V,IAAI,YAAYua,MAAK,SAAClwB,GAC7B,GAAKA,EAAL,CADuC,IAKzB8yB,EACV9yB,EAAMuW,KADRuc,SAAYA,SAEd+N,EAASlP,IAAmBmB,SAGhC2P,eAAgB,WACdC,aAAkB7B,IAEpB8B,kBAAmB,SAACpsB,GAClBsqB,EAASlP,IAAyBpb,KAEpCqsB,SAAU,SAACnlB,EAAS7d,EAAMijC,GACX,sBAATjjC,GACFihC,EAASlP,IAAoCkR,IAC7CplB,EAAQqlB,UAERrlB,EAAQqlB,YAoBVC,GAAWjB,aAAW,YAAkB,IAAf1V,EAAc,EAAdA,QAC7B,MAAO,CACL4W,OAAQ,CACNC,kBAAmB,UACnBC,kBAAmB,QACnBC,kBAAmB,GAErBC,QAAS,CACPC,UAAWjX,EAAQ,KACnBkV,gBAAiB,mBACjBf,MAAO,SAET+C,KAAM,CACJC,SAAUnX,EAAQ,IAEpBoX,OAAQ,CACNxD,UAAW,OACXyD,KAAM,EACNC,WAAY,kGACZC,SAAU,IAEZC,OAAQ,CACN5D,UAAW,SACXyD,KAAM,EACNC,WAAY,kGACZC,SAAU,WAzBC7B,CA6BfzD,YACE,KACA+D,GAFF/D,EAIE,YAOO,IANL9R,EAMI,EANJA,QACA8V,EAKI,EALJA,QACAnuB,EAII,EAJJA,MACA2vB,EAGI,EAHJA,UAGI,IAFJC,2BAEI,SADJhB,EACI,EADJA,OAEA,OACE,kBAACiB,EAAA,EAAD,CAAQC,UAAW,EAAGxX,UAAWD,EAAQyW,QACvC,kBAACiB,EAAA,EAAD,CAASzX,UAAWD,EAAQ6W,SACX,IAAdS,GACC,kBAACK,EAAA,EAAD,CACEC,aAAW,OACXR,SAAS,QACTrD,QAAS,WACPwC,OAIN,kBAACsB,EAAA,EAAD,CACE1X,QAAQ,YACRF,UAAyB,IAAdqX,EAAkBtX,EAAQiX,OAASjX,EAAQqX,QAErD1vB,GAEF4vB,GACC,kBAACO,EAAA,EAAD,CAASV,SAAS,QAAQrD,QAAS,kBAAM+B,aASjDiC,GAAYxC,aAAW,YAAkB,IAAf1V,EAAc,EAAdA,QAC9B,MAAO,CACLyW,KAAM,CACJnnB,SAAU,QACV+kB,OAAQ,EACRz5B,MAAO,OACPilB,OAAQmG,OAAOmS,OAAOtY,QAAU,MAAQG,EAAQ,IAAMA,EAAQ,IAEhEoY,QAAS,CACPpE,QAAS,EACT,aAAc,CACZqE,WAAY,GAEdlB,SAAU,SAEZz3B,SAAU,GACV44B,QAAS,CACPC,aAAcvY,EAAQ,IACtBwY,UAAW,iBAlBC9C,EAqBf,YAAqC,IAAlCvV,EAAiC,EAAjCA,QAASzgB,EAAwB,EAAxBA,SAAU+4B,EAAc,EAAdA,QACjBrF,EAAO5T,IAAM6T,WAAW9T,KACxB0D,EAAOxB,KAAKsE,MAAMC,OAAOC,aAAaC,QAAQ,SAE9CwS,GADG,OAAGzV,QAAH,IAAGA,OAAH,EAAGA,EAAMU,OACGzZ,QAAQ,OAAS,EAEtC,OACE,6BACE,kBAACyuB,EAAA,EAAD,CAAkB5/B,MAAO2G,EAAUk5B,YAAU,EAACxY,UAAWD,EAAQsW,MAC/D,kBAACoC,EAAA,EAAD,CACElF,MAAO,CAAEmF,QAASJ,EAAQ,OAAO,IACjCvY,QAAS,CACPsW,KAAMtW,EAAQiY,QACd14B,SAAUygB,EAAQzgB,UAEpBw3B,KAAM,kBAAC6B,EAAA,EAAD,CAAUpF,MAAO,CAAE9T,OAAQ,QACjCuS,UAAW4G,KACX/gC,MAAOm7B,EAAKnd,iBACZ3W,GAAG,IACHvG,MAAM,eAER,kBAAC8/B,EAAA,EAAD,CACElF,MAAO,CAAEmF,QAASJ,EAAS,OAAS,IACpCvY,QAAS,CACPsW,KAAMtW,EAAQiY,QACd14B,SAAUygB,EAAQzgB,UAEpB0yB,UAAW4G,KACX9B,KACE,yBACE75B,IAAkB,aAAbqC,EAA0Bu5B,KAAsBC,KACrDrZ,OAAO,KACPO,UAAWD,EAAQmY,QACnBjY,IAAI,KAGR/gB,GAAG,YACHrH,MAAOm7B,EAAKhd,4BACZrd,MAAM,aAER,kBAAC8/B,EAAA,EAAD,CACE1Y,QAAS,CACPsW,KAAMtW,EAAQiY,QACd14B,SAAUygB,EAAQzgB,UAEpB0yB,UAAW4G,KACX9B,KAAM,kBAACiC,EAAA,EAAD,MACNlhC,MAAOm7B,EAAK9c,sBACZhX,GAAG,kBACHvG,MAAM,mBAER,kBAAC8/B,EAAA,EAAD,CACE1Y,QAAS,CACPsW,KAAMtW,EAAQiY,QACd14B,SAAUygB,EAAQzgB,UAEpB0yB,UAAW4G,KACX9B,KACE,yBACE75B,IAAkB,OAAbqC,EAAoB05B,IAAUC,IACnCz+B,MAAM,KACNylB,IAAI,KAGRpoB,MAAOm7B,EAAK7c,mBACZjX,GAAG,MACHvG,MAAM,QAGV,kBAACugC,GAAD,CAAMb,QAASA,QAKfa,GAAO5D,aAAW,YAAkB,IAAf1V,EAAc,EAAdA,QACzB,MAAO,CACLuZ,UAAW,CACTjqB,SAAU,QACVkqB,MAAO,MACPnF,OAAQrU,EAAQ,GAChBkV,gBAAiB,MACjBuE,aAAc,OACdtF,MAAO,QACPv5B,MAAO,OACPilB,OAAQ,OACR+T,UAAW,SACX8F,WAAY1Z,EAAQ,GAAK,SAZlB0V,EAeV,YAA2B,IAAxBvV,EAAuB,EAAvBA,QAASsY,EAAc,EAAdA,QACPpnB,EAAUsoB,cAEhB,OACE,6BACGlB,EAAU,GACT,0BACErY,UAAWD,EAAQoZ,UACnBrF,QAAS,kBAAM7iB,EAAQnR,KAAK,qBAE3Bu4B,OAOLmB,GAAgBlE,aAAW,YAAkB,IAAf1V,EAAc,EAAdA,QAClC,MAAO,CACL6Z,KAAM,CACJvqB,SAAU,QACVwqB,IAAK9Z,EAAQ,KACb+Z,KAAM,EACNP,MAAO,EACPnF,OAAQrO,OAAOmS,OAAOtY,QAAU,MAAQG,EAAQ,IAAMA,EAAQ,GAC9Dga,UAAW,aARKtE,EAYpB,YAiBO,IAhBLvV,EAgBI,EAhBJA,QACA2S,EAeI,EAfJA,SACAt/B,EAcI,EAdJA,KACA0iC,EAaI,EAbJA,QACAE,EAYI,EAZJA,YACAC,EAWI,EAXJA,eACAvuB,EAUI,EAVJA,MACA2vB,EASI,EATJA,UACAC,EAQI,EARJA,oBAQI,IAPJuC,sBAOI,SANJvD,EAMI,EANJA,OAMI,IALJwD,kBAKI,SAJJ1D,EAII,EAJJA,SACAD,EAGI,EAHJA,kBACAE,EAEI,EAFJA,KACAgC,EACI,EADJA,QAEMpnB,EAAUsoB,cAEVnH,EAAW2H,cAEXC,EAAUC,iBAAO,MAEnBC,EAAY,EAChBzF,qBAAU,WACRsB,OAEAC,IACA5rB,SAAS1C,MAAT,0CACAoyB,GAAchE,IACdG,MACC,CAACD,EAAatuB,EAAOouB,EAASG,EAAgB6D,IAMjD,OACE,kBAAC,WAAD,KACE,kBAACvD,GAAD,CACE7uB,MAAOA,EACP2vB,UAAWA,EACXC,oBAAqBA,EACrBhB,OAAQ,kBACNuD,EAAiBzD,EAASnlB,EAAS7d,EAAMijC,GAAQC,OAGrD,0BAAMtW,UAAWD,EAAQ0Z,KAAMU,SAdf,SAAC3qB,GACnB0qB,EAAY1qB,EAAE4qB,OAAOC,UACrBlE,EAAkB,CAAExL,SAAUyH,EAASD,SAAUjjB,SAAUgrB,KAYH3H,IAAKyH,GACxDtH,GAEH,kBAACoF,GAAD,CAAWx4B,SAAUlM,EAAMilC,QAASA,IACpC,kBAAC,GAAD,MACA,kBAAC,EAAD,UAMOxG,gBAzRS,SAACrL,GACvB,IAAI+D,EAAQjtB,OAAOC,KAAP,OAAYipB,QAAZ,IAAYA,OAAZ,EAAYA,EAAO+D,OAAO1sB,OAAS,EAAnC,OAAuC2oB,QAAvC,IAAuCA,OAAvC,EAAuCA,EAAO+D,MAAQ,GAC9D8N,EAAU,EASd,OARiBiC,aAAgC/P,GACVvnB,QAAO,SAACu3B,EAAMvV,EAAOwV,GAAd,OAC5CxV,IAAUwV,EAAKC,WAAU,SAAAhyB,GAAC,OAAIA,EAAEiyB,WAAaH,EAAKG,eAE9B59B,SAAQ,SAACuK,GAC7BgxB,GAAYhxB,EAAKszB,cAAgBtzB,EAAKuzB,iBAAmBvzB,EAAKwzB,iBAGzD,CAAExC,aA8Q6BzC,GAAzB/D,CAA6C2H,ICtVtDla,GAAYC,aAAW,gBAAGK,EAAH,EAAGA,QAAH,MAAkB,CAC7Ckb,IAAK,CACHtH,UAAW,SACX7T,OAAQC,EAAQ,EAAG,IAErBmb,aAAc,CACZ7G,WAAYtU,EAAQ,IAEtBob,KAAM,CACJrb,OAAQC,EAAQ,EAAG,IAErBqb,SAAU,CACRC,aAAc,iCAEhBxzB,MAAO,CACLiY,OAAQC,EAAQ,EAAG,IAErBnO,OAAQ,CACNvC,SAAU,QACV1U,MAAO,OACPy5B,OAAQrU,EAAQ,IAChB4T,UAAW,UAEb2H,OAAQ,CACNrG,gBAAiB,eACjBf,MAAO,aA4DIlC,gBACb,WAQErL,GACI,IAAD,IAPDD,gBAQF,MAAO,CACL6N,uBAFC,EANCzN,qBASFC,0BAHC,EALCA,0BASFwU,2BAJC,EAJC1U,4BANOmL,EAxDG,SAAC,GAA2D,IAAzDuC,EAAwD,EAAxDA,uBAAwBxN,EAAgC,EAAhCA,0BACrC7G,EAAUT,KACV0T,EAAO5T,IAAM6T,WAAW9T,KAgB9B,OACE,kBAAC,GAAD,CAAezX,MAAOsrB,EAAKrZ,eACzB,kBAAC+Z,EAAA,EAAD,CAAK1T,UAAWD,EAAQ+a,KACtB,yBAAK79B,IAAKo+B,IAAM7gC,MAAM,MAAMylB,IAAI,KAChC,kBAAC2X,EAAA,EAAD,CAAY1X,QAAQ,KAAKF,UAAWD,EAAQrY,OACzCsrB,EAAK/X,kCAER,kBAAC2c,EAAA,EAAD,CAAY1X,QAAQ,SAAS8S,EAAK1X,gBAAlC,WAEF,kBAACsc,EAAA,EAAD,CAAY1X,QAAQ,QAAQob,MAAM,SAASvH,MAAM,iBAC9CK,EACC,0BAAMb,MAAO,CAAEQ,MAAO,QAAUf,EAAK9X,2BAErC8X,EAAK7X,wBAGT,kBAAC,EAAD,CACEvc,KAAK,YACLw1B,uBACEA,EACIpB,EAAKhY,gBACLgY,EAAK5X,sBAEX0Y,QACEM,EAtCoB,WAC1B,IAAMmH,EAAsB3U,EAA0B4U,QAClDD,IACFA,EAAoBE,YAAY,CAAE78B,KAAM,iBAExC28B,EAAoBG,iBAAiB,eAAe,SAAClsB,GAC5B,cAAnBA,EAAE4qB,OAAO5T,QACXZ,OAAOC,aAAa8V,WAAW,mBAC/B/V,OAAOwM,SAASwJ,eAgCZ,kBAAMhW,OAAOwM,SAASwJ,YAG9B,kBAAClI,EAAA,EAAD,CAAK1T,UAAWD,EAAQtO,QACtB,kBAACmmB,EAAA,EAAD,CAAY1X,QAAQ,QAAQ6T,MAAM,iBAC/Bf,EAAK3X,wB,oBC7EVwgB,GAAgBvG,aAAW,YAA2B,IAAxB1V,EAAuB,EAAvBA,QAAuB,EAAdkc,QAC3C,MAAO,CACLzF,KAAM,CACJvB,gBAAiB,UACjBlB,QAAShU,EAAQ,KAAM,EAAG,KAAM,KAChCuY,aAAcvY,EAAQ,OAGxBhoB,KAAM,CACJu/B,SAAUvX,EAAQ,KAClBmU,MAAO,WAETgI,QAAS,CACPvhC,MAAOolB,EAAQ,IACfmU,MAAO,kBACPe,gBAAiB,gBACjBuE,aAAczZ,EAAQ,KACtB0Z,WAAY,QACZ1F,QAAShU,EAAQ,IAAM,OAEzBoc,QAAS,CACPxhC,MAAOolB,EAAQ,IACfmU,MAAO,kBACPe,gBAAiB,oBACjBuE,aAAczZ,EAAQ,KACtB0Z,WAAY,QACZ1F,QAAShU,EAAQ,IAAM,OAEzBub,OAAQ,CACN3gC,MAAOolB,EAAQ,IACfyZ,aAAczZ,EAAQ,KACtB0Z,WAAY,QACZ1F,QAAShU,EAAQ,IAAM,UAhCP0V,EAoCpB,YAeO,IAAD,EAdJvV,EAcI,EAdJA,QACAiP,EAaI,EAbJA,eACA3G,EAYI,EAZJA,cACA4T,EAWI,EAXJA,YACA/S,EAUI,EAVJA,YACAgT,EASI,EATJA,YACArU,EAQI,EARJA,cACAsU,EAOI,EAPJA,kBACAzT,EAMI,EANJA,kBACA0T,EAKI,EALJA,YACAC,EAII,EAJJA,QACAC,EAGI,EAHJA,gBACAC,EAEI,EAFJA,MACAC,EACI,EADJA,YAEMvrB,EAAUsoB,cACVvG,EAAO5T,IAAM6T,WAAW9T,KAExBsd,GACJ,UAAA/T,EAAkBsG,UAAlB,eAAmCllB,QACjCof,EAAc,IAAM8F,KACjB,EACD0N,GACO,OAAXN,QAAW,IAAXA,OAAA,EAAAA,EAAatyB,QAAQof,EAAc,IAAM8F,KAAmB,EAC9D,OACE,yBACEhP,UAAWD,EAAQsW,KACnBvC,QAAS,kBAAMuI,EAAQprB,EAASiY,KAEhC,kBAACyT,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,GACvB,kBAAC+c,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACb,kBAACjF,EAAA,EAAD,CAAY1X,QAAQ,MAAMgJ,GAC1B,kBAAC0O,EAAA,EAAD,CAAY1X,QAAQ,QAAQ4c,OAAO,aAChCX,IAGL,kBAACQ,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACb,kBAAChJ,EAAA,EAAD,CACEkJ,UAAQ,EACRhd,QAAS,CACPsW,KAAMoG,EACF1c,EAAQgc,QACRW,EACA3c,EAAQic,QACRjc,EAAQob,SAGd,kBAACvD,EAAA,EAAD,CAAY1X,QAAQ,WAAW+b,IAEjC,kBAACpI,EAAA,EAAD,CAAQkJ,UAAQ,EAAC7c,QAAQ,YAAYF,UAAWD,EAAQob,QACtD,kBAACvD,EAAA,EAAD,CAAY1X,QAAQ,WAAWmI,MAIrC,kBAACsU,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,GACvB,kBAAC+c,GAAA,EAAD,CAAMt1B,MAAI,EAAC2Y,UAAWD,EAAQiY,SAC3BhF,EAAK9V,oBADR,KAGA,kBAACyf,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,IAAE,EAAC7c,UAAWD,EAAQiY,SAC9BsE,IAGL,kBAACK,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,GACvB,kBAAC+c,GAAA,EAAD,CAAMt1B,MAAI,EAAC2Y,UAAWD,EAAQiY,SAC3BhF,EAAK5U,mBADR,KAGA,kBAACue,GAAA,EAAD,CAAMt1B,MAAI,EAAC2Y,UAAWD,EAAQiY,SAC3BuE,IAGL,kBAACI,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,GACvB,kBAAC+c,GAAA,EAAD,CAAMt1B,MAAI,EAAC2Y,UAAWD,EAAQiY,SAC3BhF,EAAK3U,0BADR,KAGA,kBAACse,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,IAAE,EAAC7c,UAAWD,EAAQiY,SAC9BwE,IAGL,kBAACG,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,GACvB,kBAAC+c,GAAA,EAAD,CAAMt1B,MAAI,EAAC2Y,UAAWD,EAAQiY,SAC3BhF,EAAKlc,uBADR,KAGA,kBAAC6lB,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,IAAE,EAAC7c,UAAWD,EAAQiY,SAC9BnQ,IAGL,kBAAC8U,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,GACvB,kBAAC+c,GAAA,EAAD,CAAMt1B,MAAI,EAAC2Y,UAAWD,EAAQiY,SAC3BhF,EAAK/U,0BADR,KAGA,kBAAC0e,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,IAAE,EAAC7c,UAAWD,EAAQiY,SAC9BkE,QAiEErK,gBAzDS,SAACrL,EAAOwW,GAAc,IAE1CvU,EAMEjC,EANFiC,OACAN,EAKE3B,EALF2B,gBACAO,EAIElC,EAJFkC,kBACA/F,EAGE6D,EAHF7D,SACAgG,EAEEnC,EAFFmC,gBACA6B,EACEhE,EADFgE,MAEMpzB,EAAwB4lC,EAAxB5lC,OAAQglC,EAAgBY,EAAhBZ,YAT2B,EAiBvCjU,EAAgB/wB,GANlB43B,EAXyC,EAWzCA,eACA3G,EAZyC,EAYzCA,cACA4T,EAbyC,EAazCA,YACA/S,EAdyC,EAczCA,YACA+T,EAfyC,EAezCA,iBACAC,EAhByC,EAgBzCA,eAhByC,EAkBFzU,EAAOS,GAAxCU,EAlBmC,EAkBnCA,cAAe/B,EAlBoB,EAkBpBA,cACFqU,EAAgBvZ,EAASkF,GAAtCnI,YACMyc,EAAsBxT,EAAgBiB,GAA5Cx2B,KAEFmpC,EAAQY,aAAsB3S,EAAOtB,EAAa,SAElDsT,EAAcW,aAAsB3S,EAAOtB,EAAa,eAC9D,MAAO,CACL8F,iBACA3G,cAAeA,EACX,IAAI/nB,KAAK+nB,GAAe+U,qBACxB,IACJnB,YAAaA,EACT,IAAI37B,KAAK27B,GAAamB,qBACtBH,GAAoBC,EACpB,IAAI58B,KAAK48B,GAAgBE,qBACzB,IACJlU,cACAR,oBACA0T,cACAxS,gBACAuS,oBACAD,cACArU,gBACAyU,gBAAiB7T,EAAOS,GAAaoT,gBACrCC,QACAC,kBAIuB,SAACnI,GAC1B,MAAO,CACLgI,QAAS,SAACprB,EAASiY,GACjBjY,EAAQnR,KAAR,iBAAuBopB,IACvBmL,EAASlP,IAAoC,cAKpC0M,CAA6CgK,ICpG7ChK,gBA5ES,SAACrL,EAAOwW,GAAc,IACpC7U,EAAoD3B,EAApD2B,gBAAiBO,EAAmClC,EAAnCkC,kBAAmBa,EAAgB/C,EAAhB+C,YACpCyF,EAAmCgO,EAAnChO,eAAgBqO,EAAmBL,EAAnBK,eAClBC,GAAQ,IAAIh9B,MAAOi9B,SAAS,EAAG,EAAG,EAAG,GAEvCC,EAAc,GACdpB,EAAc,GACdqB,EAAc,GAGZC,EAA0B,SAAC1C,GAC/B,IAAM2C,EAAW,GAOjB,OANA3C,EAAKl+B,SAAQ,SAACsJ,GACZu3B,EAASv3B,GAAO+hB,EAAgB/hB,GAAK61B,YACjC9T,EAAgB/hB,GAAK61B,YACrB9T,EAAgB/hB,GAAK82B,kBAGpBlC,EAAKxN,MAAK,SAACoQ,EAAGC,GAAJ,OACfF,EAASC,GAAMD,EAASC,GAAKD,EAASE,GAAK,GAAK,EAAK,MAmDzD,OA/CAvgC,OAAOC,KAAK4qB,GAAiBrrB,SAAQ,SAACsJ,GAcF,IAAD,EAbjC,GACE+hB,EAAgB/hB,GAAK4oB,iBAAmBA,GACxC/zB,KACEktB,EAAgB/hB,GAAK61B,YACjB9T,EAAgB/hB,GAAK61B,YACrB9T,EAAgB/hB,GAAK62B,kBACrB9U,EAAgB/hB,GAAK82B,eACrB/U,EAAgB/hB,GAAK82B,eACrB,KACJI,EACA/T,GAGF,GAAuB,SAAnB8T,GACF,UAAI3U,EAAkBsG,UAAtB,aAAI,EAAmCx6B,SAAS4R,KAC9Co3B,EAAY19B,KAAKsG,GACjBo3B,EAAcE,EAAwBF,IAC5BrV,EAAgB/hB,GAAKiiB,gBAC/B+T,EAAYt8B,KAAKsG,GACjBg2B,EAAcsB,EAAwBtB,SAEnC,GAAuB,cAAnBiB,EAAgC,CAAC,IAAD,IAEvC,UAAC3U,EAAkBsG,UAAnB,aAAC,EAAmCx6B,SAAS4R,KAC7C+hB,EAAgB/hB,GAAKiiB,gBAErBoV,EAAY39B,KAAKsG,GACjBq3B,EAAcC,EAAwBD,QAEnC,CAAC,IAAD,GACL,UAAI/U,EAAkBsG,UAAtB,aAAI,EAAmCx6B,SAAS4R,KAC9Co3B,EAAY19B,KAAKsG,GACjBo3B,EAAcE,EAAwBF,IAC7BrV,EAAgB/hB,GAAKiiB,eAC9BoV,EAAY39B,KAAKsG,GACjBq3B,EAAcC,EAAwBD,KAEtCrB,EAAYt8B,KAAKsG,GACjBg2B,EAAcsB,EAAwBtB,QAQvC,CACLjU,gBAH2BqV,EAAY3oB,OAAOunB,EAAaqB,GAI3DrB,YAAaA,KAIFvK,EAhGG,SAAC,GAAsC,IAApC1J,EAAmC,EAAnCA,gBAAiBiU,EAAkB,EAAlBA,YACpC,OACE,kBAAC0B,GAAA,EAAD,CACEvK,MAAO,CACLrkB,SAAU,WACV4lB,gBAAiB,UACjBrV,OAAO,oBACPjlB,MAAO,OACPujC,SAAU,gBAGX5V,EAAgBzjB,KAAI,SAAC2C,GACpB,OACE,kBAAC,GAAD,CAAejB,IAAKiB,EAAMjQ,OAAQiQ,EAAM+0B,YAAaA,WCVzD9c,GAAYC,aAAW,cAAGye,MAAH,EAAUpe,QAAV,MAAyB,CACpD6Z,KAAM,CAGJvqB,SAAU,WACVuQ,OAAQmG,OAAOmS,OAAOtY,OAAS,IAAM,KACrCjlB,MAAO,OACPujC,SAAU,mBAyDClM,gBAVS,SAACrL,EAAOwW,GAAc,IACpCjW,EAAeP,EAAfO,WAGQiI,EAFEgO,EAAVroC,MACAy4B,OACAh2B,OAGR,MAAO,CAAE43B,iBAAgBiP,kBAFIlX,EAAWiI,IAAmB,IAAnDiP,oBAKKpM,EArDY,SAAC,GAA0C,IAAxC7C,EAAuC,EAAvCA,eAAgBiP,EAAuB,EAAvBA,iBACtCjL,EAAO5T,IAAM6T,WAAW9T,KAExB+e,EAAYjE,iBAAO,MACnBla,EAAUT,KAEV8S,EAAW2H,cAejB,OANAtF,qBAAU,WACRE,YAAW,WACTwJ,aAAiBD,EAAW9L,EAASD,YACpC,OACF,CAACC,EAASD,WAGX,kBAAC,GAAD,CACEzqB,MACEsrB,EAAKrc,gCACL,KACAqY,EACA,MACAiP,GAQF,yBAAKje,UAAWD,EAAQ0Z,KAAMlH,IAAK2L,GACjC,kBAAC,GAAD,CAAWb,eAAe,OAAOrO,eAAgBA,S,yDC9CnDoP,GAAe9I,aAAW,YAAiB,EAAd1V,QACjC,MAAO,CACLmc,QAAS,CACPjH,gBAAiB,MACjBf,MAAO,SAETsK,OAAQ,CACNvJ,gBAAiB,UACjBf,MAAO,SAETuK,UAAW,CACT5F,QAAS,OACT6F,cAAe,SACfC,WAAY,SACZhkC,MAAO,MACPo5B,QAAS,UAEX6K,KAAM,CACJtH,SAAU,OACVjD,WAAY,MAnBGoB,EAsBlB,YAAiE,IAA9DvV,EAA6D,EAA7DA,QAAS2I,EAAoD,EAApDA,kBAAmB3e,EAAiC,EAAjCA,KAAM20B,EAA2B,EAA3BA,qBAChCztB,EAAUsoB,cACVvG,EAAO5T,IAAM6T,WAAW9T,KAU9B,OAR6B,SAACuf,GAC5BjK,qBAAU,WACRiK,EAAqBhW,KACpB,CAACgW,IAGNC,CAAqBD,GAGnB,kBAAChL,EAAA,EAAD,KACG3pB,EAAKrF,KAAI,SAACk6B,EAAU5Z,GAAW,IAAD,EAC7B,OAAO4Z,EAASC,MAAQ,EACtB,yBAAKz4B,IAAK4e,GACR,kBAAC8Z,GAAA,EAAD,CACEtH,UAAW,EACX1D,QAAS,WACP7iB,EAAQnR,KAAR,oBAA0B8+B,EAASxnC,UAErCm8B,MAAO,CAAE5T,OAAQ,QAAS0Z,aAAc,MAExC,kBAAC3F,EAAA,EAAD,CACEH,MAAO,CACLmF,QAAS,OACT6F,cAAe,MACfC,WAAY,SACZO,eAAgB,SAChBtf,OAAQ,KAGV,kBAACiU,EAAA,EAAD,CACEH,MAAO,CAAE/4B,MAAO,MAChBwlB,UAAWgf,MAAU,8BACfjf,EAAQgc,SAAY6C,EAAS7C,QAAU,GADxB,yBAEfhc,EAAQse,QAAWO,EAAS7C,SAAW,GAFxB,KAKrB,yBACExI,MAAO,CACL/4B,MAAM,MACNilB,OAAO,WAIb,kBAACkd,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,EAAGI,UAAWD,EAAQ0e,MAC7C,kBAAC9B,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACb,kBAACjF,EAAA,EAAD,CAAYrE,MAAO,CAAE0L,WAAY,SAC9BL,EAASxnC,QAEZ,kBAACs8B,EAAA,EAAD,KACGkL,EAASM,kBACNN,EAASM,kBAAoB,gBAC7BN,EAASX,kBAEf,kBAACvK,EAAA,EAAD,KACGkL,EAASO,mBACNP,EAASO,mBAAqB,gBAC9B,KAGR,kBAACxC,GAAA,EAAD,CAAMt1B,MAAI,EAACksB,MAAO,CAAEC,UAAW,UAAYqJ,GAAI,GAC7C,kBAACjF,EAAA,EAAD,CAAY7D,MAAM,aAAa6K,EAASC,OACxC,kBAACnL,EAAA,EAAD,KAAMV,EAAKld,+BAEb,kBAAC6mB,GAAA,EAAD,CACEt1B,MAAI,EACJksB,MAAO,CAAEC,UAAW,SAAUI,QAAS,YACvCiJ,GAAI,GAEJ,kBAACjF,EAAA,EAAD,CAAY7D,MAAM,aACf6K,EAASQ,YAEZ,kBAAC1L,EAAA,EAAD,KAAMV,EAAKjV,sBAEb,kBAAC4e,GAAA,EAAD,CAAMt1B,MAAI,EAACksB,MAAO,CAAEC,UAAW,UAAYqJ,GAAI,GAC7C,kBAACjF,EAAA,EAAD,CAAY7D,MAAM,aACf6K,EAAS7C,SAEZ,kBAACrI,EAAA,EAAD,KAAMV,EAAKjd,uCAMnB,YAsNG8b,gBAhNS,SAAC,GAKlB,IAJL9K,EAII,EAJJA,WACAoB,EAGI,EAHJA,gBACAoB,EAEI,EAFJA,YACA1G,EACI,EADJA,KAEMya,GAAQ,IAAIh9B,MAAOi9B,SAAS,EAAG,EAAG,EAAG,GAEvC7U,EAAoB,GAElBmW,EAAQ,SAAC7P,GACb,OAAO1xB,OAAOC,KAAK4qB,GAAiBnlB,QAAO,SAACoD,GAC1C,OACE+hB,EAAgB/hB,GAAK4oB,iBAAmBA,IACvC7G,EAAgB/hB,GAAKiiB,eACtBptB,KACEktB,EAAgB/hB,GAAK61B,YACjB9T,EAAgB/hB,GAAK61B,YACrB9T,EAAgB/hB,GAAK82B,eACzBI,EACA/T,MAGH1rB,QA8DCk+B,EAAU,SAAC/M,GACf,IAqBMwO,EAAclgC,OAAOC,KAAK4qB,GAAiBnlB,QAAO,SAACoD,GACvD,OACE+hB,EAAgB/hB,GAAK4oB,iBAAmBA,GACxC/zB,KACEktB,EAAgB/hB,GAAK61B,YACjB9T,EAAgB/hB,GAAK61B,YACrB9T,EAAgB/hB,GAAK82B,eACzBI,EACA/T,IA7BmB,SAAC8V,GACxB,IAAMC,EAAgBnX,EAAgBkX,GACtC,QAAIC,IACGA,EAAcrD,YASf,IAAI37B,KAAKg/B,EAAcrD,aAAasD,UAAYjC,IAC/CgC,EAAcjX,cATbiX,EAAcrC,kBAAoBqC,EAAcpC,eAEhD,IAAI58B,KAAKg/B,EAAcpC,gBAAgBqC,UAAYjC,IAClDgC,EAAcjX,mBAHnB,GA2BFmX,CAAiBp5B,MAQrB,OAJIo3B,EAAY3/B,OAAS,IACvB6qB,EAAkBsG,GAAkBwO,GAG/BA,EAAY3/B,QAmBjB4hC,EAAsB,GAC1BniC,OAAOC,KAAK4qB,GAAiBrrB,SAAQ,SAACuK,GACpCo4B,EAAoB3/B,KAAKqoB,EAAgB9gB,OAG3C,IAAIq4B,EAAgB3Y,EACpB0Y,EAAoB3iC,SAAQ,SAACuK,GACvBq4B,EAAcr4B,EAAK2nB,kBACrB0Q,EAAcr4B,EAAK2nB,gBAAgBxB,KAAOnmB,EAAKmmB,SAInD,IAAImS,EAAiB,GACrBriC,OAAOC,KAAKmiC,GAAe5iC,SAAQ,SAACuK,GAClCs4B,EAAe7/B,KAAK4/B,EAAcr4B,OAGpC,IAAIu4B,EAAc,GAqBlB,OAXAA,EAAclS,aAAwB7K,EAAK8K,aAAc9K,EAAKU,MAAM,IAW7D,CACLxZ,MAVF41B,EAAiBA,EACd38B,QAAO,SAACqE,GACP,OAEEu4B,EAAYprC,SAAS6S,EAAKjQ,WAG7Bo2B,MAAK,SAACoQ,EAAGC,GAAJ,OAAWD,EAAEpQ,KAAQoQ,EAAEpQ,KAAOqQ,EAAErQ,KAAO,GAAK,EAAK,MAGlC9oB,KAAI,SAAC2C,GACxB,OAAO,6BACF0f,EAAW1f,EAAKjQ,SADrB,IAEEynC,MAAOA,EAAMx3B,EAAKjQ,QAClB2kC,QAASA,EAAQ10B,EAAKjQ,QACtBgoC,WAAYP,EAAMx3B,EAAKjQ,QAAU2kC,EAAQ10B,EAAKjQ,aAQlDsxB,kBAAmBA,MAII,SAAC2L,GAC1B,MAAO,CACLqK,qBAAsB,SAAC30B,GACrBsqB,EAASlP,IAA4Bpb,QAK5B8nB,CAA6CuM,I,oBCzUtD9e,GAAYC,aAAW,SAACye,GAAD,MAAY,CACvC6B,IAAK,CACHC,WAAY,SACZjL,cAAe,cAEjBwB,KAAM,CACJvB,gBAAiB,aAuCNiL,GAnCD,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,KAAMC,EAAoC,EAApCA,iBAAkBC,EAAkB,EAAlBA,YACjCngB,EAAUT,KADyC,EAG/BF,IAAMmV,SAAS0L,GAHgB,mBAGlDtnC,EAHkD,KAG3CwnC,EAH2C,KAYzD,OACE,kBAACC,GAAA,EAAD,CACEpgB,UAAWD,EAAQsW,KACnB19B,MAAOA,EACP0nC,eAAe,YACfC,UAAU,YACVC,SAboB,SAACC,EAAOC,GAC9BN,EAASM,GACLP,GACFA,EAAYO,IAWZvgB,QAAQ,aAEP8f,EAAKt7B,KAAI,SAAC2G,EAAG2Z,GACZ,OACE,kBAAC0b,GAAA,EAAD,CACEt6B,IAAK4e,EACLntB,MAAOwT,EAAE3D,MACT/O,MAAO0S,EAAE1S,MACTqnB,UAAWD,EAAQ8f,WC7BzBvgB,GAAYC,aAAW,cAAGye,MAAH,MAAyB,CACpDvE,KAAM,CACJ3E,gBAAiB,UACjBlB,QAAS,EACT1kB,SAAU,WACVwqB,KAAK9Z,EALoB,EAAUA,SAKtB,GACbH,OAAQmG,OAAOmS,OAAOtY,OAAS,IAAM,KACrCjlB,MAAO,OACPujC,SAAU,mBAiHClM,gBA9BQ,SAACrL,EAAOwW,GAAc,IAEzCzT,EAGE/C,EAHF+C,YACA5tB,EAEE6qB,EAFF7qB,SAHwC,EAKtC6qB,EADFD,gBAAmBI,EAJqB,EAIrBA,qBAAsBC,EAJD,EAICA,0BAI3C,MAAO,CACL2C,cACAD,YAJkB3tB,EAAS2tB,YAAc3tB,EAAS2tB,YAAc,GAKhE8K,uBAAwBzN,EACxBC,gCAIuB,SAACyN,GAC1B,MAAO,CACLwB,QAAS,WACPxB,EAASlP,IAAgB4Q,KAAU3K,SAErCuV,eAAgB,SAACpX,GACf8K,EAASlP,IAAsBoE,KAEjC4M,kBAAmB,SAACpsB,GAClBsqB,EAASlP,IAAyBpb,QAKzB8nB,EA7GU,SAAC,GAMnB,IALLtI,EAKI,EALJA,YACAoX,EAII,EAJJA,eACArX,EAGI,EAHJA,YACA1C,EAEI,EAFJA,0BACAwN,EACI,EADJA,uBAEMpB,EAAO5T,IAAM6T,WAAW9T,KACxBY,EAAUT,KACV4e,EAAYjE,iBAAO,MACnB7H,EAAW2H,cAEjBtF,qBAAU,WACRE,YAAW,WACTwJ,aAAiBD,EAAW9L,EAASD,YACpC,OACF,CAACC,EAASD,WAEb,IAAM6N,EAAO,CACX,CAAEt4B,MAAOsrB,EAAKtc,oBAAqB/d,MAAO,OAC1C,CAAE+O,MAAOsrB,EAAK3c,wBAAyB1d,MAAO,YAC9C,CAAE+O,MAAO,KAAOsrB,EAAKhV,mBAAoBrlB,MAAO,YAChD,CAAE+O,MAAO,KAAOsrB,EAAKhV,mBAAoBrlB,MAAO,aAChD,CAAE+O,MAAO,KAAOsrB,EAAKhV,mBAAoBrlB,MAAO,eAiBlD,OACE,kBAAC,GAAD,CACEvF,KAAK,aACLsU,MAAOsrB,EAAKtd,iCACZ2hB,UAAW,GAEX,kBAAC3D,EAAA,EAAD,CACEH,MAAO,CACL/4B,MAAO,OACP0U,SAAU,QACVsmB,OAAQ,MACRV,gBAAiB,UACjBrV,OAAQ,SAGV,kBAAC,GAAD,CACEugB,KAAMA,EACNC,iBAAkB1W,EAClB2W,YAAa,SAACvnC,GAAD,OAAWgoC,EAAehoC,OAG3C,yBAAKqnB,UAAWD,EAAQ0Z,KAAMlH,IAAK2L,GACjC,kBAAC,GAAD,OAGF,6BACmB,cAAhB5U,GAA+B8K,GAC9B,kBAAC,EAAD,CACEx1B,KAAK,YACLyJ,KAAK,WACLsqB,KAAMyB,EACNN,QA7CkB,WAC1B,IAAMyH,EAAsB3U,EAA0B4U,QAClDD,IACFA,EAAoBE,YAAY,CAAE78B,KAAM,iBAExC28B,EAAoBG,iBAAiB,eAAe,SAAClsB,GAC5B,cAAnBA,EAAE4qB,OAAO5T,QACXZ,OAAOC,aAAa8V,WAAW,mBAC/B/V,OAAOwM,SAASwJ,sB,4FC7CpBtc,GAAYC,aAAW,gBAAGK,EAAH,EAAGA,QAAH,MAAkB,CAC7C6Z,KAAM,CACJ9Z,OAAQC,EAAQ,EAAG,IAErBghB,YAAa,CACXzI,aAAcvY,EAAQ,IAExBihB,OAAQ,CACN3xB,SAAU,QACV+kB,OAAQrU,EAAQ,IAChBplB,MAAO,OAETsmC,SAAU,CACRC,UAAWnhB,EAAQ,QA8KRiS,gBAZQ,SAACrL,EAAOwW,GAC7B,MAAO,MAGkB,SAAC3I,GAC1B,MAAO,CACLwM,OAAQ,SAACG,GACP3M,EAASlP,IAAsB6b,QAKtBnP,EA1KQ,SAAC,GAAgB,IAAdgP,EAAa,EAAbA,OAClB9gB,EAAUT,KACV0T,EAAO5T,IAAM6T,WAAW9T,KAFO,EAITC,IAAMmV,SAAS,CACzC0M,YAAa,GACbC,YAAa,GACbC,mBAAoB,KAPe,mBAI9BH,EAJ8B,KAItBI,EAJsB,OAUKhiB,IAAMmV,SAAS,CACvD0M,aAAa,EACbC,aAAa,EACbC,oBAAoB,IAbe,mBAU9BE,EAV8B,KAUdC,EAVc,KAgB/Bj+B,EAAS,CACb,CACEjQ,KAAM,cACNyE,MAAOm7B,EAAKlY,qBACZymB,aAAcF,EAAeJ,aAE/B,CACE7tC,KAAM,cACNyE,MAAOm7B,EAAKnY,qBACZ0mB,aAAcF,EAAeH,aAE/B,CACE9tC,KAAM,qBACNyE,MAAOm7B,EAAKjY,iCACZwmB,aAAcF,EAAeF,mBAC7BL,SAAU,iLAYRU,EAA0B,SAAChB,GAC/BA,EAAMiB,kBA0BFC,EAAmB,SAACh4B,GACxB,IAAIi4B,EAAe,QAAQC,KAAKl4B,GAC5Bm4B,EAAe,QAAQD,KAAKl4B,GAC5Bo4B,EAAa,KAAKF,KAAKl4B,GACvBq4B,EAAe,KAAKH,KAAKl4B,GAE7B,OAAIA,EAAS7L,OAAS,GACpBmpB,MAAM,sDACC,GACEtd,EAAS7L,OAAS,IAC3BmpB,MAAM,6DACC,GACG2a,EAGAE,EAGAC,GAGAC,IACV/a,MAAM,uEACC,IAJPA,MAAM,2DACC,IAJPA,MAAM,uEACC,IAJPA,MAAM,uEACC,IAeX,OACE,kBAAC,GAAD,CAAetf,MAAOsrB,EAAKtZ,yBACzB,kBAACga,EAAA,EAAD,CAAK1T,UAAWD,EAAQ0Z,MACrBp2B,EAAOqB,KAAI,SAAC2C,EAAM2d,GACjB,OACE,kBAACgd,GAAA,EAAD,CACE7O,WAAS,EACT98B,UAAQ,EACR+P,IAAK4e,EACLhF,UAAWD,EAAQ6gB,aAEnB,kBAACqB,GAAA,EAAD,KAAa56B,EAAKxP,OAClB,kBAACqqC,GAAA,EAAD,CACEC,UAAU,IACVvjC,KAAMyI,EAAKk6B,aAAe,OAAS,WACnC5oC,MAAO0O,EAAKqC,SACZ62B,UAhFQ6B,EAgFe/6B,EAAKjU,KAhFX,SAACotC,GAC9BY,EAAU,6BAAKJ,GAAN,mBAAeoB,EAAO5B,EAAMpG,OAAOzhC,MAAM+D,YAgFtC2lC,aACE,kBAACC,GAAA,EAAD,CAAgBpzB,SAAS,OACvB,kBAACqzB,GAAA,EAAD,CACE5K,aAAW,6BACX7D,SAjFa1gC,EAiFoBiU,EAAKjU,KAjFhB,SAACotC,GACzCc,EAAgB,6BAAKD,GAAN,mBAAuBjuC,GAAQiuC,EAAejuC,QAiF3CovC,YAAahB,GAEZn6B,EAAKk6B,aAAe,kBAAC,KAAD,MAAiB,kBAAC,KAAD,UAK9C,kBAAC3J,EAAA,EAAD,CACE1X,QAAQ,QACR6T,MAAM,gBACN/T,UAAWD,EAAQ+gB,UAElBz5B,EAAKy5B,WA9FY,IAAC1tC,EAJXgvC,KAuGhB,kBAAC1O,EAAA,EAAD,CAAK1T,UAAWD,EAAQ8gB,QACtB,kBAAChN,EAAA,EAAD,CACEN,MAAO,CACLuB,gBAAiB,eACjBf,MAAO,QACPc,cAAe,cAEjB1B,WAAS,EACTW,QAAS,kBAnGQ,WACzB,GAAKkN,EAAOC,YAEL,GAAKD,EAAOE,YAEZ,IAAIQ,EAAiBV,EAAOE,aACjC,OAAO,EACF,GAAKF,EAAOG,mBAEZ,GAAIH,EAAOC,cAAgBD,EAAOG,mBACvCna,MAAM,0EACD,IAAI0a,EAAiBV,EAAOG,oBACjC,OAAO,EACEH,EAAOE,cAAgBF,EAAOG,mBACvCna,MAAM,oDAEN6Z,EAAO,CACL4B,gBAAiBzB,EAAOC,YACxBC,YAAaF,EAAOE,mBAVtBla,MAAM,yDAJNA,MAAM,6CAFNA,MAAM,wCAiGe0b,IACf3N,KAAK,QACL7U,QAAQ,aAEP8S,EAAKtZ,+B,oIC5KZ2Y,GAAajT,IAAMkT,YAAW,SAAoBxS,EAAOyS,GAC7D,OAAO,kBAAC,IAAD,eAAOC,UAAU,KAAKD,IAAKA,GAASzS,OAGvCR,GAAYC,aAAW,SAACye,GAAD,MAAY,CACvCxH,OAAQ,CACNtnB,SAAU,SAEZ8oB,QAAS,CACP+I,UAAW/C,EAAMpe,QAAQ,SAqBd+iB,GAjBD,SAAC,GAA4C,IAA1CC,EAAyC,EAAzCA,YAAajQ,EAA4B,EAA5BA,KAAMjrB,EAAsB,EAAtBA,MAAOgrB,EAAe,EAAfA,SACnC3S,EAAUT,KAChB,OACE,kBAAC4T,EAAA,EAAD,CAAQ2P,YAAU,EAAClQ,KAAMA,EAAMS,oBAAqBf,IAClD,kBAACkF,EAAA,EAAD,CAAQvX,UAAWD,EAAQyW,QACzB,kBAACiB,EAAA,EAAD,KACE,kBAAC8K,GAAA,EAAD,CAAYxO,MAAM,UAAUD,QAAS8O,GACnC,kBAAC,KAAD,OAEF,kBAAChL,EAAA,EAAD,CAAY1X,QAAQ,MAAMxY,KAG9B,kBAACgsB,EAAA,EAAD,CAAK1T,UAAWD,EAAQiY,SAAUtF,K,oDC7BxCoQ,KAAMC,oBAAoBC,UAA1B,kDAAiFF,KAAMxvC,QAAvF,kBAEA,IAkEe2vC,GAlEH,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACM9jB,IAAMmV,SAAS,KADrB,mBACrB4O,EADqB,KACVC,EADU,OAGIhkB,IAAMmV,SAAS,GAHnB,mBAGrB8O,EAHqB,KAGXC,EAHW,KAsB5B,OACE,yBAAK/P,MAAO,CAAEwK,SAAU,SACtB,yBACExK,MAAO,CACLrkB,SAAU,QACVwqB,IAAK,OACLlE,OAAQ,EACRh7B,MAAO,OACPk+B,QAAS,OACTqG,eAAgB,eAChBjK,gBAAiB,qBACjBrV,OAAQ,SAGV,uBAAGqU,QA3BU,WAEjBsP,EAD+B,IAAZD,KA2Bb,kBAAC,KAAD,CAAYpP,MAAM,WAAWoD,SAAS,WAExC,uBAAGrD,QAzBW,WACdqP,GAAa,KAIjBC,EAD+B,GAAZD,KAsBb,kBAAC,KAAD,CAAapP,MAAM,WAAWoD,SAAS,YAI3C,yBAAK5D,MAAO,CAAE/4B,MAAO,MAAOmlB,OAAQ,cAClC,kBAAC,KAAD,CAAU4jB,KAAML,EAAUM,cAxCF,SAAC,GAAkB,IAAhBH,EAAe,EAAfA,SAC/BC,EAAYD,KAwCL,IAAIj3B,MAAMi3B,GAAUI,KAAK,IAAI/+B,KAAI,SAAC2C,EAAM2d,GACvC,OACE,kBAAC,KAAD,CACE5e,IAAK4e,EACL0e,WAAY1e,EAAQ,EACpBxqB,MAAO2oC,EACPQ,MAAO,Y,oDCQjBC,GAAiB,SAACvN,EAAMwN,EAAQvwC,GACpC,MAAa,aAAT+iC,EACc,WAAZ/iC,GAGGuwC,EAAOC,wBACI,0BAATzN,GACO,WAAZ/iC,GAUFgsB,GAAYC,cAAW,kBAAkB,CAC7C8W,KAAM,CACJ,8CAA+C,CAC7C1W,OAAQ,GAEV,iCAAkC,CAChCA,OAAQ,GAEV,2CAA4C,CAC1CkX,UAAW,OACXoB,YAAYrY,EAVW,EAAGA,SAUN,SAMpBmkB,GAAyB,SAAC,GAAuG,IAArGh6B,EAAoG,EAApGA,KAAM4a,EAA8F,EAA9FA,eAAgBrxB,EAA8E,EAA9EA,QAAS+iC,EAAqE,EAArEA,KAAMzL,EAA+D,EAA/DA,oBAAqBxD,EAA0C,EAA1CA,WAAYxC,EAA8B,EAA9BA,wBAChGoO,EAAO5T,IAAM6T,WAAW9T,KADsG,EAEpGC,IAAMmV,UAAS,GAFqF,mBAE7HyP,EAF6H,KAEnHC,EAFmH,KAI9HlkB,EAAUT,KAMZ4kB,GAAW,EAEf,OAAO,kBAACpG,GAAA,EAAD,CAAM9L,UAAU,MAAM2F,aAAW,WAAWpE,MAAO,CAAE4E,aAAc,KAC3D,WAAZ7kC,GACC,kBAACogC,EAAA,EAAD,CAAKH,MAAO,CAAEmF,QAAS,OAAQqG,eAAgB,kBAC7C,kBAAClL,EAAA,EAAD,CAAQkB,KAAK,QAAQhB,MAAM,YAAYD,QAAS,kBAAMnP,MAAtD,gBACCif,GAAevN,EAAMzL,EAAoBxD,GAAa9zB,IAAYyW,EAAKo6B,gBAAgBt8B,MAAK,SAAAR,GAAI,OAAIA,EAAK+8B,mBAAmBvmC,OAAS,MACpI,kBAACg2B,EAAA,EAAD,CAAQkB,KAAK,QAAQhB,MAAM,YAAYD,QAAS,WAGzCoQ,GAKLvP,YAAW,WACTuP,GAAW,IACV,KAEHA,GAAW,EACXtf,EAAwB7a,IATtBid,MAAM,0CAYPgM,EAAKrb,6BAId,kBAAC0sB,GAAA,EAAD,CAAWrkB,UAAWD,EAAQsW,KAAM9C,MAAO,CAAE5T,OAAQ,UAAYqkB,SAAUA,EAAUzD,SA/BlE,SAACC,EAAO8D,GAC3BL,EAAYK,KA+BV,kBAACC,GAAA,EAAD,CAAkBhR,MAAO,CAAE5T,OAAQ,IACjC,kBAAC,KAAD,CAAgBwX,SAAS,QAAQ5D,MAAOyQ,EAAW,CAAE5L,UAAW,iBAAoB,KACpF,kBAACR,EAAA,EAAD,CAAY1X,QAAQ,MAAkB,WAAZ5sB,EAAA,uDAAsCA,KAElE,kBAACkxC,GAAA,EAAD,KACE,kBAAC9Q,EAAA,EAAD,CAAKH,MAAO,CAAE/4B,MAAO,SAClBuP,EAAKo6B,gBAAgBz/B,KAAI,SAAC0B,EAAK4e,GAC9B,OACE,kBAAC0O,EAAA,EAAD,CAAKttB,IAAK4e,EAAOyf,GAAI,EAAGC,GAAI,GAC1B,kBAAC9M,EAAA,EAAD,CACErE,MAAO,CAAE0L,WAAY,KACrB0F,cAAY,EACZzkB,QAAQ,QACR8R,UAAU,MAET5rB,EAAIihB,cAEP,kBAACqM,EAAA,EAAD,KACGttB,EAAIg+B,mBAAmB1/B,KAAI,SAAC2C,EAAM2d,GACjC,OACE,kBAAC2X,GAAA,EAAD,CAAMv2B,IAAK4e,EAAO4X,WAAS,GACzB,kBAACD,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACb,kBAACjF,EAAA,EAAD,CAAY1X,QAAQ,WA5HxB,SAAC7Y,GACrB,IACIu9B,EAAYv9B,EAAK5H,MAAM,MAE3B,OAAOmlC,EACJ/8B,MAAK,SAAC2H,GACL,OACEA,EAAE9Z,WANI,cAO8C,IAAnDkvC,EAAUnK,WAAU,SAACjrB,GAAD,OAAOA,EAAE9Z,WAPxB,gBAOmDkvC,EAAU,MAGtEnlC,MAAM,KACN4jB,OAAO,GAAG,GAgH0CwhB,CAAcx9B,EAAKy9B,YAEpD,kBAACnI,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACb,uBAAGtJ,MAAO,CAAE0L,WAAY,IAAK8F,YAAa,GAAI5M,aAAc,EAAG4I,UAAW,IAA1E,IApIE,SAACniC,GAC3B,IAAIomC,EAAqB,WAATpmC,EAAoBqmC,KAAkB,aAATrmC,EAAsBsmC,KAAW,KAC9E,MAAqB,OAAdF,EAAqBA,EAAY,yBAAK/nC,IAAK+nC,EAAW/kB,IAAI,KAkIwCklB,CAAoB99B,EAAK+9B,gBAE5G,kBAACzI,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,EAAGtJ,MAAO,CAAEC,UAAW,QACnCoQ,GAAevN,EAAMzL,EAAoBxD,GAAa9zB,IACrD,kBAAC+xC,GAAA,EAAD,CACE9R,MAAO,CAAEK,QAAS,GAClBG,MAAM,UACNuR,WAAY,CAAE,aAAc,+BAC5B/E,SAAU,SAACC,GACT,IAAI+E,EAAe/E,EAAMpG,OAAOoL,QAChCn+B,EAAI,UAAgBk+B,EAAe,MAAQ,KAC3Cl+B,EAAI,WAAiBjB,EAAIghB,6BAqBnDqe,GAAWnQ,aAAW,gBAAG1V,EAAH,EAAGA,QAAH,MAAkB,CAC5CyW,KAAM,CACJzC,QAAS,GAEX8R,IAAK,CACHxR,WAAYtU,EAAQ,IAEtB+lB,QAAS,CACPvN,UAAW,iBAEb/Q,aAAc,CACZ6M,WAAYtU,EAAQ,OAXP0V,EAcf,YA2BO,IA1BLvV,EA0BI,EA1BJA,QA0BI,IAzBJ6lB,SACExe,EAwBE,EAxBFA,WACAsC,EAuBE,EAvBFA,WACAC,EAsBE,EAtBFA,aACAkc,EAqBE,EArBFA,QACAC,EAoBE,EApBFA,oBACAlc,EAmBE,EAnBFA,cACAC,EAkBE,EAlBFA,YACAvD,EAiBE,EAjBFA,SAEFa,EAeI,EAfJA,QACAU,EAcI,EAdJA,cACAke,EAaI,EAbJA,SACAC,EAYI,EAZJA,UACAC,EAWI,EAXJA,IACAC,EAUI,EAVJA,OACAC,EASI,EATJA,OACAC,EAQI,EARJA,uBACA7W,EAOI,EAPJA,aACA8W,EAMI,EANJA,sBACAhQ,EAKI,EALJA,KACArD,EAII,EAJJA,KACAsT,EAGI,EAHJA,iBACA1b,EAEI,EAFJA,oBACA2b,EACI,EADJA,mBACI,EAC4BnnB,IAAMmV,UAAS,GAD3C,mBACGyP,EADH,KACaC,EADb,OAEoB7kB,IAAMmV,UAAS,GAFnC,mBAEG5B,EAFH,KAES6B,EAFT,OAGoCpV,IAAMmV,WAH1C,mBAGGiS,EAHH,KAGiBC,EAHjB,OAIsBrnB,IAAMmV,SAASuR,GAJrC,mBAIGp+B,EAJH,KAIUg/B,EAJV,OAKoBtnB,IAAMmV,SAAS,IALnC,mBAKGxqB,EALH,KAKS48B,EALT,KAMJlS,qBAAU,WACRgS,EACE18B,EAAKrF,KAAI,SAAC2C,EAAM2d,GAAP,OACP,kBAAE,GAAF,CACE5e,IAAK4e,EACLjb,KAAM1C,EACNsd,eAAgBA,EAChBrxB,QAAO,OAAE+T,QAAF,IAAEA,OAAF,EAAEA,EAAMu/B,kBACfvQ,KAAMA,EACNzL,oBAAqBA,EACrBxD,WAAYA,EACZxC,wBAAyBA,WAG9B,CAAC7a,IAGJ,IAyBM4a,EAAiB,WAUrB2hB,EATc,CACZ7U,UAAW5J,EACX6J,QAASvK,EACT0f,WAAqB,aAATxQ,EAAsBjP,EAAa,GAC/C0f,YAAsB,aAATzQ,EAAsByP,EAAsB,GACzDG,MACAC,SACAC,WAEsBziB,MAAK,SAAC6I,GAC5B,IAAMpC,EAAUoC,EAAIxiB,KAAKrF,KAAI,SAAC2C,EAAM2d,GAClC,MAAO,CACLmf,gBAAiB98B,EAAK88B,gBACtByC,kBAAmBra,EAAIxiB,KAAKlM,OAASmnB,MAGnC+hB,EAAW,uBACZh9B,GADY,aACHogB,IAERpiB,EAASqE,MAAMnN,KAAK,IAAImqB,IAAI2d,EAAYriC,IAAI2c,KAAKC,aAAa5c,IAAI2c,KAAKsE,OAC7EghB,EAAQ5+B,OAIN6c,GAA0B,SAACoiB,GAAkB,IAAD,EAM5CC,GAJc,OAAGD,QAAH,IAAGA,GAAH,UAAGA,EAAc7C,uBAAjB,aAAG,EAA+BnhC,QAAO,SAAAqE,GACzD,OAAOA,EAAK+8B,mBAAmB5jB,MAAK,SAAA0mB,GAAO,MAA0B,QAAtBA,EAAQC,iBAG1BziC,KAAI,SAAC2C,GAClC,MAAO,CACL+/B,aAAc,CACZlgB,UAAWW,EACXV,QAASA,EACTC,WAAY/f,EAAK+f,WACjB1H,YAAarY,EAAKggB,aAClB4e,MACAC,SACAC,UAEFkB,MAAOhgC,EAAK+8B,uBAIhB,GAAI6C,EAAYppC,OAAS,EAEvB,OADAmpB,MAAM,uEACC,EAETuf,EAAmBU,GAAavjB,MAAK,SAAC6I,GACpCiI,GAAQ,OAaN8S,GAAaC,eAAsBA,gBAAsBnB,GAA0B7W,EAAiB6W,GAA0B7W,EAC9Hte,GAAUsoB,cAChB,OACE,kBAAC8K,GAAA,EAAD,CAAWL,SAAUA,EAAUzD,SAvEZ,SAACC,EAAO8D,GAC3BL,EAAYK,KAuEV,kBAACC,GAAA,EAAD,CAAkBvkB,UAAWD,EAAQsW,MACnC,kBAAC,KAAD,CAAgBrW,UAAWgkB,EAAWjkB,EAAQ4lB,QAAU,KAC3C,MAAZE,EACC,kBAACjO,EAAA,EAAD,CAAY7D,MAAM,SAAS+R,EAA3B,KAEA,kBAAClO,EAAA,EAAD,KAAakO,GAGdwB,IAEG,kBAAC,KAAD,CACEvT,MAAM,QACN/T,UAAWD,EAAQ2lB,IACnB5R,QAAS,SAAC0M,GACRA,EAAMgH,kBACNv2B,GAAQnR,KAAR,oBACe4pB,EADf,YAC6BC,EAD7B,YAC6CvC,EAD7C,YAC2DD,EAD3D,YACsEU,EADtE,YACuF+B,EADvF,YACwGC,EADxG,YACuHvD,QAMjI,kBAACke,GAAA,EAAD,KACE,kBAAC9Q,EAAA,EAAD,KACGsS,EAAU,KACC,0BAAT3P,EACG2P,EACA55B,MAAMnN,KAAK,IAAImqB,IAAI4c,IAAYhjC,QAAO,SAACqE,GACvC,OACEA,EAAKjU,KAAK0W,QAAQg8B,IAAwB,GAC1Cz+B,EAAKjU,OAAS0yC,EAAsB,WAGxCphC,KAAI,SAAC2C,EAAM2d,GACX,OACE,kBAAC2X,GAAA,EAAD,CACE3c,UAAWD,EAAQsH,aACnBjhB,IAAK4e,EACL3d,MAAI,EACJw1B,GAAI,GACJ/I,QAAS,WACP4S,EAASZ,GAtIH,SAAC1yC,GACvB,IAAM2W,EAAO,CACX0nB,UAAW5J,EACX6J,QAASvK,EACT0f,WAAYzf,EACZqgB,aAAcr0C,EACd6yC,MACAC,SACAC,UAEO,0BAAT9P,UAA2CtsB,EAAK88B,WAChDd,EAASh8B,GAAM2Z,MAAK,SAACxY,GACnBspB,GAAQ,GACRiS,EAAgB,kBAAC,GAAD,CAAKvD,SAAUh4B,QA0HjBw8B,CAAgBrgC,EAAKjU,QAGtBiU,EAAKjU,WAMjB4yC,EAAUnoC,OAAS,GAClB,kBAAC61B,EAAA,EAAD,KACE,kBAACiU,GAAA,EAAD,MACA,kBAACC,GAAA,EAAD,KACE,kBAAC/T,EAAA,EAAD,CACEkB,KAAK,QACLhB,MAAM,YACND,QAAS,WACP,IAAMrI,EAAQ,CACZgG,UAAW5J,EACX6J,QAASvK,EACT0f,WAAYzf,EACZ0f,YAAahB,EACbG,MACAC,SACAC,UAEO,0BAAT9P,UAA2C5K,EAAMob,WAhFnC,SAACpb,GAC3Bib,EAAS1T,EAAKpb,oBACdyuB,EAAsB5a,GAAO/H,MAAK,SAAC6I,GACjCiI,GAAQ,GACRjI,EAAIxiB,KAAJ,kBAAgC,SAChC48B,EAAQpa,EAAIxiB,SA4EF2a,CAAoB+G,KAGrBuH,EAAKtb,6BAKd,kBAAC,GAAD,CAAOib,KAAMA,EAAMjrB,MAAOA,EAAOk7B,YAzJjB,WAClBpO,GAAQ,KAyJHgS,OAOLqB,GAAgBvS,aAAW,gBAAG1V,EAAH,EAAGA,QAAH,MAAkB,CACjDyW,KAAM,CACJ1W,OAAQC,EAAQ,IAElBoY,QAAS,CACPG,aAAcvY,EAAQ,IAExBlY,MAAO,CACL4xB,WAAY,UARMhE,EAWpB,YAkBO,IAjBL2I,EAiBI,EAjBJA,iBACAle,EAgBI,EAhBJA,QACAhW,EAeI,EAfJA,KACAod,EAcI,EAdJA,QACAU,EAaI,EAbJA,cACAke,EAYI,EAZJA,SACAC,EAWI,EAXJA,UACAC,EAUI,EAVJA,IACAC,EASI,EATJA,OACAC,EAQI,EARJA,OACAC,EAOI,EAPJA,uBACA7W,EAMI,EANJA,aACA8G,EAKI,EALJA,KACAgQ,EAII,EAJJA,sBACA1hB,EAGI,EAHJA,eACAiG,EAEI,EAFJA,oBACAhG,EACI,EADJA,wBAEMoO,EAAO5T,IAAM6T,WAAW9T,KAD1B,EAE0CC,IAAMmV,SAClDvB,EAAK7U,gCAHH,mBAEG2pB,EAFH,KAEoBC,EAFpB,KAMEC,EACK,YAAT3R,EAAqB,MAAiB,aAATA,EAAsB,UAAY,QAMjE,OAJA5B,qBAAU,WACK,0BAAT4B,GACF0R,EAAmB/U,EAAKvb,0BACzB,CAAC4e,EAAMrD,IAER,kBAAC,GAAD,CACE5/B,KAAK,oBACLijC,KAAM2R,EACNtgC,MAAOogC,GAEP,kBAACpU,EAAA,EAAD,CAAK1T,UAAWD,EAAQsW,MACtB,kBAAC3C,EAAA,EAAD,CACEyD,SAAS,cACT8H,WAAW,mBACXgJ,GAAI,GAHN,UAIK9gB,IACL,kBAACyQ,EAAA,EAAD,CAAY1X,QAAQ,QAAQF,UAAWD,EAAQrY,OAC5Cu2B,GAEH,kBAACvK,EAAA,EAAD,CAAK1T,UAAWD,EAAQiY,SACrBjuB,EAAKrF,KAAI,SAAC2C,EAAM2d,GACf,OACE,kBAACygB,GAAD,CACEG,SAAUv+B,EACVjB,IAAK4e,EACLmC,QAASA,EACTU,cAAeA,EACfke,SAAUA,EACVC,UAAWA,EACXC,IAAKA,EACLC,OAAQA,EACRC,OAAQA,EACRC,uBAAwBA,EACxB7W,aAAcA,EACd8W,sBAAuBA,EACvBhQ,KAAMA,EACNrD,KAAMA,EACNsT,iBAAkB3hB,EAClBiG,oBAAqBA,EACrB2b,mBAAoB3hB,aAWvBiN,gBACb,cAOM,IAAD,UAND9K,EAMC,EANDA,WAAYoB,EAMX,EANWA,gBAAiBlB,EAM5B,EAN4BA,aAAcuC,EAM1C,EAN0CA,UAAWf,EAMrD,EANqDA,OAAQ5F,EAM7D,EAN6DA,KAAM+H,EAMnE,EANmEA,oBAMnE,IAJDj2B,MACEy4B,OAAUhG,EAGX,EAHWA,WAAYD,EAGvB,EAHuBA,QAASyC,EAGhC,EAHgCA,cAAeyM,EAG/C,EAH+CA,KAI5CxO,EAAa,UAAGY,EAAOtB,UAAV,aAAG,EAAiBU,cACjCqgB,EAAe,UAAGzf,EAAOtB,UAAV,aAAG,EAAiB+gB,gBACnCre,EAAW,UAAGpB,EAAOtB,UAAV,aAAG,EAAiB0C,YAC/Bse,EAAgB3e,EAAUpC,IAAe,GAC3CghB,EAAK,OAAG3f,QAAH,IAAGA,OAAH,EAAGA,EAAStB,GACf6e,EAAY,GACZqC,EAAa,UAAGphB,EAAaY,UAAhB,iBAAG,EAA8BV,UAAjC,aAAG,EAAyCC,GAEzDrd,EAAOu+B,aAAgBH,EAAete,EAAaD,EAAese,GACpDn+B,EAAKrF,KAAI,SAAC2C,GAC5B,OAAOA,EAAKy+B,uBAIFhpC,SAAQ,SAACuK,GACnB,OACGghC,GACCA,EAAcrlC,QACZ,SAACulC,GAAD,OAASA,EAAIn1C,KAAK0W,QAAQzC,IAAS,GAAK2+B,EAAUlmC,KAAKyoC,OAE3D,MAIJ,IAOMhZ,EAPqBV,aACzB1G,EACAhB,EACAtE,EAAK8K,aACL9K,EAAKU,MAAM,IAG2B/uB,SAAS4yB,GAhC9C,EAmCDL,EAAWK,IAAe,GADpB6W,EAlCL,EAkCKA,iBAAkBkB,EAlCvB,EAkCuBA,mBAGpBz3B,EAAQygB,EAAgBhB,EAAU,UACpCgY,GAGAlB,EAEJ,GAAa,0BAAT5H,EAAkC,CAAC,IAAD,IAMpCtsB,EAAKjK,KALY,CACf+lC,QAAS,IACTC,oBAAoB,yCAKtBE,EAAUlmC,KAAV,OAAemnB,QAAf,IAAeA,GAAf,UAAeA,EAAeY,UAA9B,iBAAe,EAAgCV,UAA/C,aAAe,EAA2CC,GAAY,IAGxE,MAAO,CACLrd,KAAMA,EACNk0B,iBAAkBv2B,EAClByf,UACAU,gBACAme,YACAC,IAAG,OAAEmC,QAAF,IAAEA,OAAF,EAAEA,EAAOI,GACZtC,OAAM,OAAEkC,QAAF,IAAEA,OAAF,EAAEA,EAAOlC,OACfC,OAAM,OAAEiC,QAAF,IAAEA,OAAF,EAAEA,EAAOxW,MACfwU,uBAAiC,aAAT/P,EACxB9G,eACA8G,KAAMA,EACNzL,0BAGJ,SAACyJ,GACC,MAAO,CACL0R,SAAU,SAACh8B,GACT,OAAOsqB,EAASlP,IAAgBpb,KAGlCs8B,sBAAuB,SAACt8B,GACtB,OAAOsqB,EAASlP,IAA2Bpb,KAG7C4a,eAAgB,SAAC5a,GACf,OAAOsqB,EAASlP,IAAsBpb,KAGxC6a,wBAAyB,SAAC7a,GACxB,OAAOsqB,EAASlP,IAA+Bpb,QA5FxC8nB,CAkGbgW,ICxmBIY,GAAmBnT,aAAW,YAA2B,IAAxB1V,EAAuB,EAAvBA,QACrC,MAAO,CACLyW,KAAM,CACJqC,QAAS,OACTjC,kBAJwD,EAAdqF,QAIf4M,KAAK,KAChChS,kBAAmB,QACnBC,kBAAmB,EACnB/C,QAAShU,EAAQ,EAAG,OAPD0V,EAUtB,YAAqE,IAAlEqT,EAAiE,EAAjEA,oBAAqB5oB,EAA4C,EAA5CA,QAAShW,EAAmC,EAAnCA,KAAM8d,EAA6B,EAA7BA,cAAe+gB,EAAc,EAAdA,QACjD5V,EAAO5T,IAAM6T,WAAW9T,KADuC,EAGnBoV,mBAChDoU,GAJmE,mBAG9DE,EAH8D,KAG3CC,EAH2C,KAkBrE,OACE,kBAACpV,EAAA,EAAD,CAAKuU,GAAI,GACP,kBAACvU,EAAA,EAAD,CAAKF,UAAW,SACd,kBAACK,EAAA,EAAD,CACEN,MAAO,CAAEsB,cAAe,QACxBd,MAAM,UACND,QAAS,WACP8U,EAAQ,CAAE1hB,UAAWW,EAAekhB,MAAOF,MAG5C7V,EAAK5a,kBAGTrO,EAAKrF,KAAI,SAAC2C,EAAMjB,GACf,OACE,kBAACstB,EAAA,EAAD,CAAK1T,UAAWD,EAAQsW,KAAMjwB,IAAKA,GACjC,kBAACu2B,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,EAAG2T,MAAO,CAAE0D,KAAM,SACzC,kBAAC0F,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,GACvB,kBAAC+c,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACZx1B,EAAK2hC,YAER,kBAACrM,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACZx1B,EAAK0hC,QAGV,kBAACpM,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,GACvB,kBAAC+c,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACZx1B,EAAK4hC,YAER,kBAACtM,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACZx1B,EAAK80B,qBAIZ,kBAACzI,EAAA,EAAD,CAAKH,MAAO,CAAE0D,KAAM,SAClB,kBAACoO,GAAA,EAAD,CACEtR,MAAM,UACNyR,QAASqD,EAAkBr0C,SAAS6S,EAAK0hC,OACzCxI,SAAU,YAjDH,SAACwI,GACpB,IAAIG,EAAuBL,EAAkBxlB,MAAM,GAC7C8lB,EAAcD,EAAqBp/B,QAAQi/B,GAC7CI,GAAe,EACjBD,EAAqBjhC,OAAOkhC,EAAa,GAEzCD,EAAqBppC,KAAKipC,GAE5BD,EAAqBI,GA0CPE,CAAa/hC,EAAK0hC,mBAsErBlX,gBA3DS,SAAC,EAAD,GAGlB,IAFF3H,EAEC,EAFDA,0BAA2BD,EAE1B,EAF0BA,qBAAsBtB,EAEhD,EAFgDA,gBACjDd,EACC,EADDA,cAEEwhB,EAAuB,GACvBV,EAAsB,GAEpBW,EAAyB,SAACjiC,GAC9B,IAAIkiC,EAAe,GACfC,EAAO,GACLC,EAAqBpiC,EAAKuiB,cAAcnqB,MAAM,KAWpD,OAVIgqC,EAAmB5rC,OAAS,EAC9B4rC,EAAmB3sC,SAAQ,SAACsJ,EAAK4e,GACjB,IAAVA,IACFwkB,EAAO,KAETD,GAAgBC,EAAO7gB,EAAgBviB,GAAKhT,QAG9Cm2C,EAAe5gB,EAAgBthB,EAAKuiB,eAAex2B,KAE9Cm2C,GAwBT,OArBAjsC,OAAOC,KAAK0sB,GAAsBntB,SAAQ,SAACsJ,GACI,OAAzC6jB,EAAqB7jB,GAAK6iC,YAC5Bhf,EAAqB7jB,GAAK+1B,kBAAoBmN,EAC5Crf,EAAqB7jB,IAEvBijC,EAAqBK,QAAQzf,EAAqB7jB,MAElD6jB,EAAqB7jB,GAAK+1B,kBAAoBmN,EAC5Crf,EAAqB7jB,IAEvBijC,EAAqBvpC,KAAKmqB,EAAqB7jB,SAIlD8jB,EAA0BrC,GACvBqC,EAA0BrC,GAC1B,IACF/qB,SAAQ,SAACuK,GACTshC,EAAoB7oC,KAAKuH,EAAK0hC,UAGzB,CACLh/B,KAAMs/B,EACNV,oBAAqBA,MAIE,SAACtU,GAC1B,MAAO,CACLuU,QAAS,SAAC7+B,GACRsqB,EAASlP,IAAoCpb,QAKpC8nB,CAA6C4W,IC1ItDkB,GAAiBrU,aAAW,YAA2B,IAAxB1V,EAAuB,EAAvBA,QACnC,MAAO,CACLyW,KAAM,CACJI,kBAHsD,EAAdqF,QAGb4M,KAAK,KAChChS,kBAAmB,QACnBC,kBAAmB,EACnB/C,QAAShU,EAAQ,EAAG,OANH0V,EASpB,YAAsD,IAAnDsU,EAAkD,EAAlDA,cAAe7pB,EAAmC,EAAnCA,QAAShW,EAA0B,EAA1BA,KACtBipB,GADgD,EAApBnL,cACrBzI,IAAM6T,WAAW9T,MAE9B,OACE,kBAACuU,EAAA,EAAD,KACE,kBAACA,EAAA,EAAD,CAAKyD,SAAS,cAAc8H,WAAW,mBAAmBgJ,GAAI,GAC3DjV,EAAKna,0CADR,KACqD+wB,GAEpD7/B,EAAKrF,KAAI,SAAC2C,EAAMjB,GACf,OACE,kBAACstB,EAAA,EAAD,CAAK1T,UAAWD,EAAQsW,KAAMjwB,IAAKA,GACjC,kBAACu2B,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,GACvB,kBAAC+c,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACZx1B,EAAKjU,MAER,kBAACupC,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACZ7J,EAAK7b,8BADR,KACyC9P,EAAKwiC,OAE9C,kBAAClN,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,KAEjB,kBAACF,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,GACvB,kBAAC+c,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACZ7J,EAAKla,gCADR,KAC2CzR,EAAKyiC,MAEhD,kBAACnN,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACZ7J,EAAKja,qCADR,KACgD1R,EAAK0iC,WAErD,kBAACpN,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACZ7J,EAAKha,oCADR,KAC+C3R,EAAK2iC,mBA6EnDnY,gBAnES,SAAC,EAAD,GASlB,IAPF3H,EAOC,EAPDA,0BACAF,EAMC,EANDA,cACAC,EAKC,EALDA,qBACAxB,EAIC,EAJDA,OACAE,EAGC,EAHDA,gBAEAd,EACC,EADDA,cAEEoiB,EAAoB,GAExB3sC,OAAOC,KAAKkrB,GAAQ3rB,SAAQ,SAACuK,GACvBohB,EAAOphB,GAAMwgB,gBAAkBA,GACjCoiB,EAAkBnqC,KAAK2oB,EAAOphB,GAAMuiB,kBAIxC,IAAMsgB,EAAyBD,EAAkB3rC,QAAO,SACtD6rC,EACAC,GAGA,OADAD,EAAKC,GAAQD,EAAKC,GAAQ,GAAK,EACxBD,IAET,IAEME,EAAwB,SAACzgB,GAC7B,IAAI0gB,EAAgB,EAepB,OAdAhtC,OAAOC,KAAK0sB,GAAsBntB,SAAQ,SAACsJ,GACzC9I,OAAOC,KACL2sB,EAA0BrC,GACtBqC,EAA0BrC,GAC1B,IACJ/qB,SAAQ,SAACuK,GAEP6iB,EAA0BrC,GAAexgB,GAAM0hC,QAAU3iC,GACzD6jB,EAAqB7jB,GAAKwjB,cAAcp1B,SAASo1B,KAEjD0gB,GAAiB,SAIhBA,GAGT,MAAO,CACLvgC,KAAMzM,OAAOC,KAAK2sC,GAAwBxlC,KAAI,SAAC2C,GAC7C,IAAMjU,EAAOu1B,EAAgBthB,GAAMjU,KAC7By2C,EAAQK,EAAuB7iC,GACrC,MAAO,CACLjU,KAAMA,EACNy2C,MAAOA,EACPC,KACED,GAAS7f,EAAc3iB,GAAQ2iB,EAAc3iB,GAAMkjC,YAAc,GACnER,UAAWzsC,OAAOC,KAAK0sB,GAAsBjnB,QAAO,SAACoD,GACnD,OAAkE,IAA3D6jB,EAAqB7jB,GAAKwjB,cAAc9f,QAAQzC,MACtDxJ,OACHmsC,SAAUK,EAAsBhjC,OAGpCuiC,cAAe1f,EAA0BrC,GACrCqC,EAA0BrC,GAAehqB,OACzC,KAIOg0B,CAAyB8X,IC1EzB9X,gBAPS,SAAC,EAAcmL,GAAa,EAAzBra,SAIzB,MAAO,CAAEkF,cAHSmV,EAAVroC,MACAy4B,OACAh2B,UAIKy6B,EAtCc,SAAC,GAAuB,IAArBhK,EAAoB,EAApBA,cACxBmL,EAAO5T,IAAM6T,WAAW9T,KADoB,EAEhBoV,mBAAS,YAFO,mBAE3CiW,EAF2C,KAEhCC,EAFgC,KAIlD,OACE,kBAAC,GAAD,CAAe/iC,MAAOsrB,EAAKta,uCACzB,kBAAC0nB,GAAA,EAAD,CACEC,eAAe,UACfE,SAAU,SAAC/wB,EAAG7W,GACZ8xC,EAAa9xC,IAEf2nC,UAAU,UACV3nC,MAAO6xC,EACPtqB,QAAQ,aAER,kBAACwgB,GAAA,EAAD,CAAK7oC,MAAOm7B,EAAKra,iBAAkBhgB,MAAM,aACzC,kBAAC+nC,GAAA,EAAD,CACE7oC,MAAOm7B,EAAKpa,uCACZjgB,MAAM,sBAGK,aAAd6xC,GACC,kBAAC,GAAD,CAAgB3iB,cAAeA,IAElB,qBAAd2iB,GACC,kBAAC,GAAD,CAAkB3iB,cAAeA,Q,+BC9B5B6iB,GAAa,SAAC,GAUpB,IATLC,EASI,EATJA,UACA5gC,EAQI,EARJA,KACA6gC,EAOI,EAPJA,aACA/yC,EAMI,EANJA,MACAzE,EAKI,EALJA,KACAmtC,EAII,EAJJA,SACAsK,EAGI,EAHJA,YACAC,EAEI,EAFJA,SACAz0C,EACI,EADJA,SAEA,OACE,kBAAC00C,GAAA,EAAD,CACEJ,UAAWA,EACXl7B,QAASm7B,EACTzX,WAAS,EACT6X,WAAYJ,EACZx2C,GAAIhB,EACJkyC,WAAY,CAAE2F,SAAUH,GACxBjzC,MAAOA,EACP8nB,OAAO,SACPvsB,KAAMA,EACNmtC,SAAU,SAAC/wB,GACT+wB,EAASntC,EAAMoc,EAAE4qB,OAAOzhC,QAE1BkyC,YAAaA,EACbx0C,SAAUA,EACVsC,MAAOoR,EAAK3W,IAAS,MCXZy+B,gBACb,YACE,MAAO,CACL9nB,KAFc,EAAfmX,aAKH,SAACmT,EAAD,GACE,MACE,CAKEkM,SAPsB,EAAfA,YANA1O,EAfF,SAAC,GAAsD,IAAD,IAAnD9nB,YAAmD,MAA5C,GAA4C,MAAxC1G,cAAwC,MAA/B,GAA+B,EAA3Bk9B,EAA2B,EAA3BA,SAAU2K,EAAiB,EAAjBA,WAChD,OAAO7nC,EAAOqB,KAAI,WAAiDsgB,GAAW,IAAD,MAAxDgN,UAAWD,OAA6C,MAAjC2Y,GAAiC,EAAlBzY,EAAkB,6BACnE7+B,EAAS6+B,EAAT7+B,KACR,OACE,kBAAC2+B,EAAD,eACEhoB,KAAMA,EACN6gC,kBAA6Bn0C,IAAfsT,EAAK3W,KAAL,UAA4B83C,EAAW93C,UAAvC,aAA4B,EAAkBsc,SAC5DtJ,IAAK4e,EACLub,SAAUA,EAASx2B,IACfkoB,U,UCLCoT,GAAW/P,aAAW,YACjC,MAAO,CACLe,KAAM,CACJ1W,QAAQC,EAHsC,EAAdA,SAGhB,EAAG,EAAG,EAAG,OAHP0V,EAMrB,YAA+C,IAA5CvV,EAA2C,EAA3CA,QAAShW,EAAkC,EAAlCA,KAAMlS,EAA4B,EAA5BA,MAAOzE,EAAqB,EAArBA,KAAMmtC,EAAe,EAAfA,SAChC,OACE,kBAACyB,GAAA,EAAD,CAAahiB,UAAWD,EAAQsW,KAAMlD,WAAS,GAC7C,kBAACgY,GAAA,EAAD,CACEC,QACE,kBAAC,KAAD,CACEh4C,KAAMA,EACN2gC,MAAM,UACNyR,QAASz7B,EAAK3W,KAAS,EACvBmtC,SAAU,SAAC/wB,GACT+wB,EAASntC,EAAMoc,EAAE4qB,OAAOoL,YAI9B3tC,MAAOA,Q,qBCnBFwzC,GAAW,SAAC,GAAqC,IAAnCthC,EAAkC,EAAlCA,KAAMlS,EAA4B,EAA5BA,MAAOzE,EAAqB,EAArBA,KAAMmtC,EAAe,EAAfA,SAC5C,OACE,kBAACyB,GAAA,EAAD,CAAa7O,WAAS,EAACxT,OAAO,QAAQtpB,UAAQ,GAC5C,kBAAC4rC,GAAA,EAAD,CAAYqJ,QAASl4C,GAAOyE,GAC5B,kBAACqqC,GAAA,EAAD,CACE9tC,GAAIhB,EACJwL,KAAK,WACLjG,MAAOoR,EAAK3W,IAAS,GACrBmtC,SAAU,SAAC/wB,GACT+wB,EAASntC,EAAMoc,EAAE4qB,OAAOzhC,QAE1B0pC,aACE,kBAACC,GAAA,EAAD,CAAgBpzB,SAAS,OACvB,kBAAC,KAAD,CAAkB6kB,MAAM,gB,qBCbvBwX,GAAc,SAAC,GAAqC,IAAnCxhC,EAAkC,EAAlCA,KAAMlS,EAA4B,EAA5BA,MAAOzE,EAAqB,EAArBA,KAAMmtC,EAAe,EAAfA,SAC/C,OACE,kBAACyB,GAAA,EAAD,CAAa7O,WAAS,EAACxT,OAAO,QAAQtpB,UAAQ,GAC5C,kBAAC4rC,GAAA,EAAD,CAAYqJ,QAASl4C,GAAOyE,GAC5B,kBAACqqC,GAAA,EAAD,CACE9tC,GAAIhB,EACJuF,MAAOoR,EAAK3W,IAAS,GACrBmtC,SAAU,SAAC/wB,GACT+wB,EAASntC,EAAMoc,EAAE4qB,OAAOzhC,QAE1B0pC,aACE,kBAACC,GAAA,EAAD,CAAgBpzB,SAAS,OACvB,kBAAC,KAAD,CAA2B6kB,MAAM,gB,6CCN9ByX,ICVOlW,aAAW,kBAAkB,CACjD3V,OAAQ,CACNA,QAAQC,EAFqB,EAAGA,SAEhB,EAAG,EAAG,EAAG,OAFP0V,EAIlB,YAAqC,IAAlCvV,EAAiC,EAAjCA,QAAShW,EAAwB,EAAxBA,KAAMlS,EAAkB,EAAlBA,MAAOzE,EAAW,EAAXA,KAC3B,OACE,kBAAC4uC,GAAA,EAAD,CAAahiB,UAAWD,EAAQJ,QAC7B9nB,GAAS,kBAACoqC,GAAA,EAAD,CAAYwJ,QAAM,GAAE5zC,GAC9B,kBAAC6zC,GAAA,EAAD,CACE1rB,UAAWD,EAAQJ,OACnBvrB,GAAIhB,EACJuF,MAAOoR,EAAK3W,IAAS,SDDdo4C,I,SEGTG,GAAYrW,aAAW,WAC3B,MAAO,CACLe,KAAM,CACJnnB,SAAU,WACVuQ,OAAQ,OACRjlB,MAAO,OACPs6B,gBAAiB,QACjBlB,QAAS,aAEXpU,KAAM,CACJkZ,QAAS,OACTqG,eAAgB,UAElBr3B,MAAO,CACL8rB,UAAW,SACXO,MAAO,gBAET8M,OAAQ,CACNhM,cAAe,OACfd,MAAO,QACPe,gBAAiB,mBApBLQ,EAuBf,YAAsE,IAAnEvV,EAAkE,EAAlEA,QAAShW,EAAyD,EAAzDA,KAAMme,EAAmD,EAAnDA,QAAmBqY,GAAgC,EAA1CnO,SAA0C,EAAhCmO,UAAUM,EAAsB,EAAtBA,OAAQ+K,EAAc,EAAdA,QAClD36B,EAAUsoB,cAEVl2B,EAAS,CACb,CACEjQ,KAAM,yBACN4+B,UAAWuZ,GACX1zC,MAAO,mCACPxB,UAAU,GAEZ,CACEjD,KAAM,WACN4+B,UAAWqZ,GACXxzC,MAAO,eACPxB,UAAU,GAEZ,CACEjD,KAAM,aACN4+B,UAAWqT,GACXxtC,MAAO,6BAILqzC,EChEgB,SAAC7nC,EAAQ0G,GAC/B,IAAIhC,EAAS,GAYb,OAVA1E,EAAOvG,SAAQ,SAACtB,GAAW,IAAD,EAChB3D,EAA0B2D,EAA1B3D,MAAOzE,EAAmBoI,EAAnBpI,MAAmBoI,EAAbnF,WACH,UAAA0T,EAAK3W,UAAL,eAAYyK,QAAS,IACrCkK,EAAM,6BACDA,GADC,mBAEH3U,EAAO,CAAEsc,QAAQ,GAAD,OAAK7X,GAASzE,EAAd,uBAKhB2U,EDmDY8jC,CAASxoC,EAAQ0G,GAiCpC,OACE,oCACE,kBAAC2pB,EAAA,EAAD,CAAK1T,UAAWD,EAAQsW,MACtB,kBAAC3C,EAAA,EAAD,CAAK1T,UAAWD,EAAQP,MACtB,yBACEviB,IAAK6uC,KACL7rB,IAAI,iBACJsT,MAAO,CAAE9T,OAAQ,WAGrB,kBAACiU,EAAA,EAAD,CACEqY,GAAI,EACJC,GAAI,EACJhsB,UAAWD,EAAQrY,MACnByvB,SAAS,cACT8H,WAAW,kBALb,+BASA,kBAACvL,EAAA,EAAD,CAAKuU,GAAI,GACP,kBAAC,GAAD,CAAM5kC,OAAQA,EAAQk9B,SAAUA,EAAU2K,WAAYA,KAExD,kBAACxX,EAAA,EAAD,CAAKuU,GAAI,GACP,kBAACpU,EAAA,EAAD,CACEkJ,SAAU7U,EACVqL,MAAO,CAAEuB,gBAAiB,eAAgBf,MAAO,SACjDZ,WAAS,EACTW,QA1DO,gBAEsBr9B,IAAnCsT,EAAI,wBAC+B,KAAnCA,EAAI,uBAEJid,MAAM,yCACwBvwB,IAArBsT,EAAI,UAAmD,KAArBA,EAAI,UAC/Cid,MAAM,kCCzDY,SAACkkB,GACvB,OAAO5tC,OAAOC,KAAK2tC,GAAY1qB,MAAK,SAACnZ,GACnC,QAAS6jC,EAAW7jC,GAAMqI,WDyDrBu8B,CAASf,IACZrK,EAAO92B,GAAM2Z,MAAK,SAAC6I,GACjB,UAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAK2f,UAAW,CAElBN,EAAQ7hC,GACR6b,OAAOC,aAAasmB,QAAQ,OAAQ9qB,KAAKC,UAAUvX,IACnDkH,EAAQnR,KAAK,CACXqyB,SAAS,yBAAD,QAJS,EAIT,YAAyCpoB,EAAKL,gBAEnD,CAAC,IAAD,MACL9M,QAAQuV,MACuC,QAA3C,UAAA2Q,KAAMC,kBAAN,mBAAkBF,YAAlB,+CAAoC,IACtC5R,EAAQnR,KAAK,CAAEqyB,SAAU,iBAEzBlhB,EAAQnR,KAAK,CAAEqyB,SAAU,qBAoCzB4C,KAAK,QACL7U,QAAQ,aANV,kBAYJ,kBAAC,GAAD,MACA,kBAAC,EAAD,UAKS2R,gBACb,YACE,MAAO,CAAE9nB,KADgB,EAAxBmX,SACwBgH,QADA,EAAdA,YAGb,SAACmM,GACC,MAAO,CACLkM,SAAU,SAACx2B,GAAD,OAAU,SAAC3W,EAAMuF,GACW,IAAD,EAAtB,aAATvF,GAAwBuF,EAK1B07B,EAASlP,IAAA,6BAAwBpb,GAAxB,mBAA+B3W,EAAOuF,MAJ/C07B,EACElP,IAAA,6BAAwBpb,GAAxB,wBAA+B3W,EAAOuF,GAAtC,6BAAyD,GAAzD,QAMNkoC,OAAQ,SAAC92B,GACP,OAAOsqB,EAASlP,IAAapb,KAE/B6hC,QAAS,SAAC7hC,GACRsqB,EAASlP,IAAepb,QAnBjB8nB,CAuBb8Z,I,kFE1JIS,GAAiB9W,aAAW,WAChC,MAAO,CACLe,KAAM,CACJU,SAAU,YAHOzB,EAMpB,YAAuD,IAApDvV,EAAmD,EAAnDA,QAASssB,EAA0C,EAA1CA,YAAa/lB,EAA6B,EAA7BA,SAAUgmB,EAAmB,EAAnBA,aACpC,OACE,kBAAC,KAAD,CACEtsB,UAAWD,EAAQsW,KACnBkK,SAAU,SAAC/wB,GAAD,OAAO68B,EAAY78B,EAAE4qB,OAAOzhC,QACtCA,MAAO2tB,GAENgmB,EAAa5nC,KAAI,SAAC2C,EAAM2d,GACvB,OACE,kBAACunB,GAAA,EAAD,CAAU5zC,MAAO0O,EAAK1O,MAAOyN,IAAK4e,GAChC,kBAAC4S,EAAA,EAAD,CAAY1X,QAAQ,YAAYob,MAAM,UACnCj0B,EAAKxP,eASLg6B,gBACb,YACE,MAAO,CACLvL,SAF4B,EAA7B3qB,SAAY2qB,aAKf,SAAC+N,GACC,MAAO,CACLgY,YAAa,SAACG,GACZt5C,KAAGM,MACAm4B,IAAI,CACHv3B,GAAI,WACJ2V,KAAM,CAAEuc,SAAUkmB,KAEnB9oB,MAAK,WACJ2Q,EAASlP,IAAmBqnB,WAfzB3a,CAoBbua,I,mJC7BI9sB,GAAYC,aAAW,gBAAGK,EAAH,EAAGA,QAAH,MAAkB,CAC7CyW,KAAM,CACJ77B,MAAO,QAGTiyC,aAAc,CACZ1L,UAAWnhB,EAAQ,GACnBuY,aAAcvY,EAAQ,IAExBpO,OAAQ,CACNknB,QAAS,QAEXgU,gBAAiB,CACflyC,MAAO,OACPmlB,OAAQC,EAAQ,EAAG,EAAG,EAAG,GACzBgU,QAAShU,EAAQ,EAAG,EAAG,EAAG,GAC1BkV,gBAAiB,QAEnB+U,MAAO,CACLnR,QAAS,OACT8F,WAAY,UAEdvD,SAAU,CACRnG,gBAAiB,OACjBnV,OAAQC,EAAQ,EAAG,EAAG,EAAG,IAE3Bmb,aAAc,CACZpb,OAAQC,EAAQ,EAAG,EAAG,EAAG,IAE3BxsB,KAAM,CACJ8gC,WAAYtU,EAAQ,GACpBkgB,WAAY,UAEd/S,SAAU,CACRmH,WAAYtU,EAAQ,IAEtBoU,IAAK,CACH0E,QAAS,QACT7D,cAAe,aACflV,OAAQC,EAAQ,EAAG,QACnBuX,SAAUvX,EAAQ,GAClBmU,MAAO,OAET4Y,KAAM,CACJjU,QAAS,OACT/Y,OAAQ,MACRnlB,MAAO,aAsKIq3B,gBACb,YASO,IAAD,IARJhP,KACEkK,EAOE,EAPFA,SACAxJ,EAME,EANFA,MACWnwB,EAKT,EALFw5C,QAAWx5C,KAEb+0B,EAGI,EAHJA,gBACAxF,EAEI,EAFJA,SACA8F,EACI,EADJA,OAEMokB,EAAkBvvC,OAAOC,KAAKolB,GAAU9kB,OACxCivC,EAAWC,aAA+B5kB,EAAiBM,GACjE,MAAO,CACLsE,WACAxJ,MAAOA,EAAM,GACb4E,kBACA0kB,kBACAC,WACAF,QAASx5C,MAGb,SAACihC,GACC,MAAO,CACL3S,OAAQ,WACN2S,EAASlP,WAzBF0M,EAlKA,SAAC,GAOT,IANL+a,EAMI,EANJA,QACA7f,EAKI,EALJA,SACAxJ,EAII,EAJJA,MACAspB,EAGI,EAHJA,gBACAC,EAEI,EAFJA,SACAprB,EACI,EADJA,OAEM3B,EAAUT,KACV0T,EAAO5T,IAAM6T,WAAW9T,KAF1B,EAGaC,IAAMmV,SAASlT,KAAKsE,MAAMC,OAAOC,aAAaC,QAAQ,YAAhEknB,EAHH,oBAKEhS,EAAO,CACX,CACE5nC,KAAM4/B,EAAKxZ,iBACXyzB,OAAQ3mB,KACR1nB,KAAM,YAER,CACExL,KAAM4/B,EAAKvZ,oBACXwzB,OAAQC,KACRC,KAAM,eAER,CACE/5C,KAAM4/B,EAAKtZ,wBACXuzB,OAAQ7mC,KACR+mC,KAAM,kBAER,CACE/5C,KAAM4/B,EAAKrZ,cACXvlB,GAAI,GACJ64C,OAAQG,KACRD,KAAM,SAER,CACE/5C,KAAM4/B,EAAK1U,yBACX2uB,OAAQI,KACRF,KAAM,eAIJb,EAAe,CACnB,CAAEz0C,MAAOm7B,EAAKpZ,uBAAwBjhB,MAAO,SAC7C,CAAEd,MAAOm7B,EAAKnZ,oBAAqBlhB,MAAO,OAGtCsY,EAAUsoB,cAChB,OACE,kBAAC,GAAD,CAAenmC,KAAK,KAAKsU,MAAOsrB,EAAKlZ,YACnC,kBAAC6iB,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,EAAGI,UAAWD,EAAQ2sB,iBAC7C,kBAAC/P,GAAA,EAAD,CAAMpJ,MAAO,CAAEmF,QAAS,OAAQ/Y,OAAQ,MAAOnlB,MAAO,UACpD,yBAAKyC,IAAKqwC,KAAQ/Z,MAAO,CAAE/4B,MAAO,OAAQilB,OAAQ,QAAUQ,IAAI,KAChE,kBAAC2X,EAAA,EAAD,CAAY0D,MAAM,SAAStb,UAAWD,EAAQ3sB,MAC3C25B,IAIL,kBAAC4P,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACb,kBAACjF,EAAA,EAAD,CACE1X,QAAQ,YACRob,MAAM,OACN/H,MAAO,CAAEW,WAAY,SAEV,cAAV3Q,EAAwByP,EAAK/b,kBAAoBsM,IAItD,kBAACoZ,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACb,kBAACjF,EAAA,EAAD,CAAY1X,QAAQ,YAAYob,MAAM,UACnCsR,IAIL,kBAACjQ,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,IACb,kBAAC8K,GAAA,EAAD,OAGF,kBAAChL,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACb,kBAACnJ,EAAA,EAAD,CAAK1T,UAAWD,EAAQ8pB,OACtB,yBAAK5sC,IAAKswC,KAAU/yC,MAAM,KAAKylB,IAAI,KACnC,kBAAC2X,EAAA,EAAD,CACE1X,QAAQ,YACRob,MAAM,SACNtb,UAAWD,EAAQ3sB,MAElB4/B,EAAK1Z,iBAIZ,kBAACqjB,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,EAAGvB,MAAM,UACtB,kBAAC1D,EAAA,EAAD,CAAY1X,QAAQ,aACjB4sB,EAASU,qBAGd,kBAAC7Q,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,EAAGvB,MAAM,UACtB,kBAAC1D,EAAA,EAAD,CAAY1X,QAAQ,aACT,OAARqD,IAAA,OAAcypB,QAAd,IAAcA,OAAd,EAAcA,EAAQ1pB,UAAtB,qCAAuC0pB,QAAvC,IAAuCA,OAAvC,EAAuCA,EAAQ1pB,WAGpD,kBAACqZ,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,IACf,kBAACF,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,KACf,kBAACF,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACb,kBAACnJ,EAAA,EAAD,CAAK1T,UAAWD,EAAQ8pB,OACtB,yBACE5sC,IAAK67B,KACLt+B,MAAM,KACN+4B,MAAO,CAAEW,WAAY,MAAOkE,UAAW,eACvCnY,IAAI,KAEN,kBAAC2X,EAAA,EAAD,CACE1X,QAAQ,YACRob,MAAM,SACNtb,UAAWD,EAAQ3sB,MAElB4/B,EAAKzZ,oBAIZ,kBAACojB,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,EAAGvB,MAAM,UACtB,kBAAC1D,EAAA,EAAD,CAAY1X,QAAQ,aAAa2sB,KAIrC,kBAAC/O,GAAA,EAAD,CAAM9d,UAAWD,EAAQsW,MACtB2E,EAAKt2B,KAAI,SAAC2C,EAAM2d,GACf,OACE,kBAACyoB,GAAA,EAAD,CACErnC,IAAK4e,EACLhF,UAAWD,EAAQkb,SACnBnH,QAAS,WACP7iB,EAAQnR,KAAKuH,EAAK8lC,QAGpB,yBAAKlwC,IAAKoK,EAAK4lC,OAAQzyC,MAAM,KAAKylB,IAAI,KACtC,kBAACytB,GAAA,EAAD,CACEC,QAAStmC,EAAKjU,KACd4sB,UAAWD,EAAQgb,eAErB,kBAAC6S,GAAA,EAAD,CAAgBtS,MAAM,SACnBj0B,EAAKzI,KACJ,kBAAC,GAAD,CAAgB0tC,aAAcA,IAE9B,kBAAC,KAAD,CAAqBnV,SAAS,kBAO1C,kBAACzD,EAAA,EAAD,KACE,kBAACG,EAAA,EAAD,CACEE,MAAM,YACN/T,UAAWD,EAAQiU,IACnBF,QAAS,kBAAMpS,MAEdsR,EAAKjZ,uBCzNVuF,GAAYC,aAAW,gBAAGK,EAAH,EAAGA,QAAH,MAAkB,CAC7C6Z,KAAM,CACJ9Z,OAAQC,EAAQ,EAAG,IAErBghB,YAAa,CACXzI,aAAcvY,EAAQ,IAExBihB,OAAQ,CACN3xB,SAAU,QACV+kB,OAAQrU,EAAQ,GAChBplB,MAAO,OAETqzC,MAAO,CACL3+B,SAAU,QACV+kB,OAAQrU,EAAQ,GAChBplB,MAAO,OAETsmC,SAAU,CACRC,UAAWnhB,EAAQ,QAgMRiS,gBAnBQ,SACrBrL,EADqB,GAOjB,IAAD,IAJD7xB,MACEy4B,OAIJ,MAAO,CAAE0gB,WADN,EAHWA,WAIOC,mBADlB,EAHuBA,uBAOD,SAAC1Z,GAC1B,MAAO,CACLwM,OAAQ,SAACG,GACP3M,EAASlP,IAA8B6b,QAK9BnP,EA5LkB,SAAC,GAI3B,IAHLgP,EAGI,EAHJA,OACAiN,EAEI,EAFJA,WACAC,EACI,EADJA,mBAEMhuB,EAAUT,KACV0T,EAAO5T,IAAM6T,WAAW9T,KAF1B,EAIwBC,IAAMmV,SAAS,CACzC0M,YAA4B,SAAf6M,EAAwBC,EAAqB,GAC1D7M,YAAa,GACbC,mBAAoB,KAPlB,mBAIGH,EAJH,KAIWI,EAJX,OAUsChiB,IAAMmV,SAAS,CACvD0M,aAAa,EACbC,aAAa,EACbC,oBAAoB,IAblB,mBAUGE,EAVH,KAUmBC,EAVnB,KAgBEj+B,EAAS,CACb,CACEjQ,KAAM,cACNyE,MAAOm7B,EAAKlY,qBACZymB,aAAcwM,EACdD,WAAYA,GAEd,CACE16C,KAAM,cACNyE,MAAOm7B,EAAKnY,qBACZ0mB,aAAcF,EAAeH,aAE/B,CACE9tC,KAAM,qBACNyE,MAAOm7B,EAAKjY,iCACZwmB,aAAcF,EAAeF,mBAC7BL,SAAU,iLAYRU,EAA0B,SAAChB,GAC/BA,EAAMiB,kBA6BFC,EAAmB,SAACh4B,GACxB,IAAIi4B,EAAe,QAAQC,KAAKl4B,GAC5Bm4B,EAAe,QAAQD,KAAKl4B,GAC5Bo4B,EAAa,KAAKF,KAAKl4B,GACvBq4B,EAAe,KAAKH,KAAKl4B,GAE7B,OAAIA,EAAS7L,OAAS,GACpBmpB,MAAM,sDACC,GACEtd,EAAS7L,OAAS,IAC3BmpB,MAAM,6DACC,GACG2a,EAGAE,EAGAC,GAGAC,IACV/a,MAAM,uEACC,IAJPA,MAAM,2DACC,IAJPA,MAAM,uEACC,IAJPA,MAAM,uEACC,IAeX,OACE,kBAAC0M,EAAA,EAAD,CAAK1T,UAAWD,EAAQ0Z,MACtB,kBAAC7B,EAAA,EAAD,CAAY1X,QAAQ,QAAQ6T,MAAM,QAAQR,MAAO,CAAEwN,UAAW,SAA9D,6EAGC19B,EAAOqB,KAAI,SAAC2C,EAAM2d,GACjB,MACsB,SAApB3d,EAAKymC,YACH,kBAAC9L,GAAA,EAAD,CACE7O,WAAS,EACT98B,UAAQ,EACR+P,IAAK4e,EACLhF,UAAWD,EAAQ6gB,aAEnB,kBAACqB,GAAA,EAAD,KAAa56B,EAAKxP,OAClB,kBAACqqC,GAAA,EAAD,CACEC,UAAU,IACVvjC,KAAMyI,EAAKk6B,aAAe,OAAS,WACnC5oC,MAAO0O,EAAKqC,SACZ62B,UAtFQ6B,EAsFe/6B,EAAKjU,KAtFX,SAACotC,GAC9BY,EAAU,6BAAKJ,GAAN,mBAAeoB,EAAO5B,EAAMpG,OAAOzhC,MAAM+D,YAsFtC2lC,aACE,kBAACC,GAAA,EAAD,CAAgBpzB,SAAS,OACvB,kBAACqzB,GAAA,EAAD,CACE5K,aAAW,6BACX7D,SAvFa1gC,EAuFoBiU,EAAKjU,KAvFhB,SAACotC,GACzCc,EAAgB,6BAAKD,GAAN,mBAAuBjuC,GAAQiuC,EAAejuC,QAuF3CovC,YAAahB,GAEZn6B,EAAKk6B,aAAe,kBAAC,KAAD,MAAiB,kBAAC,KAAD,UAK9C,kBAAC3J,EAAA,EAAD,CACE1X,QAAQ,QACR6T,MAAM,gBACN/T,UAAWD,EAAQ+gB,UAElBz5B,EAAKy5B,WApGY,IAAC1tC,EAJXgvC,KA8GlB,kBAAC1O,EAAA,EAAD,CAAK1T,UAAWD,EAAQ8gB,QACtB,kBAAChN,EAAA,EAAD,CACEN,MAAO,CACLuB,gBAAiB,eACjBf,MAAO,QACPc,cAAe,cAEjB1B,WAAS,EACTW,QAAS,kBA1GU,WACzB,GAAKkN,EAAOC,YAEL,GAAKD,EAAOE,YAEZ,IAAIQ,EAAiBV,EAAOE,aACjC,OAAO,EACF,GAAKF,EAAOG,mBAEZ,GAAIH,EAAOC,cAAgBD,EAAOG,mBACvCna,MAAM,gFACD,IAAI0a,EAAiBV,EAAOG,oBACjC,OAAO,EACEH,EAAOE,cAAgBF,EAAOG,mBACvCna,MAAM,oDAEN6Z,EACE,CACE4B,gBAAiBzB,EAAOC,YACxBC,YAAaF,EAAOE,aAEtB4M,QAbF9mB,MAAM,yDAJNA,MAAM,6CAFNA,MAAM,wCAwGa0b,IACf3N,KAAK,QACL7U,QAAQ,aAEP8S,EAAKtZ,8B,UCbDs0B,GAhLW,SAAC,GAOpB,IAAD,IANJjkC,EAMI,EANJA,KACWgoB,EAKP,EALJC,UACAic,EAII,EAJJA,QACApN,EAGI,EAHJA,OACAqN,EAEI,EAFJA,uBACAC,EACI,EADJA,wBACI,EACoB/uB,IAAMmV,SAAS,MADnC,mBACG5B,EADH,KACS6B,EADT,OAE4BpV,IAAMmV,SAAS,IAF3C,mBAEGqK,EAFH,KAEawP,EAFb,OAG0ChvB,IAAMmV,SAAS,IAHzD,mBAGG8Z,EAHH,KAGoBC,EAHpB,OAIoBlvB,IAAMmV,SAC5Bl0B,IAAO,IAAIC,MAAQ0M,OAAO,eALxB,mBAIGpV,EAJH,KAIS22C,EAJT,KAOEvb,EAAO5T,IAAM6T,WAAW9T,KAaxBqvB,EAAyB,WAC7B,IAAMC,EAAc7P,EAChB70B,EACEzM,OAAOC,KAAKwM,GAAM/G,QAAO,SAACqE,GACxB,OAAO0C,EAAK1C,GAAM2nB,iBAAmB4P,KACpC,IAEL70B,EACJ,GAAI60B,EACF,MAAiC,MAA7B6P,EAAYC,aACP,CAAEr3C,IAAK,EAAGC,IAAK+I,MAAS2M,OAAO,eAET,MAAzByhC,EAAYE,UAA6C,OAAzBF,EAAYE,SACvC,CACLt3C,IAAKgJ,MAASqlC,KAAK,EAAG,QAAQ14B,OAAO,cACrC1V,IAAK+I,MAAS2M,OAAO,eAGhB,CACL3V,IAAKgJ,MACFqlC,KAAK+I,EAAYE,SAAU,QAC3B3hC,OAAO,cACV1V,IAAK+I,MAAS2M,OAAO,gBA+B/B,OAJIjD,GACFA,EAAKyjB,MAAK,SAACoQ,EAAGC,GAAJ,OAAWD,EAAEpQ,KAAQoQ,EAAEpQ,KAAOqQ,EAAErQ,KAAO,GAAK,EAAK,KAI3D,kBAACkG,EAAA,EAAD,CAAKH,MAAO,CAAE4E,aAAc,SAA5B,OACGpuB,QADH,IACGA,OADH,EACGA,EAAMrF,KAAI,SAAC2C,EAAM2d,GAChB,OACE,kBAAC+M,EAAD,CACEhoB,KAAM1C,EACNqgC,gBAAiB,SAACt0C,EAAMwrC,EAAUyP,GAAjB,OAtEH,SAACj7C,EAAMwrC,EAAUyP,GACvC7Z,EAAQphC,GACRg7C,EAAYxP,GACZ0P,EAAmBD,GAoET3G,CAAgBt0C,EAAMwrC,EAAUyP,IAElCJ,QAASA,EACT7nC,IAAK4e,OAIX,kBAAC,EAAD,CACE2N,KACW,SAATA,GACS,WAATA,GACS,YAATA,GACS,WAATA,EAEF/6B,KAAMA,EACNg7B,YA9Cc,WAClB,IAAIh0B,EAAO,EAEE,SAAT+zB,GAA4B,WAATA,IACrB/zB,EAAO,GAGI,YAAT+zB,GAA+B,WAATA,IACxB/zB,EAAO,GAGK,SAAT+zB,GAA4B,YAATA,IAAuB/6B,EAG3B,WAAT+6B,GAA8B,WAATA,IAC9BkO,EAAOjC,EAAU,GAAIhgC,GACrB41B,EAAQ,QAJRqM,EAAOjC,EAAUhnC,EAAMgH,GACvB41B,EAAQ,QAkCN3B,QAjFc,WAClB2B,EAAQ,MACR+Z,EAAQluC,IAAO,IAAIC,MAAQ0M,OAAO,gBAgF9BtF,MAAO2mC,GAEP,kBAAC3a,EAAA,EAAD,CAAKsY,GAAI,EAAG1Q,MAAM,SAASoJ,GAAI,GAC7B,kBAAC9M,EAAA,EAAD,CACE1X,QAAQ,QACR6T,MACW,SAATpB,GAA4B,YAATA,EACf/6B,EACE,UACA,QACF,WAGI,SAAT+6B,GAA4B,YAATA,EAAnB,WACOK,EAAKzV,uBADZ,OAEc,SAAToV,EACIK,EAAK9a,kBACI,YAATya,EACAK,EAAK5a,gBACL,IANT,OAOM4a,EAAK1V,cAPX,UAQM0V,EAAK3V,oBARX,OASc,WAATsV,EACIK,EAAK7a,oBACI,WAATwa,EACAK,EAAK3a,eACL,IAbT,OAcM2a,EAAK1V,aAdX,OAiBL,kBAACoW,EAAA,EAAD,CAAKsY,GAAI,EAAG1Q,MAAM,UACN,SAAT3I,GACC,2BACE/zB,KAAK,OACLvH,IAAK62C,EACL52C,IAAK62C,EACL5N,SAAU,SAAC/wB,GACT++B,EAAQ/+B,EAAE4qB,OAAOzhC,QAEnBA,MAAOf,IAGD,YAAT+6B,GAWC,kBAACic,GAAA,EAAD,CACEC,QAAM,EACNC,gBAAgB,EAChB5uB,QAAQ,SACRvnB,MAAOf,EAAO,IAAI0I,KAAK1I,GAAQ,KAC/Bm3C,QAAS,IAAIzuC,KAAJ,UAASkuC,WAAT,aAAS,EAA0Bn3C,KAC5C23C,QAAS,IAAI1uC,KAAJ,UAASkuC,WAAT,aAAS,EAA0Bl3C,KAC5C0V,OAAO,aACPuzB,SAAU,SAAC0O,GACTV,EAAQluC,IAAO4uC,GAAGjiC,OAAO,sB,yFC5InCkiC,GAAwB5Z,aAAW,YAAkB,IAAf1V,EAAc,EAAdA,QAC1C,MAAO,CACLub,OAAQ,CACN9B,aAAczZ,EAAQ,KACtBiV,cAAe,aACfyE,WAAY,QACZnC,SAAU,SACVvD,QAAS,YAEXub,KAAM,CACJpO,UAAWnhB,EAAQ,IAIrBwvB,YAAa,CACXlb,WAAY,OAEdr8B,MAAO,CACLioC,WAAY,aAlBYxK,EAsB5B,YAWO,IAVLvV,EAUI,EAVJA,QACAhW,EASI,EATJA,KACAK,EAQI,EARJA,SACAs9B,EAOI,EAPJA,gBACAuG,EAMI,EANJA,QACA9lB,EAKI,EALJA,gBAEAM,GAGI,EAJJxB,aAII,EAHJwB,QACAe,EAEI,EAFJA,UACA6c,EACI,EADJA,sBAGMrT,EAAO5T,IAAM6T,WAAW9T,KAExBlO,EAAUsoB,cACVpU,EAAS,CAqCb,CACEttB,MAAOm7B,EAAK5a,gBACZhlB,KAAM,UACN4+B,UAAW,SAACnP,GAAD,OACT,kBAACwsB,GAAA,EAAD,CACEtb,MAAOlR,EAAKysB,aAAangB,QAAU,SAAW,WAC9C2E,QAAS,WACP,IAAM/rB,EAASwnC,aACbpnB,EACApe,EAAKmf,YACLnf,EAAKilB,gBAEP,GAAIjnB,EACFif,MAAMjf,EAAOqgB,OAASrgB,EAAO2H,aAD/B,CAOA,IAOM+b,EAPmB6c,aACvB9e,EAAUzf,EAAKilB,iBAAmB,GAClCvG,EAAO1e,EAAKmf,aAAaW,YACzBpB,EAAO1e,EAAKmf,aAAaU,cACzBnB,EAAO1e,EAAKmf,aAAagf,iBAGIxjC,KAAI,SAAC2C,GAClC,MAAO,CACL4+B,IAAKxd,EAAO1e,EAAKmf,aAAasf,GAC9BtC,OAAQzd,EAAO1e,EAAKmf,aAAagd,OACjCC,OAAQ1d,EAAO1e,EAAKmf,aAAa0I,MACjCH,UAAWhJ,EAAO1e,EAAKmf,aAAarB,cACpC6J,QAAS3nB,EAAKmf,YACd2d,WAAY98B,EAAKilB,eACjB8X,YAAaz/B,EAAKy+B,wBAItB3hB,aAAoBqF,EAAWzf,EAAM0e,GAAQ/E,MAAK,SAAChU,GAC7CA,EAAQ7R,OAAS,GACnB4tB,EAAM/mB,KAAI,SAAA2C,GAAI,OACZg/B,EAAsBh/B,GAAMqc,MAAK,SAAC6I,GAAS,IAAD,IAClCijB,EAAU,UAAGjjB,EAAIxiB,YAAP,iBAAG,EAAW,GAAGo6B,uBAAjB,aAAG,EAA+BsL,SAAQ,SAAArpC,GAAG,OAC3DA,EAAIg+B,mBAAmBphC,QACrB,SAAAkkC,GAAO,MAA6B,aAAzBA,EAAQ9B,cAAqD,OAAtB8B,EAAQC,gBAI9D,GAAIqI,EAAW3xC,OAAS,EAEtB,OADAmpB,MAAM,eAAD,OAAMwoB,EAAW3xC,OAAjB,gJACE,QAIb6pC,EACE,UACA39B,EAAKilB,gBACJif,EAAUlkC,EAAKilB,eAAiBjlB,EAAK2lC,YACtC,IACA3lC,EAAK2V,cAGPsH,MAAM,sBAAD,OAAQtX,EAAQqhB,sBAOjC,CACEl5B,MAAOm7B,EAAK3a,eACZjlB,KAAM,SACN4+B,UAAW,SAACnP,GAAD,OACT,kBAAC8sB,GAAA,EAAD,CACE5b,MAAOlR,EAAKysB,aAAalgB,OAAS,SAAW,WAC7C0E,QAAS,kBACP4T,EACE,SACA39B,EAAKilB,gBACJif,EAAUlkC,EAAKilB,eAAiBjlB,EAAK2lC,YACtC,IACA3lC,EAAK2V,kBAMf,CACE7nB,MACe,SAAbuS,EACI4oB,EAAKza,yBACQ,SAAbnO,EACE4oB,EAAK1a,yBACL0a,EAAKxa,0BACbplB,KAAM,WACN4+B,UAAW,kBACT,kBAAC4d,GAAA,EAAD,CACErc,MAAO,CAAE5T,OAAQ,QACjBoU,MACe,SAAb3pB,GAAoC,SAAbA,EAAsB,SAAW,WAE1D0pB,QAAS,WACP7iB,EAAQnR,KAAR,qBACgBiK,EAAKilB,eADrB,YACuCjlB,EAAKmf,YAD5C,YAC2Dnf,EAAK6f,cADhE,YA7IG,mBAsJb,OACE,kBAACkV,GAAA,EAAD,CAAM9e,UAAWD,EAAQovB,MACvB,kBAACU,GAAA,EAAD,KACE,kBAAChc,EAAA,EAAD,CACEkJ,UAAQ,EACR7c,QAAQ,YACRqT,MAAO,CACLuB,gBAAiB/qB,EAAKulC,aAAangB,QAAU,UAAY,GACzD4E,MAAOhqB,EAAKulC,aAAangB,QAAU,QAAU,SAE/CpP,QAAS,CAAEsW,KAAMtW,EAAQob,SAExBpxB,EAAK+lC,KATR,IASe/lC,EAAKgmC,MAAQ/c,EAAK5V,uBAEjC,kBAACsW,EAAA,EAAD,CAAKqY,GAAI,GACP,kBAACrY,EAAA,EAAD,CAAKH,MAAO,CAAEmF,QAAS,gBACrB,kBAACsX,GAAA,EAAD,CAAkBjc,MAAM,SAASR,MAAO,CAAE4D,SAAU,YACpD,kBAACS,EAAA,EAAD,CAAY1X,QAAQ,QAAQ+e,WAAY,KACpCgR,aAAmBlmC,EAAKilB,gBAEtBgE,EAAKva,2BADLua,EAAKnd,iBAFX,KAIK9L,EAAKilB,eAAiB,IAAMjlB,EAAK2V,eAI1C,kBAACgU,EAAA,EAAD,CAAKqY,GAAI,KACP,kBAACpP,GAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,EAAGtJ,MAAO,CAAEmF,QAAS,gBAClC,kBAACwX,GAAA,EAAD,CACE3c,MAAO,CAAE4D,SAAU,WACnBpD,MAAM,WAER,kBAAC6D,EAAA,EAAD,CAAY1X,QAAQ,WACjB8S,EAAKhb,2BADR,KACsCjO,EAAKkyB,cAG7C,kBAACU,GAAA,EAAD,CACEt1B,MAAI,EACJw1B,GAAI,EACJtJ,MAAO,CACLmF,QAAS,cACTqG,eAAgB,eAGlB,kBAACoR,GAAA,EAAD,CACE5c,MAAO,CAAE4D,SAAU,WACnBpD,MAAM,WAER,kBAAC6D,EAAA,EAAD,CAAY1X,QAAQ,WACjB8S,EAAK/a,6BADR,KACwClO,EAAKse,mBAMrD,kBAAC+nB,GAAA,EAAD,CAAa7c,MAAO,CAAEuB,gBAAiB,UAAWiJ,SAAU,SACzD5Y,EAAOzgB,KAAI,SAAC2C,EAAM2d,GACjB,IAAM+M,EAAY1qB,EAAK2qB,UACnB+K,GAAW,EAyBf,MAvBkB,SAAd11B,EAAKjU,OACP2pC,GAAYhzB,EAAKulC,aAAajgB,MAGd,WAAdhoB,EAAKjU,OACP2pC,GAAYhzB,EAAKulC,aAAahgB,QAGd,YAAdjoB,EAAKjU,OACP2pC,GAAYhzB,EAAKulC,aAAangB,SAGd,WAAd9nB,EAAKjU,OACP2pC,GAAYhzB,EAAKulC,aAAalgB,QAGd,aAAd/nB,EAAKjU,OACP2pC,KACgB,SAAb3yB,GAAoC,SAAbA,IACxBL,EAAKulC,aAAa9f,aAKpB,kBAACqE,EAAA,EAAD,CACEkB,KAAK,QACL3uB,IAAK4e,EACL+X,SAAUA,EACVxJ,MAAO,CACLmF,QAAS,cACTzB,KAAM,OACN/C,WAAY,QAGd,kBAACnC,EAAD,CAAWud,aAAcvlC,EAAKulC,eAC9B,kBAAC1X,EAAA,EAAD,CAAY1X,QAAQ,UAAUF,UAAWD,EAAQloB,OAC9CwP,EAAKxP,gBAUTg6B,gBACb,cAGM,IAAD,MAFDrI,iBAEC,MAFW,GAEX,EAFevC,EAEf,EAFeA,aAAcwB,EAE7B,EAF6BA,OAAQN,EAErC,EAFqCA,gBAErC,IADDpe,KAAwBqd,EACvB,EADO4H,eAA4B9F,EACnC,EADmCA,YAEhCrB,EAAa,UAAGY,EAAOS,UAAV,aAAG,EAAqBrB,cAS3C,MAAO,CACLzd,SATe4lB,aACfnI,EACAqB,EACA9B,EACAoC,EACAvC,GAKAkB,kBACAlB,eACAwB,SACAe,gBAED,SAAC6K,GACF,MAAO,CACLgS,sBAAuB,SAACt8B,GACtB,OAAOsqB,EAASlP,IAA2Bpb,QAxBpC8nB,CA4Bbqd,ICzTard,gBACb,cAOM,IANFpJ,EAMC,EANDA,OAAQN,EAMP,EANOA,gBAAiBpB,EAMxB,EANwBA,WAAYlE,EAMpC,EANoCA,KAGjBqG,EAGnB,EAJDv0B,MACEy4B,OAAUh2B,OAIRi5C,EAAiBxtB,EAAK8K,aAAa0iB,eACjCzmB,GAAkBnB,EAAOS,IAAgB,IAAzCU,cAER,MAAO,CACL7f,KAAMzM,OAAOC,KAAK4qB,GACfnlB,QAAO,SAACoD,GACP,OACE+hB,EAAgB/hB,GAAK8iB,cAAgBA,GACrCnC,EAAWoB,EAAgB/hB,GAAK4oB,kBAC/BqhB,EAAe77C,SAAS2zB,EAAgB/hB,GAAK4oB,mBAGjDtqB,KAAI,SAAC0B,GACJ,IAAM4oB,EAAiB7G,EAAgB/hB,GAAK4oB,eADhC,EAQR7G,EAAgB/hB,GALlBiiB,EAHU,EAGVA,cACA4T,EAJU,EAIVA,YACAgB,EALU,EAKVA,iBACAC,EANU,EAMVA,eACA4S,EAPU,EAOVA,KAEM7R,EAAqBlX,EAAWiI,GAAhCiP,iBAEJqS,EAAsB,CACxBztB,OACAsF,mBAGEooB,EAAW,CACbvhB,iBACA9F,eAGEomB,EAAekB,KACjBF,EACAC,GAGF,MAAO,CACLvhB,eAAgBA,EAChB3G,cAAeA,EACX,IAAI/nB,KAAK+nB,GAAe+U,qBACxB,IACJa,iBAAkBA,EAClBhC,YAAaA,EACT,IAAI37B,KAAK27B,GAAamB,qBACtBH,GAAoBC,EACpB,IAAI58B,KAAK48B,GAAgBE,qBACzB,IACJ0S,KAAMA,GAAQ,IACd5mB,YAAaA,EACbU,gBACA0lB,mBAGNpmB,YAAaA,MA9EQ,SAACmL,GAC1B,MAAO,CACLwM,OAAQ,SAAC7R,EAAgB9F,EAAatxB,EAAMgH,GAC1C,IAAImL,EAAO,CACTqd,WAAY4H,EACZp3B,KAAMA,GAAc,GACpBuvB,QAAS+B,EACTtqB,KAAMA,GAERy1B,EAASlP,KAAiCpb,QAKjC8nB,EA/Be,SAAC,GAAmC,IAAjC9nB,EAAgC,EAAhCA,KAAMmf,EAA0B,EAA1BA,YAAa2X,EAAa,EAAbA,OAC5C7N,EAAO5T,IAAM6T,WAAW9T,KAE9B,OACE,kBAAC,GAAD,CAAezX,MAAOsrB,EAAKlb,yBAA2B,KAAOoR,GAC3D,kBAAC,GAAD,CACEnf,KAAMA,EACNioB,UAAWkd,GACXjB,QAAQ,WACRpN,OAAQ,SAAC7R,EAAgBp3B,EAAMgH,GAC7BiiC,EAAO7R,EAAgB9F,EAAatxB,EAAMgH,UC+FrC6xC,GAxFmBnb,aAAW,YAAkB,IAAf1V,EAAc,EAAdA,QAC9C,MAAO,CACLub,OAAQ,CACN9B,aAAczZ,EAAQ,KACtB0Z,WAAY,QACZnC,SAAU,SACVvD,QAAS,YAEXub,KAAM,CACJpO,UAAWnhB,EAAQ,IAIrBwvB,YAAa,CACXlb,WAAY,OAEdr8B,MAAO,CACLioC,WAAY,UAEd9H,QAAS,CACPpE,QAAShU,EAAQ,EAAG,EAAG,EAAG,OApBE0V,EAuB/B,YAA4D,IAAzDvV,EAAwD,EAAxDA,QAAShW,EAA+C,EAA/CA,KACPipB,GADsD,EAAzC5oB,SAAyC,EAA/Bs9B,gBAA+B,EAAduG,QACjC7uB,IAAM6T,WAAW9T,MACxBlO,EAAUsoB,cAEhB,OACE,kBAACuF,GAAA,EAAD,CAAM9e,UAAWD,EAAQovB,MACvB,kBAACU,GAAA,EAAD,CAAa7vB,UAAWD,EAAQiY,SAC9B,kBAACtE,EAAA,EAAD,CAAKH,MAAO,CAAEC,UAAW,UACvB,kBAACK,EAAA,EAAD,CACEkJ,UAAWhzB,EAAKulC,aAAa9f,WAC7BuE,MAAM,UACND,QAAS,WACP7iB,EAAQnR,KAAR,qBACgBiK,EAAKilB,eADrB,YACuCjlB,EAAKmf,YAD5C,YAC2Dnf,EAAK6f,cADhE,YATC,cAKL,+BAYF,kBAAC8J,EAAA,EAAD,KACE,kBAACA,EAAA,EAAD,CAAKH,MAAO,CAAEmF,QAAS,gBACrB,kBAACsX,GAAA,EAAD,CAAkBjc,MAAM,SAASR,MAAO,CAAE4D,SAAU,YACpD,kBAACS,EAAA,EAAD,CAAY1X,QAAQ,QAAQ+e,WAAY,KACpCgR,aAAmBlmC,EAAKilB,gBAEtBgE,EAAKva,2BADLua,EAAKnd,iBAFX,KAIK9L,EAAKilB,eAAiB,IAAMjlB,EAAK2V,eAI1C,kBAACgU,EAAA,EAAD,CAAKqY,GAAI,KACP,kBAACpP,GAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,EAAGtJ,MAAO,CAAEmF,QAAS,gBAClC,kBAACwX,GAAA,EAAD,CACE3c,MAAO,CAAE4D,SAAU,WACnBpD,MAAM,WAER,kBAAC6D,EAAA,EAAD,CAAY1X,QAAQ,WACjB8S,EAAKhb,2BADR,KACsCjO,EAAKkyB,cAG7C,kBAACU,GAAA,EAAD,CACEt1B,MAAI,EACJw1B,GAAI,EACJtJ,MAAO,CACLmF,QAAS,cACTqG,eAAgB,eAGlB,kBAACoR,GAAA,EAAD,CACE5c,MAAO,CAAE4D,SAAU,WACnBpD,MAAM,WAER,kBAAC6D,EAAA,EAAD,CAAY1X,QAAQ,WACjB8S,EAAK/a,6BADR,KACwClO,EAAKse,uBC3FrDqoB,GAAYpb,aAAW,YAAkB,IAAf1V,EAAc,EAAdA,QAC9B,MAAO,CACLkb,IAAK,CACHlH,QAAShU,EAAQ,OAEnBktB,SAAU,CACRhY,gBAAiB,MACjBlB,QAAShU,EAAQ,EAAG,KAEtB/nB,MAAO,CACLktC,YAAanlB,EAAQ,MACrBmU,MAAO,UACP2E,QAAS,OACT8F,WAAY,SACZO,eAAgB,iBAElBjI,KAAM,CACJiO,YAAanlB,EAAQ,MACrBqY,WAAYrY,EAAQ,MAEtBoU,IAAK,CACH+Q,YAAanlB,EAAQ,IAEvB+lB,QAAS,CACPjN,QAAS,OACT8F,WAAY,UAEdmS,OAAQ,CACNjY,QAAS,QAEXV,QAAS,CACPU,QAAS,WA/BGpD,EAkCf,YAAsE,IAAnEvV,EAAkE,EAAlEA,QAAS1c,EAAyD,EAAzDA,OAAQ0G,EAAiD,EAAjDA,KAAM+Z,EAA2C,EAA3CA,+BAAgCjB,EAAW,EAAXA,KAAW,EACtCzD,IAAMmV,WADgC,mBAC/Dqc,EAD+D,KACrDC,EADqD,KAGtEpc,qBAAU,WAAO,IAAD,EACdoc,EAAW,OAAC9mC,QAAD,IAACA,GAAD,UAACA,EAAM+mC,0BAAP,aAAC,EAA0B/f,cACrC,CAAChnB,IAEJ,IAAMgnC,EAAe,SAACvQ,GACpBqQ,EAAYrQ,EAAMpG,OAAOzhC,OACzBmrB,EAA+B,CAC7BktB,aAAc,CAACjnC,EAAKmf,aACpB+nB,mBAAoBzQ,EAAMpG,OAAOzhC,SAIrC,OACE,6BACG0K,EAAOqB,KAAI,SAAC2C,EAAM2d,GAAW,IAAD,EAC3B,OACE,yBAAK5e,IAAK4e,GACR,kBAAC2X,GAAA,EAAD,CAAMC,WAAS,EAAC4B,WAAW,SAASxe,UAAWD,EAAQ+a,KACrD,kBAAC6B,GAAA,EAAD,CAAMt1B,MAAI,EAAC2Y,UAAWD,EAAQ+W,MAC3B,kBAACzvB,EAAKyvB,KAAN,OAEH,kBAAC6F,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,IAAE,EAAC7c,UAAWD,EAAQloB,OAC/B,kBAAC+/B,EAAA,EAAD,CAAY1X,QAAQ,QAAQqT,MAAO,CAAE/4B,MAAO,QACzC6M,EAAKxP,OAEO,kBAAdwP,EAAKjU,KACJ,kBAAC4uC,GAAA,EAAD,CAAajF,SAA4B,OAAlBla,EAAKU,MAAM,IAChC,kBAAC,KAAD,CAAQ5qB,MAAOi4C,GAAY,GAAIrQ,SAAUwQ,GAAzC,UACGhnC,EAAKmnC,sBADR,aACG,EAAqBxsC,KAAI,SAAC2C,EAAM2d,GAC/B,OACE,kBAACunB,GAAA,EAAD,CAAU5zC,MAAO0O,EAAK1O,MAAOyN,IAAK4e,GAChC,kBAAC4S,EAAA,EAAD,CACE1X,QAAQ,QACRob,MAAM,SACNvH,MAAM,iBAEL1sB,EAAKxP,aAQlB,kBAAC+/B,EAAA,EAAD,CAAY1X,QAAQ,QAAQ8R,UAAU,OAAOsJ,MAAM,cAC7B7kC,IAAnB4Q,EAAK2qB,UACJ,kBAAC3qB,EAAK2qB,UAAN,MAEA,8BAAOjoB,EAAK1C,EAAKjU,UAM3B,kBAACu0C,GAAA,EAAD,cAqBG9V,gBAbS,SAAC,GACvB,MAAO,CACLhP,KAFkC,EAAXA,SAMA,SAACwR,GAC1B,MAAO,CACLvQ,+BAAgC,SAAC/Z,GAC/BsqB,EAASlP,KAAsCpb,QAItC8nB,CAA6C6e,IChH7C7e,gBANS,SAACrL,EAAOwW,GAC9B,MAAO,CACLvP,YAAa0jB,KAA+B3qB,EAAOwW,MAIxCnL,EAVY,SAAC,GAC1B,OAD8C,EAAlBpE,e,uOCqhBfoE,gBAjTS,SAACrL,EAAOwW,GAAc,IAAD,gBAEzCvU,EAaEjC,EAbFiC,OACA9F,EAYE6D,EAZF7D,SACA6F,EAWEhC,EAXFgC,yBACAG,EAUEnC,EAVFmC,gBACAC,EASEpC,EATFoC,SACAT,EAQE3B,EARF2B,gBACApB,EAOEP,EAPFO,WAEAlE,EAKE2D,EALF3D,KACAoE,EAIET,EAJFS,aACAuC,EAGEhD,EAHFgD,UACAiB,EAEEjE,EAFFiE,iBACYpB,EACV7C,EADF7qB,SAAY0tB,WAIEH,EAFE8T,EAAVroC,MACAy4B,OACAh2B,OACFywB,EAAa,UAAGY,EAAOS,UAAV,aAAG,EAAqBrB,cACtBqU,GAAgBvZ,EAASkF,GAC1ClF,EAASkF,GACT,IAFInI,YAGAkK,GAAkBnB,EAAOS,IAAgB,IAAzCU,cACMuS,GAAsBxT,EAAgBiB,GAChDjB,EAAgBiB,GAChB,IAFIx2B,KAGFg+C,EAAU,UAAGxoB,EAAS,GAAD,OAAIM,EAAJ,eAAX,aAAG,EAA+BmoB,MAC5CC,EAAE,UAAG1oB,EAAS,GAAD,OAAIM,EAAJ,eAAX,aAAG,EAA+BmoB,MACpCE,EAAU,SAACjC,GACf,IAAMkC,EAAuBlC,EAAa1f,+BACpC6hB,EACJnC,EAAazf,iCAEf,OAAK2hB,GAAyBC,EAGrB,GAFA,oCAMLC,EAA8B,GAEpClB,KAEIroB,EACAe,EACArG,EAAK8K,aACL9K,EAAKU,MAAM,IAEZzmB,SAAQ,SAACsqB,GACR,GAAIe,EAAgBe,EAAc,IAAM9B,GAAa,CAAC,IAAD,EAa/Ce,EAAgBe,EAAc,IAAM9B,GAXtCiB,EAFiD,EAEjDA,cACA4T,EAHiD,EAGjDA,YACAiB,EAJiD,EAIjDA,eACAD,EALiD,EAKjDA,iBACA6S,EANiD,EAMjDA,KACA6B,EAPiD,EAOjDA,aACA3iB,EARiD,EAQjDA,eACAsC,EATiD,EASjDA,SACAod,EAViD,EAUjDA,aACAC,EAXiD,EAWjDA,SACAnhB,EAZiD,EAYjDA,KAZiD,EAgBjDzG,EAAWK,IAAe,GADpB6W,EAf2C,EAe3CA,iBAAkBkB,EAfyB,EAezBA,mBAGpBzf,EAAcyI,EAAgBe,EAAc,UAC9CiW,GAGAlB,EAEAqS,EAAsB,CACxBztB,OACAsF,kBACAlB,eACAuC,aAGE+mB,EAAW,CACbvhB,iBACA9F,cACArB,iBAGIynB,EAAekB,KACnBF,EACAC,QAKA95C,IADA0xB,EAAgBe,EAAc,IAAM9B,GAAYkK,WAEa,IAA7DnJ,EAAgBe,EAAc,IAAM9B,GAAYkK,WAE/Bwe,EAAjBznB,EAAwB,iCAAmB,kCAG7CqpB,EAA4B5xC,KAAK,CAC/BkvB,eAAgB5H,EAChBiB,cAAeA,EACX,IAAI/nB,KAAK+nB,GAAe+U,qBACxB,IACJ1d,YAAaA,EACbuc,YAAaA,EACT,IAAI37B,KAAK27B,GAAamB,qBACtBH,GAAoBC,EAClB,IAAI58B,KAAK48B,GAAgBE,qBACzB,IACN0S,KAAMA,GAAQ,IACd5mB,YAAaA,EACbU,gBACA+nB,eACArgB,WACAge,eACAS,KAAMwB,EAAQjC,GACdZ,eACAC,WACAnhB,aAKR,IAAMokB,EAAyB,GAE/BpB,KAEIroB,EACAe,EACArG,EAAK8K,aACL9K,EAAKU,MAAM,IAEZzmB,SAAQ,SAACsqB,GACR,GAAIe,EAAgBe,EAAc,IAAM9B,GAAa,CAAC,IAAD,EAS/Ce,EAAgBe,EAAc,IAAM9B,IAAe,GAPrDiB,EAFiD,EAEjDA,cACA4T,EAHiD,EAGjDA,YACAiB,EAJiD,EAIjDA,eACAD,EALiD,EAKjDA,iBACAjO,EANiD,EAMjDA,eACA8gB,EAPiD,EAOjDA,KACAtiB,EARiD,EAQjDA,KARiD,EAYjDzG,EAAWK,IAAe,GADpB6W,EAX2C,EAW3CA,iBAAkBkB,EAXyB,EAWzBA,mBAGpBzf,EAAcyI,EAAgBe,EAAc,UAC9CiW,GAGAlB,EAEAqS,EAAsB,CACxBztB,OACAsF,kBACAlB,eACAuC,aAGE+mB,EAAW,CACbvhB,iBACA9F,cACArB,iBAGIynB,EAAekB,KACnBF,EACAC,QAKA95C,IADA0xB,EAAgBe,EAAc,IAAM9B,GAAYkK,WAEa,IAA7DnJ,EAAgBe,EAAc,IAAM9B,GAAYkK,WAE/Bwe,EAAjBznB,EAAwB,iCAAmB,kCAG7CupB,EAAuB9xC,KAAK,CAC1BkvB,eAAgB5H,EAChBiB,cAAeA,EACX,IAAI/nB,KAAK+nB,GAAe+U,qBACxB,IACJ1d,YAAaA,EACbuc,YAAaA,EACT,IAAI37B,KAAK27B,GAAamB,qBACtBH,GAAoBC,EAClB,IAAI58B,KAAK48B,GAAgBE,qBACzB,IACN0S,KAAMA,GAAQ,IACd5mB,YAAaA,EACbU,gBACA0lB,eACA9hB,aAKR,IAAMsf,EAAW7xC,KAAmBktB,EAAiBe,GAC/C2oB,EAAoB52C,KACxBktB,EACAe,GAGI4oB,EACJrnB,GACM,OAANhC,QAAM,IAANA,GAAA,UAAAA,EAASS,UAAT,eAAuBW,aACvB,KADA,OAEApB,QAFA,IAEAA,GAFA,UAEAA,EAASS,UAFT,aAEA,EAAuBU,gBAGnBmoB,EACJD,GACAx0C,OAAOC,KAAKu0C,EAAQE,qBAAqBttC,KAAI,SAAC2C,GAC5C,MAAO,CAAExP,MAAOi6C,EAAQE,oBAAoB3qC,GAAO1O,MAAO0O,MAGxDypC,EAAkB,OACtBtoB,QADsB,IACtBA,GADsB,UACtBA,EAA2BU,UADL,aACtB,EAAyC+nB,mBACrCgB,EAAwB,OAAGF,QAAH,IAAGA,GAAH,UAAGA,EAAa/uC,QAAO,SAACqE,GACpD,OAAOA,EAAK1O,QAAUm4C,EAAmB/f,cACxC,UAF2B,aAAG,EAE1Bl5B,MAEDykC,EAAe,UAAG7T,EAAOS,UAAV,aAAG,EAAqBoT,gBAE7C,MAAO,CACL4V,mBAAmB,EACnBhpB,cACAnf,KAAM,CACJ8d,gBACAsqB,eAAgB,EAChBC,cAAe90C,OAAOC,KAAKkrB,GAAQzlB,QAAO,SAACoD,GACzC,OAAOqiB,EAAOriB,GAAKyhB,gBAAkBA,KACpChqB,OACHq+B,cACAkV,aACAE,KACApoB,cACAU,gBACAuS,oBACAkW,cAAeJ,EACff,eAAgBa,EAChBjB,qBACAwB,iBAAkBxF,EAAW,IAC7ByF,wBAAyBb,EACzBc,mBAAoBZ,EACpBtV,mBAEFzU,gBACAM,kBACAumB,aAAcvmB,EACdwmB,SAAUxmB,EACVM,SACAopB,oBACAxoB,aACApC,mBAIuB,SAACoN,GAC1B,MAAO,CACLwM,OAAQ,SACN7R,EACA9F,EACArB,EACAjwB,EACAgH,EACAupB,EACAM,GAEA,GACExtB,KACEiuB,EACA8F,EACA7G,GAEF,CACA,IAAMpe,EAAO9O,KACX4sB,EACAqB,EACA8F,EACAp3B,EACAgH,EACAupB,EACAM,GAEF4L,EAASlP,KAAiCpb,QACrC,CACL,IAAMA,EAAO,CACXmd,UAAWW,EACXV,QAAS+B,EACTd,OAAQ4G,EACR3G,cAAezwB,GAEjBy8B,EAASlP,KAA8Cpb,SAOhD8nB,EAxfS,SAAC,GAWlB,IAVL3I,EAUI,EAVJA,YACAnf,EASI,EATJA,KACA8d,EAQI,EARJA,cAEAgZ,GAMI,EAPJqR,kBAOI,EANJrR,QACA1Y,EAKI,EALJA,gBACAM,EAII,EAJJA,OACAopB,EAGI,EAHJA,kBACAxoB,EAEI,EAFJA,WAGM2J,GADF,EADJ/L,aAEa7H,IAAM6T,WAAW9T,MACxBlO,EAAUsoB,cAEVl2B,EAAS,CACb,CACEyzB,KAAM,kBAAM,yBAAK75B,IAAKw1C,KAAYj4C,MAAM,KAAKylB,IAAI,MACjDpoB,MAAOm7B,EAAKlc,uBACZ1jB,KAAM,gBACNsU,MAAOsrB,EAAKnc,qBAEd,CACEigB,KAAM,kBAAM,yBAAK75B,IAAKy1C,KAAUl4C,MAAM,KAAKylB,IAAI,MAC/CpoB,MAAOm7B,EAAKjc,gCACZ3jB,KAAM,eAER,CACE0jC,KAAM,kBAAM,yBAAK75B,IAAK01C,KAASn4C,MAAM,KAAKylB,IAAI,MAC9CpoB,MAAOm7B,EAAKhc,yBACZ5jB,KAAM,cACN4+B,UAAW,kBACT,kBAAC,GAAD,CAAoBnK,cAAe9d,EAAK8d,kBAG5C,CACEiP,KAAM,kBAAM,yBAAK75B,IAAKm0C,KAAY52C,MAAM,KAAKylB,IAAI,MACjDpoB,MAAOm7B,EAAK/c,mCACZ7iB,KAAM,MAER,CACE0jC,KAAM,kBAAM,yBAAK75B,IAAK21C,KAAcp4C,MAAM,KAAKylB,IAAI,MACnDpoB,MAAOm7B,EAAK/b,kBACZ7jB,KAAM,cAER,CACE0jC,KAAM,kBAAM,yBAAK75B,IAAK41C,KAAcr4C,MAAM,KAAKylB,IAAI,MACnDpoB,MAAOm7B,EAAK9V,oBACZ9pB,KAAM,mBAER,CACE0jC,KAAM,kBAAM,yBAAK75B,IAAK61C,KAAUt4C,MAAM,KAAKylB,IAAI,MAC/CpoB,MAAOm7B,EAAK7b,8BACZ/jB,KAAM,iBAER,CACE0jC,KAAM,kBAAM,yBAAK75B,IAAK81C,KAAWv4C,MAAM,KAAKylB,IAAI,MAChDpoB,MAAOm7B,EAAK3b,qBACZjkB,KAAM,cACNsU,MAAOsrB,EAAK5b,eAEd,CACE0f,KAAM,kBAAM,yBAAK75B,IAAK+1C,KAAiBx4C,MAAM,KAAKylB,IAAI,MACtDpoB,MAAOm7B,EAAK1b,4BACZlkB,KAAM,qBAER,CACE0jC,KAAM,kBAAM,yBAAK75B,IAAKg2C,KAAkBz4C,MAAM,KAAKylB,IAAI,MACvDpoB,MAAOm7B,EAAKzb,2BACZnkB,KAAM,iBAER,CACE0jC,KAAM,kBAAM,yBAAK75B,IAAK41C,KAAcr4C,MAAM,KAAKylB,IAAI,MACnDpoB,MAAOm7B,EAAKnb,8BACZzkB,KAAM,oBAER,CACE0jC,KAAM,kBAAM,yBAAK75B,IAAKi2C,KAAUjzB,IAAI,MACpCpoB,MAAOm7B,EAAKxb,4BACZpkB,KAAM,wBACN4+B,UAAW,kBACT,kBAAC6B,EAAA,EAAD,CACEE,MAAM,UACNR,MAAO,CAAEK,QAAS,EAAGmD,SAAU,gBAC/BjD,QAAS,WACP7iB,EAAQnR,KAAR,qBACgBqzC,aAAuBppC,GADvC,YACgDA,EAAKmf,YADrD,YACoEnf,EAAK6f,cADzE,gCAJJ,SAtEF,EAsFkBxK,IAAMmV,SAASlL,GAA0B,SAtF3D,mBAsFGwW,EAtFH,KAsFQuT,EAtFR,KAwFEpT,EAAO,CACX,CAAEt4B,MAAOsrB,EAAKjW,cAAepkB,MAAO,SACpC,CAAE+O,MAAOsrB,EAAKhW,gBAAiBrkB,MAAO,WACtC,CAAE+O,MAAOsrB,EAAK/V,YAAatkB,MAAO,QAW9BulC,EAAYjE,iBAAO,MAEnB7H,EAAW2H,cAUjB,OARAtF,qBAAU,WACRE,YAAW,WACTwJ,aAAiBD,EAAW9L,EAASD,YACpC,OACF,CAACC,EAASD,YAEZghB,aAAuBppC,IAAS1G,EAAO4E,OAAO5E,EAAOxF,OAAS,EAAG,GAGhE,kBAAC,GAAD,CACE6J,MAAOsrB,EAAKpc,4BAA8B,KAAO7M,EAAI,aAErD,kBAAC2pB,EAAA,EAAD,CACEH,MAAO,CACLrkB,SAAU,QACVwqB,IAAK,OACLl/B,MAAO,OACPg7B,OAAQ,UAGTqc,GACC,yBAAKte,MAjCC,CACZuB,gBAAiB,MACjBlB,QAAS,QACTJ,UAAW,SACX2D,SAAU,OACVpD,MAAO,UA6BC,8BAAO8d,IAGX,kBAAC,GAAD,CACE7R,KAAMA,EACNC,iBAAkBJ,EAClBK,YAAa,SAACvnC,GACZy6C,EAAOz6C,OAIb,yBACE46B,MAAO,CACL/4B,MAAO,OACPo5B,QAAS,OACT1kB,SAAU,WACVwqB,IAAKmY,EAAoB,OAAS,OAClCpyB,OAAQmG,OAAOmS,OAAOtY,OAAS,IAAM,KACrCse,SAAU,eAEZxL,IAAK2L,GAEI,UAAR2B,GAAmB,kBAAC,GAAD,CAAWx8B,OAAQA,EAAQ0G,KAAMA,IAC5C,YAAR81B,GACC,kBAAC,GAAD,CACE91B,KAAMA,EAAKwoC,wBACXrE,uBAAwB7tC,IACtB8nB,EAAgB,GAAD,OAAIe,EAAJ,UAAwB+S,YACvC,cACAjvB,OAAO,cACTmhC,wBAAyB9tC,IACvB8nB,EAAgB,GAAD,OAAIe,EAAJ,UAAwB+S,YACvC,cACAjvB,OAAO,cACTglB,UAAWkd,GACXjB,QAAQ,WACRpN,OAAQ,SAAC7R,EAAgBp3B,EAAMgH,GAC7BiiC,EACE7R,EACA9F,EACArB,EACAjwB,EACAgH,EACAupB,EACAM,MAKC,QAARoX,GACC,kBAAC,GAAD,CACE91B,KAAMA,EAAKyoC,mBACXxgB,UAAWye,UCvLR5e,gBACb,cAOM,IANFhP,EAMC,EANDA,KAAMmF,EAML,EANKA,cAAeG,EAMpB,EANoBA,gBAAiBM,EAMrC,EANqCA,OAGlBS,EAGnB,EAJDv0B,MACEy4B,OAAUh2B,OAINwyB,GAAkBnB,EAAOS,IAAgB,IAAzCU,cAER,MAAO,CACL7f,KAAMzM,OAAOC,KAAKyqB,GACfhlB,QAAO,SAACoD,GACP,OAAO4hB,EAAc5hB,GAAK8iB,cAAgBA,KAE3CxkB,KAAI,SAAC0B,GACJ,IAAMspC,EAAa1nB,EAAc5hB,GAAKspC,WAChChwB,EAAcsI,EAAc5hB,GAAKsZ,YAF3B,EAYRyI,EAAgB/hB,IAAQ,GAR1BiiB,EAJU,EAIVA,cACA4T,EALU,EAKVA,YACAiB,EANU,EAMVA,eACAD,EAPU,EAOVA,iBACA6S,EARU,EAQVA,KACA6B,EATU,EASVA,aACA3iB,EAVU,EAUVA,eACAsC,EAXU,EAWVA,SAGEgf,EAAsB,CACxBztB,OACAsF,mBAGEooB,EAAW,CACbvhB,iBACA9F,eAGIomB,EAAekB,KACnBF,EACAC,GAEF,MAAO,CACLvhB,eAAgBA,EAChB3G,cAAeA,EACX,IAAI/nB,KAAK+nB,GAAe+U,qBACxB,IACJa,iBAAkBve,EAClBuc,YAAaA,EACT,IAAI37B,KAAK27B,GAAamB,qBACtBH,GAAoBC,EACpB,IAAI58B,KAAK48B,GAAgBE,qBACzB,IACJ0S,KAAMA,GAAQ,IACd5mB,YAAaA,EACbwmB,WAAYA,EACZ9lB,gBACA+nB,eACArgB,WACAge,mBAGNpmB,YAAaA,MA9EQ,SAACmL,GAC1B,MAAO,CACLwM,OAAQ,SAAC7R,EAAgB9F,EAAatxB,EAAMgH,GAC1C,IAAImL,EAAO,CACTqd,WAAY4H,EACZp3B,KAAMA,GAAc,GACpBuvB,QAAS+B,EACTtqB,KAAMA,GAERy1B,EAASlP,KAAiCpb,QAKjC8nB,EA/BmB,SAAC,GAAmC,IAAjC9nB,EAAgC,EAAhCA,KAAMmf,EAA0B,EAA1BA,YAAa2X,EAAa,EAAbA,OAChD7N,EAAO5T,IAAM6T,WAAW9T,KAE9B,OACE,kBAAC,GAAD,CAAezX,MAAOsrB,EAAKva,2BAA6B,KAAOyQ,GAC7D,kBAAC,GAAD,CACEnf,KAAMA,EACNioB,UAAWkd,GACXjB,QAAQ,GACRpN,OAAQ,SAAC7R,EAAgBp3B,EAAMgH,GAC7BiiC,EAAO7R,EAAgB9F,EAAatxB,EAAMgH,U,oDCX9C0gB,GAAYC,aAAW,SAACye,GAAD,MAAY,CACvC3H,KAAM,CACJc,SAAU,WAEZ5zB,KAAM,CACJ/I,MAAO,OACPumC,UAAW/C,EAAMpe,QAAQ,IAE3Bkb,IAAK,CACHrE,kBAAmBuH,EAAMlC,QAAQ4M,KAAK,KACtChS,kBAAmB,QACnBC,kBAAmB,EACnBoK,UAAW/C,EAAMpe,QAAQ,IAE3BkX,KAAM,CACJK,SAAU,YAEZkc,MAAO,CACL74C,MAAO,OACP84C,YAAatV,EAAMpe,QAAQ,IAE7B2zB,SAAU,CACR9zB,OAAQ,OACR6zB,YAAatV,EAAMpe,QAAQ,IAE7BlY,MAAO,CACLiY,OAAQqe,EAAMpe,QAAQ,EAAG,EAAG,GAAI,KAChCmU,MAAO,WACPkL,WAAY,SAkFDuU,GA9EI,SAAC1zB,GAClB,IAAMC,EAAUT,KAEVrO,EAAUsoB,cAERxvB,EAAiB+V,EAAjB/V,KAAM1G,EAAWyc,EAAXzc,OACd,OACE,kBAAC2+B,GAAA,EAAD,CAAa7O,WAAS,EAACnT,UAAWD,EAAQxc,MACvCF,EAAOqB,KAAI,SAAC2C,EAAMjB,GACjB,IAAM2rB,EAAY1qB,EAAK2qB,UAEvB,OACE,kBAAC0B,EAAA,EAAD,CAAK1T,UAAWD,EAAQ+a,IAAK10B,IAAKA,QACnB3P,IAAZ4Q,EAAKnI,GACJ,kBAACw0B,EAAA,EAAD,CACEH,MAAO,CAAEmF,QAAS,OAAQ8F,WAAY,UACtCwN,GAAI,KACJD,GAAI,IACJjY,QAAS,kBAAM7iB,EAAQnR,KAAKuH,EAAKnI,MAEjC,yBACEjC,IAA0B,aAArBoK,EAAKqY,YAA6B+zB,KAAQC,KAC/C1zB,UACuB,aAArB3Y,EAAKqY,YACDK,EAAQwzB,SACRxzB,EAAQszB,MAEdpzB,IAAI,KAEN,kBAACyT,EAAA,EAAD,CAAKyD,SAAS,iBAAiB5D,MAAO,CAAE0D,KAAM,SAC3C5vB,EAAKxP,OAER,kBAAC,KAAD,CAAqBkoB,QAAS,CAAEsW,KAAMtW,EAAQ+W,SAGhD,kBAACpD,EAAA,EAAD,CAAKH,MAAO,CAAEmF,QAAS,SACrB,kBAAChF,EAAA,EAAD,CAAKH,MAAO,CAAE0D,KAAM,SAClB,kBAAC0c,GAAA,EAAD,CACE3hB,UAAU,SACVjS,QAAS,CAAEsW,KAAMtW,EAAQsW,OAExBhvB,EAAKK,OACJ,kBAACgsB,EAAA,EAAD,CAAK1T,UAAWD,EAAQrY,OAAQL,EAAKK,OAEtCL,EAAKxP,OAER,kBAAC67B,EAAA,EAAD,CAAKyD,SAAS,iBAAiB6U,GAAI,GAAKD,GAAI,IAC1C,kBAACrY,EAAA,EAAD,CACEI,QACEzsB,EAAKusC,MAAQ,kBAAM3iC,EAAQnR,KAAKuH,EAAKusC,QAAS,aAEhDrgB,MAAO,CAAEsD,UAAW,cAEApgC,IAAnB4Q,EAAK2qB,UACJ,kBAACD,EAAD,MAEAhoB,EAAK1C,EAAKjU,cAKFqD,IAAf4Q,EAAKusC,OACJ,kBAAClgB,EAAA,EAAD,CAAKsY,GAAI,GAAKzY,MAAO,CAAEsgB,UAAW,WAChC,kBAAC,KAAD,CACE9zB,QAAS,CAAEsW,KAAMtW,EAAQ+W,MACzBhD,QAAS,kBAAM7iB,EAAQnR,KAAKuH,EAAKusC,kBCQxC/hB,gBA5BS,SAAC,EAEvBmL,GACI,IAAD,EAFD9S,EAEC,EAFDA,0BAA2BzB,EAE1B,EAF0BA,OAAQ9F,EAElC,EAFkCA,SAAUiG,EAE5C,EAF4CA,SAGvCf,EAAkBmV,EAASroC,MAAMy4B,OAAjCvF,cACaqU,GAAgBvZ,EAASkF,IAAkB,IAAxDnI,YAKF0xB,EAHW9zC,OAAOC,KAAKkrB,GAAQzlB,QACnC,SAACqE,GAAD,OAAUohB,EAAOphB,GAAMwgB,gBAAkBA,KAEfnjB,KAAI,SAAC2C,GAAU,IAAD,EACxC,iBAAOuhB,EAAS,GAAD,OAAIvhB,EAAJ,eAAf,aAAO,EAAwBgqC,SAGjC,MAAO,CACLxpB,cAAeA,EACf9d,KAAM,CACJ8d,gBACAsqB,eAAc,UAAEjoB,EAA0BrC,UAA5B,aAAE,EAA0ChqB,OAC1Du0C,cAAe90C,OAAOC,KAAKkrB,GAAQzlB,QAAO,SAACoD,GACzC,OAAOqiB,EAAOriB,GAAKyhB,gBAAkBA,KACpChqB,OACHq+B,cACAkV,WAAY,aAAI,IAAIhoB,IAAIgoB,IAAanuC,KAAK,SAKjC4uB,EAtGW,SAAC,GAA6B,IAA3B9nB,EAA0B,EAA1BA,KAAM8d,EAAoB,EAApBA,cAG3BmL,EAAO5T,IAAM6T,WAAW9T,KAExB9b,EAAS,CACb,CACExL,MAAOm7B,EAAKlc,uBACZ1jB,KAAM,iBAER,CACEyE,MAAOm7B,EAAKjc,gCACZ3jB,KAAM,eAER,CACEyE,MAAOm7B,EAAKhc,yBACZ5jB,KAAM,cACN4+B,UAAW,kBAAM,kBAAC,GAAD,CAAoBnK,cAAeA,MAEtD,CACEhwB,MAAOm7B,EAAK/b,kBACZ7jB,KAAM,cAER,CACEyE,MAAOm7B,EAAK7b,8BACZ/jB,KAAM,iBAER,CACEyE,MAAOm7B,EAAK9b,gCACZ9jB,KAAM,iBACNwgD,MAAM,YAAD,OAAc/rB,IAUrB,CACEhwB,MAAOm7B,EAAK9Z,qCACZha,GAAG,wBAAD,OAA0B2oB,GAC5BnI,YAAa,YAEf,CACE7nB,MAAOm7B,EAAK7Z,8CACZja,GAAG,6BAAD,OAA+B2oB,GACjCnI,YAAa,UAQjB,OACE,kBAAC,GAAD,CAAehY,MAAOsrB,EAAK3Z,qBACzB,kBAAC,GAAD,CAAYhW,OAAQA,EAAQ0G,KAAMA,QC3DlC+pC,GAAkBxe,aAAW,YAAkB,IAAf1V,EAAc,EAAdA,QACpC,MAAO,CACLkb,IAAK,CACHpC,QAAS,OACTqG,eAAgB,gBAChBjK,gBAAiB,UACjBlB,QAAS,YACTuE,aAAc,IAEhB9B,KAAM,CACJvB,gBAAiB,UACjBlB,QAAS,YACTuE,aAAc,IAEhBzwB,MAAO,CACLqsB,MAAO,QACPoD,SAAU,GACV8H,WAAY,OACZ/H,WAAY,4CAEdc,QAAS,CACPjE,MAAO,UACPoD,SAAU,GACVD,WAAY,2CACZ6J,UAAWnhB,EAAQ,KAErBm0B,QAAS,CACP5c,SAAU,GACVD,WAAY,2CACZ18B,MAAO,QACP6+B,aAAc,OACd1Z,OAAQ,gBACRolB,YAAa,OAEfiP,QAAS,CACPlf,gBAAiB,gBACjBf,MAAO,SAETkgB,YAAa,CACXnf,gBAAiB,oBACjBf,MAAO,SAETmgB,cAAe,CACbpf,gBAAiB,qBACjBf,MAAO,sBAETn8B,KAAM,CACJ8gC,QAAS,OACT6F,cAAe,SACfC,WAAY,YAEd2V,QAAS,CACPrf,gBAAiB,qBACjBf,MAAO,QACPv5B,MAAOolB,EAAQ,IACfH,OAAQG,EAAQ,GAChBgU,QAAShU,EAAQ,IAEnBw0B,SAAU,CACRtf,gBAAiB,iBACjBf,MAAO,QACPv5B,MAAOolB,EAAQ,IACfH,OAAQG,EAAQ,GAChBgU,QAAShU,EAAQ,IAEnBy0B,YAAa,CACXvf,gBAAiB,qBACjBf,MAAO,QACPv5B,MAAOolB,EAAQ,IACfH,OAAQG,EAAQ,GAChBgU,QAAShU,EAAQ,OAtEC0V,EAyErB,YAAiC,IAA9BvV,EAA6B,EAA7BA,QAAShW,EAAoB,EAApBA,KAAMsyB,EAAc,EAAdA,QACbprB,EAAUsoB,cACVvG,EAAO5T,IAAM6T,WAAW9T,KAE9B,OAAOpV,EAAKrF,KAAI,SAAC2C,EAAM2d,GACrB,OAAI3d,EAEA,kBAACqsB,EAAA,EAAD,CACE1T,UAAWD,EAAQ+a,IACnB10B,IAAK4e,EACL8O,QAAS,kBAAMuI,EAAQprB,EAAS5J,EAAK6hB,eAErC,kBAACwK,EAAA,EAAD,KACE,kBAACkE,EAAA,EAAD,CAAY5X,UAAWD,EAAQrY,OAC5BL,EAAK6hB,aAER,kBAAC0O,EAAA,EAAD,CAAY5X,UAAWD,EAAQiY,SAC5B3wB,EAAKuiB,eAER,kBAACgO,EAAA,EAAD,CAAY5X,UAAWD,EAAQiY,SAC5BhF,EAAK9V,oBADR,IAC8B7V,EAAKi1B,iBAEnC,kBAAC1E,EAAA,EAAD,CAAY5X,UAAWD,EAAQiY,SAC5BhF,EAAK7V,6BADR,IACuC9V,EAAK4pC,oBAE5C,kBAACrZ,EAAA,EAAD,CAAY5X,UAAWD,EAAQiY,SAC5BhF,EAAK5U,mBADR,IAC6B/W,EAAKk1B,OAElC,kBAAC3E,EAAA,EAAD,CAAY5X,UAAWD,EAAQiY,SAC5BhF,EAAK3U,0BADR,IACoChX,EAAKm1B,cAG3C,kBAAC9I,EAAA,EAAD,KACE,kBAACG,EAAA,EAAD,CACE7T,UAC4B,uBAA1B3Y,EAAKirC,iBACDvyB,EAAQo0B,QACkB,uBAA1B9sC,EAAKirC,iBACLvyB,EAAQq0B,SACkB,uBAA1B/sC,EAAKirC,kBAA8BvyB,EAAQs0B,aAGhDhtC,EAAKirC,kBAER,kBAAC1a,EAAA,EAAD,CACErE,MAAO,CACLwN,UAAW,OACXrI,QAAS,OACT8F,WAAY,SACZzK,MAAO,UACPgL,eAAgB,kBAGlB,kBAAC6Q,GAAA,EAAD,CAAqBrc,MAAO,CAAEQ,MAAO,aACpC1sB,EAAKitC,0BAMP,WAKEziB,gBACb,SAACrL,EAAD,GACE,MAAO,CACLzc,KAFiB,EAAXA,SAKV,SAACsqB,GACC,MAAO,CACLgI,QAAS,SAACprB,EAASiY,GACjBjY,EAAQnR,KAAR,iBAAuBopB,IACvBmL,EAASlP,IAAoC,cAVtC0M,CAcbiiB,I,oBC3HaS,GAlCUjf,aAAW,YAA8B,IAA3B1V,EAA0B,EAA1BA,QAAS40B,EAAiB,EAAjBA,WAC9C,MAAO,CACLne,KAAM,CACJmI,WAAY,SACZ9F,QAAS,OACT+b,SAAU,OACV90B,OAAQC,EAAQ,EAAG,IAErB80B,MAAO,CACLxgB,WAAYtU,EAAQ,GACpBqX,KAAM,EACNE,SAAUqd,EAAWG,QAAQxd,UAE/Byd,WAAY,CACVhhB,QAAShU,EAAQ,QAdE0V,EAiBtB,YAAyC,IAAtCvV,EAAqC,EAArCA,QAASwgB,EAA4B,EAA5BA,SAAUsK,EAAkB,EAAlBA,YACvB,OACE,kBAACgK,GAAA,EAAD,CAAO70B,UAAWD,EAAQsW,MACxB,kBAACqV,GAAA,EAAD,CACE1rB,UAAWD,EAAQ20B,MACnB7J,YAAaA,EACbtK,SAAU,SAAC/wB,GACT+wB,EAAS/wB,EAAE4qB,OAAOzhC,UAGtB,kBAAC4pC,GAAA,EAAD,CAAYviB,UAAWD,EAAQ60B,YAC7B,kBAACE,GAAA,EAAD,CAAQ3d,SAAS,eC5BnB4d,GAAuBzf,aAAW,SAAC0I,GACvC,MAAO,CACL3H,KAAM,CACJ2e,SAAU,EACVtc,QAAS,OACTqG,eAAgB,YAElB1iC,KAAM,CACJq8B,QAAS,OACT8F,WAAY,SACZO,eAAgB,aAVOzJ,EAc3B,YAQO,IAPLvV,EAOI,EAPJA,QACAk1B,EAMI,EANJA,mBACAC,EAKI,EALJA,wCACAjF,EAII,EAJJA,mBACAlkC,EAGI,EAHJA,UAEAw0B,GACI,EAFJ4U,eAEI,EADJ5U,UACI,EACsChM,mBAASxoB,GAD/C,mBACGqpC,EADH,KACkBC,EADlB,KAGEC,EAAyB,WAC7B,OACE,kBAACtT,GAAA,EAAD,CACEzO,MAAO,CACLW,WAAY,OACZ15B,MAAO,UAGT,kBAAC,KAAD,CACE+lC,SAAU,SAAC/wB,GACT6lC,EAAiB7lC,EAAE4qB,OAAOzhC,OAC1B4nC,EAAS/wB,EAAE4qB,OAAOzhC,QAEpBA,MAAOy8C,GAENH,EAAmBvwC,KAAI,SAAC2C,EAAM2d,GAC7B,OACE,kBAACunB,GAAA,EAAD,CAAUnmC,IAAK4e,EAAOrsB,MAAO0O,GAA7B,UAAuCA,EAAvC,YACE4oC,EACI,GACAiF,EACED,EAAmBjwB,YASvC,OACE,yBAAKhF,UAAWD,EAAQsW,MACtB,kBAACif,EAAD,UAYOzjB,gBANS,SAAC,GACvB,MAAO,CACLhP,KAFkC,EAAXA,QAMZgP,CAAyBkjB,ICuFzBljB,gBAvFS,SAAC,EAAD,GAUlB,IARF1J,EAQC,EARDA,gBACAM,EAOC,EAPDA,OACAD,EAMC,EANDA,yBACAG,EAKC,EALDA,gBACA5B,EAIC,EAJDA,WACA0D,EAGC,EAHDA,iBAIM5C,EADL,EADDlzB,MAE8By4B,OAAxBvF,cACFqtB,EAA0C,GAE1CnrC,EAAO,GAEPkrC,EAAqB,CACzB,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAGFA,EAAmBn4C,SAAQ,SAAC1F,GAAY,IAAD,EACrC89C,EAAwC99C,GAAxC,UACE2vB,EAAW3vB,UADb,aACE,EAAoB6mC,oBAOxB,IAJA,IAAMsX,EAAsBj4C,OAAOC,KAAKkrB,GAAQzlB,QAAO,SAAColC,GACtD,OAAO3f,EAAO2f,GAAOvgB,gBAAkBA,KAGhCxc,EAAI,EAAGA,EAAIkqC,EAAoB13C,OAAQwN,IAS9C,IAToD,IAAD,IAC7CmqC,EACJhtB,EAAyB+sB,EAAoBlqC,IAAI4lC,mBAE7CwE,EAAsB,UAC1BhrB,EAFkBhC,EAAO8sB,EAAoBlqC,IAAIwe,oBACvB,iBAC1B,EAA+BmoB,2BADL,aAC1B,EACEwD,GAGKE,EAAI,EAAGA,EAAIT,EAAmBp3C,OAAQ63C,IAAK,CAClD,IAAMpW,EACJnX,EAAgBotB,EAAoBlqC,GAAK,IAAM4pC,EAAmBS,IAEpE,GAAIpW,EAAe,CACjB,IAAMqW,EAAyBrW,EAAcjX,cACzC,IAAI/nB,KAAKg/B,EAAcjX,eAAe+U,qBACtC,IACEwY,EAAuBtW,EAAcrD,YACvC,IAAI37B,KAAKg/B,EAAcrD,aAAamB,qBACpCkC,EAAcrC,kBAAoBqC,EAAcpC,eAChD,IAAI58B,KAAKg/B,EAAcpC,gBAAgBE,qBACvC,IAEJrzB,EAAKjK,KAAK,CACRw8B,gBAAiB7T,EAAO8sB,EAAoBlqC,IAAIixB,gBAChD1S,cACEjB,EAAgBF,EAAO8sB,EAAoBlqC,IAAIue,eAAex2B,KAChE69C,mBAAoBwE,EACpBI,YAAaF,EACbG,SAAUF,EACV1sB,YAAaqsB,EAAoBlqC,GACjC2jB,eAAgBimB,EAAmBS,MAM3C,MAAO,CACL3rC,OACA8d,gBACAotB,qBACAC,6CAIWrjB,EAxJsB,SAAC,GAK/B,IAJL9nB,EAII,EAJJA,KACA8d,EAGI,EAHJA,cACAotB,EAEI,EAFJA,mBACAC,EACI,EADJA,wCAEMliB,EAAO5T,IAAM6T,WAAW9T,KAD1B,EAGkCoV,mBAAS,IAH3C,mBAGGwhB,EAHH,KAGgBC,EAHhB,OAIwDzhB,mBAAS,IAJjE,mBAIG0hB,EAJH,KAI2BC,EAJ3B,KAMJnsC,EAAOA,EAAK/G,QAAO,SAACqE,GAClB,OAAOA,EAAK2nB,iBAAmBinB,KAGjClsC,EAAOgsC,EACHhsC,EAAK/G,QAAO,SAACqE,GAAU,IAAD,IACpB,OACE,UAAAA,EAAK6hB,mBAAL,eAAkBpf,QAAQisC,KAAgB,IAC1C,UAAA1uC,EAAK4pC,0BAAL,eAAyBnnC,QAAQisC,KAAgB,KAGrDhsC,EAYJ,OATE0qB,qBAAU,WACRyhB,EACEjB,EAAmBp3C,OAAS,EAAIo3C,EAAmB,GAAK,UAEzD,IAMH,kBAAC,GAAD,CAAevtC,MAAK,UAAKsrB,EAAKrW,yBAAV,aAAuCkL,IACzD,kBAAC6L,EAAA,EAAD,CAAKH,MAAO,CAAEK,QAAS,SACrB,kBAAC,GAAD,CACEiX,YAAa7X,EAAKpW,qBAClB2jB,SAAU,SAAC5nC,GACTq9C,EAAer9C,MAGnB,kBAAC+6B,EAAA,EAAD,CAAKH,MAAO,CAAE5T,OAAQ,WACpB,kBAAC,GAAD,CACEkI,cAAeA,EACfooB,oBAAoB,EACpBlkC,UACEkpC,EAAmBp3C,OAAS,EAAIo3C,EAAmB,GAAK,OAE1DA,mBAAoBA,EACpBC,wCACEA,EAEF3U,SAAU,SAAC5nC,GACTu9C,EAA0Bv9C,OAIhC,kBAAC,GAAD,CAAiBoR,KAAMA,S,oBCnDzBuV,GAAYC,aAAW,SAACye,GAAD,MAAY,CACvC3H,KAAM,GACN8f,MAAO,CACL12B,OAAQ,EACRwY,WAAY,UAEdme,OAAQ,CACNhe,UAAW,eACXlE,WAAY,OACZmiB,WAAYrY,EAAMsY,YAAYC,OAAO,YAAa,CAChDC,SAAUxY,EAAMsY,YAAYE,SAASC,YAGzCC,WAAY,CACVte,UAAW,kBAEbue,OAAQ,CACNxf,SAAU6G,EAAMpe,QAAQ,KACxBkV,gBAAiB,QACjB8hB,OAAQ,kBACR7iB,MAAO,uBAEToZ,KAAM,CACJ0J,eAAgB,QAChB1f,SAAU,IAEZa,QAAS,CACPpE,QAASoK,EAAMpe,QAAQ,EAAG,QAqEfiS,oBACb,cAGM,IAFFpJ,EAEC,EAFDA,OAAQ9F,EAEP,EAFOA,SAAUiG,EAEjB,EAFiBA,SAAUT,EAE3B,EAF2BA,gBAC5BglB,EACC,EADDA,KAAMtlB,EACL,EADKA,cAEaqU,EAAgBvZ,EAASkF,GAAtCnI,YAIF0xB,EAHW9zC,OAAOC,KAAKkrB,GAAQzlB,QACnC,SAACqE,GAAD,OAAUohB,EAAOphB,GAAMwgB,gBAAkBA,KAEfnjB,KAAI,SAAC2C,GAAU,IAAD,EACxC,iBAAOuhB,EAAS,GAAD,OAAIvhB,EAAJ,eAAf,aAAO,EAAwBgqC,SAGjC,MAAO,CACLlE,OACAiF,cAAe90C,OAAOC,KAAKkrB,GAAQzlB,QAAO,SAACoD,GACzC,OAAOqiB,EAAOriB,GAAKyhB,gBAAkBA,KACpChqB,OACHq+B,cACArU,gBACAupB,WAAY,aAAI,IAAIhoB,IAAIgoB,IAAanuC,KAAK,KAC1C6pC,SAAU7xC,KAAqB4sB,EAAeY,EAAQN,MArB7C0J,EAjEf,YAMI,IALFugB,EAKC,EALDA,cACAlW,EAIC,EAJDA,YACArU,EAGC,EAHDA,cACAupB,EAEC,EAFDA,WACAtE,EACC,EADDA,SAEM/sB,EAAUT,KACV0T,EAAO5T,IAAM6T,WAAW9T,KACxBlO,EAAUsoB,cAEhB,OACE,kBAACuF,GAAA,EAAD,CACE9e,UAAWD,EAAQsW,KACnBvC,QAAS,WACP7iB,EAAQnR,KAAR,+BAAqC+nB,MAGvC,kBAACivB,GAAA,EAAD,CACEH,OACE,kBAACI,GAAA,EAAD,CAAQpf,aAAW,SAAS3X,UAAWD,EAAQ42B,QAC5C7J,EADH,KAIFplC,MAAOmgB,EACPmvB,UAAW9a,IAEb,kBAAC2T,GAAA,EAAD,CACE9vB,QAAS,CAAEsW,KAAMtW,EAAQiY,SACzBzE,MAAO,CAAE0jB,cAAe,SAExB,kBAACta,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,GACvB,kBAAC+c,GAAA,EAAD,CAAMt1B,MAAI,EAACksB,MAAO,CAAEmF,QAAS,gBAC3B,yBAAKz7B,IAAK61C,KAAUt4C,MAAM,KAAKilB,OAAO,KAAKQ,IAAI,KAC/C,kBAACyT,EAAA,EAAD,CAAK+Q,GAAI,GAAKtN,SAAS,SACpBnE,EAAK1Z,cADR,MAIF,kBAACqjB,GAAA,EAAD,CAAMt1B,MAAI,GAAV,IAAa+qC,IAEf,kBAACzV,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,GACvB,kBAAC+c,GAAA,EAAD,CAAMt1B,MAAI,EAACksB,MAAO,CAAEmF,QAAS,gBAC3B,yBAAKz7B,IAAK21C,KAAcp4C,MAAM,KAAKilB,OAAO,KAAKQ,IAAI,KACnD,kBAACyT,EAAA,EAAD,CAAK+Q,GAAI,GAAKtN,SAAS,SACpBnE,EAAK/b,kBADR,MAIF,kBAAC0lB,GAAA,EAAD,CAAMt1B,MAAI,GAAV,IAAa+pC,IAEf,kBAACzU,GAAA,EAAD,CAAMC,WAAS,EAAChd,QAAS,GACvB,kBAAC+c,GAAA,EAAD,CAAMt1B,MAAI,EAACksB,MAAO,CAAEmF,QAAS,gBAC3B,yBAAKz7B,IAAK01C,KAASn4C,MAAM,KAAKilB,OAAO,KAAKQ,IAAI,KAC9C,kBAACyT,EAAA,EAAD,CAAK+Q,GAAI,GAAKtN,SAAS,SACpBnE,EAAKnW,6BADR,IAEE,0BAAM0W,MAAO,CAAEW,WAAY,QACzB,kBAAC,GAAD,CAAoBrM,cAAeA,aCnFpCqvB,GAfS5hB,aAAW,YAA2B,IAAxBwG,EAAuB,EAAvBA,QAASlc,EAAc,EAAdA,QAC7C,MAAO,CACLyW,KAAM,CACJvB,gBAAiBgH,EAAQqb,WAAWC,QACpCjf,aAAcvY,EAAQ,OAJJ0V,EAOrB,YAAiC,IAA9BvV,EAA6B,EAA7BA,QAAS8H,EAAoB,EAApBA,cACb,OACE,yBAAK7H,UAAWD,EAAQsW,MACtB,kBAAC,GAAD,CAAgBxO,cAAeA,QCAtBgK,gBAAQ,cAAuC,IAApClP,EAAmC,EAAnCA,SAAc00B,EAAqB,EAArBA,eACtC,MAAO,CACLttC,KAAOstC,EAEH/5C,OAAOC,KAAKolB,GAAU3f,QAAO,SAACoD,GAC5B,OACEuc,EAASvc,GAAKhP,OAAO0S,QAAQutC,IAAmB,GAChD10B,EAASvc,GAAKsZ,YAAY5V,QAAQutC,IAAmB,KAJzD/5C,OAAOC,KAAKolB,MAHLkP,EAVK,SAAC,GAAc,IAAZ9nB,EAAW,EAAXA,KACrB,OACE,kBAAC+zB,GAAA,EAAD,KACG/zB,EAAKrF,KAAI,SAAC2C,EAAM2d,GACf,OAAO,kBAAC,GAAD,CAAiB5e,IAAK4e,EAAO6C,cAAexgB,WCyC5CiwC,GA3CS,WAAO,IAAD,EACgB/iB,mBAAS,MADzB,mBACrB8iB,EADqB,KACLE,EADK,KAEtBvkB,EAAO5T,IAAM6T,WAAW9T,KAE9B,OACE,kBAAC,GAAD,CACE/rB,KAAK,WACLsU,MAAOsrB,EAAK5Z,yBACZie,UAAW,GAEX,kBAAC3D,EAAA,EAAD,CACEH,MAAO,CACL/4B,MAAO,MACP0U,SAAU,QACVyqB,KAAM,OACNnE,OAAQ,MACRV,gBAAiB,UACjBrV,OAAQ,SAGV,kBAAC,GAAD,CACEorB,YAAa7X,EAAKtW,4BAClB6jB,SAAU,SAAC5nC,GACT4+C,EAAkB5+C,OAIxB,yBACE46B,MAAO,CACL/4B,MAAO,OACPo5B,QAAS,OACT1kB,SAAU,WACVwqB,IAAK,OACLja,OAAQmG,OAAOmS,OAAOtY,OAAS,IAAM,KACrCse,SAAU,gBAGZ,kBAAC,GAAD,CAAasZ,eAAgBA,OCiDtBxlB,gBACb,cAcM,IAZF1J,EAYC,EAZDA,gBACAM,EAWC,EAXDA,OACAD,EAUC,EAVDA,yBACAG,EASC,EATDA,gBACA5B,EAQC,EARDA,WACAlE,EAOC,EAPDA,KACA4H,EAMC,EANDA,iBACAjB,EAKC,EALDA,UACAvC,EAIC,EAJDA,aACAuD,EAGC,EAHDA,MAIM3C,EADL,EADDlzB,MAE8By4B,OAAxBvF,cACF9d,EAAO,GACPwrC,EAAsBj4C,OAAOC,KAAKkrB,GAAQzlB,QAAO,SAAColC,GACtD,OAAO3f,EAAO2f,GAAOvgB,gBAAkBA,KAGnCqtB,EAA0C,GAE1CD,EAAqB1mB,aACzB1L,EAAK8K,aACL9K,EAAKU,MAAM,IAGb0xB,EAAmBn4C,SAAQ,SAAC1F,GAAY,IAAD,EACrC89C,EAAwC99C,GAAxC,UACE2vB,EAAW3vB,UADb,aACE,EAAoB6mC,oBAGxB,IAAK,IAAI5yB,EAAI,EAAGA,EAAIkqC,EAAoB13C,OAAQwN,IAkC9C,IAlCoD,IAAD,IAC7CmsC,EAAYC,aAChB50B,EACAgF,EACA0tB,EAAoBlqC,GACpB8c,EACAqB,EACAvC,GAGIqrB,EAAmBoF,aACvBvvB,EACAotB,EAAoBlqC,IAGhBkxB,EAAQY,aACZ3S,EACA+qB,EAAoBlqC,GACpB,SAGImxB,EAAcW,aAClB3S,EACA+qB,EAAoBlqC,GACpB,eAEIwe,EAAcpB,EAAO8sB,EAAoBlqC,IAAIwe,YAC7CD,EAAgBnB,EAAO8sB,EAAoBlqC,IAAIue,cAC/C4rB,EACJhtB,EAAyB+sB,EAAoBlqC,IAAI4lC,mBAC7CwE,EAAsB,UAC1BhrB,EAAiBZ,EAAc,IAAMD,UADX,iBAC1B,EACIooB,2BAFsB,aAC1B,EAC0BwD,GAEnBE,EAAI,EAAGA,EAAIT,EAAmBp3C,OAAQ63C,IAAK,CAEhDvtB,EAAgBotB,EAAoBlqC,GAAK,IAAM4pC,EAAmBS,KAElE3rC,EAAKjK,KAAK,CACRw8B,gBAAiB7T,EAAO8sB,EAAoBlqC,IAAIixB,gBAChD1S,cACEjB,EAAgBF,EAAO8sB,EAAoBlqC,IAAIue,eAC5Cx2B,KACL69C,mBAAoBwE,EACpBvsB,YAAaqsB,EAAoBlqC,GACjC2jB,eAAgBimB,EAAmBS,GACnCpB,uBAAwBkD,EACxBlF,iBAAkBA,EAClB/V,MAAOA,EACPC,YAAaA,IAKrB,MAAO,CACLzyB,OACA8d,gBACAotB,wBA3FSpjB,EA7Ea,SAAC,GAAiD,IAA/C9nB,EAA8C,EAA9CA,KAAM8d,EAAwC,EAAxCA,cAAeotB,EAAyB,EAAzBA,mBAC5CjiB,EAAO5T,IAAM6T,WAAW9T,KAD6C,EAGrCoV,mBAAS,IAH4B,mBAGpEwhB,EAHoE,KAGvDC,EAHuD,OAIfzhB,mBAAS,IAJM,mBAIpE0hB,EAJoE,KAI5CC,EAJ4C,KAM3EnsC,EAAOA,EAAK/G,QAAO,SAACqE,GAClB,OAAOA,EAAK2nB,iBAAmBinB,KAGjClsC,EAAOgsC,EACHhsC,EAAK/G,QAAO,SAACqE,GAAU,IAAD,IACpB,OACE,UAAAA,EAAK6hB,mBAAL,eAAkBpf,QAAQisC,KAAgB,IAC1C,UAAA1uC,EAAK4pC,0BAAL,eAAyBnnC,QAAQisC,KAAgB,KAGrDhsC,EAGF0qB,qBAAU,WACRyhB,EACEjB,EAAmBp3C,OAAS,EAAIo3C,EAAmB,GAAK,UAEzD,IAKL,IAAM/W,EAAYjE,iBAAO,MAEnB7H,EAAW2H,cAQjB,OANAtF,qBAAU,WACRE,YAAW,WACTwJ,aAAiBD,EAAW9L,EAASD,YACpC,OACF,CAACC,EAASD,WAGX,kBAAC,GAAD,CAAezqB,MAAK,UAAKsrB,EAAKrW,yBAAV,aAAuCkL,IACzD,kBAAC6L,EAAA,EAAD,CACEH,MAAO,CACL/4B,MAAO,MACP0U,SAAU,QACVyqB,KAAM,OACNnE,OAAQ,MACRV,gBAAiB,UACjBrV,OAAQ,SAGV,kBAAC,GAAD,CACEorB,YAAa7X,EAAKpW,qBAClB2jB,SAAU,SAAC5nC,GACTq9C,EAAer9C,OAIrB,kBAAC+6B,EAAA,EAAD,CACEqY,GAAI,EACJxY,MAAO,CACL/4B,MAAO,OACPumC,UAAW,MACXnN,QAAS,OACT1kB,SAAU,WACVwqB,IAAK,OACLja,OAAQmG,OAAOmS,OAAOtY,OAAS,IAAM,KACrCse,SAAU,eAEZxL,IAAK2L,GAEL,kBAAC,GAAD,CAAiBn0B,KAAMA,SCpFhB,cACb,OAAO,kBAAC,GAAD,CAAe3W,KAAK,aAAasU,MAAM,iB,+DCW1C4X,GAAYC,aAAW,gBAAGK,EAAH,EAAGA,QAAH,MAAkB,CAC7CyW,KAAM,CACJ77B,MAAO,OAEPykC,WAAY,MACZ9G,aAAcvY,EAAQ,IAExBkb,IAAK,CACHtgC,MAAO,MACPmlB,OAAQC,EAAQ,EAAG,OAAQ,GAC3BmhB,UAAWnhB,EAAQ,IAErBob,KAAM,CACJpH,QAAS,EACTkB,gBAAiB,QAEnB6iB,WAAY,CACV/jB,QAAS,EACTkB,gBAAiB,OACjBiQ,YAAanlB,EAAQ,IAEvBlY,MAAO,CACLksB,QAAS,kBACTmN,UAAWnhB,EAAQ,GACnBkV,gBAAiB,OACjBf,MAAO,OACP2E,QAAS,OACT8F,WAAY,SACZO,eAAgB,iBAElB9D,SAAU,CACRnG,gBAAiB,OACjBmiB,cAAer3B,EAAQ,GACvB1Q,SAAU,YAEZ6rB,aAAc,CACZnH,QAAS,GAGXgkB,SAAU,CACRzgB,SAAU,QAEZjP,QAAS,CACP1tB,MAAOolB,EAAQ,GACf1Q,SAAU,WACVkqB,MAAOxZ,EAAQ,IAEjB0K,YAAa,CACX4J,WAAYtU,EAAQ,IAEtBi4B,KAAM,CACJ9jB,MAAO,WAiPIlC,gBACb,YACE,MAAO,CAAElP,SADwC,EAAhDA,SACkB2H,YAD8B,EAAtCA,YACqBrC,cADiB,EAAzBA,cACsBpF,KADG,EAAXA,SAGxC,SAACwR,GACC,MAAO,CACLwB,QAAS,SAACziC,EAAMuvB,EAAUC,GACxBsT,aAAkB7B,EAAUjhC,EAAMuvB,EAAUC,IAE9Ck1B,iBAAkB,SAACC,GACjBD,aAAiBC,EAAM1jB,OAVhBxC,EA7OS,SAAC,GAalB,IAZLgE,EAYI,EAZJA,QACAvL,EAWI,EAXJA,YACA3H,EAUI,EAVJA,SAUI,IATJsF,cACEhC,EAQE,EARFA,eACAC,EAOE,EAPFA,iBACAC,EAME,EANFA,iBACAC,EAKE,EALFA,mBACAC,EAIE,EAJFA,eAEFxD,EAEI,EAFJA,KACAi1B,EACI,EADJA,iBAEM9kB,EAAO5T,IAAM6T,WAAW9T,KACxBY,EAAUT,KAFZ,EAGoBiV,oBAAS,GAH7B,mBAGG5B,EAHH,KAGS6B,EAHT,OAI4BD,oBAAS,GAJrC,mBAIGyjB,EAJH,KAIaC,EAJb,OAK4B1jB,mBAAS,MALrC,mBAKG3R,EALH,KAKas1B,EALb,OAMoB3jB,mBAAS,CAAEjR,QAAST,EAAK0I,iBAN7C,mBAMG4sB,EANH,KAMSC,EANT,OAOgC7jB,mBAAS,IAPzC,mBAOG8jB,EAPH,KAOeC,EAPf,KASEh1C,EAAS,CACb2iB,EACAC,EACAC,EACAC,EACAC,GAEItc,EAAO,CACX,CACElS,MAAOm7B,EAAK9Y,0BACZvhB,MAAO,SACPqiC,KAAM,CACJ,CACEnjC,MAAOm7B,EAAK7Y,gCACZviB,KAAM0yB,EAAYiuB,sBAClBrwB,QAAShC,GAEX,CACEruB,MAAOm7B,EAAK5Y,+BACZxiB,KAAM0yB,EAAYkuB,qBAClBtwB,QAAS/B,KAIf,CACEtuB,MAAOm7B,EAAK3Y,8BACZ1hB,MAAO,YACPqiC,KAAM,CACJ,CACEnjC,MAAOm7B,EAAK3Y,8BACZziB,KAAM0yB,EAAYmuB,4BAClBvwB,QAAS9B,GAEX,CACEvuB,MAAOm7B,EAAKzY,kCACZ3iB,KAAM0yB,EAAYouB,4BAClBxwB,QAASjC,KAIf,CACEpuB,MAAOm7B,EAAKxY,yBACZ7hB,MAAO,OACPqiC,KAAM,CACJ,CACEnjC,MAAOm7B,EAAKvY,8BACZ7iB,KAAM0yB,EAAYquB,wBAClBzwB,QAAS7B,MAMXuyB,EAAc,SAACxlD,EAAMuvB,GAIvBkT,EAAQziC,EAAMuvB,EAAUC,IAmB5B,OACE,kBAAC,GAAD,CACExvB,KAAK,cACLsU,MAAOsrB,EAAKhZ,kBACZsd,qBAAqB,EACrBwC,YAAY,GAEZ,kBAACpG,EAAA,EAAD,CAAK1T,UAAWD,EAAQsW,MACtB,kBAAC3C,EAAA,EAAD,CAAK1T,UAAWD,EAAQrY,OACtB,kBAACkwB,EAAA,EAAD,CAAY1X,QAAQ,MAAM8S,EAAK/Y,0BAC/B,kBAACyZ,EAAA,EAAD,KACG6T,gBACC,kBAAC1T,EAAA,EAAD,CACEC,QAAS,kBAAMmkB,GAAY,KAE3B,kBAAC,KAAD,CAASlkB,MAAM,WAGnB,kBAACF,EAAA,EAAD,CACEC,QAAS,WACP8kB,EAAY,MAAOj2B,GACnB21B,EAAc,CAAEllD,KAAM,MAAOuvB,SAAUA,KAEzCoa,SAAUz5B,EAAOwG,QAAQ,YAAc,GAEvC,yBAAK7M,IAAK46B,KAASr9B,MAAM,KAAKylB,IAAI,QAKvClW,EAAKrF,KAAI,SAAC2C,EAAM2d,GACf,OACE,kBAAC0O,EAAA,EAAD,CAAKttB,IAAK4e,EAAOhF,UAAWD,EAAQ+a,KAClC,kBAACgD,GAAA,EAAD,CAAM9d,UAAWD,EAAQib,MACvB,kBAACyS,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,QACE,kBAAC/V,EAAA,EAAD,CAAY1X,QAAQ,aAAa7Y,EAAKxP,SAG1C,kBAACg8B,EAAA,EAAD,CACEC,QAAS,WACP8kB,EAAYvxC,EAAK1O,MAAOgqB,GACxB21B,EAAc,CAAEllD,KAAMiU,EAAK1O,MAAOgqB,SAAUA,KAE9Coa,SAAUz5B,EAAOwG,QAAQ,YAAc,GAEvC,yBAAK7M,IAAK46B,KAASr9B,MAAM,KAAKylB,IAAI,QAIxC,kBAAC0nB,GAAA,EAAD,MACA,kBAAC7J,GAAA,EAAD,CAAM9d,UAAWD,EAAQ43B,YACtBtwC,EAAK2zB,KAAKt2B,KAAI,SAAC2C,EAAM2d,GACpB,OACE,kBAAC0O,EAAA,EAAD,CAAKttB,IAAK4e,GACR,kBAACyoB,GAAA,EAAD,CAAUztB,UAAWD,EAAQkb,UAC3B,kBAACyS,GAAA,EAAD,CACEC,QACE,kBAAC/V,EAAA,EAAD,CAAY1X,QAAQ,SACjB7Y,EAAKxP,SAIZ,kBAAC61C,GAAA,EAAD,CACEC,QACE,kBAAC/V,EAAA,EAAD,CACE5X,UAAWD,EAAQ63B,SACnB7jB,MAAM,iBAEN,0BACE/T,UACmB,eAAjB3Y,EAAK6gB,QACDnI,EAAQ83B,KACR,IAGY,YAAjBxwC,EAAK6gB,QACF8K,EAAKrY,gBACY,WAAjBtT,EAAK6gB,QACL8K,EAAKtY,eACLsY,EAAKpY,sBAGX,0BAAMoF,UAAWD,EAAQuK,aACL,YAAjBjjB,EAAK6gB,SAAyB7gB,EAAKzP,SAK1B,YAAjByP,EAAK6gB,SACJ,yBACEjrB,IAAKo4B,KACLrV,UAAWD,EAAQmI,QACnBjI,IAAI,MAIC,IAAV+E,GACgB,0BAAf3d,EAAKxP,OAAqC,kBAAC8vC,GAAA,EAAD,gBAU5D,kBAAC,EAAD,CACEhV,KAAMA,EACNE,QAAS,kBAAI2B,GAAQ,IACrB5B,YAAa,kBA/HI,WACrB,KAAI,OAAChQ,QAAD,IAACA,OAAD,EAACA,EAAUU,SACb,OAAO,EAETsC,OAAOC,aAAasmB,QAAQ,SAAU9qB,KAAKC,UAAU,CAAEgC,QAAO,OAAEV,QAAF,IAAEA,OAAF,EAAEA,EAAUU,WAC1EuS,EAAQwiB,EAAWjlD,KAAMilD,EAAW11B,SAAUC,GAC9C4R,GAAQ,GAyHeqkB,IACnBnmB,SAAU,kBAACqY,GAAA,EAAD,CACRlzC,MAAOm7B,EAAKrU,wBACZ4U,MAAO,CAAE5T,OAAQ,GACjBwT,WAAS,EACTxT,OAAO,SACP4gB,SAAU,SAACC,GAAD,OAAW0X,EAAY,CAAC50B,QAAQkd,EAAMpG,OAAOzhC,aAI3D,kBAAC,EAAD,CACEg6B,KAAMqlB,EACNnlB,QAAS,kBAAMolB,GAAY,IAC3BrlB,YAAa,kBAAU,OAAJulB,QAAI,IAAJA,OAAA,EAAAA,EAAMhxB,WAlI7B8wB,GAAY,GACZH,EAAiBK,QACjBC,EAAQ,QAiIJ1lB,SAAU,kBAACqY,GAAA,EAAD,CACRlzC,MAAOm7B,EAAKtU,uBACZ6U,MAAO,CAAE5T,OAAQ,GACjBhnB,OAAW,OAAJw/C,QAAI,IAAJA,OAAA,EAAAA,EAAMhxB,UAAS,GACtBgM,WAAS,EACTxT,OAAO,SACP4gB,SAAU,SAACC,GAAD,OAAW4X,EAAQ,6BAAKD,GAAN,IAAWhxB,QAASqZ,EAAMpG,OAAOzhC,kB,oBC1RjEmgD,GAAiBxjB,aAAW,YAAiB,EAAd1V,QACnC,MAAO,CACLyW,KAAM,CACJ77B,MAAM,oBACNilB,OAAO,oBACPiZ,QAAS,OACT6F,cAAe,SACf5e,OAAQ,MACRoU,MAAO,gBAETglB,QAAS,CACPv+C,MAAO,OACPo5B,QAAS,MACTjU,OAAQ,MACR+Y,QAAS,OACT8F,WAAY,UAGdtX,UAAW,CAETwR,QAAS,OACTqG,eAAgB,oBArBCzJ,EAyBrB,YAQO,IAPLvV,EAOI,EAPJA,QACAi5B,EAMI,EANJA,aACAC,EAKI,EALJA,UACAC,EAII,EAJJA,YACAC,EAGI,EAHJA,UACAC,EAEI,EAFJA,gBACA3wB,EACI,EADJA,OAEMuK,EAAO5T,IAAM6T,WAAW9T,KAD1B,EAGkCoV,mBAAS,IAH3C,mBAGG7U,EAHH,KAGgB25B,EAHhB,OAI0B9kB,mBAAS,IAJnC,mBAIG+kB,EAJH,KAIYC,EAJZ,OAK8BhlB,mBAAS,IALvC,mBAKGrN,EALH,KAKcsyB,EALd,OAM0BjlB,mBAAS,IANnC,mBAMGpN,EANH,KAMYsyB,EANZ,OAO0BllB,mBAC5Bl0B,IAAO,IAAIC,MAAQ0M,OAAO,eARxB,mBAOGgnC,EAPH,KAOY0F,EAPZ,OAUgCnlB,mBAAS,IAVzC,mBAUGolB,EAVH,KAUeC,EAVf,KAkDJ,OACE,kBAAC,GAAD,CAAexmD,KAAK,OAAOsU,MAAOsrB,EAAK9W,sBACrC,0BAAM8D,UAAWD,EAAQsW,KAAMwjB,aAAa,OAC1C,kBAACnmB,EAAA,EAAD,CAAK1T,UAAWD,EAAQg5B,SACtB,kBAAChO,GAAA,EAAD,CACE5X,WAAS,EACT98B,UAAU,EACV09B,MAAO,YACPl8B,MAAOm7B,EAAK/W,aACZtjB,MAAO+mB,EACP6gB,SAAU,SAAC/wB,GACT6pC,EAAe7pC,EAAE4qB,OAAOzhC,QAE1BmhD,gBAAiB,CACfrO,QAAQ,MAId,kBAAC/X,EAAA,EAAD,CAAK1T,UAAWD,EAAQg5B,SACtB,kBAAChO,GAAA,EAAD,CACE5X,WAAS,EACT4mB,WAAS,EACT1jD,UAAU,EACV09B,MAAO,YACPl8B,MAAOm7B,EAAK7W,yBACZxjB,MAAO2gD,EACP/Y,SAAU,SAAC/wB,GACT+pC,EAAW/pC,EAAE4qB,OAAOzhC,QAEtBmhD,gBAAiB,CACfrO,QAAQ,OAIZtkB,GACA,kBAACuM,EAAA,EAAD,CAAK1T,UAAWD,EAAQg5B,SACtB,kBAAChO,GAAA,EAAD,CACE5X,WAAS,EACTwd,QAAM,EACNt6C,UAAU8wB,EACV4M,MAAO,YACPl8B,MAAOm7B,EAAKlc,uBACZne,MAAOuuB,EACPqZ,SAAU,SAAC/wB,GACTgqC,EAAahqC,EAAE4qB,OAAOzhC,QAExBmhD,gBAAiB,CACfrO,QAAQ,IAGTyN,EAAYx0C,KAAI,SAACyF,EAAQ6a,GAAT,OACf,kBAACunB,GAAA,EAAD,CACEnmC,IAAK4e,EACLrsB,MAAOwR,EAAOtS,MACdmoB,UAAWD,EAAQmH,WAEnB,kBAAC0Q,EAAA,EAAD,CAAY1X,QAAQ,SACjB/V,EAAO+xB,aAEV,kBAACtE,EAAA,EAAD,CAAY1X,QAAQ,SAAS/V,EAAOxR,cAM5CuuB,GACA,kBAACwM,EAAA,EAAD,CAAK1T,UAAWD,EAAQg5B,SACtB,kBAAChO,GAAA,EAAD,CACE5X,WAAS,EACTwd,QAAM,EACNt6C,UAAU6wB,EACV6M,MAAO,YACPl8B,MAAOm7B,EAAK3b,qBACZ1e,MAAOwuB,EACPoZ,SAAU,SAAC/wB,GACTiqC,EAAWjqC,EAAE4qB,OAAOzhC,OACpBihD,EAAc,KAEhBE,gBAAiB,CACfrO,QAAQ,IAGTwN,EAAUv0C,KAAI,SAACyF,EAAQ6a,GAAT,OACb,kBAACunB,GAAA,EAAD,CACEnmC,IAAK4e,EACLrsB,MAAOwR,EAAOxR,MACdqnB,UAAWD,EAAQmH,WAEnB,kBAAC0Q,EAAA,EAAD,CAAY1X,QAAQ,SACjB/V,EAAOmyB,iBAEV,kBAAC1E,EAAA,EAAD,CAAY1X,QAAQ,SAAS/V,EAAOtS,aAM9C,kBAAC67B,EAAA,EAAD,CAAK1T,UAAWD,EAAQg5B,SAkBtB,kBAACnK,GAAA,EAAD,CACEC,QAAM,EACN1b,WAAS,EACT98B,UAAQ,EACRwB,MAAOm7B,EAAK5W,iBACZ0yB,gBAAgB,EAChB5uB,QAAQ,SACRvnB,MAAOq7C,EAAU,IAAI1zC,KAAK0zC,GAAW,KACrCjF,QAAS,IAAIzuC,KACb0M,OAAO,aACPuzB,SAAU,SAAC0O,GACTyK,EAAWr5C,IAAO4uC,GAAGjiC,OAAO,mBAIlC,kBAAC0mB,EAAA,EAAD,CAAK1T,UAAWD,EAAQg5B,SACtB,kBAAChO,GAAA,EAAD,CACE10C,UAAQ,EACR88B,WAAS,EACTwd,QAAM,EACN5c,MAAO,YACPl8B,MAAOm7B,EAAK3W,iBACZ1jB,MAAOghD,EACPpZ,SAAU,SAAC/wB,GACToqC,EAAcpqC,EAAE4qB,OAAOzhC,QAEzBmhD,gBAAiB,CACfrO,QAAQ,IAGTvkB,EACG8yB,KACGC,QACCjB,EAAah2C,QAAO,SAACqE,GACnB,OACE/J,OAAOC,KAAKkrB,GACTzlB,QAAO,SAACqE,GACP,OAAOohB,EAAOphB,GAAMwgB,gBAAkBX,KAEvCpd,QAAQzC,EAAK6yC,WAAa,KAGjC,SAEDx1C,KAAI,SAACyF,EAAQ6a,GAAT,OACH,kBAACunB,GAAA,EAAD,CAAUnmC,IAAK4e,EAAOrsB,MAAOwR,EAAOxR,OACjCwR,EAAOtS,UAGdmhD,EACGh2C,QAAO,SAACqE,GACP,OAAOA,EAAK6yC,WAAa/yB,KAE1BziB,KAAI,SAACyF,EAAQ6a,GAAT,OACH,kBAACunB,GAAA,EAAD,CAAUnmC,IAAK4e,EAAOrsB,MAAOwR,EAAOxR,OACjCwR,EAAOtS,YAKtB,kBAACg8B,EAAA,EAAD,CACEN,MAAO,CACLuB,gBAAiB,eACjBf,MAAO,QACPgN,UAAW,QAEbjN,QAAS,WA1NY,IAAvBpU,EAAY7hB,OAGc,IAAnBy7C,EAAQz7C,OAGa,IAArBqpB,EAAUrpB,QAAoC,KAAb,OAAPspB,QAAO,IAAPA,OAAA,EAAAA,EAAStpB,QAGf,KAAb,OAAPspB,QAAO,IAAPA,OAAA,EAAAA,EAAStpB,SAAqC,IAArBqpB,EAAUrpB,OAGhB,IAAnBm2C,EAAQn2C,OAGc,IAAtB87C,EAAW97C,QAkBtBu7C,EAda,CACX,CACED,UAAWA,EACXjyB,UAAWA,EACXC,QAASA,EACT6sB,QAASA,EACT1wC,OAAQ,IACRoc,YAAaA,EACb45B,QAASA,EACTK,WAAYA,EACZQ,QAAS,GACTC,aAAc,MAIlBrkB,OACAnQ,OAAO3U,QAAQopC,MAAM,IAnBnBrzB,MAAM,0DAHNA,MAAM,oDAHNA,MAAM,0DAHNA,MAAM,oDAHNA,MAAM,0DAHNA,MAAM,4DA6NDgM,EAAK1W,qBAmFHuV,gBA3ES,SAAC,GAA0C,IAAxCjJ,EAAuC,EAAvCA,SAAUH,EAA6B,EAA7BA,OAAQ9F,EAAqB,EAArBA,SAAUE,EAAW,EAAXA,KAE/Co2B,EAAY37C,OAAOC,KAAKkrB,GAC3B/jB,KAAI,SAAC0jC,GACJ,MAAO,CACLvwC,MAAOuwC,EACPzvC,MAAOyvC,EACP9L,gBAAiB7T,EAAO2f,GAAO9L,oBAGlC9O,MAAK,SAACoQ,EAAGC,GAAJ,OAAWD,EAAE/lC,MAAS+lC,EAAE/lC,MAAQgmC,EAAEhmC,MAAQ,GAAK,EAAK,KAC5DohD,EAAUvP,QAAQ,CAAE7xC,MAAO,GAAIc,MAAO,GAAI2jC,gBAAiB,KAC3D,IAAM4c,EAAc57C,OAAOC,KAAKolB,GAC7Bje,KAAI,SAACwzB,GACJ,MAAO,CACLrgC,MAAOqgC,EACPv/B,MAAOu/B,EACPgE,YAAavZ,EAASuV,GAASxY,gBAGlC8N,MAAK,SAACoQ,EAAGC,GAAJ,OAAWD,EAAE/lC,MAAS+lC,EAAE/lC,MAAQgmC,EAAEhmC,MAAQ,GAAK,EAAK,KAG5D,OAFAqhD,EAAYxP,QAAQ,CAAE7xC,MAAO,GAAIc,MAAO,GAAIujC,YAAa,KAElD,CACL8c,aAAc5sC,MAAMnN,KAClB,IAAImqB,IACF9rB,OAAOC,KAAKqrB,GACT5lB,QAAO,SAACs3C,GACP,MACuC,OAArC1xB,EAAS0xB,GAAS/sB,gBACmB,OAArC3E,EAAS0xB,GAAS/sB,gBACmB,OAArC3E,EAAS0xB,GAAS/sB,kBAGrB7oB,KAAI,SAAC2C,GAUJ,MAAO,CACLxP,MAToC,OAAlC+wB,EAASvhB,GAAMkmB,eACZ,aAAS3E,EAASvhB,GAAMgqC,OACc,OAAlCzoB,EAASvhB,GAAMkmB,eACnB,aAAS3E,EAASvhB,GAAMgqC,OAExB,aAASzoB,EAASvhB,GAAMgqC,OAK7B14C,MAAOiwB,EAASvhB,GAAMjQ,OACtB8iD,SAAUtxB,EAASvhB,GAAM6hB,kBAKhCsE,MAAK,SAACoQ,EAAGC,GAAJ,OAAWD,EAAE/lC,MAAS+lC,EAAE/lC,MAAQgmC,EAAEhmC,MAAQ,GAAK,EAAK,KACzDmL,QAAO,SAACqkC,GACP,OAAOA,KAEX4R,UAAWA,EACXC,YAAaA,EACbC,UAAWt2B,EAAK0I,eAChB9C,aAIuB,SAAC4L,GAC1B,MAAO,CACL+kB,gBAAiB,SAACrvC,GAChBsqB,EAASlP,IAAuBpb,IAAO2Z,MAAK,SAAC/C,GAC3CoV,OAAkBrS,MAAK,SAAC3Z,GACtBsqB,EAASlP,IAAgBpb,cAOpB8nB,CAA6CinB,I,UCvWtDyB,GAAsBjlB,aAAW,YAAkB,IAAf1V,EAAc,EAAdA,QACxC,MAAO,CACLyW,KAAM,CACJ77B,MAAM,oBACNilB,OAAO,oBACPiZ,QAAS,OACT6F,cAAe,SACf5e,OAAQ,OAEVo5B,QAAS,CACPv+C,MAAO,OACPo5B,QAAS,MACTjU,OAAQ,MACR+Y,QAAS,OACT8F,WAAY,SACZtD,aAAc,sBAEhBsf,SAAU,CACRhgD,MAAM,OACNu5B,MAAO,eACPkE,WAAY,MACZtY,OAAQ,SAEV86B,eAAgB,CACdjgD,MAAM,qBAERkgD,QAAS,CACPziB,WAAY,MACZz9B,MAAO,MACPu5B,MAAO,gBAET4mB,YAAa,CACX/mB,QAAShU,EAAQ,GAAK,GACtBkV,gBAAiB,MACjBuE,aAAc,OACdtF,MAAO,QACPG,WAAYtU,EAAQ,OApCE0V,EAuCzB,YAAgE,IAA7DvV,EAA4D,EAA5DA,QAA4D,IAAnD66B,QAAW/f,EAAwC,EAAxCA,cAAeD,EAAyB,EAAzBA,iBACjC3pB,EAAUsoB,cACVvG,EAAO5T,IAAM6T,WAAW9T,KAC9B,OACE,kBAAC,GAAD,CACE/rB,KAAK,kBACLsU,MAAOsrB,EAAK9c,sBACZmhB,UAAW,GAEX,kBAAC3D,EAAA,EAAD,CAAK1T,UAAWD,EAAQsW,MACtB,kBAAC3C,EAAA,EAAD,CACE1T,UAAWD,EAAQg5B,QACnBjlB,QAAS,WACP7iB,EAAQnR,KAAR,qBAGF,kBAAC4zB,EAAA,EAAD,CAAK1T,UAAWD,EAAQy6B,UACtB,kBAACzhB,EAAA,EAAD,OAEF,kBAACrF,EAAA,EAAD,CAAK1T,UAAWD,EAAQ06B,gBACrBznB,EAAKxX,4BACLqf,EAAgB,GACf,0BAAM7a,UAAWD,EAAQ46B,aAAc9f,IAG3C,kBAACnH,EAAA,EAAD,CAAK1T,UAAWD,EAAQ26B,SACtB,kBAACG,GAAA,EAAD,QAGJ,kBAACnnB,EAAA,EAAD,CACE1T,UAAWD,EAAQg5B,QACnBjlB,QAAS,WACP7iB,EAAQnR,KAAR,qBAGF,kBAAC4zB,EAAA,EAAD,CAAK1T,UAAWD,EAAQy6B,UACtB,kBAACzhB,EAAA,EAAD,OAEF,kBAACrF,EAAA,EAAD,CAAK1T,UAAWD,EAAQ06B,gBACrBznB,EAAKvX,6BACLmf,EAAmB,GAClB,0BAAM5a,UAAWD,EAAQ46B,aAAc/f,IAG3C,kBAAClH,EAAA,EAAD,CAAK1T,UAAWD,EAAQ26B,SACtB,kBAACG,GAAA,EAAD,aAOGhpB,gBAAQ,SAACrL,EAAO1G,GAE7B,MAAO,CACL86B,QAFcE,kBADHjpB,CAKZ0oB,I,wCCnFGQ,GAAezlB,aAAW,YAAkB,IAAf1V,EAAc,EAAdA,QACjC,MAAO,CACLub,OAAQ,CACN9B,aAAczZ,EAAQ,KACtB0Z,WAAY,QACZnC,SAAU,SACVvD,QAAS,YAEXub,KAAM,CACJpO,UAAWnhB,EAAQ,IAErBwvB,YAAa,CACXlb,WAAY,OAEd8mB,aAAc,CACZjnB,MAAO,UACPknB,UAAW,cAEbC,UAAW,CACTnnB,MAAO,WAGTonB,UAAW,CACTpnB,MAAO,0BAvBQuB,EA2BnB,YASO,IARLvV,EAQI,EARJA,QACAhW,EAOI,EAPJA,KACAqxC,EAMI,EANJA,aACAC,EAKI,EALJA,aACAz8C,EAII,EAJJA,KACA0E,EAGI,EAHJA,OACAokC,EAEI,EAFJA,gBACAhoB,EACI,EADJA,YAEMsT,EAAO5T,IAAM6T,WAAW9T,KAE9B,OACE,kBAAC2f,GAAA,EAAD,CAAM9e,UAAWD,EAAQovB,MACvB,kBAACU,GAAA,EAAD,KACE,kBAAClT,GAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,GAAA,EAAD,CACEt1B,MAAI,EACJw1B,GAAI,EACJtJ,MAAO,CACLmF,QAAS,gBAGX,kBAAC4iB,GAAA,EAAD,CACEv7B,QAAS,CAAEsW,KAAMtW,EAAQo7B,WACzB5nB,MAAO,CACL4D,SAAU,SACVmc,YAAa,SAGjB,kBAAC1b,EAAA,EAAD,CAAY1X,QAAQ,QAAQ+e,WAAY,KACrCl1B,EAAK+8B,cAGV,kBAACnK,GAAA,EAAD,CACEt1B,MAAI,EACJw1B,GAAI,EACJtJ,MAAO,CACLmF,QAAS,gBAGX,kBAACwX,GAAA,EAAD,CACEnwB,QAAS,CAAEsW,KAAMtW,EAAQo7B,WACzB5nB,MAAO,CACL4D,SAAU,UACVmc,YAAa,SAGjB,kBAAC1b,EAAA,EAAD,CACE7X,QAAS,CACPsW,KACa,SAAX/yB,IACA,IAAIhD,MAAO88B,qBACT,IAAI98B,KAAKyJ,EAAKwxC,SAASne,qBACrBrd,EAAQm7B,UACR,IAERh7B,QAAQ,SAEPnW,EAAKwxC,UAGV,kBAAC5e,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACb,kBAACnJ,EAAA,EAAD,CAAKqY,GAAI,IACP,kBAACnU,EAAA,EAAD,CACE1X,QAAQ,QACRH,QAAS,CAAEsW,KAAMtW,EAAQi7B,eAExBjxC,EAAKyxC,WAIZ,kBAAC7e,GAAA,EAAD,CACEt1B,MAAI,EACJw1B,GAAI,EACJtJ,MAAO,CACLmF,QAAS,cACTqI,UAAW,QAGb,kBAACoP,GAAA,EAAD,CACEpwB,QAAS,CAAEsW,KAAMtW,EAAQo7B,WACzB5nB,MAAO,CACL4D,SAAU,UACVmc,YAAa,SAGjB,kBAAC1b,EAAA,EAAD,CAAY1X,QAAQ,SAASnW,EAAK0xC,UAEnC1xC,EAAK0nB,WACJ,kBAACkL,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,IACb,kBAACnJ,EAAA,EAAD,CAAKqY,GAAI,GAAKxY,MAAO,CAAEmF,QAAS,gBAC9B,kBAACd,EAAA,EAAD,CAAY1X,QAAQ,QAAQqT,MAAO,CAAE+f,YAAa,QAC/CtgB,EAAKnc,oBADR,KAGA,kBAAC+gB,EAAA,EAAD,CACE1X,QAAQ,QACRH,QAAS,CAAEsW,KAAMtW,EAAQi7B,eAGxBt7B,KAKR3V,EAAK2nB,SACJ,kBAACiL,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,IACb,kBAACnJ,EAAA,EAAD,CAAKqY,GAAI,GAAKxY,MAAO,CAAEmF,QAAS,gBAC9B,kBAACd,EAAA,EAAD,CAAY1X,QAAQ,QAAQqT,MAAO,CAAE+f,YAAa,QAAlD,iBAGA,kBAAC1b,EAAA,EAAD,CACE1X,QAAQ,QACRH,QAAS,CAAEsW,KAAMtW,EAAQi7B,eAExBjxC,EAAK2nB,YAKD,YAAXpuB,GAAmC,UAAXA,IACxB,kBAACq5B,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,IACb,kBAACnJ,EAAA,EAAD,CAAKqY,GAAI,IACP,kBAACnU,EAAA,EAAD,CACE1X,QAAQ,QACR8R,UAAU,OACVuB,MAAO,CAAE+f,YAAa,QAErBtgB,EAAKlX,yBALR,KAOA,kBAAC8b,EAAA,EAAD,CACE1X,QAAQ,QACR8R,UAAU,OACVjS,QAAS,CAAEsW,KAAMtW,EAAQi7B,eAExBjxC,EAAK2xC,gBAKd,kBAAC/e,GAAA,EAAD,CACEt1B,MAAI,EACJw1B,GAAI,GACJtJ,MAAO,CAAEmF,QAAS,cAAeqI,UAAW,QAE5C,kBAACnJ,EAAA,EAAD,CACE1X,QAAQ,QACRqT,MAAO,CAAE+f,YAAa,OACtBvzB,QAAS,CAAEsW,KAAMtW,EAAQi7B,eAExBI,GAEH,kBAACO,GAAA,EAAD,CACE57B,QAAS,CAAEsW,KAAMtW,EAAQm7B,WACzB3nB,MAAO,CAAE4D,SAAU,YAErB,kBAACS,EAAA,EAAD,CACE1X,QAAQ,QACRqT,MAAO,CAAEW,WAAY,OACrBnU,QAAS,CAAEsW,KAAMtW,EAAQi7B,eAExBK,MAKT,kBAACjL,GAAA,EAAD,CACE7c,MAAO,CACLuB,gBAAiB,UACjBiJ,SAAU,OACVrF,QACY,aAAT95B,GAAkC,YAAX0E,GACb,UAAXA,EACI,OACA,OACNswB,QAAS,QAGD,aAATh1B,GAAkC,SAAX0E,GACtB,kBAACuwB,EAAA,EAAD,CACEkB,KAAK,QACLxB,MAAO,CACLmF,QAAS,eAEX5E,QAAS,WACP4T,EAAgB,OAAQ39B,EAAK+8B,YAAa/8B,KAG5C,kBAACslC,GAAA,EAAD,CACEtvB,QAAS,CAAEsW,KAAMtW,EAAQo7B,aAE3B,kBAACvjB,EAAA,EAAD,CAAY1X,QAAQ,WAAW8S,EAAKnX,mBAG9B,aAATjd,GAAkC,SAAX0E,GACtB,kBAACuwB,EAAA,EAAD,CACEkB,KAAK,QACLxB,MAAO,CACLmF,QAAS,eAEX5E,QAAS,WACP4T,EAAgB,SAAU39B,EAAK+8B,YAAa/8B,KAG9C,kBAAC6xC,GAAA,EAAD,CAAuB77B,QAAS,CAAEsW,KAAMtW,EAAQo7B,aAChD,kBAACvjB,EAAA,EAAD,CAAY1X,QAAQ,WAAW8S,EAAKjX,iBAG9B,aAATnd,GAAkC,YAAX0E,GACtB,kBAACuwB,EAAA,EAAD,CACEkB,KAAK,QACLxB,MAAO,CACLmF,QAAS,eAEX5E,QAAS,WACP4T,EAAgB,QAAS39B,EAAK+8B,YAAa/8B,KAG7C,kBAAC4lC,GAAA,EAAD,CAAgB5vB,QAAS,CAAEsW,KAAMtW,EAAQo7B,aACzC,kBAACvjB,EAAA,EAAD,CAAY1X,QAAQ,WAAW8S,EAAKhX,qBAQnC6V,gBAAQ,cAAuC,IAAD,MAAnCjJ,EAAmC,EAAnCA,SAAUjG,EAAyB,EAAzBA,SAAc5Y,EAAW,EAAXA,KAC1C8xC,EAAWv+C,OAAOC,KAAKqrB,GAAU5lB,QAAO,SAACoD,GAC7C,OACEwiB,EAASxiB,GAAKhP,SAAW2S,EAAK+xC,YACI,OAAjClzB,EAASxiB,GAAKmnB,gBACoB,OAAjC3E,EAASxiB,GAAKmnB,gBACmB,OAAjC3E,EAASxiB,GAAKmnB,mBAIdwuB,EAAWz+C,OAAOC,KAAKqrB,GAAU5lB,QAAO,SAACoD,GAC7C,OACEwiB,EAASxiB,GAAKhP,SAAW2S,EAAKiyC,aACI,OAAjCpzB,EAASxiB,GAAKmnB,gBACoB,OAAjC3E,EAASxiB,GAAKmnB,gBACmB,OAAjC3E,EAASxiB,GAAKmnB,mBAIpB,MAAO,CACL6tB,aAAY,UAAExyB,EAASizB,EAAS,WAApB,aAAE,EAAuBxK,MACrCgK,aAAY,UAAEzyB,EAASmzB,EAAS,WAApB,aAAE,EAAuB1K,MACrC3xB,YAAW,OAAEiD,QAAF,IAAEA,GAAF,UAAEA,EAAQ,OAAG5Y,QAAH,IAAGA,OAAH,EAAGA,EAAM0nB,kBAAnB,aAAE,EAA6B/R,eAtB/BmS,CAwBZkpB,ICzJYkB,GA5IE,SAAC,GAAoC,IAAlClyC,EAAiC,EAAjCA,KAAMzG,EAA2B,EAA3BA,OAAQ1E,EAAmB,EAAnBA,KAAMiiC,EAAa,EAAbA,OAChC7N,EAAO5T,IAAM6T,WAAW9T,KADqB,EAG3BC,IAAMmV,SAAS,MAHY,mBAG5C5B,EAH4C,KAGtC6B,EAHsC,OAKbpV,IAAMmV,SAAS,IALF,mBAK5C2nB,EAL4C,KAK/BC,EAL+B,OAMrB/8B,IAAMmV,SAClCl0B,IAAO,IAAIC,MAAQ0M,OAAO,eAPuB,mBAM5CmtC,EAN4C,KAMnCiC,EANmC,OASbh9B,IAAMmV,SAAS,IATF,mBAS5C7U,EAT4C,KAS/B25B,EAT+B,OAUfj6B,IAAMmV,SAAS,MAVA,mBAU5C8nB,EAV4C,KAUhCC,EAVgC,KAgDnD,OACE,kBAAC5oB,EAAA,EAAD,KACG3pB,EAAKrF,KAAI,SAAC2C,EAAM2d,GACf,OACE,kBAAC,GAAD,CACEjb,KAAM1C,EACNzI,KAAMA,EACN0E,OAAQA,EACRokC,gBAAiB,SAACviB,EAAQo3B,EAAUC,GAAnB,OA5CH,SAACr3B,EAAQo3B,EAAUC,GACzChoB,EAAQrP,GACRg3B,EAAeI,GACfD,EAAcE,GA0CJ9U,CAAgBviB,EAAQo3B,EAAUC,IAEpCp2C,IAAK4e,OAIX,kBAAC,EAAD,CACE2N,KAAe,SAATA,GAA4B,WAATA,GAA8B,UAATA,EAC9CC,YAzCc,WAClB,IAAM6pB,EAAcJ,EAEP,SAAT1pB,GAAmBwnB,GAAWz6B,IAChC+8B,EAAYhB,QAAUtB,EACtBsC,EAAYf,aAAeh8B,EAC3B+8B,EAAYC,OAAS,IACrB7b,EAAO4b,GACPjoB,GAAQ,GACR4nB,EAAW,IACX/C,EAAe,KAEJ,WAAT1mB,IACF8pB,EAAYC,OAAS,KACrB7b,EAAO4b,GACPjoB,GAAQ,IAEG,UAAT7B,IACF8pB,EAAYC,OAAS,KACrB7b,EAAO4b,GACPjoB,GAAQ,KAsBN3B,QAhDc,WAClB2B,GAAQ,GACR4nB,EAAW/7C,IAAO,IAAIC,MAAQ0M,OAAO,eACrCqsC,EAAe,KA8CX3xC,MAAOw0C,GAEP,kBAACxoB,EAAA,EAAD,CAAKsY,GAAI,GACP,kBAACpU,EAAA,EAAD,CACE1X,QAAQ,QACR6T,MACW,SAATpB,EAAmBwnB,EAAU,UAAY,QAAW,WAG5C,SAATxnB,GAAmB,IAAMK,EAAKvW,mCACrB,WAATkW,GAAqBK,EAAKxW,oCACjB,UAATmW,GAAoBK,EAAKzW,qCAGpB,SAAToW,GACC,kBAACe,EAAA,EAAD,KACE,kBAACA,EAAA,EAAD,CAAKsY,GAAI,GASP,kBAAC4C,GAAA,EAAD,CACEC,QAAM,EACN1b,WAAS,EACT98B,UAAQ,EACRy4C,gBAAgB,EAChB5uB,QAAQ,SACRvnB,MAAOwhD,EAAU,IAAI75C,KAAK65C,GAAW,KACrCntC,OAAO,aACPgiC,QAAS,IAAI1uC,KACbigC,SAAU,SAAC0O,GACTmN,EAAW/7C,IAAO4uC,GAAGjiC,OAAO,mBAIlC,kBAAC0mB,EAAA,EAAD,CAAKsY,GAAI,GACG,SAATrZ,GACC,kBAACiF,EAAA,EAAD,CACE1X,QAAQ,QACR6T,MACW,SAATpB,EACIjT,EACE,UACA,QACF,WAPR,IAUIsT,EAAKlX,2BAIb,kBAAC4X,EAAA,EAAD,CAAKsY,GAAI,GACP,8BACE2Q,KAAK,IACL9R,YAAa7X,EAAKlX,yBAClByX,MAAO,CAAE/4B,MAAO,OAAQoiD,OAAQ,QAChCrc,SAAU,SAAC/wB,GACT6pC,EAAe7pC,EAAE4qB,OAAOzhC,QAE1BA,MAAO+mB,SCwCRmS,gBA9BS,SAACrL,EAAOwW,GAAc,IAGpCp+B,EAFUo+B,EAAVroC,MACAy4B,OACAxuB,KAEA2rB,EAA4B/D,EAA5B+D,MAAO9B,EAAqBjC,EAArBiC,OAAQ9F,EAAa6D,EAAb7D,SAEvB,MAAO,CACL/jB,OACAi+C,UACW,aAATj+C,EACI4yB,aAAYjH,EAAMuyB,SAAUr0B,EAAQ9F,IAAa,GACxC,aAAT/jB,GACA4yB,aAAYjH,EAAMwyB,SAAUt0B,EAAQ9F,IACpC,OAIiB,SAAC0R,GAC1B,MAAO,CACLwM,OAAQ,SAAC4b,GACPpoB,EAASlP,IAAuB,CAACs3B,KAAe/4B,MAAK,SAAC/C,GACpDoV,OAAkBrS,MAAK,SAAC3Z,GACtBsqB,EAASlP,IAAgBpb,cAOpB8nB,EAnKD,SAAC,GAAiC,IAA/BjzB,EAA8B,EAA9BA,KAAMi+C,EAAwB,EAAxBA,UAAWhc,EAAa,EAAbA,OAC1B5vB,EAAUsoB,cACVvG,EAAO5T,IAAM6T,WAAW9T,KAFe,EAGjBC,IAAMmV,SAAS,QAHE,mBAGtCjxB,EAHsC,KAG9B05C,EAH8B,KAKvChd,EAAO,CACX,CAAEt4B,MAAOsrB,EAAKtX,oBAAqB/iB,MAAO,QAC1C,CAAE+O,MAAOsrB,EAAKrX,iBAAkBhjB,MAAO,WACvC,CAAE+O,MAAOsrB,EAAKpX,eAAgBjjB,MAAO,UAGnCskD,EAAqB,GAEV,SAAX35C,GACFu5C,EAAU//C,SAAQ,SAACuK,GACG,MAAhBA,EAAKq1C,QACPO,EAAmBn9C,KAAKuH,MAKf,YAAX/D,GACFu5C,EAAU//C,SAAQ,SAACuK,GACG,MAAhBA,EAAKq1C,QACPO,EAAmBn9C,KAAKuH,MAKf,UAAX/D,GACFu5C,EAAU//C,SAAQ,SAACuK,GACG,OAAhBA,EAAKq1C,QACPO,EAAmBn9C,KAAKuH,MAK9B41C,EAAmBzvB,MAAK,SAACoQ,EAAGC,GAAJ,OACtBD,EAAE2d,QAAW3d,EAAE2d,QAAU1d,EAAE0d,QAAU,GAAK,EAAK,KAGjD,IAAMvf,EAAU8e,eAAejgB,cACzBlI,EAAOmoB,eAAelgB,iBAC5B,OACE,kBAAC,GAAD,CAAexnC,KAAK,QAAQsU,MAAOsrB,EAAK9c,uBACtC,kBAACwd,EAAA,EAAD,CACEH,MAAO,CACLrkB,SAAU,QACVwqB,IAAK,OACLl/B,MAAO,OACPg7B,OAAQ,UAGV,kBAAC,GAAD,CACEwK,KAAMA,EACNC,iBAAkB,OAClBC,YAAa,SAACvnC,GAAD,OAAWqkD,EAAUrkD,MAE1B,aAATiG,EACGo9B,EAAU,GACR,0BACEzI,MAAO,CACLrkB,SAAU,WACVwqB,IAAK,IACLC,KAAM,MACN/F,QAAS,UACTkB,gBAAiB,MACjBuE,aAAc,OACdtF,MAAO,UAGRiI,GAGLrJ,EAAO,GACL,0BACEY,MAAO,CACLrkB,SAAU,WACVwqB,IAAK,IACLC,KAAM,MACN/F,QAAS,UACTkB,gBAAiB,MACjBuE,aAAc,OACdtF,MAAO,UAGRpB,IAKX,kBAACe,EAAA,EAAD,CACEH,MAAO,CACL/4B,MAAO,OACPo5B,QAAS,OACT1kB,SAAU,WACVwqB,IAAK,OACLja,OAAQmG,OAAOmS,OAAOtY,OAAS,IAAM,KACrCse,SAAU,gBAGZ,kBAAC,GAAD,CACEh0B,KAAMkzC,EACN35C,OAAQA,EACR1E,KAAMA,EACNiiC,OAAQ,SAAC4b,GACP5b,EAAO4b,OAKH,aAAT79C,GACC,kBAAC80B,EAAA,EAAD,CACExT,QAAQ,YACR6T,MAAM,YACNR,MAAO,CACLrkB,SAAU,QACV+kB,OAAQ,OACRmF,MAAO,QAETtF,QAAS,WACP7iB,EAAQnR,KAAK,iBAGf,kBAACo9C,GAAA,EAAD,CAAK3pB,MAAO,CAAEuB,gBAAiB,YAAaf,MAAO,UACjD,kBAAC,KAAD,YClINwmB,GAAsBjlB,aAAW,YAAkB,IAAf1V,EAAc,EAAdA,QACxC,MAAO,CACLyW,KAAM,CACJ77B,MAAM,oBACNilB,OAAO,oBACPiZ,QAAS,OACT6F,cAAe,SACf5e,OAAQ,OAEVo5B,QAAS,CACPv+C,MAAO,OACPo5B,QAAS,MACTjU,OAAQ,MACR+Y,QAAS,OACT8F,WAAY,SACZtD,aAAc,sBAEhBsf,SAAU,CACRhgD,MAAM,OACNu5B,MAAO,eACPkE,WAAY,MACZtY,OAAQ,SAEV86B,eAAgB,CACdjgD,MAAM,qBAERkgD,QAAS,CACPziB,WAAY,MACZz9B,MAAO,MACPu5B,MAAO,gBAET4mB,YAAa,CACX/mB,QAAShU,EAAQ,GAAK,GACtBkV,gBAAiB,MACjBuE,aAAc,OACdtF,MAAO,QACPG,WAAYtU,EAAQ,OApCE0V,EAuCzB,YAAiC,IAA9BvV,EAA6B,EAA7BA,QAASo9B,EAAoB,EAApBA,cACPlsC,EAAUsoB,cACVvG,EAAO5T,IAAM6T,WAAW9T,KACxBoL,EAAQ4yB,EAAcn6C,QAAO,SAACu3B,EAAMvV,EAAOwV,GAAd,OACjCxV,IAAUwV,EAAKC,WAAU,SAAAhyB,GAAC,OAAIA,EAAEiyB,WAAaH,EAAKG,eAGpD,OACE,kBAAC,GAAD,CACEtnC,KAAK,iBACLsU,MAAOsrB,EAAK9c,sBACZmhB,UAAW,GAEX,kBAAC3D,EAAA,EAAD,CAAK1T,UAAWD,EAAQsW,MACrB9L,EAAM7lB,KAAI,SAAC2C,EAAK2d,GACf,OAAO,kBAAC0O,EAAA,EAAD,CACLttB,IAAK4e,EACLhF,UAAWD,EAAQg5B,QACnBjlB,QAAS,WACP7iB,EAAQnR,KAAR,oBAA0BuH,EAAKqzB,aAGjC,kBAAChH,EAAA,EAAD,CAAK1T,UAAWD,EAAQy6B,UACtB,kBAACzhB,EAAA,EAAD,OAEF,kBAACrF,EAAA,EAAD,CAAK1T,UAAWD,EAAQ06B,gBACrBpzC,EAAKqzB,SACJrzB,EAAKszB,cAAetzB,EAAKwzB,cAAgBxzB,EAAKuzB,iBAAoB,GAClE,0BAAM5a,UAAWD,EAAQ46B,aAActzC,EAAKszB,cAAetzB,EAAKwzB,cAAgBxzB,EAAKuzB,mBAGzF,kBAAClH,EAAA,EAAD,CAAK1T,UAAWD,EAAQ26B,SACtB,kBAACG,GAAA,EAAD,gBASChpB,gBAAQ,SAACrL,EAAO1G,GAC7B,IAAIyK,EAAQjtB,OAAOC,KAAP,OAAYipB,QAAZ,IAAYA,OAAZ,EAAYA,EAAO+D,OAAO1sB,OAAS,EAAnC,OAAuC2oB,QAAvC,IAAuCA,OAAvC,EAAuCA,EAAO+D,MAAQ,GAElE,MAAO,CACL4yB,cAFe7iB,aAAgC/P,MAFpCsH,CAMZ0oB,I,sEC5FG6C,GAAwB,SAAC,GAA6C,IAA3C3zB,EAA0C,EAA1CA,aAAc4zB,EAA4B,EAA5BA,aAAc7X,EAAc,EAAdA,QACzD,OACI,kBAAC1H,GAAA,EAAD,YACKrU,QADL,IACKA,OADL,EACKA,EAAclmB,KAAd,qBAA8CmB,KAAI,SAAC2C,EAAMi2C,GACtD,IAAMC,EAAO,wCAAoCl2C,GACjD,OACI,yBAAKjB,IAAKk3C,GACN,kBAAC7P,GAAA,EAAD,CAAUla,MAAO,CAAE5T,OAAQ,SAAWwb,QAAM,EAACrH,QAASupB,EAAah2C,IAC/D,kBAACqmC,GAAA,EAAD,CAAcC,QAAO,yCACJ,iBAAdtmC,EAAKjU,KACA,qBACc,eAAdiU,EAAKjU,KACD,qBACAiU,EAAKjU,QACjB,kBAACoqD,GAAA,EAAD,KACI,kBAACnY,GAAA,EAAD,CACIoY,KAAK,QACLjY,SAAoC,IAA3BA,EAAQ17B,QAAQzC,GACzBq2C,UAAW,EACXC,eAAa,EACbrY,WAAY,CAAE,kBAAmBiY,OAI7C,kBAAC5V,GAAA,EAAD,CAAS3V,UAAU,YAyC5B4rB,GAjCD,SAAC,GAA2E,IAAzEjrB,EAAwE,EAAxEA,KAAM6B,EAAkE,EAAlEA,QAAS/K,EAAyD,EAAzDA,aAAc4zB,EAA2C,EAA3CA,aAAc7X,EAA6B,EAA7BA,QAASqY,EAAoB,EAApBA,cACjE,OACI,6BACI,kBAAC3qB,EAAA,EAAD,CACI2P,YAAU,EACVlQ,KAAMA,EACNU,aAAW,EACXR,QAAS,kBAAM2B,GAAQ,IACvBspB,kBAAgB,2BAChBC,mBAAiB,kCAEjB,kBAACxmB,EAAA,EAAD,CAAQhE,MAAO,CAAEuB,gBAAiB,mBAC9B,kBAAC2C,EAAA,EAAD,CAASlE,MAAO,CAAEmF,QAAS,OAAQqG,eAAgB,kBAC/C,kBAACwD,GAAA,EAAD,CAAYzO,QAAS,kBAAMU,GAAQ,IAAQipB,KAAK,QAAQ1pB,MAAM,UAAU4D,aAAW,SAC/E,kBAAC,KAAD,OAEJ,kBAACC,EAAA,EAAD,CAAY1X,QAAQ,KAAK8R,UAAU,MAAnC,UAGA,kBAAC6B,EAAA,EAAD,CAAQ8W,WAAS,EAAC5W,MAAM,UAAUD,QAAS,kBAAM+pB,MAAjD,UAKR,kBAACvqB,EAAA,EAAD,CAAal/B,GAAG,4BAA4B,kCAC5C,kBAACq/B,EAAA,EAAD,KACI,kBAAC,GAAD,CAAuBhK,aAAcA,EAAc4zB,aAAcA,EAAc7X,QAASA,QClCtGwY,GAAe1oB,aAAW,YAAkB,IAAf1V,EAAc,EAAdA,QACjC,MAAO,CACLyW,KAAM,CACJ77B,MAAO,OACPykC,WAAY,IACZ/vB,SAAU,QACVwqB,IAAK,OACLhB,QAAS,OACTqG,eAAgB,gBAChBjK,gBAAiB,WACjBoG,aAAc,oBACd1F,OAAQ,KAEVxB,IAAK,CACHD,MAAO,UACPc,cAAe,aACfye,YAAa1zB,EAAQ,IAEvBgd,UAAW,CACTjd,OAAQC,EAAQ,EAAG,EAAG,EAAG,OAnBV0V,EAuBnB,YAqBO,IApBL5V,EAoBI,EApBJA,YACAu+B,EAmBI,EAnBJA,QACAl+B,EAkBI,EAlBJA,QACAm+B,EAiBI,EAjBJA,UACAC,EAgBI,EAhBJA,YACAC,EAeI,EAfJA,gBACAC,EAcI,EAdJA,iBACAC,EAaI,EAbJA,iBACAC,EAYI,EAZJA,mBACAn3B,EAWI,EAXJA,WACAD,EAUI,EAVJA,QACAU,EASI,EATJA,cACIoe,EAQA,EARJuC,GACAtC,EAOI,EAPJA,OACOC,EAMH,EANJvU,MACA4sB,EAKI,EALJA,cACAC,EAII,EAJJA,oBACA70B,EAGI,EAHJA,cACAC,EAEI,EAFJA,YACAvD,EACI,EADJA,SAEM0M,EAAO5T,IAAM6T,WAAW9T,KAD1B,EAE+Bu/B,cAA7Bh1B,EAFF,EAEEA,WAAYC,EAFd,EAEcA,aAFd,EAG4B4K,mBAAS,MAHrC,mBAGGxO,EAHH,KAGa44B,EAHb,OAIwBv/B,IAAMmV,UAAS,GAJvC,mBAIGqqB,EAJH,KAIWC,EAJX,OAK0Bz/B,IAAMmV,SAAS,CAAC,IAL1C,mBAKGiR,EALH,KAKYsZ,EALZ,OAMoCvqB,mBAAS,CAAElxB,OAAO,KANtD,mBAMGomB,EANH,KAMiBs1B,EANjB,KASFtqB,qBAAU,WACR2pB,EACE,CACE10B,aACAC,gBAEF,CACE8H,UAAW5J,EACXV,UACAC,aACA1H,cACAymB,SACAF,MACAC,UAEF,CACE9e,aACAwC,gBACAC,cACAvD,aAEF5C,MAAK,SAAC6I,GACN+xB,EACE50B,EACAC,EACAvC,EACAwC,EACAC,EACAvD,EACAiG,EAAI5zB,MACJ,CAAEwuB,YACFzD,MAAK,SAAC3Z,GACN40C,EAAY50C,MAEG,IAAbwiB,EAAIzL,OACNkG,MAAM,wFACNg4B,aAAqB,CACnBt1B,aACAC,qBAKN40B,EAAmB,CACjB70B,aACAC,eACAvC,aACAwC,gBACAC,cACAvD,eAED,IAKL,IAAMrV,EAAUsoB,cAjEZ,EAkEoBhF,oBAAS,GAlE7B,mBAkEG5B,EAlEH,KAkES6B,EAlET,KAwIE/P,GAAY,SAAC7lB,GACjB41B,GAAQ,GACR,IAAIzqB,EAAO,CACTmd,UAAWW,EACXV,QAASA,EACTC,WAAYA,EACZ1H,YAAaA,EACbymB,OAAQA,EACRF,IAAKA,EACLC,OAAQA,EACR3iC,KAAM07C,KAAOC,OAAO9jD,aAAUijD,KAG1Bc,EAAgB,CACpBz1B,aACAC,gBAGW,SAAT/qB,EACF4/C,EAAcz0C,EAAMo1C,EAAe,CACjCv1B,gBACAC,cACAvD,aACC5C,MAAK,WACNi7B,EAAY50C,EAAKxG,MACjByjB,MAAM,2CAGRw3B,EAAcz0C,EAAMo1C,EAAe,CACjCv1B,gBACAC,cACAvD,aACC5C,MAAK,WACNzS,EAAQqlB,SACRmoB,EACE/0B,EACAC,EACAvC,EACAwC,EACAC,EACAvD,OAqCR,OACE,kBAAC,GAAD,CACE5e,MAAOsrB,EAAKpV,iBACZic,gBAAgB,EAChBC,YAAY,EACZxD,OApGW,WAEX8oB,aAAcf,EAAkBriD,aAAYijD,KAAOI,OAAOt5B,KAE1DyO,GAAQ,IAERiqB,EACE/0B,EACAC,EACAvC,EACAwC,EACAC,EACAvD,GAEFrV,EAAQqlB,YAwFR,kBAAC5C,EAAA,EAAD,CAAK1T,UAAWD,EAAQsW,OACL,OAAhBgoB,QAAgB,IAAhBA,OAAA,EAAAA,EAAkB96C,KAAlB,qBAAkD1F,QAAS,EAAI,kBAACg2B,EAAA,EAAD,CAC9DC,QAAS,kBAAM+qB,GAAU,KAEzB,yBAAK5hD,IAAKqiD,KAAYr/B,IAAI,MAClB,kBAACyT,EAAA,EAAD,MACV,kBAACA,EAAA,EAAD,KACE,kBAACG,EAAA,EAAD,CAAQ7T,UAAWD,EAAQiU,IAAKF,QAAS,kBAAMrP,GAAU,UACtDuO,EAAKnV,qBAER,kBAACgW,EAAA,EAAD,CAAQ7T,UAAWD,EAAQiU,IAAKF,QAAS,kBArJlC,SAACtkB,GAEd,GADe+vC,aAAOlB,EAAiBh7C,QAC3B,CACV,IAAI0G,EAAO,CACTmd,UAAWW,EACXV,QAASA,EACTC,WAAYA,EACZ1H,YAAaA,EACbymB,SACAF,MACAC,SACAsZ,UAAU,EACVj8C,KAAM07C,KAAOC,OACX9jD,aAAUqkD,aAAuBpB,MAGjCqB,EAAY,CACdx4B,UAAWW,EACXV,QAASA,EACTC,WAAYA,EACZ1H,YAAaA,EACbymB,OAAQA,EACRF,IAAKA,EACLC,OAAQA,EACR3iC,KAAM07C,KAAOC,OAAO9jD,aAAUijD,KAEhCJ,EAAQl0C,EAAM21C,EAAW,CACvBh2B,aACAC,eACAvC,aACAwC,gBACAC,cACAvD,cAqHiDua,KAC5C7N,EAAKlV,2BAIZ,kBAAC4V,EAAA,EAAD,CAAK1T,UAAWD,EAAQ6c,WACtB,kBAAC/c,GAAA,EAAcq+B,IACb1Y,EAAQ3nC,OAAS,EAAI4rB,EAAY,OAAa00B,GAAaz5C,KAAI,SAAClJ,GAChE,OAAOmkD,aAAUnkD,GACbokD,aAAmBpkD,EAAOqkD,aAAUrkD,EAAO8qB,IAC3C,SAGR,kBAAC,EAAD,CACEqM,KAAMA,EACNE,QAjLY,WAChB4rB,EACE/0B,EACAC,EACAvC,EACAwC,EACAC,EACAvD,GAEFrV,EAAQqlB,SACR9B,GAAQ,IAwKJ5B,YAAa,kBAAMnO,OAElBuO,EAAK9U,6CAER,kBAAC4hC,GAAD,CACEr2B,aAAc40B,EACd1rB,KAAMisB,EACNpqB,QAASqqB,EACTxB,aAxEe,SAAC1kD,GAAD,OAAW,WAC9B,IAAMonD,EAAeva,EAAQ17B,QAAQnR,GAC/BqnD,EAAU,aAAOxa,IACD,IAAlBua,EACFC,EAAWlgD,KAAKnH,GAEhBqnD,EAAW/3C,OAAO83C,EAAc,GAElCjB,EAAWkB,KAiEPxa,QAASA,EACTqY,cA/DgB,WACpB,GAAIrY,EAAQ3nC,OAAS,EAAG,CACtB,IAAMoiD,EAAY,GAClBza,EAAQ1oC,SAAQ,SAACuK,GAAD,OAAc,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMjT,KAAM6rD,EAAUngD,KAAKuH,EAAKjT,OAC1D,IAAMiP,EAAS,GACf48C,EAAUnjD,SAAQ,SAAAuK,GAChBg3C,EAAgB,OAAWvhD,SAAQ,SAACtB,GAClCA,EAAMG,SAAS7E,SAASgG,SAAQ,SAACojD,GAC/B74C,IAAS64C,EAAQx3C,OAASrF,EAAOvD,KAAKtE,YAI5CoB,QAAQuV,IAAI9O,GACZ07C,EAAgB,6BAAKV,GAAN,IAAwBh7C,OAAQA,UAE/C07C,EAAgBV,GAElBQ,GAAU,UA6LDhtB,gBAxIS,SAAC,EAAqCmL,GAAc,IAAD,EA2BlD,gBA3BEvT,EAAgD,EAAhDA,aAAcD,EAAkC,EAAlCA,UAAWf,EAAuB,EAAvBA,OAAuB,EAUrEuU,EAASroC,MAAMy4B,OARjBhG,EAFuE,EAEvEA,WACAuC,EAHuE,EAGvEA,aACAxC,EAJuE,EAIvEA,QACAU,EALuE,EAKvEA,cACA6B,EANuE,EAMvEA,WACAE,EAPuE,EAOvEA,cACAC,EARuE,EAQvEA,YACAvD,EATuE,EASvEA,SAGIlgB,EACJsjB,EACA,IACAC,EACA,IACAvC,EACA,IACAwC,EACA,IACAC,EACA,IACAvD,EAEE43B,EAAY,GACZC,EAAc,GACd10B,EAAarjB,KACf83C,EAAY,CACVx2C,OAAO,UAAA+hB,EAAarjB,GAAK7C,YAAlB,eAAwB5H,SAASqI,UACtCm8C,KAAe75B,KADV,UAGHmD,EAAarjB,GAAK7C,YAHf,aAGH,EAAwB5H,SAASqI,UAAUm8C,KAAe75B,IAHvD,UAIHmD,EAAarjB,GAAK7C,YAJf,aAIH,EAAwB5H,SAASqI,UAAU5N,QAC/CspB,aAAa,UAAA+J,EAAarjB,GAAK7C,YAAlB,eAAwB5H,SAASnF,gBAC5C2pD,KAAe75B,KADJ,UAGTmD,EAAarjB,GAAK7C,YAHT,aAGT,EAAwB5H,SAASnF,gBAC/B2pD,KAAe75B,IAJR,UAMTmD,EAAarjB,GAAK7C,YANT,aAMT,EAAwB5H,SAASnF,gBAAgBJ,QACrD8N,MAAK,UAAEulB,EAAarjB,GAAK7C,YAApB,aAAE,EAAwB5H,SAASuI,MACxCxP,WAAU,UAAE+0B,EAAarjB,GAAK7C,YAApB,aAAE,EAAwB5H,SAASjH,YAE/CypD,EAAc10B,EAAarjB,GAAK/C,QAGlC,IAAIg7C,EAAmB50B,EAAarjB,GAEhCsZ,EAAW,UAAG8J,EAAUpC,UAAb,aAAG,EAAuBvf,MACvC,SAACR,GAAD,OACEA,EAAKsiB,eAAiBA,GACtBtiB,EAAKqiB,aAAeA,GACpBriB,EAAKuiB,iBACgB,SAAlBA,EAA2B,KAAOA,IACrCviB,EAAKwiB,eAAiC,SAAhBA,EAAyB,KAAOA,IACtDxiB,EAAKif,WAAaA,KACpBwf,oBACEsC,EAAK,OAAG3f,QAAH,IAAGA,OAAH,EAAGA,EAAStB,GACrB,MAAO,CACL+2B,YACAC,cACAE,mBACAj3B,aACAD,UACAU,gBACAnI,cACA8oB,GAAE,OAAEJ,QAAF,IAAEA,OAAF,EAAEA,EAAOI,GACXtC,OAAM,OAAEkC,QAAF,IAAEA,OAAF,EAAEA,EAAOlC,OACftU,MAAK,OAAEwW,QAAF,IAAEA,OAAF,EAAEA,EAAOxW,MACdhI,gBACAC,cACAvD,eAIuB,SAAC+N,GAC1B,MAAO,CACLkqB,mBAAoB,SAAC9yB,GACnB4I,EAASlP,IAA0BsG,KAErC2yB,gBAAiB,SAAC3yB,EAAO20B,EAAYC,GAEnC,OADAhsB,EAASlP,IAAgB4Q,KAAU3K,QAC5BiJ,EAASlP,IAAyBsG,EAAO20B,EAAYC,KAE9D/B,iBAAkB,SAChB50B,EACAC,EACAvC,EACAwC,EACAC,EACAvD,EACAvc,EACAu2C,GAEA,OAAOjsB,EACLlP,IACEuE,EACAC,EACAvC,EACAwC,EACAC,EACAvD,EACAvc,EACAu2C,KAINrC,QAAS,SAACl0C,EAAM21C,EAAWj0B,GACzB4I,EAASlP,KAA0Bpb,EAAM21C,EAAWj0B,KAEtD+yB,cAAe,SAACz0C,EAAMo1C,EAAeoB,GACnC,OAAOlsB,EAASlP,IAAiBpb,EAAMo1C,EAAeoB,KAExD9B,oBAAqB,SACnB/0B,EACAC,EACAvC,EACAwC,EACAC,EACAvD,GAEA+N,EACElP,IAA+B,CAC7BuE,aACAC,eACAvC,aACAwC,gBACAC,cACAvD,kBAOKuL,CAA6CmsB,ICtctDvY,GAAWnQ,aAAW,cAAG1V,QAAH,MAAkB,CAC5CyW,KAAM,CACJzC,QAAS,GAEXkH,IAAK,CACHtgC,MAAO,MACPk+B,QAAS,OACTqG,eAAgB,gBAChBpf,OAAQ,aARK2V,EAUb,YAAqC,IAAlCvV,EAAiC,EAAjCA,QAASygC,EAAwB,EAAxBA,QAASptD,EAAe,EAAfA,KAAMgB,EAAS,EAATA,GAAS,EACnBgrB,IAAMmV,UAAS,GAA3ByP,EAD+B,sBAEd5kB,IAAMmV,UAAS,GAFD,mBAE/B5B,EAF+B,KAEzB6B,EAFyB,OAGVpV,IAAMmV,SAAS,MAHL,mBAG/BksB,EAH+B,KAGvBC,EAHuB,KAgBtC,OACE,kBAACrc,GAAA,EAAD,CAAWL,SAAUA,GACnB,kBAACO,GAAA,EAAD,CAAkBvkB,UAAWD,EAAQsW,MACnC,kBAAC3C,EAAA,EAAD,CAAK1T,UAAWD,EAAQ+a,KACtB,kBAAClD,EAAA,EAAD,CAAYrE,MAAO,CAAE+F,WAAY,QAAUvF,MAAM,SAC9C3gC,GAEH,kBAACygC,EAAA,EAAD,CACE3T,QAAQ,YACR6T,MAAM,YACNR,MAAO,CAAE9T,OAAQ,eACjBqU,QAAS,kBAlBK,SAAC1/B,GACvBosD,EAAQpsD,GAAIsvB,MAAK,SAACxY,GAChBw1C,EAAUx1C,GACVspB,GAAQ,MAeakT,CAAgBtzC,KAJjC,kBAUJ,kBAAC,GAAD,CAAOu+B,KAAMA,EAAMjrB,MAAOtU,EAAMwvC,YA5BhB,WAClBpO,GAAQ,KA4BJ,kBAAC,GAAD,CAAK0O,SAAUud,SAMjBE,GAAiBrrB,aAAW,gBAAG1V,EAAH,EAAGA,QAAH,MAAkB,CAClDyW,KAAM,CACJ77B,MAAO,MACPykC,WAAY,MACZtf,OAAQC,EAAQ,EAAG,SAErBob,KAAM,CACJpH,QAAS,GAEXqH,SAAU,CACR9C,aAAcvY,EAAQ,GACtBkV,gBAAiB,WAXEQ,EAanB,YAA0C,IAAvCkrB,EAAsC,EAAtCA,QAASzgC,EAA6B,EAA7BA,QAASuF,EAAoB,EAApBA,cACjB0N,EAAO5T,IAAM6T,WAAW9T,KADa,EAEnBC,IAAMmV,SAAS,IAFI,mBAEpCxqB,EAFoC,KAE9B48B,EAF8B,OAGnBvnB,IAAMmV,SAAS,IAHI,mBAGpCyL,EAHoC,KAG9B4gB,EAH8B,OAIbxhC,IAAMmV,WAJO,mBAIpCssB,EAJoC,KAI3BC,EAJ2B,KA6B3C,OALArsB,qBAAU,WAjBRnP,IAAgB5B,MAAK,SAAC6I,GAAS,IAAD,EACtBw0B,EAAU,aACX,IAAI33B,IACLmD,EAAI7nB,KAAI,SAAC2C,GACP,OAAOA,EAAKzI,UAGhB8F,KAAI,SAAC2C,GACL,MAAO,CAAEK,MAAOL,EAAM1O,MAAO0O,MAG/By5C,EAAU,OAACC,QAAD,IAACA,GAAD,UAACA,EAAU,UAAX,aAAC,EAAcr5C,OACzBk5C,EAAQG,GACRpa,EAAQpa,QAOT,IAGD,kBAAC,GAAD,CACEn5B,KAAK,oBACLsU,MAAOsrB,EAAK1U,0BAEXuiC,GACC,kBAAC,GAAD,CACE7gB,KAAMA,EACNC,iBAAkB4gB,EAClB3gB,YAAa,SAACvnC,GACZmoD,EAAWnoD,MAKjB,kBAAC+6B,EAAA,EAAD,CAAK1T,UAAWD,EAAQsW,OACjB,OAAJtsB,QAAI,IAAJA,OAAA,EAAAA,EAAMlM,QAAS,GACdkM,EACG/G,QAAO,SAACqE,GAAD,OAAUA,EAAKzI,OAASiiD,KAC/Bn8C,KAAI,SAAC2C,EAAM2d,GACV,OACE,kBAAC,GAAD,CACE5e,IAAK4e,EACLw7B,QAASA,EACTptD,KAAMiU,EAAKjU,KACXgB,GAAIiT,EAAKjT,aASZy9B,gBACb,cAA6B,EAA1BrL,MAA0B,EAAfwW,SACZ,MAAO,MAET,SAAC3I,GACC,MAAO,CACL/O,cAAe,WACb,OAAO+O,EAASlP,QAElBq7B,QAAS,SAACpsD,GACR,OAAOigC,EAASlP,IAAkB/wB,QAV3By9B,CAcb8uB,I,qBCqCa5F,GA/KMzlB,aAAW,YAAkB,IAAf1V,EAAc,EAAdA,QACjC,MAAO,CACLub,OAAQ,CACN9B,aAAczZ,EAAQ,KACtB0Z,WAAY,QACZnC,SAAU,SACVvD,QAAS,YAEXub,KAAM,CACJpO,UAAWnhB,EAAQ,IAErBwvB,YAAa,CACXlb,WAAY,OAEd8mB,aAAc,CACZjnB,MAAO,UACPknB,UAAW,cAEbC,UAAW,CACTnnB,MAAO,WAGTonB,UAAW,CACTpnB,MAAO,0BAvBQuB,EA2BnB,YAIO,IAHLvV,EAGI,EAHJA,QACAhW,EAEI,EAFJA,KACA82B,EACI,EADJA,OAEM7N,EAAO5T,IAAM6T,WAAW9T,KACxBlO,EAAUsoB,cAEVnvB,EAAmC,SAAxBL,EAAKkc,eAClB+M,EAAK9T,iBACmB,SAAxBnV,EAAKkc,eACH+M,EAAK1a,yBACL0a,EAAKxa,0BAEX,OACE,kBAACsmB,GAAA,EAAD,CAAM9e,UAAWD,EAAQovB,MACvB,kBAACU,GAAA,EAAD,CAAa/b,QAAS,kBAAM7iB,EAAQnR,KAAR,iBAAuBiK,EAAKod,YACtD,kBAACwV,GAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,IACb,kBAACnJ,EAAA,EAAD,CAAKqY,GAAI,EAAGxY,MAAO,CAAEmF,QAAS,gBAC5B,kBAACd,EAAA,EAAD,CAAY1X,QAAQ,QAAQqT,MAAO,CAAE+f,YAAa,QAC/CtgB,EAAK5b,cADR,KAGA,kBAACwgB,EAAA,EAAD,CACE1X,QAAQ,WAEPnW,EAAKod,WAIZ,kBAACwV,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,IACb,kBAACnJ,EAAA,EAAD,CAAKqY,GAAI,EAAGxY,MAAO,CAAEmF,QAAS,gBAC5B,kBAACd,EAAA,EAAD,CAAY1X,QAAQ,QAAQqT,MAAO,CAAE+f,YAAa,QAC/CtgB,EAAKnc,oBADR,KAGA,kBAAC+gB,EAAA,EAAD,CACE1X,QAAQ,WAEPnW,EAAKmyB,eAIZ,kBAACS,GAAA,EAAD,CAAMt1B,MAAI,EAACksB,MAAO,CAAEmF,QAAS,OAAQqG,eAAgB,gBAAiBgC,UAAW,GAAKlE,GAAI,IACxF,kBAACF,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACb,kBAACjF,EAAA,EAAD,CAAY1X,QAAQ,WACjB8S,EAAKpU,wBADR,IAEG7U,EAAKi3C,gBAGV,kBAACrkB,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACb,kBAACjF,EAAA,EAAD,CAAY1X,QAAQ,WACjB8S,EAAKlU,0BADR,IAEG/U,EAAKk3C,mBAIZ,kBAACtkB,GAAA,EAAD,CAAMt1B,MAAI,EAACksB,MAAO,CAAEmF,QAAS,OAAQqG,eAAgB,gBAAgBgC,UAAU,GAAKlE,GAAI,IACtF,kBAACF,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACb,kBAACjF,EAAA,EAAD,CAAY1X,QAAQ,WACjB8S,EAAKnU,sBADR,IAEG9U,EAAKm3C,cAGV,kBAACvkB,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACb,kBAACjF,EAAA,EAAD,CAAY1X,QAAQ,WACjB8S,EAAKjU,wBADR,IAEGhV,EAAKo3C,iBAIZ,kBAACxkB,GAAA,EAAD,CAAMt1B,MAAI,EAACksB,MAAO,CAAEmF,QAAS,OAAQqG,eAAgB,gBAAiBgC,UAAW,GAAKlE,GAAI,IACxF,kBAACF,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,IAEE,WAAhB9yB,EAAKzG,QACJ,kBAACq5B,GAAA,EAAD,CAAMt1B,MAAI,EAACw1B,GAAI,GACb,kBAACjF,EAAA,EAAD,CAAY1X,QAAQ,WACjB8S,EAAKhU,2BADR,IACqCjV,EAAKq3C,qBAOpD,kBAAChR,GAAA,EAAD,CACE7c,MAAO,CACLuB,gBAAiB,UACjBlB,QAAS,MACTmL,eAAgB,iBAGlB,kBAAClL,EAAA,EAAD,CACEkB,KAAK,QACLgI,WAAWhzB,EAAKk3C,gBAChB1tB,MAAO,CACLmF,QACkB,kBAAhB3uB,EAAKzG,QAA8C,eAAhByG,EAAKzG,OAA0B,cAAgB,QAEtFwwB,QAAS,WACP+M,EAAO,QAAS92B,KAGlB,kBAAC,KAAD,CACEgqB,MAAQhqB,EAAKk3C,gBAA6B,WAAX,WAEjC,kBAACrpB,EAAA,EAAD,CAAY1X,QAAQ,WAAW8S,EAAK/T,gBAGtC,kBAAC4U,EAAA,EAAD,CACEkB,KAAK,QACLxB,MAAO,CACLmF,QAAS,cACTlF,UAAW,UAEbM,QAAS,WACP7iB,EAAQnR,KAAR,qBACgBiK,EAAKqd,WADrB,YACmCrd,EAAKod,QADxC,mBACmDpd,QADnD,IACmDA,OADnD,EACmDA,EAAM6f,cADzD,gBAKF,kBAACgmB,GAAA,EAAD,CAAqBrc,MAAO,CAAE5T,OAAQ,QAAUI,QAAS,CAAEsW,KAAMtW,EAAQo7B,aACzE,kBAACvjB,EAAA,EAAD,CAAY1X,QAAQ,WAAW9V,IAEjC,kBAACypB,EAAA,EAAD,CACEkJ,SACkB,kBAAhBhzB,EAAKzG,SAA8ByG,EAAKk3C,kBAAoBl3C,EAAKo3C,eAC/C,eAAhBp3C,EAAKzG,OAETyxB,KAAK,QACLxB,MAAO,CACLmF,QAAyB,WAAhB3uB,EAAKzG,OAAsB,OAAS,eAE/CwwB,QAAS,WACP+M,EAAuB,kBAAhB92B,EAAKzG,OAA6B,SAAW,QAASyG,KAG/D,kBAACslC,GAAA,EAAD,CACEtb,MAAuB,kBAAhBhqB,EAAKzG,OACTyG,EAAKk3C,kBAAoBl3C,EAAKo3C,cAAgB,SAAW,WAC1C,eAAhBp3C,EAAKzG,OAA0B,SAAW,aAG9C,kBAACs0B,EAAA,EAAD,CAAY1X,QAAQ,WAA2B,kBAAhBnW,EAAKzG,QAA8C,eAAhByG,EAAKzG,OAA0B0vB,EAAKnX,iBAAmBmX,EAAKhX,qBCnK3HigC,GApBE,SAAC,GAAoC,IAAlClyC,EAAiC,EAAjCA,KAAMzG,EAA2B,EAA3BA,OAAQ1E,EAAmB,EAAnBA,KAAMiiC,EAAa,EAAbA,OACtC,OACE,kBAACnN,EAAA,EAAD,KACG3pB,EAAKrF,KAAI,SAAC2C,EAAM2d,GACf,OACE,kBAACq8B,GAAD,CACEt3C,KAAM1C,EACNzI,KAAMA,EACN0E,OAAQA,EACRu9B,OAAQ,SAAC1b,EAAOpb,GAAR,OACN82B,EAAO1b,EAAOpb,IAEhB3D,IAAK4e,SCyJF6M,gBAzCS,SAACrL,EAAOwW,GAAc,IAGpCp+B,EAFUo+B,EAAVroC,MACAy4B,OACAxuB,KACA2rB,EAA4D/D,EAA5D+D,MAAO9B,EAAqDjC,EAArDiC,OAAQe,EAA6ChD,EAA7CgD,UAAWvC,EAAkCT,EAAlCS,aAAckB,EAAoB3B,EAApB2B,gBAE5Cm5B,GADOhkD,OAAOC,KAAKgtB,GAAO1sB,OAAS,EAAI0sB,EAAQ,IAC/BvnB,QAAO,SAACqE,GAAD,OAAUA,EAAKqzB,WAAa97B,KAevD,OAbA0iD,EAASxkD,SAAQ,SAACuK,GACjB,IAAD,IACEA,EAAI,cAAJ,UAAwBohB,EAAM,OAACphB,QAAD,IAACA,OAAD,EAACA,EAAM8f,gBAArC,aAAwB,EAAuByC,cAC/CviB,EAAI,eAAqB2oB,aAAU,UACjCvH,EAAM,OAACphB,QAAD,IAACA,OAAD,EAACA,EAAM8f,gBADoB,aACjC,EAAuBU,cACvBxgB,EAAK8f,QACL9f,EAAK+f,WACLoC,EACAvC,MAKG,CACLroB,OACAi+C,UAAWyE,EACX74B,SACAN,sBAIuB,SAACkM,GAC1B,MAAO,CACLwM,OAAQ,SAACjiC,EAAMmL,EAAMw3C,GACnBltB,EAASlP,IAAuBvmB,EAAMmL,EAAKw3C,EAAeltB,KAE5DymB,aAAc,SAACvgB,EAAMj3B,GAEnB,OADYi3B,EAAKv3B,QAAO,SAACqE,GAAD,OAAUA,EAAK/D,SAAWA,KAAQzF,WAMjDg0B,EA7JD,SAAC,GAAwE,IAAtEjzB,EAAqE,EAArEA,KAAMi+C,EAA+D,EAA/DA,UAAW/B,EAAoD,EAApDA,aAAcja,EAAsC,EAAtCA,OAAQpY,EAA8B,EAA9BA,OAAQN,EAAsB,EAAtBA,gBACxD6K,EAAO5T,IAAM6T,WAAW9T,KADsD,EAExDC,IAAMmV,SAAS,QAFyC,mBAE7EjxB,EAF6E,KAErE05C,EAFqE,KAG9E5vB,EAASsxB,cACT8C,EAAa1G,EAAa+B,EAAW,cACrC4E,EAAgB3G,EAAa+B,EAAU,iBACvC6E,EAAa5G,EAAa+B,EAAW,cACrC7c,EAAO,CACX,CAAEt4B,MAAOsrB,EAAKtX,oBAAqB/iB,MAAO,QAC1C,CAAE+O,MAAOsrB,EAAKrX,iBAAkBhjB,MAAO,WACvC,CAAE+O,MAAOsrB,EAAKpX,eAAgBjjB,MAAO,UAGnCskD,EAAqB,GA0BzB,MAxBe,SAAX35C,GACFu5C,EAAU//C,SAAQ,SAACuK,GACG,kBAAhBA,EAAK/D,QAA8C,eAAhB+D,EAAK/D,QAC1C25C,EAAmBn9C,KAAKuH,MAKf,YAAX/D,GACFu5C,EAAU//C,SAAQ,SAACuK,GACG,eAAhBA,EAAK/D,QACP25C,EAAmBn9C,KAAKuH,MAKf,UAAX/D,GACFu5C,EAAU//C,SAAQ,SAACuK,GACG,WAAhBA,EAAK/D,QACP25C,EAAmBn9C,KAAKuH,MAM5B,kBAAC,GAAD,CAAejU,KAAK,QAAQsU,MAAO0lB,EAAOxuB,MACxC,kBAAC80B,EAAA,EAAD,CACEH,MAAO,CACLrkB,SAAU,QACVwqB,IAAK,OACLl/B,MAAO,OACPg7B,OAAQ,UAGV,kBAAC,GAAD,CACEwK,KAAMA,EACNC,iBAAkB,OAClBC,YAAa,SAACvnC,GAAD,OAAWqkD,EAAUrkD,MAEpC,0BACE46B,MAAO,CACLrkB,SAAU,WACVwqB,IAAK,IACLC,KAAM,MACN/F,QAAS,UACTkB,gBAAiB,MACjBuE,aAAc,OACdtF,MAAO,QACP2E,QAAU+oB,EAAgBD,EAAa,EAAE,QAAQ,SAGlDC,EAAgBD,GAEf,0BACEjuB,MAAO,CACLrkB,SAAU,WACVwqB,IAAK,IACLC,KAAM,MACN/F,QAAS,UACTkB,gBAAiB,MACjBuE,aAAc,OACdtF,MAAO,QACP2E,QAASgpB,EAAa,EAAI,QAAU,SAGzCA,IAIL,kBAAChuB,EAAA,EAAD,CACEH,MAAO,CACL/4B,MAAO,OACPo5B,QAAS,OACT1kB,SAAU,WACVwqB,IAAK,OACLja,OAAQmG,OAAOmS,OAAOtY,OAAS,IAAM,KACrCse,SAAU,gBAGZ,kBAAC4jB,GAAD,CACE53C,KAAMkzC,EACN35C,OAAQA,EACR1E,KAAMA,EACNiiC,OAAQ,SAACjiC,EAAMmL,GACX,IAAMw3C,EAAiBtmD,KACD8O,EAAKmd,UACLnd,EAAKod,QACLpd,EAAKqd,WACLnsB,KAAqB,IAAIqF,MACzB,EACA6nB,EACAM,GAExBoY,EAAOjiC,EAAMmL,EAAKw3C,WClFxBtwC,GAAU2wC,cAEV5jB,GAAQ6jB,YAAe,CAC3B/lB,QAAS,KA2HIjK,gBANS,SAAC,GACvB,MAAO,CACLl2B,SAFsC,EAAfA,YAMZk2B,EApHH,SAAC,GAAkB,IAAhBl2B,EAAe,EAAfA,SACPknB,EAAOxB,KAAKsE,MAAMC,OAAOC,aAAaC,QAAQ,SAE9CwS,IADU,OAAJzV,QAAI,IAAJA,OAAA,EAAAA,EAAMU,QAAO,IACJzZ,QAAQ,OAAS,EAetC,OAbA2qB,qBAAU,WACR,IAAMqtB,EAAS13C,SAAS5G,cAAc,UAMtC,OALAs+C,EAAO7kD,IAAMtJ,2FACbmuD,EAAOC,OAAQ,EAEf33C,SAAS43C,KAAKvmD,YAAYqmD,GAEnB,WACL13C,SAAS43C,KAAKC,YAAYH,MAE3B,IAID,kBAAC,WAAD,KACE,kBAACI,EAAA,EAAD,MACA,kBAAC,IAAgBC,SAAjB,CAA0BxpD,MAAO4c,IAAiB5Z,EAAS2qB,WACzD,kBAAC,IAAD,CACE87B,YAAa/hD,IACbgiD,MAAOC,IACPC,OAAQ5mD,EAAS2qB,UAEjB,kBAACk8B,EAAA,EAAD,CAAexkB,MAAOA,IACpB,kBAAC,IAAD,CAAQ/sB,QAASA,IACf,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAcwxC,OAAK,EAACj5C,KAAK,IAAIwoB,UAAYsG,EAA4BoqB,GAAnBC,KAClD,kBAAC,EAAD,CACEn5C,KAAK,oBACLwoB,UAAW4wB,KAEb,kBAAC,EAAD,CACEp5C,KAAK,uDACLwoB,UAAW6V,KAEb,kBAAC,IAAD,CAAOr+B,KAAK,SAASwoB,UAAW2Z,KAChC,kBAAC,EAAD,CACEniC,KAAK,mBACLwoB,UAAW6wB,KAEb,kBAAC,IAAD,CACEr5C,KAAK,8BACLwoB,UAAW8wB,KAEb,kBAAC,EAAD,CACEt5C,KAAK,2BACLwoB,UAAW+wB,KAEb,kBAAC,EAAD,CACEv5C,KAAK,gHACLwoB,UAAWgsB,KAEb,kBAAC,EAAD,CACEx0C,KAAK,iBACLwoB,UAAWgxB,KAEb,kBAAC,EAAD,CAAcx5C,KAAK,YAAYwoB,UAAWslB,KAC1C,kBAAC,EAAD,CAAc9tC,KAAK,cAAcwoB,UAAWixB,KAC5C,kBAAC,EAAD,CAAcz5C,KAAK,eAAewoB,UAAWkxB,KAC7C,kBAAC,EAAD,CAAc15C,KAAK,MAAMwoB,UAAWmxB,KACpC,kBAAC,EAAD,CAAc35C,KAAK,SAASwoB,UAAWoxB,KACvC,kBAAC,EAAD,CAAc55C,KAAK,eAAewoB,UAAWqxB,KAC7C,kBAAC,EAAD,CAAc75C,KAAK,cAAcwoB,UAAW2uB,KAC5C,kBAAC,EAAD,CACEn3C,KAAK,kBACLwoB,UAAWsxB,KAEb,kBAAC,EAAD,CACE95C,KAAK,wDACLwoB,UAAWuxB,KAEb,kBAAC,EAAD,CACE/5C,KAAK,mBACLwoB,UAAWuoB,KAEb,kBAAC,EAAD,CACE/wC,KAAK,kBACLwoB,UAAW0wB,KAEb,kBAAC,EAAD,CAAcl5C,KAAK,cAAcwoB,UAAW8mB,KAC5C,kBAAC,EAAD,CACEtvC,KAAK,sCACLwoB,UAAWwxB,KAEb,kBAAC,EAAD,CACEh6C,KAAK,2CACLwoB,UAAWyxB,KAEb,kBAAC,EAAD,CACEj6C,KAAK,0BACLwoB,UAAW0xB,KAEb,kBAAC,EAAD,CACEl6C,KAAK,kBACLwoB,UAAW2xB,KAEb,kBAAC,IAAD,CAAU1kD,KAAK,IAAIC,GAAG,e,6BCxIhC0kD,GAAcC,QACW,cAA7Bj+B,OAAOwM,SAAS0xB,UAEe,UAA7Bl+B,OAAOwM,SAAS0xB,UAEhBl+B,OAAOwM,SAAS0xB,SAASnvD,MACvB,2DAsCN,SAASovD,GAAgBC,EAAOngB,GAC9BogB,UAAUC,cACPtiD,SAASoiD,GACTtgC,MAAK,SAACygC,GACLA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB79B,QACfy9B,UAAUC,cAAcM,YAI1B5nD,QAAQuV,IACN,iHAIE0xB,GAAUA,EAAO4gB,UACnB5gB,EAAO4gB,SAASN,KAMlBvnD,QAAQuV,IAAI,sCAGR0xB,GAAUA,EAAO6gB,WACnB7gB,EAAO6gB,UAAUP,WAO5BzjC,OAAM,SAACjR,GACN7S,QAAQ6S,MAAM,4CAA6CA,MCtFjEk1C,KAASzyB,OACP,kBAAC,IAAD,CAAUpP,MAAOA,MACf,kBAAC,GAAD,OAEF1Y,SAASw6C,eAAe,SDSnB,SAAkB/gB,GACvB,GAA6C,kBAAmBogB,UAAW,CAGzE,GADkB,IAAIY,IAAIlxD,GAAwBiyB,OAAOwM,SAAS0yB,MACpDC,SAAWn/B,OAAOwM,SAAS2yB,OAIvC,OAGFn/B,OAAO8V,iBAAiB,QAAQ,WAC9B,IAAMsoB,EAAK,UAAMrwD,GAAN,sBAEPiwD,KA+DV,SAAiCI,EAAOngB,GAEtCmhB,MAAMhB,EAAO,CACXxiC,QAAS,CAAE,iBAAkB,YAE5BkC,MAAK,SAAC/C,GAEL,IAAMskC,EAActkC,EAASa,QAAQrY,IAAI,gBAEnB,MAApBwX,EAASrd,QACO,MAAf2hD,IAA8D,IAAvCA,EAAYn7C,QAAQ,cAG5Cm6C,UAAUC,cAAcgB,MAAMxhC,MAAK,SAACygC,GAClCA,EAAagB,aAAazhC,MAAK,WAC7BkC,OAAOwM,SAASwJ,eAKpBmoB,GAAgBC,EAAOngB,MAG1BnjB,OAAM,WACL9jB,QAAQuV,IACN,oEAtFAizC,CAAwBpB,EAAOngB,GAI/BogB,UAAUC,cAAcgB,MAAMxhC,MAAK,WACjC9mB,QAAQuV,IACN,iHAMJ4xC,GAAgBC,EAAOngB,OC/B/BqgB,CAAuB,CACrBO,SAAU,SAACN,GACTrhC,KAAMuR,SAASlP,IAAmBg/B,Q,gpBCPhC7kC,EAAYC,aAAW,SAACye,GAAD,MAAY,CACvC3H,KAAM,CACJqC,QAAS,QAEX2sB,MAAO,CACLtxB,MAAO,2BAIEuxB,EAAa,SAACxlC,GACzB,IAAMC,EAAUT,IACV8N,EAASsxB,cAEf,OACE,yBAAK1+B,UAAWD,EAAQsW,MACtB,kBAAC2L,EAAA,EAAD,CAAahQ,UAAU,YACrB,kBAAC2hB,EAAA,EAAD,CAAW3hB,UAAU,SAAS37B,SAAUypB,EAAMzpB,UAC5C,kBAACuhC,EAAA,EAAD,CACE5F,UAAU,OACV9R,QAAQ,YACRF,UAAWD,EAAQslC,OAElBvlC,EAAMjoB,QAGX,kBAAC0tD,EAAA,EAAD,KACGzlC,EAAMrnB,QAAQiM,KAAI,SAAC2C,EAAM2d,GACxB,OACE,kBAACmmB,EAAA,EAAD,CACE/kC,IAAK4e,EACLomB,QACE,kBAAC/F,EAAA,EAAD,CACEtI,SAAUyoB,YAAYp4B,GACtBoY,QAAS1lB,EAAMnnB,MAAM6nB,MAAK,SAACilC,GACzB,OAAOA,IAAiBp+C,EAAK1O,SAE/B4nC,SAAU,kBAAMzgB,EAAMygB,SAASl5B,EAAK1O,QACpCvE,GAAIiT,EAAKjT,GACTuE,MAAO0O,EAAK1O,QAGhBd,MAAOwP,EAAK3O,SAAStC,cAK7B,kBAACsvD,EAAA,EAAD,KAAiB5lC,EAAMtpB,oB,SClDzB8oB,EAAYC,aAAW,SAACye,GAAD,MAAY,CACvCqnB,MAAO,CACLtxB,MAAO,sBACPoD,SAAU,WAEZwuB,UAAW,CACThmC,OAAQqe,EAAMpe,QAAQ,EAAG,QAGhBgmC,EAAW,SAAC9lC,GACvB,IAAMC,EAAUT,IACV8N,EAASsxB,cAEf,OACE,kBAAC3T,EAAA,EAAD,CACEhO,SAAUyoB,YAAYp4B,GACtB+F,WAAS,EACT/+B,GAAI0rB,EAAM1rB,GACVyD,MACE,kBAAC87C,EAAA,EAAD,CAAWt9C,SAAUypB,EAAMzpB,UACzB,kBAACuhC,EAAA,EAAD,CACE5F,UAAU,OACV9R,QAAQ,YACRF,UAAWD,EAAQslC,OAElBvlC,EAAMjoB,QAIb+G,KAAMkhB,EAAMhoB,YAAN,wBACNa,MAAOmnB,EAAMnnB,OAAS,GACtBqnB,UAAWD,EAAQ4lC,UACnBplB,SAAUzgB,EAAMygB,Y,8DChChBjhB,EAAYC,aAAW,gBAAGK,EAAH,EAAGA,QAAH,MAAkB,CAC7Ckb,IAAK,CACH+qB,UAAW,oBACX3qB,aAAc,oBACdtH,QAAShU,EAAQ,EAAG,IAEtB8tB,aAAc,CACZxS,aAAc,qBACdtH,QAAShU,EAAQ,EAAG,EAAG,EAAG,IAE5Bub,OAAQ,CACNtG,cAAe,aACfjB,QAAS,MAEXqH,SAAU,CACRhD,WAAY,EACZgf,cAAe,OAIN6O,EAAW,SAAChmC,GACvB,IAAMC,EAAUT,IADiB,EAEPF,IAAMmV,SAAS,CACvC5B,MAAM,IAHyB,mBAE1BnM,EAF0B,KAEnBu/B,EAFmB,KAK3B34B,EAASsxB,cAGTsH,EAAe,SAACrzB,GAAD,OAAU,SAAC6N,GAC9BulB,EAAS,CAAEpzB,KAAMA,MAGb0yB,EAAQvlC,EAAMrnB,QACjBiM,KAAI,SAAC2C,GACJ,MAAO,CAAEjU,KAAMiU,EAAK3O,SAAStC,QAASuC,MAAO0O,EAAK1O,UAEnDkP,MAAK,SAACR,GAAD,OAAUA,EAAK1O,QAAUmnB,EAAMnnB,SAEvC,OACE,kBAAC+6B,EAAA,EAAD,CAAK1T,UAAWD,EAAQ+a,KACtB,kBAACjH,EAAA,EAAD,CAAQC,QAASkyB,GAAa,GAAOhmC,UAAWD,EAAQob,QACrDkqB,EAAQA,EAAMjyD,KAAO0sB,EAAMjoB,OAE9B,kBAACouD,EAAA,EAAD,CACEC,OAAO,SACPvzB,KAAMnM,EAAK,KACXqM,QAASmzB,GAAa,GACtBjpB,SAAUyoB,YAAYp4B,IAEtB,kBAAC0Q,EAAA,EAAD,CAAMlQ,KAAK,eAAekG,QAASkyB,GAAa,IAC7ClmC,EAAMrnB,QAAQiM,KAAI,SAAC2C,EAAM2d,GAAP,OACjB,kBAACyoB,EAAA,EAAD,CACEztB,UAAWD,EAAQkb,SACnBE,QAAM,EACN/0B,IAAK4e,EACL8O,QAAS,kBAAMhU,EAAMygB,SAASl5B,EAAK1O,SAEnC,kBAAC+0C,EAAA,EAAD,CACEC,QAAStmC,EAAK3O,SAAStC,QACvB4pB,UAAWD,EAAQ2tB,qBAM7B,kBAACgY,EAAA,EAAD,KAAiB5lC,EAAMkrB,c,SCpEvB1rB,EAAYC,aAAW,gBAAGK,EAAH,EAAGA,QAAH,MAAkB,CAC7Ckb,IAAK,CACHnb,OAAQC,EAAQ,EAAG,EAAG,EAAG,GACzBsb,aAAc,qBACd+b,cAAer3B,EAAQ,GACvB4T,UAAW,SAEb2yB,YAAa,CACX3yB,UAAW,QACX7T,OAAQC,EAAQ,EAAG,IAErByW,KAAM,CACJ0K,UAAWnhB,EAAQ,GACnBuY,aAAcvY,EAAQ,IAExBub,OAAQ,CACNtG,cAAe,QAEjBwwB,MAAO,CACLzxB,QAAShU,EAAQ,EAAG,EAAG,EAAG,GAC1B4T,UAAW,OACXO,MAAO,uBAETrU,YAAa,CACXgZ,QAAS,QACTlF,UAAW,QAEb4yB,eAAgB,CACd5rD,MAAO,WAIE6rD,EAAU,SAACvmC,GACtB,IAAMC,EAAUT,IACV8N,EAASsxB,cAEf,OACE,yBAAK1+B,UAAWD,EAAQsW,MACtB,kBAACsd,EAAA,EAAD,CAAWt9C,SAAUypB,EAAMzpB,UACzB,kBAACuhC,EAAA,EAAD,CACE5F,UAAU,OACV9R,QAAQ,YACRF,UAAWD,EAAQslC,OAElBvlC,EAAMjoB,QAGVioB,EAAM9oB,OAAO0N,KAAI,SAAC2C,EAAM2d,GACvB,OACE,yBAAK5e,IAAK4e,EAAOhF,UAAWD,EAAQqmC,gBAClC,yBAAKnpD,IAAKoK,EAAK6D,IAAK1Q,MAAM,OAAOylB,IAAI,KADvC,QAKJ,kBAACyT,EAAA,EAAD,CAAK1T,UAAWD,EAAQ+a,KACtB,kBAAC,IAAD,CAAa/F,KAAK,QAAQ/U,UAAWD,EAAQomC,aAC1CrmC,EAAM7f,WAAWyE,KAAI,SAAC2b,EAAGhV,GACxB,IAAM0oB,EAAQjU,EAAMnnB,QAAU0nB,EAAI,CAAE0T,MAAO,WAAc,GACzD,OACE,kBAACF,EAAA,EAAD,eACEztB,IAAKiF,EACL6U,QAAQ,YACRF,UAAS,UAAKD,EAAQob,QACtBxiC,MAAO0nB,GACH0T,EALN,CAMED,QAAS,SAAC0M,GACR,GAAIglB,YAAYp4B,GACd,OAAO,EAETtN,EAAMgU,QAAQ0M,MAIf1gB,EAAM9f,UAAUqL,QAKzB,kBAACusB,EAAA,EAAD,CAAY1X,QAAQ,QAAQF,UAAWD,EAAQslC,OAC5CvlC,EAAMJ,gB,gBC7EXJ,EAAYC,aAAW,kBAAkB,CAC7C8lC,MAAO,CACLtxB,MAAO,sBACPoD,SAAU,SAEZwuB,UAAW,CACThmC,QAAQC,EANiB,EAAGA,SAMZ,EAAG,QAIV0mC,EAAa,SAACxmC,GACzB,IAAMC,EAAUT,IACVinC,EAASC,YAAe1mC,EAAMzoB,IAAKyoB,EAAMxoB,KACzC81B,EAASsxB,cAETh/B,EAAcI,EAAMkrB,WAAalrB,EAAMkrB,WAAaub,EAASA,EAUnE,OACE,kBAACxb,EAAA,EAAD,CACE0b,OAAQ,SAACjmB,GAAD,OAVI7nC,EAUc6nC,EAAMpG,OAAOzhC,YATrCmnB,EAAMzoB,KAAOyoB,EAAMxoB,OACjBqB,EAAQmnB,EAAMzoB,KAAOsB,EAAQmnB,EAAMxoB,MACrC0vB,MAAM,GAAD,cAAIlH,QAAJ,IAAIA,OAAJ,EAAIA,EAAOjoB,MAAX,aAAqB6nB,KAHjB,IAAC/mB,GAWZA,MAAOmnB,EAAMnnB,MACb4nC,SAAU,SAACC,GAAD,OAAW1gB,EAAMygB,SAASC,EAAO1gB,IAC3CqT,WAAS,EACTv0B,KAAMkhB,EAAMlhB,KACZm+B,SAAUyoB,YAAYp4B,GAAUo4B,YAAYp4B,GAAmC,uBAArB,OAALtN,QAAK,IAALA,OAAA,EAAAA,EAAOppB,iBAC5DmB,MACE,kBAAC87C,EAAA,EAAD,CAAWt9C,SAAUypB,EAAMzpB,UACzB,kBAACuhC,EAAA,EAAD,CACE5F,UAAU,OACV9R,QAAQ,YACRF,UAAWD,EAAQslC,OAElBvlC,EAAMjoB,QAIbzD,GAAI0rB,EAAM1rB,GACV4rB,UAAW0mC,YAAK3mC,EAAQJ,OAAQI,EAAQ4lC,WACxCgB,WACE7mC,EAAMtoB,UACF,CACEovD,eAAgB,kBAACtkB,EAAA,EAAD,KAAiBxiB,EAAMvoB,OAEzC,CACE8qC,aAAc,kBAACC,EAAA,EAAD,KAAiBxiB,EAAMvoB,OAG7CyzC,WAAYtrB,KC7DZJ,EAAYC,aAAW,iBAAO,CAClCsnC,GAAI,CACFhB,UAAW,kBAIFiB,EAAY,WACvB,IAAM/mC,EAAUT,IAEhB,OAAO,wBAAIU,UAAWD,EAAQ8mC,MCF1BvnC,EAAYC,aAAW,iBAAO,CAClC8lC,MAAO,CACLtxB,MAAO,sBACPoD,SAAU,cAID4vB,EAAY,SAACjnC,GACxB,IAAMC,EAAUT,IACV8N,EAASsxB,cAEf,OACE,kBAAC3T,EAAA,EAAD,CACE5X,WAAS,EACT/+B,GAAI0rB,EAAM1rB,GACVmsC,SAAUzgB,EAAMygB,SAChBxD,SAAUyoB,YAAYp4B,GACtBv1B,MACE,kBAAC87C,EAAA,EAAD,CAAWt9C,SAAUypB,EAAMzpB,UACzB,kBAACuhC,EAAA,EAAD,CACE5F,UAAU,OACV9R,QAAQ,YACRF,UAAWD,EAAQslC,OAElBvlC,EAAMjoB,QAIbc,MAAOmnB,EAAMnnB,MACbqyC,WAAYlrB,EAAMkrB,WAClB+O,WAAS,EACT4C,KAAM,K,mHC9BNtqB,EAAajT,IAAMkT,YAAW,SAAoBxS,EAAOyS,GAC3D,OAAO,kBAACy0B,EAAA,EAAD,eAAOx0B,UAAU,KAAKD,IAAKA,GAASzS,OAGhC,SAASmnC,GAAiBnnC,GAAQ,IAAD,EACpBV,IAAMmV,UAAS,GADK,mBACrC5B,EADqC,KAC/B6B,EAD+B,KAEtC0yB,EAAWjtB,iBAAO,MAClBktB,EAAYltB,iBAAO,MAHmB,EAIR1F,oBAAS,GAJD,mBAIrC6yB,EAJqC,KAIzBC,EAJyB,OAKlB9yB,mBAAS,MALS,mBAKrCt6B,EALqC,KAK9BqtD,EAL8B,KAMtCt0B,EAAO5T,IAAM6T,WAAW9T,KAQxByjB,EAAW,uCAAG,4BAAAhF,EAAA,sDAChBpJ,GAAQ,GACR8yB,EAAS,OACHC,EAASL,EAASM,QAAQC,aAE5BF,EAAOG,YAAY5qD,SAAQ,SAAA6qD,GAAK,OAAIA,EAAMC,UAC1CV,EAASM,QAAQC,UAAY,MAEjCJ,GAAc,GARE,2CAAH,qDAWXQ,EAAY,uCAAG,8BAAAjqB,EAAA,0DACbwpB,EADa,iBAGPG,EAASL,EAASM,QAAQC,aAE5BF,EAAOG,YAAY5qD,SAAQ,SAAA6qD,GAAK,OAAIA,EAAMC,UAC1CV,EAASM,QAAQC,UAAY,MAEjCJ,GAAc,GARD,gDAYYpD,UAAU6D,aAAaC,aAAa,CACrDC,MAAO,CAAEC,WAAY,CAAExF,MAAO,kBAbzB,OAYH8E,EAZG,OAkBTL,EAASM,QAAQC,UAAYF,EAC7BF,GAAc,GAnBL,kDAqBTzqD,QAAQ6S,MAAM,8BAAd,MArBS,0DAAH,qDA4Cdy4C,EAAiBtiC,OAAOuiC,YAE5B,OACI,6BACI,kBAACvwB,EAAA,EAAD,CAAY9D,QAhEI,WACpBU,GAAQ,GACRqzB,KA8D0C9zB,MAAM,YAAY7T,QAAQ,SAC3D8S,EAAKrV,sBAEV,kBAACuV,EAAA,EAAD,CAAQ2P,YAAU,EAAClQ,KAAMA,EAAME,QAAS+P,EAAaxP,oBAAqBf,GACtE,kBAACkF,EAAA,EAAD,CAAQhE,MAAO,CAAEuB,gBAAiB,UAC9B,kBAAC2C,EAAA,EAAD,KACI,kBAAC8K,EAAA,EAAD,CAAYkb,KAAK,QAAQ1pB,MAAM,UAAUD,QAAS8O,EAAajL,aAAW,SACtE,kBAAC,IAAD,SAIZ,kBAACmG,EAAA,EAAD,CAAMvK,MAAO,CAAEuB,gBAAiB,QAASlB,QAAS,EAAGjU,OAAQ,EAAGF,OAAQ,SACpE,yBAAK8T,MAAO,CAAEmF,QAAS,OAAQ6F,cAAe,SAAUC,WAAY,SAAUO,eAAgB,SAAUtf,OAAQ,SAC5G,yBAAK8T,MAAO,CAAE/4B,MAAO,OAAQilB,OAAQ,OAAQvQ,SAAU,WAAYwqB,IAAK,EAAGC,KAAM,IAC7E,2BACIpH,IAAK20B,EACLkB,aAAW,EACXC,UAAQ,EACR90B,MAAO,CACHmF,QAAS0uB,EAAa,QAAU,OAAQ5sD,MAAO,OAAQilB,OAAQ,OAAQ+V,OAAQ,EAC/EuL,UAAW,SAGnB,yBAAK9jC,IAAKhD,EAAOgmB,IAAI,GAAGsT,MAAO,CAC3BkhB,SAAU,OAAQh1B,OAAQ,OAAQiZ,QAASz+B,EAAQ,QAAU,OAAQiV,SAAU,WAC/EwqB,IAAK,MAET,4BAAQnH,IAAK40B,EAAW5zB,MAAO,CAAEmF,QAAS,UAEzC0uB,GACG,yBAAK7zB,MAAO,CACRrkB,SAAU,WACV1U,MAAO,MACPilB,OAAQ,KACRm3B,OAAQ,iBACRld,IAAK,MACLC,KAAM,KACNN,aAAc,MACdivB,cAAe,OACf9yB,OAAQ,OAGf4xB,GACG,yBAAK7zB,MAAO,CACRrkB,SAAU,WACV1U,MAAO,MACPilB,OAAQyoC,EAAiB,IACzBtR,OAAQ,iBACRld,IAAKwuB,EAAiB,EACtB9uB,MAAO,MACPC,aAAc,KACdivB,cAAe,OACf9yB,OAAQ,OAGhB,kBAAC9B,EAAA,EAAD,CAAKH,MAAO,CACRrkB,SAAU,QACV+kB,OAAQ,EACR0F,KAAM,EACNP,MAAO,EACP6F,WAAY,IACZvG,QAAS,OACTqG,eAAgB,eAChBvJ,OAAQ,MAGR,kBAAC3B,EAAA,EAAD,CACIC,QAAS,WACL+zB,IACAR,GAAc,GACdC,EAAS,OAEbvqB,SAAUqqB,EACV7zB,MAAO,CACHQ,MAAO,UAEVf,EAAKvV,iBAEV,kBAACiW,EAAA,EAAD,CAAKH,MAAO,CACRqjB,OAAQ,mBACRvd,aAAc,MACdzF,QAAS,QAET,kBAACC,EAAA,EAAD,CACIC,QAAS,kBA1G3B,WACd,IAAMy0B,EAASpB,EAAUK,QACnBQ,EAAQd,EAASM,QAEvB,GAAIQ,GAASO,EAAQ,CACjB,IAAMC,EAAUD,EAAOE,WAAW,MAClCF,EAAO/tD,MAAQwtD,EAAMU,WACrBH,EAAO9oC,OAASuoC,EAAMW,YACtBH,EAAQI,UAAUZ,EAAO,EAAG,EAAGO,EAAO/tD,MAAO+tD,EAAO9oC,QAGpD,IAAMopC,EAAcN,EAAOO,UAAU,aACrCxB,EAASuB,GACTjsD,QAAQuV,IAAI02C,GACZxB,GAAc,GACdQ,KA2F2CkB,IACfhsB,UAAWqqB,EACX7zB,MAAO,CACHQ,MAAO,QACPv5B,MAAO,OACPilB,OAAQ,OACRqV,gBAAiB,QACjBuE,aAAc,SAGjBrG,EAAKrV,uBAGd,kBAACkW,EAAA,EAAD,CACIC,QAAS,WACLhU,EAAMygB,SAAStmC,GACfu6B,GAAQ,GACR8yB,EAAS,OAEbvqB,SAAUqqB,EACV7zB,MAAO,CACHQ,MAAO,UAEVf,EAAKtV,0BC3L1C,IAAM4B,GAAYC,aAAW,gBAAGK,EAAH,EAAGA,QAAH,MAAkB,CAC7CopC,IAAK,CACHtwB,QAAS,OACTqG,eAAgB,gBAChBpf,OAAQC,EAAQ,EAAG,EAAG,EAAG,IAE3ByW,KAAM,CACJqC,QAAS,OACT9E,QAAShU,EAAQ,EAAG,GACpBsb,aAAc,qBACdpG,gBAAiB,QAEnBuwB,MAAO,CACL1lC,OAAQC,EAAQ,EAAG,EAAG,EAAG,GACzBmU,MAAO,uBAETk1B,UAAW,CACTzuD,MAAO,QACPilB,OAAQ,QACRypC,QAAS,EACTnrB,SAAU,SACV7uB,SAAU,WACVwqB,IAAK,IACLlE,QAAS,GAEX+N,KAAM,CACJ9jB,OAAQ,QACRvQ,SAAU,WACV6uB,SAAU,SACVvK,UAAW,cAIF21B,GAAQ,SAACrpC,GACpB,IAAMkT,EAAO5T,IAAM6T,WAAW9T,KACxBY,EAAUT,KAFc,EAGMiV,mBAAS,CAC3C/5B,MAAO,OACPilB,OAAQ,SALoB,mBAGvB2pC,EAHuB,KAGXC,EAHW,KAOxBC,EAAUrvB,iBAAO,MACjBsvB,EAAStvB,iBAAO,MAChBuvB,EAAc9K,cACd+K,EAA4C,UAAjB,OAAXD,QAAW,IAAXA,OAAA,EAAAA,EAAapiC,cAAgD,YAAjB,OAALtH,QAAK,IAALA,OAAA,EAAAA,EAAOprB,aAAiD,YAAjB,OAALorB,QAAK,IAALA,OAAA,EAAAA,EAAOprB,aAChGg1D,EAAgB,SAACl6C,EAAG5Q,GAAU,IAAD,IAC3B+qD,EAAa,IAAIC,WACjBrmB,EAAI,OAAG/zB,QAAH,IAAGA,GAAH,UAAGA,EAAG4qB,cAAN,iBAAG,EAAWyvB,aAAd,aAAG,EAAmB,GAEnB,WAATjrD,EACE6qD,EACFK,YAAct6C,EAAGg6C,GAAa9lC,MAAK,SAAC6I,GAClCzM,EAAMygB,SAAShU,MAGjBzM,EAAMygB,SAAS/wB,GAGjBm6C,EAAWI,UAAY,SAACv6C,GACtB,IAAMvV,EAAQuV,EAAE4qB,OAAOryB,OACnB0hD,EACFK,YAAc7vD,EAAOuvD,GAAa9lC,MAAK,SAAC6I,GACtCzM,EAAMygB,SAAShU,MAGjBzM,EAAMygB,SAAStmC,GAGjB,IAAMoR,EAAI,IAAI2+C,MACd3+C,EAAE4+C,OAAS,WACTZ,EAAc,CAGZ7uD,MAAO,OACPilB,OAAQ,UAGZpU,EAAEpO,IAAMhD,GAMRspC,GAAM/zB,EACR,IAAI06C,IAAW3mB,EAAM,CACnB4mB,QAAS,GACTC,YAAa,IACbC,QAHmB,SAGXtiD,GACN4hD,EAAWW,cAAcviD,IAE3B0H,MANmB,SAMb86C,GACJ3tD,QAAQuV,IAAIo4C,EAAI76C,YAIpBoQ,EAAMygB,SAAS,MAInB,OACE,yBAAKvgB,UAAWD,EAAQsW,MACtB,kBAACuB,EAAA,EAAD,CAAY1X,QAAQ,YAAYF,UAAWD,EAAQslC,OAChDvlC,EAAMjoB,OAET,6BACE,2BACEmoB,UAAWD,EAAQkpC,UACnBrqD,KAAK,OACL4rD,OAAO,mCAGPp2D,GAAI0rB,EAAM1rB,GACVm+B,IAAKg3B,EACLhpB,SAAUmpB,KAGd,6BAEE,kBAAC/V,EAAA,EAAD,CAAWt9C,SAAUypB,EAAMzpB,UACzB,kBAACuhC,EAAA,EAAD,CACE5F,UAAU,OACV9R,QAAQ,YACRF,UAAWD,EAAQslC,OAElBvlC,EAAMJ,eAIb,kBAACgU,EAAA,EAAD,CAAKkjB,OAAQ,EAAG52B,UAAWD,EAAQwjB,MACjC,yBAAKtmC,IAAK6iB,EAAMnnB,MAAO46B,MAAO61B,EAAY72B,IAAK+2B,EAASrpC,IAAI,MAE9D,kBAACyT,EAAA,EAAD,CAAK1T,UAAWD,EAAQipC,KACtB,kBAACpxB,EAAA,EAAD,CACE7D,MAAM,YACN7T,QAAQ,QACR4T,QAAS,WACPhU,EAAMygB,SAAS,KACfgpB,EAAO/B,QAAQ7uD,MAAQ,KAGxBq6B,EAAKjX,gBAER,2BAAOuvB,QAASxrB,EAAM1rB,KAClBq1D,GAAiB,kBAAC7xB,EAAA,EAAD,CAAY7D,MAAM,YAAY7T,QAAQ,SACtD8S,EAAKxV,0BAITisC,GACC,kBAAC,GAAD,CAAQlpB,SAAU,SAACtmC,GAAD,OAAWyvD,EAAczvD,EAAO,WAChDwwD,gBAAiBhB,OC3JhBiB,GAAe,SAAC5qC,GAC3B,OACE,6BACE,4BAAKA,EAAMjoB,OACX,6BACA,2BAAIioB,EAAMJ,e,oDCIVJ,GAAYC,aAAW,SAACye,GAAD,MAAY,CACvC3H,KAAM,CACJ0K,UAAW/C,EAAMpe,QAAQ,GACzB+qC,WAAY,OACZxyB,aAAc,SAEhByyB,aAAc,CACZpwD,MAAO,OACPilB,OAAQ,QAGRqV,gBAAiBkJ,EAAMlC,QAAQqb,WAAW0T,OAE5CC,OAAQ,CACNtwD,MAAO,OACPilB,OAAQ,SAEVsrC,MAAO,CACLryB,QAAS,OACT8F,WAAY,SACZO,eAAgB,UAElBjI,KAAM,CACJt8B,MAAO,OACPilB,OAAQ,QACRshB,UAAW,MACX1H,aAAc,MACdvE,gBAAiB,OACjBnV,OAAQqe,EAAMpe,QAAQ,EAAG,EAAG,EAAG,QAItBorC,GAAY,SAAClrC,GACxB,IAAMC,EAAUT,KACV0T,EAAO5T,IAAM6T,WAAW9T,KACxBiO,EAASsxB,cAHmB,EAKQnqB,oBAAS,GALjB,mBAK3B02B,EAL2B,KAKZC,EALY,OAMI32B,mBAAS,CAC7C/5B,MAAO,OACPilB,OAAQ,SARwB,mBAM3B0rC,EAN2B,KAMdC,EANc,KAW5BC,EAASpxB,iBAAO,MAChBqxB,EAAWrxB,iBAAO,MA+BxB,OACE,yBAAKla,QAASA,EAAQsW,MACpB,kBAACuB,EAAA,EAAD,CAAY1X,QAAQ,aAAaJ,EAAMjoB,OACvC,kBAAC0qC,EAAA,EAAD,CACExF,SAAUyoB,YAAYp4B,GACtBuK,aAAW,OACX7D,QAdY,WAChBo3B,GAAiB,IAcblrC,UAAWD,EAAQ+W,MAEnB,kBAAC,KAAD,OAEF,kBAACy0B,GAAA,EAAD,CACEvrC,UAAWD,EAAQgrC,MACnBp4B,KAAMs4B,EACNp4B,QAlBc,WAClBq4B,GAAiB,KAmBb,yBAAKlrC,UAAWD,EAAQ6qC,cACtB,6BACE,kBAAC,KAAD,CACEY,YAAa,CAAExrC,UAAWD,EAAQ+qC,QAClCv4B,IAAK84B,IAEP,kBAACx3B,EAAA,EAAD,CAAQC,QAnDJ,WACZu3B,EAAO7D,QAAQiE,UAkDkBz4B,EAAKxU,oBAC9B,kBAACqV,EAAA,EAAD,CAAQC,QAhDL,WACX,IAAM43B,EAAYL,EAAO7D,QAAQmE,mBAAmB7C,UAAU,aAC9DhpC,EAAMygB,SAASmrB,GACf,IAAMrgD,EAAI,IAAI2+C,MACd3+C,EAAE4+C,OAAS,WACTmB,EAAe,CAGb5wD,MAAO,OACPilB,OAAQ,OACR0Y,aAAc,UAGlB9sB,EAAEpO,IAAMyuD,EACRR,GAAiB,KAkCel4B,EAAKzU,sBAMnC,yBAAKthB,IAAK6iB,EAAMnnB,MAAO46B,MAAO43B,EAAa54B,IAAK+4B,EAAUrrC,IAAI,KAC9D,2BAAIH,EAAMJ,e,oBCvGVJ,GAAYC,aAAW,gBAAGK,EAAH,EAAGA,QAAH,MAAkB,CAC7Ckb,IAAK,CACH+qB,UAAW,qBACX3qB,aAAc,qBACdvb,OAAQC,EAAQ,EAAG,GACnBqY,WAAYrY,EAAQ,IAEtBylC,MAAO,CACLtxB,MAAO,2BAIE63B,GAAe,SAAC9rC,GAC3B,IAAMC,EAAUT,KACV8N,EAASsxB,cAEf,OACE,kBAAChrB,EAAA,EAAD,CAAK1T,UAAWD,EAAQ+a,KACtB,kBAAC6Y,EAAA,EAAD,CAAWt9C,SAAUypB,EAAMzpB,UACzB,kBAACuhC,EAAA,EAAD,CACE5F,UAAU,OACV9R,QAAQ,YACRF,UAAWD,EAAQslC,OAElBvlC,EAAMjoB,QAGX,kBAACg0D,GAAA,EAAD,CACEl0B,aAAY7X,EAAMjoB,MAClBc,MAAOmnB,EAAMnnB,MACb4nC,SAAUzgB,EAAMygB,SAChBxD,SAAUyoB,YAAYp4B,IAErBtN,EAAMrnB,QAAQiM,KAAI,SAAC2C,EAAM2d,GACxB,OACE,kBAACmmB,EAAA,EAAD,CACE/kC,IAAK4e,EACLrsB,MAAO0O,EAAK1O,MACZyyC,QAAS,kBAAC0gB,GAAA,EAAD,MACTj0D,MACEwP,EAAK3O,SAASqzD,QACV1kD,EAAK3O,SAASqzD,QACd1kD,EAAK3O,SAAStC,QAEpBhC,GAAIiT,EAAKjT,SAKjB,kBAACsxD,EAAA,EAAD,KAAiB5lC,EAAMkrB,cClCvB1rB,GAAYC,aAAW,gBAAGK,EAAH,EAAGA,QAAH,MAAkB,CAC7Ckb,IAAK,CACHlH,QAAShU,EAAQ,EAAG,EAAG,EAAG,GAE1BuY,aAAcvY,EAAQ,IAExBylC,MAAO,CACLtxB,MAAO,2BAIE2W,GAAa,SAAC5qB,GACzB,IA7BmBprB,EA6BbqrB,EAAUT,KACV8N,EAASsxB,cAGf,OACE,kBAAChrB,EAAA,EAAD,CAAK1T,UAAWD,EAAQ+a,KACtB,kBAAC6Y,EAAA,EAAD,CAAWt9C,SAAUypB,EAAMzpB,UACzB,kBAACuhC,EAAA,EAAD,CACE5F,UAAU,OACV9R,QAAQ,YACRF,UAAWD,EAAQslC,OAElBvlC,EAAMjoB,QAGX,kBAACkzC,EAAA,EAAD,CACE/qB,UAAWD,EAAQgrB,UACnB5X,WAAS,EACT98B,SAAUypB,EAAMzpB,SAChBjC,GAAI0rB,EAAM1rB,GACVmsC,SAAUzgB,EAAMygB,SAChB5nC,MAAOmnB,EAAMnnB,MACbqyC,WAAYlrB,EAAMkrB,WAClBjO,SAAUyoB,YAAYp4B,GAAUo4B,YAAYp4B,IApD/B14B,EAoDsDorB,EAAMprB,WAnDzD,CACpB,UACA,SACA,cACA,eACA,aACA,KACA,KACA,gBACA,KACA,cACA,iBAEmBoV,QAAQpV,IAAe,O,UCrBxC4qB,GAAYC,aAAW,gBAAGK,EAAH,EAAGA,QAAH,MAAkB,CAC7Ckb,IAAK,CACHI,aAAc,qBACd2qB,UAAW,qBACXlmC,OAAQC,EAAQ,EAAG,GACnBgU,QAAShU,EAAQ,EAAG,QAIXosC,GAAS,SAAClsC,GACrB,IAAMC,EAAUT,KAEhB,OACE,kBAACoU,EAAA,EAAD,CAAK1T,UAAWD,EAAQ+a,KACtB,kBAAClD,EAAA,EAAD,CAAY1X,QAAQ,aAAaJ,EAAMjoB,OACvC,kBAAC,KAAD,CACER,IAAKyoB,EAAMzoB,IACXC,IAAKwoB,EAAMxoB,IACXI,KAAMooB,EAAMpoB,KACZiB,MAAOmnB,EAAMnnB,MACb4nC,SAAUzgB,EAAMygB,SAChB0rB,kBAAkB,SAEpB,2BAAInsC,EAAMJ,eCxBVJ,GAAYC,aAAW,kBAAkB,CAC7C5mB,MAAO,CACLi7B,SAAShU,EAFgB,EAAGA,SAEX,EAAG,GACpBimC,UAAW,qBACX3qB,aAAc,qBACdvb,OAAQ,SAICusC,GAAa,SAACpsC,GAAW,IAAD,EAC7BC,EAAUT,KACV6sC,EAAa,UAAGrsC,EAAMnnB,aAAT,aAAG,EAAa3D,QAAQ,MAAO,UAClD,OACE,kBAAC0+B,EAAA,EAAD,KACE,kBAACkE,EAAA,EAAD,CAAY1X,QAAQ,YAAYF,UAAWD,EAAQpnB,OACjD,yBAAKyzD,wBAAyB,CAAEC,OAAQF,MAEzCrsC,EAAM9oB,OAAO0N,KAAI,SAAC2C,EAAM2d,GACvB,OACE,yBAAK5e,IAAK4e,GACR,yBAAK/nB,IAAKoK,EAAK6D,IAAK+U,IAAI,GAAGsT,MAAO,CAAEkhB,SAAU,UADhD,U,mBCXJn1B,GAAYC,aAAW,cAAGK,QAAH,MAAkB,CAC7Ckb,IAAK,CACHI,aAAc,sBAEhBmqB,MAAO,CACL7qD,MAAO,OACPmlB,OAAQ,OAIC2sC,GAAQ,SAACxsC,GACpB,IAAMC,EAAUT,KACV8N,EAASsxB,cAEf,OACE,kBAAChrB,EAAA,EAAD,CAAK1T,UAAWD,EAAQ+a,KACtB,kBAAClD,EAAA,EAAD,CAAY1X,QAAQ,YAAYqT,MAAO,CAAE5T,OAAQ,UAC9CG,EAAMjoB,OAET,kBAACszC,EAAA,EAAD,CACEnrB,UAAWD,EAAQslC,MACnBja,QACE,kBAACmhB,GAAA,EAAD,CACEx4B,MAAM,UACNyR,QAAS1lB,EAAMnnB,MACf4nC,SAAU,SAACC,GAET,GAAIglB,YAAYp4B,GACd,OAAO,EAETtN,EAAMygB,SAASC,MAKrBgsB,eAAe,a,6nDC5BVC,EAAoB,SAAC70D,EAAM0lC,EAAO/T,GAC7C,IAAM0S,EAAc,IAAI37B,KAAK1I,GAC7B,OAAQ2xB,GACN,IAAK,WACH,IACMmjC,EADQpvB,EAAmC,MAA3B,IAAIh9B,KAAKg9B,GAAOqvB,SAClB,OACpB,OAAO1wB,EAAYsD,WAAamtB,EAElC,IAAK,WACH,IACMA,EADQpvB,EAAmC,MAA3B,IAAIh9B,KAAKg9B,GAAOqvB,SAClB,QAEpB,OAAO1wB,EAAYsD,WAAamtB,EAElC,IAAK,YACH,IACMA,EADQpvB,EAAmC,MAA3B,IAAIh9B,KAAKg9B,GAAOqvB,SAClB,QAEpB,OAAO1wB,EAAYsD,WAAamtB,EAElC,IAAK,aACH,IACMA,EADQpvB,EAAmC,MAA3B,IAAIh9B,KAAKg9B,GAAOqvB,SAClB,QAEpB,OAAO1wB,EAAYsD,WAAamtB,EAElC,IAAK,MACL,QACE,OAAO,IAKA1gC,EAAsB,SAACjiB,GAClC,OAAOA,EAAKyjB,MAAK,SAAUoQ,EAAGC,GAC5B,OAAID,EAAEpQ,KAAOqQ,EAAErQ,MACL,EAED,MAKAvB,EAAqB,SAACliB,GACjC,IAAIwiB,EAAM,GAUV,OARAxiB,EAAKjN,SAAQ,SAAC8vD,GACPrgC,EAAIqgC,EAAKxlC,cACZmF,EAAIqgC,EAAKxlC,YAAc,IAGzBmF,EAAIqgC,EAAKxlC,YAAYtnB,KAAK8sD,MAGrBrgC,GAGIsgC,EAAgB,SAAC9iD,GAC5B,IAAMwiB,EAAM,GAMZ,OAJAxiB,EAAKjN,SAAQ,SAACnE,GACZ4zB,EAAI5zB,EAAMuuB,WAAa7F,KAAKsE,MAAMhtB,EAAMm0D,qBAGnCvgC,GAGIwgC,EAAkB,SAAChjD,GAC9B,IAAMwiB,EAAM,GAUZ,OARAjvB,OAAOC,KAAKwM,GAAMjN,SAAQ,SAACsJ,GACzB,IAAMwmD,EAAO,GAEbA,EAAK1lC,UAAY9gB,EACjBwmD,EAAKE,iBAAmBzrC,KAAKC,UAAUvX,EAAK3D,IAE5CmmB,EAAIzsB,KAAK8sD,MAEJrgC,GAGInC,EAAgC,SAACrgB,GAC5C,IAAMwiB,EAAM,GASZ,OAPAxiB,EAAKjN,SAAQ,SAACnE,GACP4zB,EAAI5zB,EAAMuuB,aACbqF,EAAI5zB,EAAMuuB,WAAa,IAEzBqF,EAAI5zB,EAAMuuB,WAAWpnB,KAAKnH,MAGrB4zB,GAGIgzB,EAAS,SAACl8C,GAgBrB,IAfA,IAAM2pD,EAAa,CACjB,aACA,YACA,SACA,iBACA,WACA,WACA,YACA,QACA,WAMO3hD,EAAI,EAAGA,EAAIhI,EAAOxF,OAAQwN,IAAK,CAEtC,GADes0C,YAAUt8C,EAAOgI,IAE9B,IAAK,IAAI4hD,EAAI,EAAGA,EAAID,EAAWnvD,OAAQovD,IACrC,GAAI5pD,EAAOgI,GAAGzM,OAASouD,EAAWC,IAAM5pD,EAAOgI,GAAG1P,SAAStF,SAAU,CACnE,IAAI62D,OAAS,EAWb,GATEA,EADE7pD,EAAOgI,GAAG1P,SAASxF,UAAU41D,QACnB1oD,EAAOgI,GAAG1P,SAASxF,UAAU41D,QAChC1oD,EAAOgI,GAAG1P,SAASxF,UAAUC,QAC1BiN,EAAOgI,GAAG1P,SAASxF,UAAUC,QAChCiN,EAAOgI,GAAG1P,SAASnF,gBAAgBu1D,QAChC1oD,EAAOgI,GAAG1P,SAASnF,gBAAgBu1D,QAEnC1oD,EAAOgI,GAAG1P,SAASnF,gBAAgBJ,QAfvD,mFAmBQiN,EAAOgI,GAAG1P,SAAShD,OACU,KAA7B0K,EAAOgI,GAAG1P,SAAShD,OACU,MAA7B0K,EAAOgI,GAAG1P,SAAShD,MAInB,OAFAquB,MAAMkmC,IAEC,EACF,GAAiC,MAA7B7pD,EAAOgI,GAAG1P,SAAShD,MAE5B,OADAquB,MAAMkmC,IACC,EACF,GAAuB,WAAnB7pD,EAAOgI,GAAGzM,OACfyE,EAAOgI,GAAG1P,SAAStE,KAAOgM,EAAOgI,GAAG1P,SAASrE,OAC3C+L,EAAOgI,GAAG1P,SAAShD,MAAQ0K,EAAOgI,GAAG1P,SAAStE,KAAOgM,EAAOgI,GAAG1P,SAAShD,MAAQ0K,EAAOgI,GAAG1P,SAASrE,KAAK,CAC1G,IAAMivD,EAASC,EAAenjD,EAAOgI,GAAG1P,SAAStE,IAAKgM,EAAOgI,GAAG1P,SAASrE,KAEzE,OADA0vB,MAAM,GAAD,OAAIkmC,EAAJ,aAAkB3G,KAChB,IAQrB,OAAO,GAGIv2B,EAAa,SACxBnI,EACAqB,EACA9B,EACAoC,EACAvC,GACI,IAAD,MACGwB,EAAS3F,IAAMC,WAAW0F,OAC1BoB,EAAW,UAAGpB,EAAOS,UAAV,aAAG,EAAqBW,YACnCD,EAAa,UAAGnB,EAAOS,UAAV,aAAG,EAAqBU,cACrCse,EAAe,UAAGzf,EAAOS,UAAV,aAAG,EAAqBgf,gBACvCilB,EAAgB3jC,EAAUpC,GAAcoC,EAAUpC,GAAc,GAChEgmC,EAAmB9kB,EACvB6kB,EACAtjC,EACAD,EACAse,GAGF,GAAIklB,EAAiBvvD,OAAS,EAAG,CAC/B,IAAMwvD,EAAeD,EAAiBpqD,QACpC,SAACqE,GAAD,MAA2B,MAAjBA,EAAKw+B,WAEjB,GAAIwnB,EAAaxvD,OAAS,EAAG,CAAC,IAAD,IACrBmoC,EAAS,OACb/e,QADa,IACbA,GADa,UACbA,EAAeY,UADF,iBACb,EAAgCqB,UADnB,aACb,EAA+C9B,GAE7CkmC,EAAQ,EACZ,GAAItnB,EAAW,CACb,IAAK,IAAI36B,EAAI,EAAGA,EAAIgiD,EAAaxvD,OAAQwN,IAEvC,IADA,IAAMsvC,EAAW,UAAM0S,EAAahiD,GAAGy6B,qBAC9BmnB,EAAI,EAAGA,EAAIjnB,EAAUnoC,OAAQovD,IAAK,CAAC,IAAD,GACzC,UAAAjnB,EAAUinB,UAAV,eAAc75D,KAAKoB,SAASmmD,KAAgB2S,IAIhD,OAAID,EAAaxvD,QAAUyvD,EAClB,OAEA,OAGT,MAAO,OAGT,MAAO,OAGT,MAAO,oBAmBEzb,EAAoB,SAAC1pB,EAAiBe,GACjD,SACEf,EAAgBe,EAAc,UAC7Bf,EAAgBe,EAAc,SAASb,gBAEjC,sBAMEqvB,EAA2B,SAACvvB,EAAiBe,GAAiB,IAAD,EACxE,OACEf,EAAgBe,EAAc,WAC7Bf,EAAgBe,EAAc,SAASb,cAEjC,sBACF,UAAIF,EAAgBe,EAAc,gBAAlC,aAAI,EAAwCb,eAC1C,qBAEA,sBAIEklC,EAAgB,SAACplC,EAAiBe,GAAiB,IAAD,QAG7D,iBAAIf,EAAgBe,EAAc,gBAAlC,aAAI,EAAwCb,eACnC,KAET,UAAIF,EAAgBe,EAAc,gBAAlC,aAAI,EAAwCb,iBAI1C,UAAAF,EAAgBe,EAAc,gBAA9B,eAAwCb,iBACvCF,EAAgBe,EAAc,SAJxB,IAQT,UAAIf,EAAgBe,EAAc,gBAAlC,aAAI,EAAwCb,eACnC,GAEA,GAqEEmlC,EAAkB,SAAC3lC,EAAeY,EAAQN,GACrD,IAAMslC,EAAgB,GACtBnwD,OAAOC,KAAKkrB,GAAQ3rB,SAAQ,SAACuK,GAC3BohB,EAAOphB,GAAMwgB,gBAAkBA,GAAiB4lC,EAAc3tD,KAAKuH,MAErE,IAAMqmD,EAAgB,GACtBD,EAAc3wD,SAAQ,SAACuK,GACrB,IAAIylC,EAAWygB,EAAcplC,EAAiB9gB,GAE9CqmD,EAAc5tD,KAAKgtC,MAGrB,IAAI6gB,EAAM,EAEVD,EAAc5wD,SAAQ,SAACuK,GACrBsmD,GAAgB,uBAATtmD,EAAiB,EAAIA,KAE9B,IAAMmmD,EAAkBr5C,KAAK+O,KAAKyqC,EAAMF,EAAc5vD,QACtD,OAAO2vD,GAaII,EAA0B,SACrC1mC,EACAC,EACAC,EACAxvB,EACAgH,EACAupB,EACAM,GACI,IAAD,MACG1gB,EAAS,GAsBf,OArBAA,EAAOmf,UAAYA,EACnBnf,EAAOof,QAAUA,EACjBpf,EAAOqf,WAAaA,EACpBrf,EAAOnQ,KAAOA,EACdmQ,EAAOnJ,KAAOA,EACdmJ,EAAO8lD,YAAa,EACpB9lD,EAAOk+B,IAAP,OAAaxd,QAAb,IAAaA,GAAb,UAAaA,EAAStB,UAAtB,aAAa,EAAmBqhB,GAChCzgC,EAAOm+B,OAAP,OAAgBzd,QAAhB,IAAgBA,GAAhB,UAAgBA,EAAStB,UAAzB,aAAgB,EAAmB+e,OACnCn+B,EAAOo+B,OAAP,OAAgB1d,QAAhB,IAAgBA,GAAhB,UAAgBA,EAAStB,UAAzB,aAAgB,EAAmByK,MAE/BzJ,EAAgBhB,EAAU,WAET,SAAfC,IACFrf,EAAO8lD,YAAa,GAGlB1lC,EAAgBhB,EAAU,IAAMC,GAAYuqB,eAC9C5pC,EAAOqf,WACLe,EAAgBhB,EAAU,IAAMC,GAAYuqB,eAG3C5pC,GAGI+lD,EAA6B,SACxC3mC,EACAC,EACAe,GAEA,aAC2D1xB,IAAzD0xB,EAAgBhB,EAAU,IAAMC,GAAYkK,WAC5CnJ,EAAgBhB,EAAU,IAAMC,GAAYkK,WAQnCyb,EAAiC,SAAC5kB,EAAiBM,GAO9D,IANA,IAAIslC,EAA0B,EAC1BC,EAAgB,EAChBC,EAAwB,EACxBC,EAAuB,EACvBC,EAAyB,EACvBC,EAAW9wD,OAAOC,KAAKkrB,GACpBpd,EAAI,EAAGA,EAAI+iD,EAASvwD,OAAQwN,IAAK,CAAC,IAAD,UAEtC8c,EAAgBimC,EAAS/iD,GAAK,WAA9B,UACA8c,EAAgBimC,EAAS/iD,GAAK,gBAD9B,aACA,EAAwCgd,eAExC0lC,IAEA5lC,EAAgBimC,EAAS/iD,GAAK,WAA9B,UACA8c,EAAgBimC,EAAS/iD,GAAK,gBAD9B,aACA,EAAwCgd,gBAIxCF,EAAgBimC,EAAS/iD,GAAK,WAA9B,UACA8c,EAAgBimC,EAAS/iD,GAAK,gBAD9B,aACA,EAAwCgd,eAHxC2lC,IAOA7lC,EAAgBimC,EAAS/iD,GAAK,WAA9B,UACA8c,EAAgBimC,EAAS/iD,GAAK,gBAD9B,aACA,EAAwCgd,eAExC4lC,IAEA9lC,EAAgBimC,EAAS/iD,GAAK,WAA9B,UACA8c,EAAgBimC,EAAS/iD,GAAK,gBAD9B,aACA,EAAwCgd,eAExC6lC,IAEAC,IAIJ,IAAI3gB,EAAqB,EAYzB,MAXa,CACXugB,EACAC,EACAC,EACAC,EACAC,GAEGrxD,SAAQ,SAACuK,GACZmmC,GAAsBnmC,KAGjB,CACL0mD,0BACAC,gBACAC,wBACAC,uBACAC,yBACA3gB,uBAIS6gB,EAAqB,WAChC,MAAM,GAAN,QAAU,IAAI/tD,MAAOguD,WAAa,EAAlC,aACM,IAAIhuD,MAAOiuD,UADjB,aAC8B,IAAIjuD,MAAOkuD,WADzC,aACuD,IAAIluD,MAAOmuD,aAAe,GAC3E,KAAM,IAAInuD,MAAOmuD,cACjB,IAAInuD,MAAOmuD,eAINC,EAA0B,SAACr6B,GACtCnhC,IAAGM,MAAM2V,IAAI,mBAAmBua,MAAK,SAAClwB,GACpC,IAAMm7D,EAAW,CACfC,mBAAoBP,IACpB9V,sBAAuB8V,IACvB7V,qBAAsB6V,IACtB5V,4BAA6B4V,IAC7B3V,4BAA6B2V,IAC7B1V,wBAAyB0V,KAE3Bh6B,EAASlP,IAA6BwpC,MAEtC,OAACn7D,QAAD,IAACA,OAAD,EAACA,EAAOuW,OACN7W,IAAGM,MACAm4B,IAAI,CACHv3B,GAAI,kBACJ2V,KAAM4kD,IAEPjrC,MAAK,WACJ2Q,EAASlP,IAA6BwpC,UAI9Cz7D,IAAGM,MAAM2V,IAAI,YAAYua,MAAK,SAAClwB,KAE7B,OAACA,QAAD,IAACA,OAAD,EAACA,EAAOuW,OACN7W,IAAGM,MACAm4B,IAAI,CACHv3B,GAAI,WACJ2V,KAAM,CAAEuc,SAAU,WAEnB5C,MAAK,WACJ2Q,EAASlP,IARE,iBAaR+Q,EAAoB,SAAC7B,EAAUjhC,EAAMuvB,EAAUC,GAC1D,GAAIxvB,EAAM,CACR,IAAMy7D,EAAS,CACbzrC,WAAY9lB,OAAOC,KAAKolB,IAGpBE,EAAOxB,KAAKsE,MAAMC,OAAOC,aAAaC,QAAQ,SAChDvC,EAAK,OAAGV,QAAH,IAAGA,OAAH,EAAGA,EAAMU,MACZurC,EAAiBvrC,EAAMzZ,QAAQ,cAAgB,GAAKyZ,EAAMzZ,QAAQ,OAAS,EAC3EwuB,EAAS/U,EAAMzZ,QAAQ,OAAS,EAEhC8iB,EAAUmiC,EAAsBF,EAAOzrC,YAC7C,OAAQhwB,GACN,IAAK,MACC07D,GAAkBx2B,EACpBjE,EAASlP,IAAmByH,EAAS,MAAOhK,EAAUyR,KAEtDA,EAASlP,IAAmByH,EAAS,MAAOhK,EAAUyR,IAEtDA,EAASlP,IAAsBvC,EAAUyR,KAE3C,MACF,IAAK,SACHA,EAASlP,IAAmB0pC,EAAQ,GAAIjsC,EAAUyR,IAClD,MACF,IAAK,YACHA,EAASlP,IAAsByH,EAAShK,EAAUyR,IAClD,MACF,IAAK,OACHA,EAASlP,IAAsByH,EAAQhK,EAAS,GAAIyR,IACpD,MACF,QACE,OACEA,EAASlP,IAAmByH,EAAS,MAAOhK,EAAUyR,IAEtDA,EAASlP,IAAsBvC,EAAUyR,UAI/CnhC,IAAGM,MAAM2V,IAAI,mBAAmBua,MAAK,SAAClwB,IAC/B,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOuW,OAAQsqB,EAASlP,IAA6B3xB,EAAMuW,WAKpDglD,EAAwB,SAAC3rC,EAAYgrC,GAGhD,IAFA,IAAM3lC,EAAS2lC,GAAsBtrC,IAAMC,WAAW0F,OAClD1e,EAAO,GAFkD,WAGpDsB,GACP/N,OAAOC,KAAKkrB,GAAQ5gB,MAAK,SAACR,GACxB,OACEohB,EAAOphB,GAAMwgB,gBAAkBzE,EAAW/X,IAC1CtB,EAAKjK,KAAK,CACRmmC,IAAKxd,EAAOphB,GAAMmhC,GAClBtC,OAAQzd,EAAOphB,GAAM6+B,OACrBC,OAAQ1d,EAAOphB,GAAMuqB,MACrB1K,UAAWuB,EAAOphB,GAAMwgB,cACxBY,OAAQnrB,OAAOC,KAAKkrB,GAAQzlB,QAAO,SAAColC,GAClC,OAAO3f,EAAO2f,GAAOvgB,gBAAkBY,EAAOphB,GAAMwgB,uBAVrDxc,EAAI,EAAGA,EAAI+X,EAAWvlB,OAAQwN,IAAM,EAApCA,GAiBT,OAAOtB,GAGIq1C,EAAgB,SAAC4P,EAAaC,GACzC,GAAID,EAAY3rD,OAAOxF,SAAWoxD,EAAS5rD,OAAOxF,OAChD,OAAO,EAGT,IAAK,IAAIwN,EAAI,EAAGA,EAAI2jD,EAAY3rD,OAAOxF,OAAQwN,IAC7C,GAAIe,MAAMC,QAAQ2iD,EAAY3rD,OAAOgI,GAAG1P,SAAShD,QAC/C,IACGuQ,IAAEgmD,QACDF,EAAY3rD,OAAOgI,GAAG1P,SAAShD,MAAM60B,OACrCyhC,EAAS5rD,OAAOgI,GAAG1P,SAAShD,MAAM60B,QAGpC,OAAO,OAGT,GACEwhC,EAAY3rD,OAAOgI,GAAG1P,SAAShD,QAC/Bs2D,EAAS5rD,OAAOgI,GAAG1P,SAAShD,MAE5B,OAAO,EAKb,OAAO,GAGI0zB,EAAwC,SAACtiB,GACpD,IAAMwiB,EAAM,GAMZ,OAJAxiB,EAAKjN,SAAQ,SAACnE,GACZ4zB,EAAI5zB,EAAMwuB,QAAU,IAAMxuB,EAAMyvB,QAAUzvB,KAGrC4zB,GAGIgjB,EAA8B,SACzCpnB,EACAe,EACA8F,GAGA,GAAI7G,EAAgBe,EAAc,UACT,SAAnB8F,EAA2B,CAC7B,IAcMjnB,EAda,CACjB,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAGwBF,MACxB,SAACnQ,GAAD,OAAWywB,EAAgBe,EAAc,IAAMxxB,GAAM2wB,iBAGvD,GAAItgB,EACF,MAAO,CACLqgB,OAAQrgB,EACR2H,QAAS,iDAYNy/C,EAAoB,SAACzlC,EAAYC,EAAchxB,GAC1D,IAAMyN,EAAMsjB,EAAa,IAAMC,EAC/B,OAAOz2B,IAAGM,MAAM2V,IAAI,mBAAmBua,MAAK,SAAClwB,GAC3C,UAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,KAAM,CACf,IAAMqlD,EAAY57D,EAAMuW,KACxB,OAAKqlD,EAAUhpD,GAUXgpD,EAAUhpD,KAASzN,GACrBy2D,EAAUhpD,GAAOzN,EAEVzF,IAAGM,MACPm4B,IAAI,CAAEv3B,GAAI,kBAAmB2V,KAAMqlD,IACnC1rC,MAAK,WACJ,OAAO9C,QAAQiD,QAAQ,CAAE/C,KAAM,EAAGnoB,cAIjCioB,QAAQiD,QAAQ,CAAE/C,KAAM,EAAGnoB,WAnBhCy2D,EAAUhpD,GAAOzN,EAEVzF,IAAGM,MACPm4B,IAAI,CAAEv3B,GAAI,kBAAmB2V,KAAMqlD,IACnC1rC,MAAK,WACJ,OAAO9C,QAAQiD,QAAQ,CAAE/C,KAAM,EAAGnoB,cAgBxC,IAAMoR,EAAO,GAGb,OAFAA,EAAK3D,GAAOzN,EAELzF,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,kBAAmB2V,SAAQ2Z,MAAK,WACxD,OAAO9C,QAAQiD,QAAQ,CAAE/C,KAAM,EAAGnoB,iBAM7B02D,EAAiB,SAAC3lC,EAAYC,GACzC,IAAMvjB,EAAMsjB,EAAa,IAAMC,EAC/B,OAAOz2B,IAAGM,MAAM2V,IAAI,mBAAmBua,MAAK,SAAClwB,GAE3C,UAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,KACT,OAAO6W,QAAQiD,QAAQrwB,EAAMuW,KAAK3D,QAmD3Boe,EAAW,SAACiH,EAAO20B,EAAYC,GAG1C,OA7C+B,SAC/B32B,EACAC,EACAvC,EACAwC,EACAC,EACAvD,EACA85B,GACI,IAEEh6C,EADcg6C,EAAZj5B,QAGN,IACAC,EACA,IACAsC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAvD,EACF,OAAOpzB,IAAGM,MAAM2V,IAAI,iBAAiBua,MAAK,SAAClwB,GACzC,UAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,KAAM,CACf,IAAMqlD,EAAY57D,EAAMuW,KACxB,OAAIqlD,EAAUhpD,GACLwa,QAAQiD,QAAQ,CAAE/C,KAAM,EAAGnoB,MAAOy2D,EAAUhpD,KAG9Cwa,QAAQiD,QAAQ,CAAE/C,KAAM,IAE/B,OAAOF,QAAQiD,QAAQ,CAAE/C,KAAM,OAY5BwuC,CAF8B7jC,EAA7B/B,WAA6B+B,EAAjB9B,aACyC02B,EAArDj5B,WAAqDi5B,EAAzCz2B,cAAyCy2B,EAA1Bx2B,YAA0Bw2B,EAAb/5B,SAQ9C85B,GACA18B,MAAK,SAAC3Z,GACN,OAAkB,IAAdA,EAAK+W,KACAF,QAAQiD,QAAQ9Z,GAEhBwlD,EAAgBnP,GAAY18B,MAAK,SAAC3Z,GACvC,OAAO6W,QAAQiD,QAAQ9Z,UASlBwlD,EAAkB,SAACnP,GAC9B,OAAO10B,IAAa00B,GAAY18B,MAAK,SAAC6I,GACpC,OAAIA,EAAIxiB,KAAKxG,KACJqd,QAAQiD,QAAQ,CAAE/C,KAAM,EAAGnoB,MAAO4zB,EAAIxiB,KAAKxG,OAE3Cqd,QAAQiD,QAAQ,CAAE/C,KAAM,QAKxB0uC,EAAmB,SAACzlD,EAAM0lD,EAAcC,GAAiB,IAC5DhmC,EAA6B+lC,EAA7B/lC,WAAYC,EAAiB8lC,EAAjB9lC,aAGdvjB,EADJspD,EADMvoC,QAIN,IAHAuoC,EADetoC,WAMf,IACAsC,EACA,IACAC,EACA,IATA+lC,EAD2B9lC,cAY3B,IAXA8lC,EAD0C7lC,YAc1C,IAbA6lC,EADuDppC,SAgBzDpzB,IAAGM,MAAM2V,IAAI,iBAAiBua,MAAK,SAAClwB,GAClC,UAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,KAAM,CACf,IAAMqlD,EAAY57D,EAAMuW,KACxBqlD,EAAUhpD,GAAO2D,EACjB7W,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,gBAAiB2V,KAAMqlD,QACrC,CACL,IAAMO,EAAY,GAClBA,EAAUvpD,GAAO2D,EACjB7W,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,gBAAiB2V,KAAM4lD,SAKnC3Q,EAAuB,SAACyQ,GAAkB,IAC7C/lC,EAA6B+lC,EAA7B/lC,WAAYC,EAAiB8lC,EAAjB9lC,aACpBz2B,IAAGM,MAAM2V,IAAI,iBAAiBua,MAAK,SAAClwB,GAClC,UAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,KAAM,CACf,IAAMqlD,EAAY57D,EAAMuW,KACLzM,OAAOC,KAAK6xD,GAAWpsD,QAAO,SAACoD,GAChD,OAAOA,EAAI5R,SAASk1B,EAAa,IAAMC,MAG9B7sB,SAAQ,SAACsJ,UACXgpD,EAAUhpD,MAGnBlT,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,gBAAiB2V,KAAMqlD,SAKnC9mB,EAAkB,SAACH,EAAete,EAAaD,EAAese,GACzE,IAwCMngC,EAAS,CAxCIogC,EAAcnlC,QAC/B,SAACqE,GAAD,OACEA,EAAK6gC,kBAAoBA,GAAmB7gC,EAAKwiB,cAAgBA,GAAexiB,EAAKuiB,gBAAkBA,KAGxFue,EAAcnlC,QAC/B,SAACqE,GAAD,OACEA,EAAK6gC,kBAAoBA,GAAmB7gC,EAAKwiB,cAAgBA,GAAsC,OAAvBxiB,EAAKuiB,iBAGtEue,EAAcnlC,QAC/B,SAACqE,GAAD,OACEA,EAAK6gC,kBAAoBA,GAAmB7gC,EAAKuiB,gBAAkBA,GAAsC,OAArBviB,EAAKwiB,eAG1Ese,EAAcnlC,QAC/B,SAACqE,GAAD,OACEA,EAAK6gC,kBAAoBA,GAAwC,OAArB7gC,EAAKwiB,aAA+C,OAAvBxiB,EAAKuiB,iBAG/Due,EAAcnlC,QAC/B,SAACqE,GAAD,OACEA,EAAKwiB,cAAgBA,GAAexiB,EAAKuiB,gBAAkBA,GAA0C,OAAzBviB,EAAK6gC,mBAGlEC,EAAcnlC,QAC/B,SAACqE,GAAD,OACEA,EAAKwiB,cAAgBA,GAAwC,OAAzBxiB,EAAK6gC,iBAAmD,OAAvB7gC,EAAKuiB,iBAG3Due,EAAcnlC,QAC/B,SAACqE,GAAD,OACEA,EAAKuiB,gBAAkBA,GAA0C,OAAzBviB,EAAK6gC,iBAAiD,OAArB7gC,EAAKwiB,eAG/Dse,EAAcnlC,QAC/B,SAACqE,GAAD,OAC2B,OAAzBA,EAAK6gC,iBAAiD,OAArB7gC,EAAKwiB,aAA+C,OAAvBxiB,EAAKuiB,kBAYrE/hB,MAAK,SAAA+nD,GAAK,OAAIA,EAAM/xD,OAAS,KAE/B,OAAOkK,GAAkB,IAGd0vC,EAA4B,SACvC50B,EACAgF,EACAV,EACAgB,EACAqB,EACAvC,GAUA,IARA,IAAM4oC,EAAerf,IACnBroB,EACAhB,EACAtE,EAAK8K,aACL9K,EAAKU,MAAM,IAGP+wB,EAAyB,GACtBjpC,EAAI,EAAGA,EAAIwkD,EAAahyD,OAAQwN,IACvC,UAAI8c,QAAJ,IAAIA,OAAJ,EAAIA,EAAkBhB,EAAU,IAAM0oC,EAAaxkD,IAAK,CACtD,IAAM/H,EAAS0sB,EACbnI,EACAV,EACA0oC,EAAaxkD,GACbme,EACAvC,GAEFqtB,EAAuBx0C,KAAKwD,GAOhC,IAFA,IAAMwsD,EAAc,GACdC,EAAY,GACT1kD,EAAI,EAAGA,EAAIipC,EAAuBz2C,OAAQwN,IACf,SAA9BipC,EAAuBjpC,GACzBykD,EAAYhwD,KAAKw0C,EAAuBjpC,IACD,SAA9BipC,EAAuBjpC,KAChCykD,EAAYhwD,KAAKw0C,EAAuBjpC,IACxC0kD,EAAUjwD,KAAKw0C,EAAuBjpC,KAI1C,MAAM,GAAN,OAAU0kD,EAAUlyD,OAApB,YAA8BiyD,EAAYjyD,SAmB/Bs/B,EAAwB,SAAC3S,EAAOrD,EAASvoB,GACpD,IAAMmL,EAAO,GAKb,GAJAzM,OAAOC,KAAKitB,GAAOxnB,QAAO,SAACqE,GACzB,OAAOmjB,EAAMnjB,GAAM8f,UAAYA,GAAWpd,EAAKjK,KAAK0qB,EAAMnjB,OAG/C,UAATzI,EAAkB,CACpB,IAAM29B,EAAQxyB,EAAK/G,QAAO,SAACqE,GACzB,OACEA,EAAKjU,KAAK0W,QAAQ,uBAAU,GAC5BzC,EAAKjU,KAAK0W,QAAQ,oBAAsB,KAG5C,OAAOyyB,EAAM1+B,OAAS,EAAI0+B,EAAM,GAAG5jC,MAAQ,EAE3C,IAAM6jC,EAAczyB,EAAK/G,QAAO,SAACqE,GAC/B,OACEA,EAAKjU,KAAK0W,QAAQ,6BAAW,GAC7BzC,EAAKjU,KAAK0W,QAAQ,kBAAoB,GACtCzC,EAAKjU,KAAK0W,QAAQ,kBAAoB,KAI1C,OAAO0yB,EAAY3+B,OAAS,EAAI2+B,EAAY,GAAG7jC,MAAQ,GAI9CwlC,EAAmB,SAAC1d,EAAS0R,GACxC,IAAMjjB,EAAW4T,IAAMC,WAAW2H,eAAeyH,GACjD1R,EAAQ+mC,QAAQntB,UAAYnrB,GAAsB,GAGvCuwC,EAAyB,SAACh2B,GACrC,IAAM1hB,EAASmB,IAAE8mD,UAAUvmC,GAI3B,OAHAvgB,IAAEolB,OAAOvmB,EAAO1E,QAAQ,SAAC7H,GACvB,OAAQmkD,YAAUnkD,MAEbuM,GAGI+yC,EAAe,WAC1B,IAAMvwB,EAAQzH,IAAMC,WAAWwH,MACzB9B,EAAS3F,IAAMC,WAAW0F,OAC1B9F,EAAWG,IAAMC,WAAWJ,SAclC,MAAO,CACLkY,cAZA2V,IAAqBjmB,EAAMuyB,SAAUr0B,EAAQ9F,IAC7C6tB,IAAqBjmB,EAAMuyB,SAAUr0B,EAAQ9F,GAAU3f,QAAO,SAACqE,GAC7D,MAAuB,MAAhBA,EAAKq1C,UACX7+C,OAUH+8B,iBAPA4V,IAAqBjmB,EAAMwyB,SAAUt0B,EAAQ9F,IAC7C6tB,IAAqBjmB,EAAMwyB,SAAUt0B,EAAQ9F,GAAU3f,QAAO,SAACqE,GAC7D,MAAuB,MAAhBA,EAAKq1C,UACX7+C,SAQMy8B,EAAkC,SAAC/P,GAC9C,IAmBM0lC,EAnBoB,SAAC1lC,GACzB,IAAM2lC,EAAc,GAepB,OAdA3lC,EAAMztB,SAAQ,SAAAy9B,GAAS,IACbG,EAAqBH,EAArBG,SAAUp3B,EAAWi3B,EAAXj3B,OACb4sD,EAAYx1B,KACfw1B,EAAYx1B,GAAY,CAAE,cAAiB,EAAG,cAAiB,EAAG,iBAAoB,IAEzE,eAAXp3B,EACF4sD,EAAYx1B,GAAZ,eAA0C,EACtB,kBAAXp3B,EACT4sD,EAAYx1B,GAAZ,kBAA6C,EACzB,eAAXp3B,IACT4sD,EAAYx1B,GAAZ,eAA0C,MAIvCw1B,EAGeC,CAAkB5lC,GAa1C,OAXqBA,EAAM7lB,KAAI,SAAA61B,GAAS,IAC9BG,EAAaH,EAAbG,SAD6B,EAEuFu1B,EAAgBv1B,IAAa,CAAE,cAAiB,EAAG,iBAAoB,EAAG,cAAiB,GAA9L01B,EAFY,gBAE2BC,EAF3B,mBAEkEC,EAFlE,gBAIrC,OAAO,2BACF/1B,GADL,IAEE,cAAiB61B,EACjB,iBAAoBC,EACpB,cAAiBC,QAMV9J,EAAiB,SAACnvD,EAAKC,GAClC,IAAMsmC,EAAY,IAARvmC,EAAYA,EAAI05B,WAAa15B,EACjCwmC,EAAY,IAARvmC,EAAYA,EAAIy5B,WAAaz5B,EAEvC,OAAIsmC,GAAKC,EACHD,IAAMC,EACF,IAAN,OAAWD,EAAX,SACUA,GAAKC,EACT,OAAN,OAAcA,EAAd,KAEM,IAAN,OAAWD,EAAX,YAAgBC,EAAhB,KAGK,IAIE1Z,GAAsB,SAACyhB,EAAU77B,EAAM0e,GAClD,IAAM2kC,EAAmB9kB,EACvB1C,EAAS77B,EAAKilB,iBAAmB,GACjCvG,EAAO1e,EAAKmf,aAAaW,YACzBpB,EAAO1e,EAAKmf,aAAaU,cACzBnB,EAAO1e,EAAKmf,aAAagf,iBAGrBzc,EAAQ2hC,EAAiB1oD,KAAI,SAAC2C,GAClC,MAAO,CACL4+B,IAAKxd,EAAO1e,EAAKmf,aAAasf,GAC9BtC,OAAQzd,EAAO1e,EAAKmf,aAAagd,OACjCC,OAAQ1d,EAAO1e,EAAKmf,aAAa0I,MACjC1K,UAAWuB,EAAO1e,EAAKmf,aAAarB,cACpCV,QAASpd,EAAKmf,YACd9B,WAAYrd,EAAKilB,eACjB3H,aAAchgB,EAAKy+B,oBAAsB,cAI7C,OAAOpa,IAAwBD,GAAO/H,MAAK,SAAC6I,GAC1C,IAAI7c,EAAU,GAKd,OAJA6c,EAAIxiB,KAAKjN,SAAQ,SAACuK,EAAM2d,IACrB3d,GAAQqI,EAAQ5P,KAAKstD,EAAiBpoC,GAAO8gB,wBAGzCp2B,MAIEyjC,GAAyB,SAACppC,GAAU,IAAD,QAQ9C,SALc,UACZ+Y,IAAMC,kBADM,iBACZ,EAAkBkE,oBADN,iBACZ,EAAiCld,EAAK8d,sBAD1B,iBACZ,EAAuD9d,EAAKmf,oBADhD,aACZ,SAHgB,QAWP6C,GAAyB,WACpC,MAAO,CACL,KAAQ,CACN3E,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,OAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,OAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,OAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,OAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,GAE3B,KAAQ,CACN1c,WAAY,OACZmpC,eAAe,EACfzsB,yBAAyB,KAKzBvhB,GAAa,SAACC,EAAUC,GAC5B,GAAIrW,MAAMC,QAAQmW,IAAapW,MAAMC,QAAQoW,GAC3C,OAAOD,EAAS3N,OAAO4N,IAIdq1B,GAAmB,SAACC,EAAM1jB,GACrCA,EAASlP,OACTuG,IAA8BqsB,GAAMr0B,MAAK,SAAC/C,GAAc,IAC9CiL,EAAaC,YAAUlL,EAAS5W,KAAM+hB,KAAtCF,SACR14B,IAAGM,MAAM2V,IAAI,cAAcua,MAAK,SAAClwB,GAC/B,IAAMuU,EAASmB,IAAE0a,UAAUpwB,EAAMuW,KAAM6hB,EAAUrJ,IAC7CI,EAAW5a,EAAO4a,SAClBrlB,OAAOC,KAAKwK,EAAO4a,UACnB,GACJzvB,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,aAAc2V,KAAMhC,IAAU2b,MAAK,WACpD,IAAM+H,EAAQ,CAAErI,WAAYT,GAC5BoT,IAC0CtK,GAE1C,IAAMmB,EAASmiC,EAAsBtjC,EAAMrI,WAAP,OAAmBrb,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAQ0gB,QAC/D4L,EAASlP,IAAsByH,EAAS,GAAIyH,aAK/C3T,OAAM,SAACjR,GACR4kB,EAASlP,IAAgB1V,EAAMC,aAC9B8gD,SAAQ,WACTn8B,EAASlP,WAIAqgC,GAAc,WAAkB,IAAD,QAAhBp4B,EAAgB,uDAAP,GACnC,IAAKma,KACH,OAAO,EAFiC,MAK8CzkB,IAAMC,WAAtFoF,EALkC,EAKlCA,gBAAiBlB,EALiB,EAKjBA,aAAcuC,EALG,EAKHA,UAAWf,EALR,EAKQA,OAAQ5F,EALhB,EAKgBA,KAAM+H,EALtB,EAKsBA,oBACxDxD,EAAyEgG,EAAzEhG,WAAYD,EAA6DiG,EAA7DjG,QAASyC,EAAoDwD,EAApDxD,cAAeC,EAAqCuD,EAArCvD,YAAahC,EAAwBuF,EAAxBvF,cAAewO,EAASjJ,EAATiJ,KAClE6R,EAAe,UAAGzf,EAAOtB,UAAV,aAAG,EAAiB+gB,gBACnCC,EAAgB3e,EAAUpC,IAAe,GACzC4e,EAAY,GACZqC,EAAa,UAAGphB,EAAaY,UAAhB,iBAAG,EAA8BV,UAAjC,aAAG,EAAyCC,GACzDmpC,EAAa,UAAG3lC,EAAoBxD,UAAvB,aAAG,EAAiCmpC,cACjDE,EAAkC,aAATp6B,EAGzBtsB,EAAOu+B,EAAgBH,EAAete,EAAaD,EAAese,GAClExoB,EAAc3V,EAAKrF,KAAI,SAAC2C,GAC5B,OAAOA,EAAKy+B,uBAIdpmB,EAAY5iB,SAAQ,SAACuK,GACnB,OACGghC,GACCA,EAAcrlC,QACZ,SAACulC,GAAD,OAASA,EAAIn1C,KAAK0W,QAAQzC,IAAS,GAAK2+B,EAAUlmC,KAAKyoC,OAE3D,MAIJ,IAAMmoB,EAAqB7hC,YACzB1G,EACAhB,EACAtE,EAAK8K,aACL9K,EAAKU,MAAM,IAGPgM,EAAemhC,EAAmBl8D,SAAS4yB,GAEjD,GAAa,0BAATiP,EAAkC,CAAC,IAAD,IAC9BuP,EAAW,CACfC,QAAS,IACTC,oBAAoB,wCAGtB/7B,EAAKjK,KAAK8lC,GAEVI,EAAUlmC,KAAV,OAAemnB,QAAf,IAAeA,GAAf,UAAeA,EAAeY,UAA9B,iBAAe,EAAgCV,UAA/C,aAAe,EAA2CC,GAAY,IAGxE,QAAIqpC,IAA0BlhC,KAI1ByW,EAAUnoC,OAAS,KAChB0yD,KAGCpd,GAAuB,CAAEtrB,cAAeA,EAAeqB,YAAa/B,OAWjEogB,GAAmB,WAAO,IAC5B1kB,EAASC,IAAMC,WAAfF,KAET,cAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAM8tC,sBAGTpxB,GAAU,WACd,IAAMqxB,EAAM,IAAItwD,KACVuwD,EAAOD,EAAIE,cACXC,EAAQl9C,OAAO+8C,EAAItC,WAAa,GAAGt9B,SAAS,EAAG,KAC/CggC,EAAMn9C,OAAO+8C,EAAIrC,WAAWv9B,SAAS,EAAG,KACxCigC,EAAQp9C,OAAO+8C,EAAIpC,YAAYx9B,SAAS,EAAG,KAC3CkgC,EAAUr9C,OAAO+8C,EAAInC,cAAcz9B,SAAS,EAAG,KAC/CmgC,EAAUt9C,OAAO+8C,EAAIQ,cAAcpgC,SAAS,EAAG,KAErD,MAAM,GAAN,OAAU6/B,EAAV,YAAkBE,EAAlB,YAA2BC,EAA3B,YAAkCC,EAAlC,YAA2CC,EAA3C,YAAsDC,IAwBlDE,GAA6B,SAACC,EAAUC,GAC5C,OAAO,IAAI3wC,SAAQ,SAACiD,EAAShD,GAC3B,GAAI+E,OAAO4rC,KAAM,CACf,IAAMC,EAAW,IAAI7rC,OAAO4rC,KAAKE,SAC3BC,EAAQ,IAAI/rC,OAAO4rC,KAAKI,MAAML,EAAWD,GAE/CG,EAASI,YAAYF,GAAO,SAAC5pD,GAEzB8b,EADE9b,EACMA,EAAO+pD,QAEP,4DAIZjxC,EAAO,uDAKAipC,GAAa,uCAAG,WAAOiI,EAAOC,GAAd,iCAAAp0B,EAAA,6DACvB7zB,EAAO+Y,IAAMC,WADU,SAvCpB,IAAInC,SAAQ,SAACiD,GACdogC,UAAUgO,YACZhO,UAAUgO,YAAYC,oBACpB,SAAChjD,GACC,IAAMoiD,EAAWpiD,EAASijD,OAAOb,SAC3BC,EAAYriD,EAASijD,OAAOZ,UAClC1tC,EAAQ,CAAEvgB,OAAQ,UAAWyG,KAAM,CAAEunD,WAAUC,kBAEjD,SAAC9hD,GACCoU,EAAQ,CAAEvgB,OAAQ,QAASoM,QAASD,EAAMC,aAI9CmU,EAAQ,CAAEvgB,OAAQ,QAASoM,QAAS,qDA0Bb,cAGrB0iB,EAHqB,gBAIPi/B,GAA0B,OAACj/B,QAAD,IAACA,GAAD,UAACA,EAAUroB,YAAX,aAAC,EAAgBunD,SAAjB,OAA2Bl/B,QAA3B,IAA2BA,GAA3B,UAA2BA,EAAUroB,YAArC,aAA2B,EAAgBwnD,WAJ9D,cAIvBO,EAJuB,OAKvB51B,EALuB,UAKTnyB,EAAK4Y,SAASqvC,EAAcnqC,sBALnB,aAKT,EAA4CnI,YAC1D0yC,EAAO7yB,KAEP8yB,EAAgB,CAAC,iCAAD,OAASP,GAAT,wCAA4BM,GAA5B,wCAA4CJ,EAAc7qC,SAA1D,wCAA6E+U,KAE3Fo2B,EAAM,IAAItI,OACZ/sD,IAAM80D,EACVO,EAAIvzD,aAAa,cAAe,aAZL,kBAcpB,IAAI6hB,SAAQ,SAACiD,GAElByuC,EAAIrI,OAAS,WAEX,IAAM1B,EAASn+C,SAAS5G,cAAc,UAChC+uD,EAAMhK,EAAOE,WAAW,MAE9BF,EAAO/tD,MAAQ83D,EAAI93D,MACnB+tD,EAAO9oC,OAAS6yC,EAAI7yC,OAEpB8yC,EAAIC,SAAS,EAAG,EAAGjK,EAAO/tD,MAAO+tD,EAAO9oC,QACxC8yC,EAAI3J,UAAU0J,EAAK,EAAG,EAAG/J,EAAO/tD,MAAO+tD,EAAO9oC,QAE9C8yC,EAAIE,KAAO,aACXF,EAAI/+B,UAAY,OAChB++B,EAAIG,UAAY,UAEhB,IAAIp5B,EAAa,EAEjB+4B,EAAcv1D,SAAQ,SAAAuK,GACpBiyB,GAAc,GACdi5B,EAAII,SAAStrD,EAAM,GAAIkhD,EAAO9oC,OAAS6Z,EAAa,OAGtDzV,EAAQ0kC,EAAOO,UAAU,mBAtCF,4CAAH,wDA2Cb8J,GAAkB,SAACxyD,GAC9BxD,QAAQuV,IAAI/R,GACZ,IAAMxI,EAAO,IAAI0I,KAAKF,GAEhBywD,EAAOj5D,EAAKk5D,cACZC,EAAQl9C,OAAOjc,EAAK02D,WAAa,GAAGt9B,SAAS,EAAG,KAChDggC,EAAMn9C,OAAOjc,EAAK22D,WAAWv9B,SAAS,EAAG,KAE/C,OAAO5wB,EAAW,GAAD,OAAKywD,EAAL,YAAaE,EAAb,YAAsBC,GAAO,MAGnC/jC,GAAqB,SAAC5lB,GACjC,IAAI/D,EACJ,OAAQ+D,EAAK/D,QACX,KAAK,EACHA,EAAS,aACT,MACF,KAAK,EACHA,EAAS,gBACT,MACF,KAAK,EACHA,EAAS,aACT,MACF,KAAK,EAGL,KAAK,EAGL,QACEA,EAAS,SAIb,MAAO,CACLuvD,OAAQxrD,EAAKjT,GACbsmC,SAAUrzB,EAAKzI,KACfsoB,UAAW7f,EAAK6f,UAChBC,QAAS9f,EAAKyrD,aACd1rC,WAAY/f,EAAK+f,WACjB8U,YAAa70B,EAAK60B,YAClB8kB,cAAe4R,GAAgBvrD,EAAK25C,eACpCE,YAAa0R,GAAgBvrD,EAAK65C,aAClCD,gBAAiB2R,GAAgBvrD,EAAK45C,iBACtCE,cAAeyR,GAAgBvrD,EAAK85C,eACpCC,gBAAiBwR,GAAgBvrD,EAAK0rD,kBACtCC,WAAY3rD,EAAK2rD,WACjB1vD,OAAQA,K,yECn+CZ,sjCAuBM2vD,qBAAuB,CAC3BC,GAAI,MACJC,MAAO,QACPC,IAAK,MACLC,GAAI,MAGAC,uBAAyB,CAC7BF,IAAK,MACLC,GAAI,KACJH,GAAI,MACJK,MAAO,SACPC,GAAI,KACJC,OAAQ,SACRC,SAAU,SACVP,MAAO,SAGHQ,aAAe,SAACh7D,EAAOmnB,GAQzB,OAAOnnB,GAIEi7D,cAAgB,SAACptC,EAAO85B,GA0LnC,OAzLA95B,EAAMnjB,OAAOvG,SAAQ,SAACtB,GACpB,OAAQA,EAAMoD,MACZ,IAAK,aAIH,GAHKpD,EAAMG,SAAShD,QAClB6C,EAAMG,SAAShD,MAAQ6C,EAAMG,SAASjF,iBAEpC8E,EAAMG,SAAShD,MAAMmR,QAAQ,QAAU,EAAG,CAAC,IAAD,cACCgZ,wCAAMC,WAA3C0F,EADoC,EACpCA,OAAQ9F,EAD4B,EAC5BA,SAAUiG,EADkB,EAClBA,SAAU/F,EADQ,EACRA,KAC9BgxC,EAAYprC,EAAO63B,EAAYn5B,SAC/B2sC,EAAgBt4D,EAAMG,SAAShD,MAAM0qB,MAAM,GAAI,GAChC6Y,EACnBvZ,EAASkxC,EAAUhsC,eADbnI,YAEF4xB,EAAE,UAAG1oB,EAAS,GAAD,OAAIirC,EAAS,OAAb,eAAX,aAAG,EAAuCxiB,MAC5CvjB,EAAE,UAAGlF,EAAS,GAAD,OAAIirC,EAAS,OAAb,eAAX,aAAG,EAAuCxiB,MAC5C0iB,EAAsB,UAC1BnrC,EAAS,GAAD,OAAIirC,EAAS,OAAb,eADkB,aAC1B,EAAuCxiB,MACnC2iB,GAAyB,UAAAprC,EAAS,GAAD,OAAIirC,EAAS,OAAb,eAAR,eAC3BxiB,OAD2B,UAE3BzoB,EAAS,GAAD,OAAIirC,EAAS,OAAb,eAFmB,aAE3B,EAAuCxiB,MAFZ,UAG3BzoB,EAAS,GAAD,OAAIirC,EAAS,OAAb,eAHmB,aAG3B,EAAuCxiB,MAErC4iB,EAAatiC,mDAA8BkiC,EAAS,OAC1Dr4D,EAAMG,SAAShD,MACK,YAAlBm7D,EACID,EAAS,OACS,WAAlBC,EACAD,EAAS,gBACS,gBAAlBC,EACA53B,EACkB,eAAlB43B,EACAG,EACkB,OAAlBH,EACAxiB,EACkB,iBAAlBwiB,EACAC,EACkB,OAAlBD,EACAhmC,EACkB,OAAlBgmC,EACAE,EACkB,gBAAlBF,EAAA,OACAjxC,QADA,IACAA,OADA,EACAA,EAAMqxC,YACY,kBAAlBJ,EAAA,OACAjxC,QADA,IACAA,OADA,EACAA,EAAMzvB,KACN,GAER,MACF,IAAK,QAKL,IAAK,SACEoI,EAAMG,SAAShD,QAClB6C,EAAMG,SAAShD,MAAQ6C,EAAMG,SAAShE,cAExC,MACF,IAAK,YACE6D,EAAMG,SAAShD,QAClB6C,EAAMG,SAAShD,MAAQ6C,EAAMG,SAASjF,iBAExC,MACF,IAAK,YAEC8E,EAAMG,SAASqE,YAAcxE,EAAMG,SAASsE,YACT,IAApCzE,EAAMG,SAASqE,UAAUnC,QACa,IAArCrC,EAAMG,SAASsE,WAAWpC,UAE5BrC,EAAMG,SAASqE,UAAY,GAC3BxE,EAAMG,SAASsE,WAAa,GAE5BzE,EAAMG,SAASqE,UAAUF,KAAK,KAC9BtE,EAAMG,SAASsE,WAAWH,KAAK,KAE3BtE,EAAMG,SAASvC,sBACjBoC,EAAMG,SAASsE,WAAWH,KAAK,MAC/BtE,EAAMG,SAASqE,UAAUF,KAAKmzD,qBAAoB,KAGhDz3D,EAAMG,SAAStC,cACjBmC,EAAMG,SAASsE,WAAWH,KAAK,SAC/BtE,EAAMG,SAASqE,UAAUF,KAAKmzD,qBAAoB,QAGpDz3D,EAAMG,SAASsE,WAAWH,KAAK,OAC/BtE,EAAMG,SAASqE,UAAUF,KAAKmzD,qBAAoB,KAElDz3D,EAAMG,SAASsE,WAAWH,KAAK,MAC/BtE,EAAMG,SAASqE,UAAUF,KAAKmzD,qBAAoB,IAElDz3D,EAAMG,SAASrC,mBAAmBwD,SAAQ,SAACq3D,GACzC,IAAK,IAAI9oD,EAAI,EAAGA,EAAI7P,EAAMG,SAASsE,WAAWpC,OAAQwN,IACpD,GAAI8oD,EAAKjoD,mBAAqB1Q,EAAMG,SAASsE,WAAWoL,GAAI,CAE1D7P,EAAMG,SAASqE,UAAUqL,GACvBioD,uBAAuBa,EAAKloD,uBAC9B,WAMHzQ,EAAMG,SAAShD,QAClB6C,EAAMG,SAAShD,MAAQ,KAEzB,MACF,IAAK,QACE6C,EAAMG,SAAShD,QAClB6C,EAAMG,SAAShD,MACb,kFAEJ,MACF,IAAK,OACE6C,EAAMG,SAAShD,QAClB6C,EAAMG,SAAShD,MAAQy7D,gDACnB54D,EAAMG,SAAS7D,YACjB0D,EAAMG,SAAShD,MAAQy7D,gDAASpnD,OAAO,oBAEvCxR,EAAMG,SAAShD,MAAQy7D,gDAASpnD,OAAO,eAG3C,MACF,IAAK,SAUH,IAAKxR,EAAMG,SAAShD,MAClB,GAAK6C,EAAMG,SAASjF,gBAUb,CAAC,IACEmsB,EAASC,wCAAMC,WAAfF,KAC+B,sBAAnCrnB,EAAMG,SAASjF,gBACjB8E,EAAMG,SAAShD,MAAf,OAAsBkqB,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAM0I,eAE5B/vB,EAAMG,SAAShD,MAAQ6C,EAAMG,SAASjF,qBAbH,IAAnC8E,EAAMG,SAASjF,iBACoB,MAAnC8E,EAAMG,SAASjF,iBACf8E,EAAMG,SAASjF,gBAEf8E,EAAMG,SAAShD,MAAQ6C,EAAMG,SAASjF,gBAEtC8E,EAAMG,SAAShD,MAAQ,GAW7B,MACF,IAAK,iBACE6C,EAAMG,SAAShD,QAIlB6C,EAAMG,SAAShD,MAAQ,IAGzB,MACF,IAAK,aACE6C,EAAMG,SAAShD,QAClB6C,EAAMG,SAAShD,MAAQ6C,EAAMG,SAAShD,MAClC6C,EAAMG,SAAShD,MACf,IAEN,MACF,IAAK,YACE6C,EAAMG,SAAShD,QAClB6C,EAAMG,SAAShD,MACb,kFAEJ,MACF,IAAK,WACE6C,EAAMG,SAAShD,QAClB6C,EAAMG,SAAShD,MAAQ6C,EAAMG,SAAShD,MAClC6C,EAAMG,SAAShD,MACf,QAOL6tB,GAGIq5B,UAAY,SAACrkD,EAAO8qB,GAAc,IAAD,EACtC9oB,EAAO2iD,eAAe75B,GAEtBxG,EAAQxiB,SAGd,OAFAwiB,EAAM1rB,GAAKoH,EAAMpH,GACjB0rB,EAAM1Z,IAAM5K,EAAMpH,GACVoH,EAAMoD,MACZ,IAAK,aAsBH,OArBAkhB,EAAMnnB,MAAQ6C,EAAMG,SAAShD,MAC7BmnB,EAAMjoB,MAAQ2D,EAAMG,SAASxF,UAAUqH,GACnChC,EAAMG,SAASxF,UAAUqH,GACzBhC,EAAMG,SAASxF,UAAUC,QAC7B0pB,EAAMtpB,gBAAkBgF,EAAMG,SAASnF,gBAAgBgH,GACnDhC,EAAMG,SAASnF,gBAAgBgH,GAC/BhC,EAAMG,SAASnF,gBAAgBJ,QACnC0pB,EAAMrnB,QAAU+C,EAAMG,SAASlD,QAC/BqnB,EAAMzpB,SAAWmF,EAAMG,SAAStF,SAChCypB,EAAMygB,SAAW,SAAC5nC,GAChBmnB,EAAMnnB,MAAMmR,QAAQnR,IAAU,EAC1BmnB,EAAMnnB,MAAMsP,OAAO6X,EAAMnnB,MAAMmR,QAAQnR,GAAQ,GAC/CmnB,EAAMnnB,MAAMmH,KAAKnH,GACrBmqB,wCAAMuR,SACJlP,uCAAsB,CACpB/wB,GAAIoH,EAAMpH,GACVwK,KAAMpD,EAAMoD,KACZjG,MAAOmnB,EAAMnnB,UAIZmnB,EACT,IAAK,OAmBH,OAlBAA,EAAMnnB,MAAQ6C,EAAMG,SAAShD,MAC7BmnB,EAAMzpB,SAAWmF,EAAMG,SAAStF,SAChCypB,EAAMjoB,MAAQ2D,EAAMG,SAASxF,UAAUqH,GACnChC,EAAMG,SAASxF,UAAUqH,GACzBhC,EAAMG,SAASxF,UAAUC,QAC7B0pB,EAAMtpB,gBAAkBgF,EAAMG,SAASnF,gBAAgBgH,GACnDhC,EAAMG,SAASnF,gBAAgBgH,GAC/BhC,EAAMG,SAASnF,gBAAgBJ,QACnC0pB,EAAMhoB,YAAc0D,EAAMG,SAAS7D,YACnCgoB,EAAMygB,SAAW,SAAC/wB,GAChBsT,wCAAMuR,SACJlP,uCAAsB,CACpB/wB,GAAIoH,EAAMpH,GACVwK,KAAMpD,EAAMoD,KACZjG,MAAO6W,EAAE4qB,OAAOzhC,UAIfmnB,EACT,IAAK,WAmBH,OAlBAA,EAAMnnB,MAAQ6C,EAAMG,SAAShD,MAC7BmnB,EAAMzpB,SAAWmF,EAAMG,SAAStF,SAChCypB,EAAMjoB,MAAQ2D,EAAMG,SAASxF,UAAUqH,GACnChC,EAAMG,SAASxF,UAAUqH,GACzBhC,EAAMG,SAASxF,UAAUC,QAC7B0pB,EAAMkrB,WAAaxvC,EAAMG,SAASnF,gBAAgBgH,GAC9ChC,EAAMG,SAASnF,gBAAgBgH,GAC/BhC,EAAMG,SAASnF,gBAAgBJ,QACnC0pB,EAAMrnB,QAAU+C,EAAMG,SAASlD,QAC/BqnB,EAAMygB,SAAW,SAAC/wB,GAChBsT,wCAAMuR,SACJlP,uCAAsB,CACpB/wB,GAAIoH,EAAMpH,GACVwK,KAAMpD,EAAMoD,KACZjG,MAAO6W,MAINsQ,EACT,IAAK,SA2BH,OA1BAA,EAAMppB,gBAAkB8E,EAAMG,SAASjF,gBACvCopB,EAAMnnB,MAAQ6C,EAAMG,SAAShD,MAC7BmnB,EAAMzpB,SAAWmF,EAAMG,SAAStF,SAChCypB,EAAMjoB,MAAQ2D,EAAMG,SAASxF,UAAUqH,GACnChC,EAAMG,SAASxF,UAAUqH,GACzBhC,EAAMG,SAASxF,UAAUC,QAC7B0pB,EAAMkrB,WAAaxvC,EAAMG,SAASnF,gBAAgBgH,GAC9ChC,EAAMG,SAASnF,gBAAgBgH,GAC/BhC,EAAMG,SAASnF,gBAAgBJ,QACnC0pB,EAAMvoB,KAAOiE,EAAMG,SAASpE,KAC5BuoB,EAAMlhB,KAAOpD,EAAMoD,KACnBkhB,EAAMtoB,UAAYgE,EAAMG,SAASnE,UACjCsoB,EAAMzoB,IAAMmE,EAAMG,SAAStE,IAC3ByoB,EAAMxoB,IAAMkE,EAAMG,SAASrE,IAC3BwoB,EAAMygB,SAAW,SAAC/wB,EAAGsQ,GACnBgD,wCAAMuR,SACJlP,uCAAsB,CACpB/wB,GAAIoH,EAAMpH,GACVwK,KAAMpD,EAAMoD,KACZjG,MACEmnB,EAAMxoB,KAAOwoB,EAAMzoB,IACfs8D,aAAankD,EAAE4qB,OAAOzhC,MAAOmnB,GAAOiR,WACpCvhB,EAAE4qB,OAAOzhC,UAIdmnB,EACT,IAAK,iBAmBH,OAlBAA,EAAMnnB,MAAQ6C,EAAMG,SAAShD,MAC7BmnB,EAAMzpB,SAAWmF,EAAMG,SAAStF,SAChCypB,EAAMjoB,MAAQ2D,EAAMG,SAASxF,UAAUqH,GACnChC,EAAMG,SAASxF,UAAUqH,GACzBhC,EAAMG,SAASxF,UAAUC,QAC7B0pB,EAAMkrB,WAAaxvC,EAAMG,SAASnF,gBAAgBgH,GAC9ChC,EAAMG,SAASnF,gBAAgBgH,GAC/BhC,EAAMG,SAASnF,gBAAgBJ,QACnC0pB,EAAMrnB,QAAU+C,EAAMG,SAASlD,QAC/BqnB,EAAMygB,SAAW,SAAC/wB,GAChBsT,wCAAMuR,SACJlP,uCAAsB,CACpB/wB,GAAIoH,EAAMpH,GACVwK,KAAMpD,EAAMoD,KACZjG,MAAO6W,EAAE4qB,OAAOzhC,UAIfmnB,EACT,IAAK,aAmBH,OAlBAA,EAAMprB,WAAa8G,EAAMG,SAASjH,WAClCorB,EAAMnnB,MAAQ6C,EAAMG,SAAShD,MAC7BmnB,EAAMzpB,SAAWmF,EAAMG,SAAStF,SAChCypB,EAAMjoB,MAAQ2D,EAAMG,SAASxF,UAAUqH,GACnChC,EAAMG,SAASxF,UAAUqH,GACzBhC,EAAMG,SAASxF,UAAUC,QAC7B0pB,EAAMkrB,WAAaxvC,EAAMG,SAASnF,gBAAgBgH,GAC9ChC,EAAMG,SAASnF,gBAAgBgH,GAC/BhC,EAAMG,SAASnF,gBAAgBJ,QACnC0pB,EAAMygB,SAAW,SAAC/wB,GAChBsT,wCAAMuR,SACJlP,uCAAsB,CACpB/wB,GAAIoH,EAAMpH,GACVwK,KAAMpD,EAAMoD,KACZjG,MAAO6W,EAAE4qB,OAAOzhC,UAIfmnB,EACT,IAAK,QAcH,OAbAA,EAAMnnB,MAAQ6C,EAAMG,SAAShD,MAC7BmnB,EAAMjoB,MAAQ2D,EAAMG,SAASxF,UAAUqH,GACnChC,EAAMG,SAASxF,UAAUqH,GACzBhC,EAAMG,SAASxF,UAAUC,QAC7B0pB,EAAMygB,SAAW,SAAC/wB,GAChBsT,wCAAMuR,SACJlP,uCAAsB,CACpB/wB,GAAIoH,EAAMpH,GACVwK,KAAMpD,EAAMoD,KACZjG,MAAO6W,EAAE4qB,OAAOoL,YAIf1lB,EACT,IAAK,aAMH,OALAA,EAAMnnB,MAAQ6C,EAAMG,SAASxB,SAASqD,GAClChC,EAAMG,SAASxB,SAASqD,GACxBhC,EAAMG,SAASxB,SAAS/D,QAC5B0pB,EAAM9oB,OAASwE,EAAMG,SAAS3E,OAC9B8oB,EAAMzpB,SAAWmF,EAAMG,SAAStF,SACzBypB,EACT,IAAK,YACH,OAAOA,EACT,IAAK,eAOH,OANAA,EAAMjoB,MAAQ2D,EAAMG,SAASxF,UAAUqH,GACnChC,EAAMG,SAASxF,UAAUqH,GACzBhC,EAAMG,SAASxF,UAAUC,QAC7B0pB,EAAMJ,YAAclkB,EAAMG,SAASnF,gBAAgBgH,GAC/ChC,EAAMG,SAASnF,gBAAgBgH,GAC/BhC,EAAMG,SAASnF,gBAAgBJ,QAC5B0pB,EACT,IAAK,QAmBH,OAlBAA,EAAMjoB,MAAQ2D,EAAMG,SAASxF,UAAUqH,GACnChC,EAAMG,SAASxF,UAAUqH,GACzBhC,EAAMG,SAASxF,UAAUC,QAC7B0pB,EAAMJ,YAAclkB,EAAMG,SAASnF,gBAAgBgH,GAC/ChC,EAAMG,SAASnF,gBAAgBgH,GAC/BhC,EAAMG,SAASnF,gBAAgBJ,QACnC0pB,EAAMnnB,MAAQ6C,EAAMG,SAAShD,MAC7BmnB,EAAMzpB,SAAWmF,EAAMG,SAAStF,SAChCypB,EAAMprB,WAAN,OAAmB8G,QAAnB,IAAmBA,GAAnB,UAAmBA,EAAOG,gBAA1B,aAAmB,EAAiBjH,WACpCorB,EAAMygB,SAAW,SAAC8zB,GAChBvxC,wCAAMuR,SACJlP,uCAAsB,CACpB/wB,GAAIoH,EAAMpH,GACVwK,KAAMpD,EAAMoD,KACZjG,MAAoB,MAAb07D,EAAmB,IAAMA,MAI/Bv0C,EACT,IAAK,SAoBH,OAnBAA,EAAMjoB,MAAQ2D,EAAMG,SAASxF,UAAUqH,GACnChC,EAAMG,SAASxF,UAAUqH,GACzBhC,EAAMG,SAASxF,UAAUC,QAC7B0pB,EAAMJ,YAAclkB,EAAMG,SAASnF,gBAAgBgH,GAC/ChC,EAAMG,SAASnF,gBAAgBgH,GAC/BhC,EAAMG,SAASnF,gBAAgBJ,QACnC0pB,EAAMzoB,IAAMmE,EAAMG,SAAStE,IAC3ByoB,EAAMxoB,IAAMkE,EAAMG,SAASrE,IAC3BwoB,EAAMpoB,KAAO8D,EAAMG,SAASjE,KAC5BooB,EAAMnnB,MAAQ6C,EAAMG,SAAShD,MAC7BmnB,EAAMygB,SAAW,SAAC/wB,EAAG7W,GACnBmqB,wCAAMuR,SACJlP,uCAAsB,CACpB/wB,GAAIoH,EAAMpH,GACVwK,KAAMpD,EAAMoD,KACZjG,MAAOA,MAINmnB,EACT,IAAK,YAkBH,OAjBAA,EAAMnnB,MAAQ6C,EAAMG,SAAShD,MAC7BmnB,EAAMzpB,SAAWmF,EAAMG,SAAStF,SAChCypB,EAAMjoB,MAAQ2D,EAAMG,SAASxF,UAAUqH,GACnChC,EAAMG,SAASxF,UAAUqH,GACzBhC,EAAMG,SAASxF,UAAUC,QAC7B0pB,EAAMkrB,WAAaxvC,EAAMG,SAASnF,gBAAgBgH,GAC9ChC,EAAMG,SAASnF,gBAAgBgH,GAC/BhC,EAAMG,SAASnF,gBAAgBJ,QACnC0pB,EAAMygB,SAAW,SAAC/wB,GAChBsT,wCAAMuR,SACJlP,uCAAsB,CACpB/wB,GAAIoH,EAAMpH,GACVwK,KAAMpD,EAAMoD,KACZjG,MAAO6W,EAAE4qB,OAAOzhC,UAIfmnB,EACT,IAAK,UAqBH,OApBAA,EAAMjoB,MAAQ2D,EAAMG,SAASxF,UAAUqH,GACnChC,EAAMG,SAASxF,UAAUqH,GACzBhC,EAAMG,SAASxF,UAAUC,QAC7B0pB,EAAMJ,YAAclkB,EAAMG,SAASnF,gBAAgBgH,GAC/ChC,EAAMG,SAASnF,gBAAgBgH,GAC/BhC,EAAMG,SAASnF,gBAAgBJ,QACnC0pB,EAAM9oB,OAASwE,EAAMG,SAAS3E,OAC9B8oB,EAAMnnB,MAAQ6C,EAAMG,SAAShD,MAC7BmnB,EAAM9f,UAAYxE,EAAMG,SAASqE,UACjC8f,EAAM7f,WAAazE,EAAMG,SAASsE,WAClC6f,EAAMzpB,SAAWmF,EAAMG,SAAStF,SAChCypB,EAAMgU,QAAU,SAACtkB,GACfsT,wCAAMuR,SACJlP,uCAAsB,CACpB/wB,GAAIoH,EAAMpH,GACVwK,KAAMpD,EAAMoD,KACZjG,MAAO6W,EAAE8kD,cAAc37D,UAItBmnB,EACT,IAAK,YAiBH,OAhBAA,EAAMjoB,MAAQ2D,EAAMG,SAASxF,UAAUqH,GACnChC,EAAMG,SAASxF,UAAUqH,GACzBhC,EAAMG,SAASxF,UAAUC,QAC7B0pB,EAAMJ,YAAclkB,EAAMG,SAASnF,gBAAgBgH,GAC/ChC,EAAMG,SAASnF,gBAAgBgH,GAC/BhC,EAAMG,SAASnF,gBAAgBJ,QACnC0pB,EAAMnnB,MAAQ6C,EAAMG,SAAShD,MAC7BmnB,EAAMygB,SAAW,SAAC5nC,GAChBmqB,wCAAMuR,SACJlP,uCAAsB,CACpB/wB,GAAIoH,EAAMpH,GACVwK,KAAMpD,EAAMoD,KACZjG,MAAOA,MAINmnB,EAGX,OAAOA,GAGHy0C,gBAAkB,CACtB76D,WAAY4rD,uDACZ1tD,KAAMguD,uDACN5sD,SAAU8sD,uDACV1uD,OAAQkvD,uDACR9tD,eAAgBozD,uDAChB31D,WAAYy0C,uDACZzxC,MAAOqzD,uDACPpyD,WAAYgyD,uDACZrxD,UAAWisD,uDACXpsD,aAAcgwD,uDACdzwD,MAAOkvD,uDACP1xD,OAAQu0D,uDACR70D,UAAW4vD,uDACX5tD,QAASktD,uDACTrsD,UAAWgxD,wDAGApL,mBAAqB,SAACpkD,EAAOskB,GACxC,MAA2C,qBAAhCy0C,gBAAgB/4D,EAAMoD,MACxBwgB,6CAAM5b,cAAc+wD,gBAAgB/4D,EAAMoD,MAAOkhB,GAGnDV,6CAAM5b,eACX,kBAAM,uFAAoBhI,EAAMoD,KAA1B,gCACNkhB,IAISgK,YAAc,SAACtD,EAAOzc,GA8BjC,IA7BA,IAAM0hB,EAAQjF,EAAMuD,sBAcd1mB,EACJmjB,EACEiF,EAAM/B,WACJ,IACA+B,EAAM9B,aACN,IACA8B,EAAMrE,WACN,IACAqE,EAAM7B,cACN,IACA6B,EAAM5B,YACN,IACA4B,EAAMnF,UACRjjB,OAEKgI,EAAI,EAAGA,EAAIhI,EAAOxF,OAAQwN,IACjC,GAAItB,EAAK3V,KAAOiP,EAAOgI,GAAGjX,GAAI,CAC5B,OAAQiP,EAAOgI,GAAGzM,MAChB,IAAK,aAGL,IAAK,QAGL,IAAK,QAGL,IAAK,SAGL,IAAK,YAGL,IAAK,UAGL,IAAK,OAGL,IAAK,SAGL,IAAK,YAGL,IAAK,iBAGL,IAAK,aAGL,IAAK,WACHyE,EAAOgI,GAAG1P,SAAShD,MAAQoR,EAAKpR,MAIpC,OAAO6tB,IAKPvyB,IAAM,CACVqB,SAAU,KACVC,YAAa,KACbM,SAAU,KACVC,YAAa,KACbgD,SAAU,KACVC,YAAa,KACbG,OAAQ,KACRK,UAAW,KACXC,aAAc,KACdpB,OAAQ,KACRC,UAAW,KACXC,OAAQ,KACRC,MAAO,KACP7C,WAAY,KACZC,SAAU,KACVI,YAAa,KACbC,SAAU,KACVR,eAAgB,KAChBoE,eAAgB,KAChBnE,qBAAsB,KACtBoE,qBAAsB,KACtB26D,IAAK,KACLC,GAAI,MAGO9U,UAAY,SAAZA,UAAankD,OAAW,IAAD,sBAC9B+wB,KAAM,EAEJd,MAAK,8BAAG3I,wCAAMC,WAAW0G,oBAApB,iCAAG,sBAA+BM,sBAC7C,IAAK0B,MAAO,OAAOc,IAkBnB,IAjBA,IAAM9C,aACJ3G,wCAAMC,WAAW0G,aACfgC,MAAM/B,WACJ,IACA+B,MAAM9B,aACN,IACA8B,MAAMrE,WACN,IACAqE,MAAM7B,cACN,IACA6B,MAAM5B,YACN,IACA4B,MAAMnF,UAGNjjB,OAAM,OAAGomB,mBAAH,IAAGA,kBAAH,EAAGA,aAAcpmB,OAGvBqxD,WAAa,EACjBA,WAAal5D,MAAMG,SAAShF,SAASkH,OACrC62D,aAEA,IAAK,IAAIC,WAAa,EAAGA,WAAatxD,OAAOxF,OAAQ82D,aACnD,GACEtxD,OAAOsxD,YAAYvgE,KAAOoH,MAAMG,SAAShF,SAAS+9D,YAAYnoD,QAC9D,CAEA,IAAIxE,YAAM,EACV,GAAgC,YAA5B1E,OAAOsxD,YAAY/1D,KAAoB,CACzC,IAAIjG,WAAK,EAEPA,MADwC,QAAtC0K,OAAOsxD,YAAYh5D,SAAShD,MACtB,OACuC,OAAtC0K,OAAOsxD,YAAYh5D,SAAShD,MAC7B,QAEA0K,OAAOsxD,YAAYh5D,SAAShD,MAEtCoP,OAASsZ,KAAKC,UAAU3oB,YAExBoP,OAASsZ,KAAKC,UAAUje,OAAOsxD,YAAYh5D,SAAShD,OAGtD,IAAMi8D,KAAOC,KACX9sD,OACE9T,IAAIuH,MAAMG,SAAShF,SAAS+9D,YAAY12D,YACxCqjB,KAAKC,UAAU9lB,MAAMG,SAAShF,SAAS+9D,YAAYz2D,WAIvDsuB,IAAMsoC,KACJxzC,KAAKC,UAAUiL,KACbt4B,IAAIuH,MAAMG,SAAShF,SAAS+9D,YAAYloD,qBACxC6U,KAAKC,UAAUszC,OAEnB,MAKN,OAAOroC,KAGI4zB,eAAiB,CAC5B2U,GAAI,UACJC,GAAI,Y,gCC7sBN,wNAEan2B,EAAW,IAAI9S,IAAOkpC,OACjC,aACA,GACA,CAAEC,YAAa,WAGJC,EAAa,IAAIppC,IAAOkpC,OACnC,cACA,GACA,CACEC,YAAa,cAIJE,EAAe,IAAIrpC,IAAOkpC,OACrC,gBACA,GACA,CACEC,YAAa,SAACt8D,GACZ,MAAM,GAAN,OAAUA,EAAMuwB,YAAhB,YAA+BvwB,EAAM+2C,eAK9B0lB,EAA0B,IAAItpC,IAAOkpC,OAChD,2BACA,GACA,CACEC,YAAa,gBAIJ7sB,EAAQ,IAAItc,IAAOkpC,OAC9B,SACA,CACE/jB,mBAAoBmkB,GAEtB,CAAEH,YAAa,WAGJI,EAAO,IAAIvpC,IAAOkpC,OAC7B,QACA,GACA,CACEC,YAAa,SAACt8D,GACZ,MAAM,GAAN,OAAUA,EAAMwuB,QAAhB,YAA2BxuB,EAAM28D,OAAjC,YAA2C38D,EAAM48D,WAK1Cj2B,EAAgB,IAAIxT,IAAOkpC,OACtC,kBACA,GACA,CACEC,YAAa,SAACt8D,GACZ,MAAM,GAAN,OAAUA,EAAMuwB,YAAhB,YAA+BvwB,EAAMq2B,mBAK9BwmC,EAAkB,IAAI1pC,IAAOkpC,OACxC,mBACA,GACA,CAAEC,YAAa,WAGJ3a,EAAU,IAAIxuB,IAAOkpC,OAChC,WACA,GACA,CACEC,YAAa,SAACt8D,GACZ,MAAM,GAAN,OAAUA,EAAMuwB,YAAhB,YAA+BvwB,EAAM40B,mBAK9B3D,EAAgB,IAAIkC,IAAOkpC,OACtC,kBACA,GACA,CAAEC,YAAa,kBAGJ/8B,EAAU,IAAIpM,IAAOkpC,OAChC,WACA,GACA,CAAEC,YAAa,WASJQ,EAAiB,CAND,IAAI3pC,IAAOkpC,OACtC,gBACA,GACA,CAAEC,YAAa,mBAWJS,EAAwB,CAND,IAAI5pC,IAAOkpC,OAC7C,uBACA,GACA,CAAEC,YAAa,WAaJU,GAR4B,IAAI7pC,IAAOkpC,OAClD,4BACA,GACA,CAAEC,YAAa,cAKS,CACxBluC,WAAY,CAAC6X,GACb/V,iBAAkB,CAAC2sC,GACnB7sC,gBAAiB,CAACiB,GAClBgsC,YAAa,CAACV,KAGHW,EAAa,CACxB7tC,cAAe,CAACmtC,GAChB1sC,OAAQ,CAAC2f,GACTjgB,gBAAiB,CAACmX,GAClB1W,SAAU,CAAC0xB,GACX33B,SAAU,CAACuV,GACX1N,MAAO,CAAC6qC,K,88DC/HH,IAAMS,EAAY,WACvB,MAAO,CAAEl3D,KAAM,YAAa6nB,QAAS,KAO1BsvC,EAAW,SAACrmD,GAAD,MAAc,CACpC9Q,KAAM,YACN6nB,QAAS,CAAE/W,UAASsmD,SAAU,WAGnBC,EAAU,SAACvmD,GAAD,MAAc,CACnC9Q,KAAM,YACN6nB,QAAS,CAAE/W,UAASsmD,SAAU,U,uBCVnBpqB,EAAU,SAAC/oB,GACtB,MAAO,CAAEjkB,KAAM,WAAY6nB,QAAS5D,IAOzBpB,EAAQ,SAAC1X,GAAD,OAAU,SAACsqB,GAE9B,OADAA,EAASlP,KACFuG,IACE3hB,GACN2Z,MAAK,SAAC/C,GAEL,OAAe,IADIA,EAAS5W,KAApBhC,OAEC6Y,QAAQC,OAAO,CAAEnR,QAAS,qDAE5BqmB,SAERrS,MAAK,SAAC3Z,GACL,OAAIA,EAAKmiC,UACAniC,GAEPsqB,EAASlP,EAAepb,IACxB6b,OAAOC,aAAasmB,QAAQ,OAAQ9qB,KAAKC,UAAUvX,IACnD2kD,YAAwBr6B,GACxBA,EAASlP,EAAsB,cACxB4Q,UAGVrV,OAAM,SAACjR,GACNmW,OAAOC,aAAa8V,WAAW,QAC/BtH,EAASlP,EAAe,OACxBkP,EAASlP,EAAgB1V,EAAMC,aAEhC8gD,SAAQ,WACPn8B,EAASlP,UAIFzD,EAAS,kBAAM,SAAC2S,GAE3B,OADAA,EAASlP,KACFuG,MAEJhI,MAAK,WACJkC,OAAOC,aAAa8V,WAAW,QAC/BtH,EAASuX,EAAQ,OACjBvX,EA1CG,CAAEz1B,KAAM,mBA4CZ8hB,OAAM,SAACjR,GACN4kB,EAASlP,EAAgB1V,OAE1B+gD,SAAQ,WACPn8B,EAASlP,UCrDF0H,EAAqB,SAAC9iB,GAAD,MAAW,CAC3CnL,KAAM,uBACN6nB,QAAS1c,IAGE6X,EAAqB,SAAC7X,EAAM21C,EAAWj0B,GAAlB,OAA4B,SAAC4I,GAE7D,OADAA,EAASlP,KACF+wC,EAAQnsD,EAAM21C,GAClBh8B,MAAK,SAAC/C,GACLoV,IAAwBpV,EAAS5W,MAAM2Z,MAAK,WAC1C2Q,EAASlP,EAA0BxE,EAAS5W,UAF5B,IAIVod,EAAkBu4B,EAAlBv4B,QAAS5jB,EAASm8C,EAATn8C,KAEfmmB,EAME+B,EANF/B,WACAC,EAKE8B,EALF9B,aACAvC,EAIEqE,EAJFrE,WACAwC,EAGE6B,EAHF7B,cACAC,EAEE4B,EAFF5B,YACAvD,EACEmF,EADFnF,SAGFkpC,YACEjsD,EACA,CAAEmmB,aAAYC,gBACd,CAAExC,UAASC,aAAYwC,gBAAeC,cAAavD,aAErD+N,EAASlP,GAA+BsG,OAEzC/K,OAAM,SAACjR,GACa,MAAfA,EAAMqR,OACR8E,OAAOC,aAAa8V,WAAW,QAC/BtH,EAASlP,EAAe,QAE1BkP,EAASlP,EAAgB1V,EAAMC,aAEhC8gD,SAAQ,WACPn8B,EAASlP,KACTS,OAAO3U,QAAQopC,MAAM,QAIrB6b,EAAU,SAACnsD,EAAMosD,GACrB,IAAInzC,EAAW,GAIf,OAFAA,EAASljB,KAAK4rB,IAAuB3hB,IAE9B6W,QAAQ0L,IAAItJ,GAAUU,MAAK,SAAC/C,GACjC,OAAOC,QAAQiD,QAAQlD,EAAS,QCrDvBy1C,EAAc,SAACxqC,GAAD,MAAe,CACxChtB,KAAM,eACN6nB,QAASmF,ICiBEa,EAAkC,SAAC1iB,GAAD,MAAW,CACxDnL,KAAM,qCACN6nB,QAAS1c,IAGEssD,EAA+B,SAACtsD,GAAD,OAAU,SAACsqB,GAErD,OADAA,EAASlP,KACFuG,IAC0B3hB,GAC9B2Z,MAAK,SAAC/C,GACLoV,IAAqCpV,EAAS5W,MAAM2Z,MAAK,WACvD2Q,EAASlP,EAAuCxE,EAAS5W,aAG5D2W,OAAM,SAACjR,GACa,MAAfA,EAAMqR,OACR8E,OAAOC,aAAa8V,WAAW,QAC/BtH,EAASlP,EAAe,QAE1BkP,EAASlP,EAAgB1V,EAAMC,aAEhC8gD,SAAQ,WACPn8B,EAASlP,UCvCFmxC,EAAc,SAACvsD,GAAD,MAAW,CACpCnL,KAAM,gBACN6nB,QAAS1c,I,QCOEwsD,EAAe,SAAC59D,GAAD,MAAY,CACtCiG,KAAM,gBACN6nB,QAAS9tB,I,QCPPyqB,EAAa,GAEJozC,EAAW,SAAC53D,GAAD,OAAU,SAACy1B,GAEjC,OADAA,EAASlP,KACF4Q,IACYn3B,GAChB8kB,MAAK,SAAC3Z,GACL,IAAI4Y,EAAW5Y,EAAK6rD,YAAct4D,OAAOC,KAAKwM,EAAK6rD,aAAe,GAIlE,OAHA7rD,EAAO0sD,IAA4C1sD,GACnDsqB,EAASlP,EAAmBpb,IAErBgsB,IAA+Bn3B,EAAM+jB,EAAU,MAGvDe,MAAK,SAAC3Z,GAOL,OANAA,EAAO0sD,IAAyC1sD,GAChDA,EAAO0sD,IAAqC1sD,GAC5CsqB,EAASlP,EAAmBpb,IAE5BqZ,EAAa9lB,OAAOC,KAAKwM,EAAK4Y,UAEvBoT,IAA4C,CAAE3S,cAAcxkB,MAEpE8kB,MAAK,SAAC3Z,GACLsqB,EAASlP,EAA8Cpb,IACvD,IAAMhC,EAASgnD,YAAsB3rC,GACrC,OAAO2S,IAAuBhuB,EAAQnJ,MAEvC8kB,MAAK,SAAC3Z,GAEL,OADAsqB,EAASlP,GAAoBpb,IACtBgsB,IAAwBn3B,MAEhC8kB,MAAK,SAAC3Z,GAEL,OADAsqB,EAASlP,GAAoBpb,IACtBgsB,IAAgBn3B,MAExB8kB,MAAK,SAAC3Z,GACLsqB,EAASlP,GAAgBpb,OAE1B2Z,MAAK,WACJ,OAAOqS,IAAsBn3B,MAE9B8kB,MAAK,SAAC3Z,GACLsqB,EAASlP,EAAkBpb,OAE5B2W,OAAM,SAACjR,GACa,MAAfA,EAAMqR,OACR8E,OAAOC,aAAa8V,WAAW,QAC/BtH,EAASlP,EAAe,QAE1BkP,EAASlP,EAAgB1V,EAAMC,aAEhC8gD,SAAQ,WACPt9D,IAAGM,MAAM2V,IAAI,eAAeua,MAAK,SAAAlwB,GACX,iBAAX,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOuW,QACT7W,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,cAAe2V,KAAM,gBACxC6b,OAAOwM,SAASwJ,UAElBvH,EAASlP,aChEXuxC,EAAa,SAACxuC,GAClB,MAAO,CAAEtpB,KAAM,cAAe6nB,QAASyB,IAG5ByuC,EAAc,kBAAMD,GAAW,IAE/BE,EAAc,kBAAMF,GAAW,I,uBCE/B5yC,EAAiC,SAAC/Z,GAAD,OAAU,SAACsqB,GAEvD,OADAA,EAASlP,KACFuG,IAC2B3hB,GAC/B2Z,MAAK,SAAC/C,GAAc,IACXiL,EAAaC,YAAUlL,EAAS5W,KAAM,CAC5C+hB,MADMF,SAGRyI,EAASlP,EAAmByG,IAE5B14B,IAAGM,MAAM2V,IAAI,cAAcua,MAAK,SAAClwB,GAC/B,IAAMqjE,EAAc,GACpBA,EAAY9sD,EAAKinC,cAAgB,CAC/BA,aAAcjnC,EAAKinC,aAAa,GAChCC,mBAAoBv9C,OAAOqW,EAAKknC,qBAElC,IAAM6lB,EAAK,2BACNtjE,EAAMuW,KAAKye,0BACXquC,GAEL3jE,IAAGM,MAAMm4B,IAAI,CACXv3B,GAAI,aACJ2V,KAAK,2BAAMvW,EAAMuW,MAAS,CAAEye,yBAA0BsuC,YAI3Dp2C,OAAM,SAACjR,GACa,MAAfA,EAAMqR,OACR8E,OAAOC,aAAa8V,WAAW,QAC/BtH,EAASlP,EAAe,QAE1BkP,EAASlP,EAAgB1V,EAAMC,aAEhC8gD,SAAQ,WACPn8B,EAASlP,UAaFpB,EAA4B,SAACha,GAAD,OAAU,SAACsqB,GAElD,OADAA,EAASlP,KACFuG,IACsB3hB,GAC1B2Z,MAAK,SAAC/C,GAAc,IACXiL,EAAaC,YAAUlL,EAAS5W,KAAM,CAAC+hB,MAAvCF,SAERmK,IAA2BnK,GAAUlI,MAAK,WACxC,IAAIqzC,EAAcN,IAAyC7qC,GAC3DmrC,EAAcN,IACZM,GAEF1iC,EAASlP,EAAmB4xC,IAC5B7jE,IAAGM,MAAM2V,IAAI,qCAAqCua,MAAK,SAAClwB,IACtD,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,OACTsqB,EAASlP,EAA8C3xB,EAAMuW,aAKjD,IAAdA,EAAKnL,MAAcmL,EAAK8jD,YAA4B,KAAd9jD,EAAKnS,MAC7C1E,IAAGM,MAAM2V,IAAI,gBAAgBua,MAAK,SAAClwB,GACjC,IAAIwjE,EAAO,CAAC,CAAE5jE,KAAK,GAAD,OAAK2W,EAAKod,QAAV,6CAAgCG,UAAU,IAAIhnB,MAAO22D,cAAcC,UAAU,EAAG,MAClG1jE,EAAMuW,KAAKA,EAAKmd,WAAWnd,EAAKod,SAAhC,KAAmD6vC,EACnD9jE,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,eAAgB2V,KAAMvW,EAAMuW,aAKpD2W,OAAM,SAACjR,GACa,MAAfA,EAAMqR,OACR8E,OAAOC,aAAa8V,WAAW,QAC/BtH,EAASlP,EAAe,QAE1BkP,EAASlP,EAAgB1V,EAAMC,aAEhC8gD,SAAQ,WACPn8B,EAASlP,UAIFgyC,EAAa,SAACptD,GAAD,MAAW,CACnCnL,KAAM,cACN6nB,QAAS1c,IAGEka,EAAyC,SAACla,GAAD,OAAU,SAACsqB,GAE/D,OADAA,EAASlP,KACFuG,IACmC3hB,GACvC2Z,MAAK,SAAC/C,GACL,IAAM5W,EAAO4W,EAAS5W,KACK,wBAAvBA,EAAKse,gBACPte,EAAKse,cAAgB,MAGvB0N,IAA4ChsB,GAAM2Z,MAAK,WACrD2Q,EAASlP,EAA2Cpb,UAGvD2W,OAAM,SAACjR,GACa,MAAfA,EAAMqR,OACR8E,OAAOC,aAAa8V,WAAW,QAC/BtH,EAASlP,EAAe,QAE1BkP,EAASlP,EAAgB1V,EAAMC,aAEhC8gD,SAAQ,WACPn8B,EAASlP,UAIFiyC,EAAsC,SAACrtD,GAAD,MAAW,CAC5DnL,KAAM,0CACN6nB,QAAS1c,IAGEstD,EAAyC,SAACttD,GAAD,MAAW,CAC/DnL,KAAM,8CACN6nB,QAAS1c,ICtIE20B,EAAuB,SAAC/lC,GAAD,MAAY,CAC9CiG,KAAM,yBACN6nB,QAAS9tB,I,gBCaE2+D,EAAwB,SAACvtD,GAAD,MAAW,CAC9CnL,KAAM,4BACN6nB,QAAS1c,IAGLwtD,EAAmB,SAACnkE,EAAM80B,GAC9B,MAAO,CAAEtpB,KAAM,qBAAsB6nB,QAAS,CAAErzB,OAAM80B,aAG3CsvC,EAAe,SAACpkE,GAAD,OAAUmkE,EAAiBnkE,EAAM,WAEhDqkE,EAAc,SAACrkE,GAAD,OAAUmkE,EAAiBnkE,EAAM,YAE/CskE,EAA2B,SAACtkE,GAAD,OACtCmkE,EAAiBnkE,EAAM,eAEZukE,EAAc,SAAC/qC,EAAShuB,EAAMgkB,GAAhB,OAA6B,SAACyR,GACvD,IAAMxR,EAAOxB,KAAKsE,MAAMC,OAAOC,aAAaC,QAAQ,SAChDvC,EAAK,OAAGV,QAAH,IAAGA,OAAH,EAAGA,EAAMU,MACZurC,EAAiBvrC,EAAMzZ,QAAQ,cAAgB,GAAKyZ,EAAMzZ,QAAQ,OAAS,EAC3EwuB,EAAS/U,EAAMzZ,QAAQ,OAAS,EAEtCuqB,EAASlP,EAAmB,eAC5BuG,KAC2B,OAAR9I,QAAQ,IAARA,OAAA,EAAAA,EAAUU,SAAUV,EAAW,IAC/Cc,MAAK,SAAC/C,GAAc,IACXiL,EAAaC,YAAUlL,EAAS5W,KAAM+hB,KAAtCF,SACRA,EAAQ,oBAA0BG,cAClC74B,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,aAAc2V,KAAM6hB,IAAYlI,MAAK,WACtDxwB,IAAGM,MAAM2V,IAAI,mBAAmBua,MAAK,SAAClwB,GACpC,IAAMm7D,EAAWn7D,EAAMuW,KACvB4kD,EAAQ,sBAA4BN,cACpCn7D,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,kBAAmB2V,KAAM4kD,IAAYjrC,MAAK,WAC3D2Q,EAASlP,EAA6BwpC,aAM5Cr2B,GAAUjE,EAASlP,EAAsByH,EAAShK,GADrC,EACuDyR,IAAW3Q,MAAK,SAAC6I,GACnF,IAAI9D,EAAM,YAAO,IAAIW,IAAImD,EAAI7nB,KAAI,SAAA2C,GAAI,OAAIA,EAAK8f,aAC9C9E,EAAgBuK,EAAShuB,EAAMgkB,EAAUgJ,EAAUnD,MAGrDqmC,GAAkBzsC,EAAgBuK,EAAShuB,EAAMgkB,EAAUgJ,GAE3DkjC,GAAkBz6B,EAASlP,EAAsByH,EAAQhK,EAAUyR,OAGpEm8B,SAAQ,WACPt9D,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,cAAe2V,KAAM,gBACxCsqB,EAASlP,EAAoB,kBAE9BzE,OAAM,SAACjR,GAGN,OAFA4kB,EAASlP,EAAgC,eACzCkP,EAASlP,EAAgB1V,EAAMC,WACxB,OAIAkoD,EAAiB,SAAChrC,EAAShK,GAAV,OAAuB,SAACyR,GACpDA,EAASlP,EAAmB,aAC5BuG,IACmBkB,GAChBlJ,MAAK,SAAC/C,GACL,OAAOztB,IAAGM,MACPm4B,IAAI,CAAEv3B,GAAI,eAAgB2V,KAAM4W,EAAS5W,OACzC2Z,MAAK,WACJxwB,IAAGM,MAAM2V,IAAI,mBAAmBua,MAAK,SAAClwB,GACpC,IAAMm7D,EAAWn7D,EAAMuW,KACvB4kD,EAAQ,4BAAkCN,cAC1Cn7D,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,kBAAmB2V,KAAM4kD,IAAYjrC,MAAK,WAC3D2Q,EAASlP,EAA6BwpC,gBAK/C6B,SAAQ,WACPn8B,EAASlP,EAAoB,gBAE9BzE,OAAM,SAACjR,GAGN,OAFA4kB,EAASlP,EAAgC,aACzCkP,EAASlP,EAAgB1V,EAAMC,WACxB,KAGX2kB,EAASlP,EAAmB,iBAC5BuG,KAC8B,OAAR9I,QAAQ,IAARA,OAAA,EAAAA,EAAUU,SAAUV,EAAW,IAClDc,MAAK,SAAC/C,GACL,IAAM5W,EAAOkiB,YAAmBtL,EAAS5W,MACzC7W,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,gBAAiB2V,KAAMA,IAAQ2Z,MAAK,WACrDxwB,IAAGM,MAAM2V,IAAI,mBAAmBua,MAAK,SAAClwB,GACpC,IAAMm7D,EAAWn7D,EAAMuW,KACvB4kD,EAAQ,4BAAkCN,cAC1Cn7D,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,kBAAmB2V,KAAM4kD,IAAYjrC,MAAK,WAC3D2Q,EAASlP,EAA6BwpC,gBAM7C6B,SAAQ,WACPn8B,EAASlP,EAAoB,oBAE9BzE,OAAM,SAACjR,GAGN,OAFA4kB,EAASlP,EAAgC,iBACzCkP,EAASlP,EAAgB1V,EAAMC,WACxB,OAIAmoD,EAAiB,SAACjrC,EAAShK,EAAUk1C,GAApB,OAA+B,SAACzjC,GAC5DA,EAASlP,EAAmB,aAC5B,IAAMtC,EAAOxB,KAAKsE,MAAMC,OAAOC,aAAaC,QAAQ,SACpD,OAAO4F,IAAA,OACU7I,QADV,IACUA,OADV,EACUA,EAAMkK,UACpBrJ,MAAK,SAAC/C,GAAc,IAAD,EACdqM,EAAI,UAAGrM,EAAS5W,YAAZ,aAAG,EAAeA,KAAKrF,KAAI,SAAC2C,GAClC,OAAO4lB,YAAmB5lB,MAS7B,OAPS,OAAJwb,QAAI,IAAJA,OAAA,EAAAA,EAAMU,MAAMzZ,QAAQ,QAAS,IAAMguD,GACrC5kE,IAAGM,MAAM2V,IAAI,cAAcua,MAAK,SAAClwB,GAC/B,IAAIi1B,EAAM,YAAO,IAAIW,IAAI4D,EAAKtoB,KAAI,SAAA2C,GAAI,OAAIA,EAAK8f,aAC/C9E,EAAgBuK,EAAS,GAAIhK,EAAd,OAAwBpvB,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAOuW,KAAM0e,MAIlDv1B,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,QAAS2V,KAAMijB,IAAQtJ,MAAK,WACpD,OAAQxwB,IAAGM,MAAM2V,IAAI,mBAAmBua,MAAK,SAAClwB,GAC3C,IAAMm7D,EAAWn7D,EAAMuW,KAKxB,OAJC4kD,EAAQ,wBAA8BN,cACtCn7D,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,kBAAmB2V,KAAM4kD,IAAYjrC,MAAK,WAC3D2Q,EAASlP,EAA6BwpC,OAElC3hC,WAIXwjC,SAAQ,WACPn8B,EAASlP,EAAoB,gBAE9BzE,OAAM,SAACjR,GAGN,OAFA4kB,EAASlP,EAAgC,aACzCkP,EAASlP,EAAgB1V,EAAMC,WACxB,OAKA2S,EAAkB,SAACuK,EAAShuB,EAAMgkB,EAAUgJ,EAAUnD,GACjE,IAAM5F,EAAOxB,KAAKsE,MAAMC,OAAOC,aAAaC,QAAQ,SAE9CwS,GADG,OAAGzV,QAAH,IAAGA,OAAH,EAAGA,EAAMU,OACGzZ,QAAQ,OAAS,EAClC6Y,EAAWiJ,EAASgqC,YACpBt4D,OAAOC,KAAKquB,EAASgqC,aACrB,GACEvhC,EAAWvR,IAAMuR,SAEvB,GADAA,EAASlP,EAAmB,eACxBmT,EACF,OAAO5M,IAAwBjD,GAAQ/E,MAAK,SAAC/C,GAC3C,IAAM5W,EAAO4W,EAAS5W,KACtBA,EAAKoe,gBAAkB6D,YAAoBjiB,EAAKoe,iBAFQ,IAGhDyD,EAAaC,YAAU9hB,EAAM+hB,KAA7BF,SACR,OAAO14B,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,aAAc2V,KAAM6hB,IAAYlI,MAAK,WAG7D,MAFS,QAAT9kB,GACEy1B,EAASlP,EAAsByH,EAAShK,EAAUyR,IAC7CzI,QAER4kC,SAAQ,WACPn8B,EAASlP,EAAoB,kBAC9BzE,OAAM,SAACjR,GAGR,OAFA4kB,EAASlP,EAAgC,eACzCkP,EAASlP,EAAgB1V,EAAMC,WACxB,KAITgc,IACqC/I,EAAU,EAAGC,GAC/Cc,MAAK,SAAC/C,GACL,IAAM5W,EAAO4W,EACb5W,EAAKoe,gBAAkB6D,YAAoBjiB,EAAKoe,iBAF9B,IAGVyD,EAAaC,YAAUlL,EAAUmL,KAAjCF,SACR14B,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,aAAc2V,KAAM6hB,IAAYlI,MAAK,WACtD,IAAM+H,EAAQ,CAAErI,WAAYT,IAC5B,OAAIC,QAAJ,IAAIA,OAAJ,EAAIA,EAAUU,WACZmI,EAAK,QAAc7I,EAASU,SAE9ByS,IAC0CtK,GACvC/H,MAAK,WACJxwB,IAAGM,MAAM2V,IAAI,mBAAmBua,MAAK,SAAClwB,GACpC,IAAMm7D,EAAWn7D,EAAMuW,KACvB4kD,EAAQ,qBAA2BN,cACnCn7D,IAAGM,MACAm4B,IAAI,CAAEv3B,GAAI,kBAAmB2V,KAAM4kD,IACnCjrC,MAAK,WACJ2Q,EAASlP,EAA6BwpC,IAC7B,QAAT/vD,GACEy1B,EAASlP,EAAsByH,EAAShK,EAAUyR,mBAMjEm8B,SAAQ,WACPn8B,EAASlP,EAAoB,kBAE9BzE,OAAM,SAACjR,GAGN,OAFA4kB,EAASlP,EAAgC,eACzCkP,EAASlP,EAAgB1V,EAAMC,WACxB,MCnOF28B,EAAc,SAAC1zC,GAAD,MAAY,CACrCiG,KAAM,eACN6nB,QAAS9tB,IAGEo/D,EAA+B,SAACp/D,GAAD,MAAY,CACtDiG,KAAM,kBACN6nB,QAAS9tB,IAGEq/D,EAAiB,SAACr/D,GAAD,MAAY,CACxCiG,KAAM,mBACN6nB,QAAS9tB,I,8CCHEs/D,GAAuB,SAACzxC,GAAD,MAAY,CAC9C5nB,KAAM,0BACN6nB,QAASD,IAGE0xC,GAA0B,SAACnuD,GAAD,MAAW,CAChDnL,KAAM,6BACN6nB,QAAS1c,IAGEouD,GAAiB,SAACpuD,GAAD,MAAW,CACvCnL,KAAM,kCACN6nB,QAAS1c,IAGEw0C,GAAqB,SAACx0C,GAAD,MAAW,CAC3CnL,KAAM,uBACN6nB,QAAS1c,IAGEu0C,GACX,SACE50B,EACAC,EACAvC,EACAwC,EACAC,EACAvD,EACAvc,EACAu2C,GARF,OAUA,SAACjsB,GACC,IAAM5K,EAAe,GAerB,OAdAA,EACEC,EACE,IACAC,EACA,IACAvC,EACA,IACAwC,EACA,IACAC,EACA,IACAvD,GACAstC,YAAc53D,YAAYijD,IAAOI,OAAOt1C,IAAQu2C,GACpDjsB,EAASlP,GAA4BsE,IAC9B7I,QAAQiD,QACbo7B,IAAOC,OACL9jD,YACEquB,EACEC,EACE,IACAC,EACA,IACAvC,EACA,IACAwC,EACA,IACAC,EACA,IACAvD,QAYD8xC,GACX,SAAC3sC,EAAO20B,EAAYC,GAApB,OAAoC,SAAChsB,GACnCA,EAASlP,KADuC,IAExCuE,EAA6B+B,EAA7B/B,WAAYC,EAAiB8B,EAAjB9B,aAEpB,OAAO+B,IACkBD,GACtB/H,MAAK,SAAC/C,GACL,IAAM/oB,EAAOyI,KAAOsgB,EAAQ,QAAR,MAA6B3T,OAAO,cAGxD,OAFAqnB,EAASlP,EAAA,2BAAoBrC,IAAMC,WAAWF,MAArC,IAA2CqxC,YAAat8D,MAE1Du3D,YACLzlC,EACAC,EACAhJ,EAAS5W,KAAKpR,OACd+qB,MAAK,SAAC3Z,GACN,OAAkB,IAAdA,EAAK+W,MAA4B,IAAd/W,EAAK+W,KAGnB0D,YAASiH,EAAO20B,EAAYC,GAAa38B,MAAK,SAAC3Z,GACpD,OAAkB,IAAdA,EAAK+W,KAEAuuC,YAAe3lC,EAAYC,GAAcjG,MAAK,SAAC3Z,GACpD,OAAO6W,QAAQiD,QAAQ,CAAE/C,KAAM,EAAGnoB,MAAOoR,OAGpC6W,QAAQiD,QAAQ9Z,MAIpB6W,QAAQiD,QAAQ9Z,SAI5B2W,OAAM,SAACjR,GACa,MAAfA,EAAMqR,OACR8E,OAAOC,aAAa8V,WAAW,QAC/BtH,EAASlP,EAAe,QAE1BkP,EAASlP,EAAgB1V,EAAMC,aAEhC8gD,SAAQ,WACPn8B,EAASlP,UCxHJkzC,GAAe,SAACtuD,GAAD,MAAW,CACrCnL,KAAM,gBACN6nB,QAAS1c,IAGEuuD,GAAe,SAACvuD,GAAD,MAAW,CACrCnL,KAAM,oBACN6nB,QAAS1c,IAQE0a,GAAY,SAAC1a,EAAMo1C,EAAeoZ,GAAtB,OAAuC,SAAClkC,GAE/D,OADAA,EAASlP,KACFuG,IACM3hB,GACV2Z,MAAK,WACJ,IAAM3b,EAASgC,EAAKxG,KAEZ4jB,EAAwBpd,EAAxBod,QAASC,EAAerd,EAAfqd,WAEjBooC,YAAiBznD,EAAQo3C,EAAT,YAAC,eACZoZ,GADW,IAEdpxC,UACAC,mBAGHopC,SAAQ,WACPn8B,EAASlP,UAIF4gB,GAAW,SAACh8B,GAAD,OAAU,SAACsqB,GAEjC,OADAA,EAASlP,KACFuG,IACQ3hB,GACZ2Z,MAAK,SAAC/C,GACL0T,EAASlP,KACT,IAAMs7B,EAAM,sCAAkC9/B,EAAS5W,KAAKyuD,MAC5D,OAAO53C,QAAQiD,QAAQ48B,MAExB//B,OAAM,SAACjR,GACa,MAAfA,EAAMqR,OACRuT,EAASlP,EAAe,OACxBkP,EAASlP,WAKJT,GAAsB,SAAC3a,GAAD,OAAU,SAACsqB,GAE5C,OADAA,EAASlP,KACFuG,IAAwB3hB,GAAM2Z,MAAK,SAAC/C,GAEzC,OADA0T,EAASlP,KACFxE,OAUEgE,GAAiB,SAAC5a,GAAD,OAAU,SAACsqB,GAEvC,OADAA,EAASlP,KACFuG,IAAmB3hB,GAAM2Z,MAAK,SAAC/C,GAEpC,OADA0T,EAASlP,KACFxE,OAIEiE,GAA0B,SAAC7a,GAAD,OAAU,SAACsqB,GAEhD,OADAA,EAASlP,KACFuG,IAA4B3hB,GAAM2Z,MAAK,SAAC/C,GAE7C,OADA0T,EAASlP,KACFxE,OClFEggB,GAAiB,SAACpX,GAAD,MAAkB,CAC9C3qB,KAAM,mBACN6nB,QAAS8C,ICFEkvC,GAAY,iBAAO,CAC9B75D,KAAM,YAGK85D,GAAc,SAAC3uD,GAAD,MAAW,CACpCnL,KAAM,YACN6nB,QAAS1c,ICDE4uD,GAAW,SAAC5uD,GAAD,MAAW,CACjCnL,KAAM,YACN6nB,QAAS1c,IAGEqvC,GAAkB,SAACrvC,GAAD,OAAU,SAACsqB,GAExC,OADAA,EAASlP,KACFuG,IACO3hB,GACX2Z,MAAK,SAAC/C,GAEL0T,EAASlP,QAEVzE,OAAM,SAACjR,GACa,MAAfA,EAAMqR,MACRuT,EAASlP,EAAe,OAE1BkP,EAASlP,EAAgB1V,EAAMC,aAEhC8gD,SAAQ,WACPn8B,EAASlP,UAKFD,GAAkB,SAACtmB,EAAMmL,EAAMw3C,GAAb,OAAgC,SAACltB,GAC9DA,EAASlP,KACT,IAEMvC,EAAW,CACfkC,OAHWzD,KAAKsE,MAAMC,OAAOC,aAAaC,QAAQ,SAGrCiH,UAGf,OAAOrB,IACY9sB,EAAKg6D,oBAAqB7uD,EAAK8oD,OAAQjwC,GACvDc,MAAK,SAAC/C,GAAc,IAAD,EACe,EAAjC,GAA4B,OAAxB,UAAAA,EAAS5W,YAAT,eAAe+W,MAEjB,OADAuT,EAASlP,EAAA,UAAgBxE,EAAS5W,YAAzB,aAAgB,EAAe2F,WACjC,EAET2kB,EAASlP,KACTjyB,IAAGM,MAAM2V,IAAI,SAASua,MAAK,SAAClwB,GAC1B,IAAMw5B,EAAOrM,EAAS5W,KAAKA,KACrBhC,EAASklB,YAAmBD,GAC5B6rC,EAAWrlE,EAAMuW,KAAKrF,KAAI,SAAA61B,GAAI,OAClCA,EAAKs4B,SAAW9oD,EAAK8oD,OAArB,2BACSt4B,GAASxyB,GACdwyB,KAENrnC,IAAGM,MAAMm4B,IAAI,CAAEv3B,GAAI,QAAS2V,KAAM8uD,IAAYn1C,MAAK,WACjD2Q,EAASlP,GAAgB0zC,UAGP,kBAAlB9uD,EAAK2wB,UAAyC,WAAT97B,GACvCy1B,EAASlP,EAAiCo8B,OAG7C7gC,OAAM,SAACjR,GACN4kB,EAASlP,EAAgB1V,EAAMC,aAEhC8gD,SAAQ,WACPn8B,EAASlP,UC/DFC,GAAiB,SAACrb,GAAD,OAAU,SAACsqB,GAEvC,OADAA,EAASlP,KACFuG,IACW3hB,GACf2Z,MAAK,SAAC/C,GAEL0T,EAASlP,KACTS,OAAOC,aAAa8V,WAAW,QAC/BtH,EAASlP,EAAe,UAEzBzE,OAAM,SAACjR,GACa,MAAfA,EAAMqR,OACR8E,OAAOC,aAAa8V,WAAW,QAC/BtH,EAASlP,EAAe,QAE1BkP,EAASlP,EAAgB1V,EAAMC,aAEhC8gD,SAAQ,WACPn8B,EAASlP,UAIF2zC,GAAyB,SAAC/uD,GAAD,OAAU,SAACsqB,GAE/C,OADAA,EAASlP,KACFuG,IAAmB3hB,GAAM2Z,MAAK,SAAC6I,GACpC,OAAOb,MAAwBhI,MAAK,WAClC2Q,EAASlP,KACTS,OAAOC,aAAa8V,WAAW,QAC/BtH,EAASlP,EAAe,eC/BjBgR,GAAoB,SAACpsB,GAAD,MAAW,CAC1CnL,KAAM,sBACN6nB,QAAS1c,ICOEub,GAAgB,kBAAM,SAAC+O,GAElC,OADAA,EAASlP,KACFuG,MAEJhI,MAAK,SAAC6I,GACL,OAAO3L,QAAQiD,QAAQ0I,EAAIxiB,SAE5BymD,SAAQ,WACPn8B,EAASlP,UAIF4zC,GAAa,SAAC3kE,GAAD,OAAQ,SAACigC,GAGjC,OAFAA,EAASlP,KAEFjyB,IAAGM,MAAM2V,IAAI,kBAAkBua,MAAK,SAAClwB,GAC1C,UAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,KAAK3V,GAAK,CACnB,IAAMqsD,EAAM,6CAAkCjtD,QAAlC,IAAkCA,OAAlC,EAAkCA,EAAOuW,KAAK3V,GAAIokE,MAE9D,OADAnkC,EAASlP,KACFvE,QAAQiD,QAAQ48B,GAEvB,OAAO/0B,IACQt3B,GACZsvB,MAAK,SAAC6I,GACL,IAAMysC,GAAsB,OAALxlE,QAAK,IAALA,OAAA,EAAAA,EAAOuW,OAAQ,GAGtC,OAFAivD,EAAe5kE,GAAM,CAAEhB,KAAMm5B,EAAIxiB,KAAK3W,KAAMolE,KAAMjsC,EAAIxiB,KAAKyuD,OAE3D,OAAIhlE,QAAJ,IAAIA,OAAJ,EAAIA,EAAOuW,MACF7W,IAAGM,MACPm4B,IAAI,CACHv3B,GAAI,iBACJ2V,KAAMivD,IAEPt1C,MAAK,WACJ,IAAM+8B,EAAM,sCAAkCl0B,EAAIxiB,KAAKyuD,MACvD,OAAO53C,QAAQiD,QAAQ48B,MAGpBvtD,IAAGM,MACPm4B,IAAI,CACHv3B,GAAI,iBACJ2V,KAAMivD,IAEPt1C,MAAK,WACJ,IAAM+8B,EAAM,sCAAkCl0B,EAAIxiB,KAAKyuD,MACvD,OAAO53C,QAAQiD,QAAQ48B,SAI9B+P,SAAQ,WACPn8B,EAASlP,c,qNC3DN8zC,EACL,6CADKA,EAEL,uCAFKA,EAGL,mDAHKA,EAIL,uCAJKA,EAKL,uCALKA,EAML,6CANKA,EAOL,2EAPKA,EAQL,uCARKA,EASL,yDATKA,EAUH,6CAVGA,EAWH,uCAXGA,EAYH,yDAZGA,EAaH,eAbGA,EAcL,+BAGKC,EAAsB,SAACnvD,GAClC,OAAiC,IAA7BzM,OAAOC,KAAKwM,GAAMlM,QAGP,IAAIurB,IACjB9rB,OAAO0jC,OAAOj3B,EAAKie,eAAetjB,KAAI,SAAC2b,GACrC,OAAOA,EAAE6I,gBAGNpsB,SAAQ,SAACsrC,GAGZr+B,EAAKie,cAAcogB,EAAQ,WAC1Br+B,EAAKie,cAAcogB,EAAQ,WAG5Br+B,EAAKie,cAAcogB,EAAQ,SAAW,CACpClf,YAAakf,EACbsH,WAAY,OACZhwB,YAAau5C,GAIflvD,EAAKie,cAAcogB,EAAQ,SAAW,CACpClf,YAAakf,EACbsH,WAAY,OACZhwB,YAAau5C,GAEflvD,EAAKie,cAAcogB,EAAQ,SAAW,CACpClf,YAAakf,EACbsH,WAAY,OACZhwB,YAAau5C,GAIflvD,EAAKie,cAAcogB,EAAQ,SAAW,CACpClf,YAAakf,EACbsH,WAAY,OACZhwB,YAAau5C,GAIflvD,EAAKie,cAAcogB,EAAQ,SAAW,CACpClf,YAAakf,EACbsH,WAAY,OACZhwB,YAAau5C,GAIflvD,EAAKie,cAAcogB,EAAQ,SAAW,CACpClf,YAAakf,EACbsH,WAAY,OACZhwB,YAAau5C,GAEflvD,EAAKie,cAAcogB,EAAQ,SAAW,CACpClf,YAAakf,EACbsH,WAAY,OACZhwB,YAAau5C,GAGflvD,EAAKie,cAAcogB,EAAQ,SAAW,CACpClf,YAAakf,EACbsH,WAAY,OACZhwB,YAAau5C,GAIflvD,EAAKie,cAAcogB,EAAQ,SAAW,CACpClf,YAAakf,EACbsH,WAAY,OACZhwB,YAAau5C,GAEflvD,EAAKie,cAAcogB,EAAQ,SAAW,CACpClf,YAAakf,EACbsH,WAAY,OACZhwB,YAAau5C,GAEflvD,EAAKie,cAAcogB,EAAQ,SAAW,CACpClf,YAAakf,EACbsH,WAAY,OACZhwB,YAAau5C,GAIflvD,EAAKie,cAAcogB,EAAQ,SAAW,CACpClf,YAAakf,EACbsH,WAAY,OACZhwB,YAAau5C,GAIflvD,EAAKie,cAAcogB,EAAQ,SAAW,CACpClf,YAAakf,EACbsH,WAAY,OACZhwB,YAAau5C,GAEflvD,EAAKie,cAAcogB,EAAQ,SAAW,CACpClf,YAAakf,EACbsH,WAAY,OACZhwB,YAAau5C,GAGfE,EAAqBpvD,EAAMq+B,OApGtBr+B,GA2GEqvD,EAAuC,SAACrvD,GACnD,OAAiC,IAA7BzM,OAAOC,KAAKwM,GAAMlM,QAGP,IAAIurB,IACjB9rB,OAAO0jC,OAAOj3B,EAAKoe,iBAAiBzjB,KAAI,SAAC2b,GACvC,OAAOA,EAAE6I,gBAINpsB,SAAQ,SAACsrC,GAEZr+B,EAAKoe,gBAAgBigB,EAAQ,WAC5Br+B,EAAKoe,gBAAgBigB,EAAQ,UAE9B+wB,EAAqBpvD,EAAMq+B,MAbtBr+B,GAoBLovD,EAAuB,SAACpvD,EAAMq+B,GAElCr+B,EAAKoe,gBAAgBigB,EAAQ,SAASuJ,aAAe,OACrD5nC,EAAKoe,gBAAgBigB,EAAQ,SAAS9W,UAAW,EAGjD,IAAM+nC,EAAetvD,EAAKoe,gBAAgBigB,EAAQ,SAClDr+B,EAAKoe,gBAAgBigB,EAAQ,SAA7B,eAA6CixB,GAC7CtvD,EAAKoe,gBAAgBigB,EAAQ,SAASpZ,eAAiB,OACvDjlB,EAAKoe,gBAAgBigB,EAAQ,SAASuJ,aAAe,OACrD5nC,EAAKoe,gBAAgBigB,EAAQ,SAAS9W,UAAW,EACjDvnB,EAAKoe,gBAAgBigB,EAAQ,SAAS5a,KAAO,IAG7C,IAAM8rC,EAAevvD,EAAKoe,gBAAgBigB,EAAQ,SAClDr+B,EAAKoe,gBAAgBigB,EAAQ,SAA7B,eAA6CkxB,GAC7CvvD,EAAKoe,gBAAgBigB,EAAQ,SAASpZ,eAAiB,OACvDjlB,EAAKoe,gBAAgBigB,EAAQ,SAASuJ,aAAe,OACrD5nC,EAAKoe,gBAAgBigB,EAAQ,SAAS9W,UAAW,EACjDvnB,EAAKoe,gBAAgBigB,EAAQ,SAAS5a,KAAO,IAG7C,IAAM+rC,EAAexvD,EAAKoe,gBAAgBigB,EAAQ,SAClDr+B,EAAKoe,gBAAgBigB,EAAQ,SAA7B,eAA6CmxB,GAC7CxvD,EAAKoe,gBAAgBigB,EAAQ,SAASpZ,eAAiB,OACvDjlB,EAAKoe,gBAAgBigB,EAAQ,SAAS/f,cAAgB,KACtDte,EAAKoe,gBAAgBigB,EAAQ,SAAS5a,KAAO,IAC7CzjB,EAAKoe,gBAAgBigB,EAAQ,SAA7B,eAA6CmxB,GAC7CxvD,EAAKoe,gBAAgBigB,EAAQ,SAASpZ,eAAiB,OACvDjlB,EAAKoe,gBAAgBigB,EAAQ,SAASuJ,aAAe,OACrD5nC,EAAKoe,gBAAgBigB,EAAQ,SAAS9W,UAAW,EACjDvnB,EAAKoe,gBAAgBigB,EAAQ,SAAS5a,KAAO,IAG7C,IAAMgsC,EAAezvD,EAAKoe,gBAAgBigB,EAAQ,SAClDr+B,EAAKoe,gBAAgBigB,EAAQ,SAA7B,eAA6CoxB,GAC7CzvD,EAAKoe,gBAAgBigB,EAAQ,SAASpZ,eAAiB,OACvDjlB,EAAKoe,gBAAgBigB,EAAQ,SAAS/f,cAAgB,KACtDte,EAAKoe,gBAAgBigB,EAAQ,SAAS5a,KAAO,IAC7CzjB,EAAKoe,gBAAgBigB,EAAQ,SAA7B,eAA6CoxB,GAC7CzvD,EAAKoe,gBAAgBigB,EAAQ,SAASpZ,eAAiB,OACvDjlB,EAAKoe,gBAAgBigB,EAAQ,SAASuJ,aAAe,OACrD5nC,EAAKoe,gBAAgBigB,EAAQ,SAAS9W,UAAW,EACjDvnB,EAAKoe,gBAAgBigB,EAAQ,SAAS5a,KAAO,IAG7C,IAAMisC,EAAe1vD,EAAKoe,gBAAgBigB,EAAQ,SAClDr+B,EAAKoe,gBAAgBigB,EAAQ,SAA7B,eAA6CqxB,GAC7C1vD,EAAKoe,gBAAgBigB,EAAQ,SAASpZ,eAAiB,OACvDjlB,EAAKoe,gBAAgBigB,EAAQ,SAASuJ,aAAe,OACrD5nC,EAAKoe,gBAAgBigB,EAAQ,SAAS9W,UAAW,EACjDvnB,EAAKoe,gBAAgBigB,EAAQ,SAAS5a,KAAO,IAG7C,IAAMksC,EAAe3vD,EAAKoe,gBAAgBigB,EAAQ,SAClDr+B,EAAKoe,gBAAgBigB,EAAQ,SAA7B,eAA6CsxB,GAC7C3vD,EAAKoe,gBAAgBigB,EAAQ,SAASpZ,eAAiB,OACvDjlB,EAAKoe,gBAAgBigB,EAAQ,SAAS/f,cAAgB,KACtDte,EAAKoe,gBAAgBigB,EAAQ,SAAS5a,KAAO,IAC7CzjB,EAAKoe,gBAAgBigB,EAAQ,SAA7B,eAA6CsxB,GAC7C3vD,EAAKoe,gBAAgBigB,EAAQ,SAASpZ,eAAiB,OACvDjlB,EAAKoe,gBAAgBigB,EAAQ,SAAS/f,cAAgB,KACtDte,EAAKoe,gBAAgBigB,EAAQ,SAAS5a,KAAO,IAC7CzjB,EAAKoe,gBAAgBigB,EAAQ,SAA7B,eAA6CsxB,GAC7C3vD,EAAKoe,gBAAgBigB,EAAQ,SAASpZ,eAAiB,OACvDjlB,EAAKoe,gBAAgBigB,EAAQ,SAASuJ,aAAe,OACrD5nC,EAAKoe,gBAAgBigB,EAAQ,SAAS9W,UAAW,EACjDvnB,EAAKoe,gBAAgBigB,EAAQ,SAAS5a,KAAO,IAG7C,IAAMmsC,EAAe5vD,EAAKoe,gBAAgBigB,EAAQ,SAClDr+B,EAAKoe,gBAAgBigB,EAAQ,SAA7B,eAA6CuxB,GAC7C5vD,EAAKoe,gBAAgBigB,EAAQ,SAASpZ,eAAiB,OACvDjlB,EAAKoe,gBAAgBigB,EAAQ,SAASuJ,aAAe,OACrD5nC,EAAKoe,gBAAgBigB,EAAQ,SAAS9W,UAAW,EACjDvnB,EAAKoe,gBAAgBigB,EAAQ,SAAS5a,KAAO,IAG7C,IAAMosC,EAAe7vD,EAAKoe,gBAAgBigB,EAAQ,SAClDr+B,EAAKoe,gBAAgBigB,EAAQ,SAA7B,eAA6CwxB,GAC7C7vD,EAAKoe,gBAAgBigB,EAAQ,SAASpZ,eAAiB,OACvDjlB,EAAKoe,gBAAgBigB,EAAQ,SAAS/f,cAAgB,KACtDte,EAAKoe,gBAAgBigB,EAAQ,SAAS5a,KAAO,IAC7CzjB,EAAKoe,gBAAgBigB,EAAQ,SAA7B,eAA6CwxB,GAC7C7vD,EAAKoe,gBAAgBigB,EAAQ,SAASpZ,eAAiB,OACvDjlB,EAAKoe,gBAAgBigB,EAAQ,SAASuJ,aAAe,OACrD5nC,EAAKoe,gBAAgBigB,EAAQ,SAAS9W,UAAW,EACjDvnB,EAAKoe,gBAAgBigB,EAAQ,SAAS5a,KAAO,KAGlCqsC,EAA0B,SAAC9vD,GACtC,OAAiC,IAA7BzM,OAAOC,KAAKwM,GAAMlM,QAGP,IAAIurB,IACjB9rB,OAAO0jC,OAAOj3B,EAAKoe,iBAAiBzjB,KAAI,SAAC2b,GACvC,OAAOA,EAAE6I,gBAINpsB,SAAQ,SAACsrC,GACd,GACEr+B,EAAKoe,gBAAgBigB,EAAQ,WAC5Br+B,EAAKoe,gBAAgBigB,EAAQ,SAC9B,CAEA,IAAM0xB,EAAS,CACb,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAEFA,EAAOh9D,SAAQ,SAAA4xB,GACVpxB,OAAOC,KAAKwM,EAAKoe,iBAAiBre,QAAQs+B,EAAM,IAAI1Z,GAAG,GACxD1H,MAAM,eAAKohB,EAAM,2BAAO1Z,EAAE,2CAG9BorC,EAAOh9D,SAAQ,SAACpF,GACdqS,EAAKoe,gBAAgBigB,EAAQ,IAAM1wC,GAAM45B,UAAW,UAEjD,GACLvnB,EAAKoe,gBAAgBigB,EAAQ,WAC5Br+B,EAAKoe,gBAAgBigB,EAAQ,SAC9B,CAEA,IAAM2xB,EAAS,CAAC,OAAQ,OAAQ,QAChCA,EAAOj9D,SAAQ,SAAA4xB,GACVpxB,OAAOC,KAAKwM,EAAKoe,iBAAiBre,QAAQs+B,EAAM,IAAI1Z,GAAG,GACxD1H,MAAM,eAAKohB,EAAM,2BAAO1Z,EAAE,2CAG9BqrC,EAAOj9D,SAAQ,SAACpF,GACdqS,EAAKoe,gBAAgBigB,EAAQ,IAAM1wC,GAAM45B,UAAW,UAEjD,GACLvnB,EAAKoe,gBAAgBigB,EAAQ,UAC7Br+B,EAAKoe,gBAAgBigB,EAAQ,UAC7Br+B,EAAKoe,gBAAgBigB,EAAQ,UAC7Br+B,EAAKoe,gBAAgBigB,EAAQ,UAC7Br+B,EAAKoe,gBAAgBigB,EAAQ,UAC7Br+B,EAAKoe,gBAAgBigB,EAAQ,UAC7Br+B,EAAKoe,gBAAgBigB,EAAQ,UAC7Br+B,EAAKoe,gBAAgBigB,EAAQ,UAC7Br+B,EAAKoe,gBAAgBigB,EAAQ,UAC7Br+B,EAAKoe,gBAAgBigB,EAAQ,UAC7Br+B,EAAKoe,gBAAgBigB,EAAQ,UAC7Br+B,EAAKoe,gBAAgBigB,EAAQ,UAC7Br+B,EAAKoe,gBAAgBigB,EAAQ,UAC7Br+B,EAAKoe,gBAAgBigB,EAAQ,SAC7B,CAEA,IAAM4xB,EAAU,CACd,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAEFA,EAAQl9D,SAAQ,SAAA4xB,GACXpxB,OAAOC,KAAKwM,EAAKoe,iBAAiBre,QAAQs+B,EAAM,IAAI1Z,GAAG,GACxD1H,MAAM,eAAKohB,EAAM,2BAAO1Z,EAAE,2CAG9BsrC,EAAQl9D,SAAQ,SAACpF,GACfqS,EAAKoe,gBAAgBigB,EAAQ,IAAM1wC,GAAM45B,UAAW,SAtFjDvnB,GA8FEkwD,EAA6B,SAAClwD,GACzCA,EAAKgd,WAAW,MAAQmY,kBACtBn1B,EAAKgd,WAAW,MAAQkX,iBAC1Bl0B,EAAKgd,WAAW,MAAQoY,mBAAqB85B,EAE7ClvD,EAAKgd,WAAW,MAAQmY,kBACtBn1B,EAAKgd,WAAW,MAAQkX,iBAC1Bl0B,EAAKgd,WAAW,MAAQoY,mBAAqB85B,EAgD7C,MA9Cc,CACZ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAGIn8D,SAAQ,SAACpF,GACRqS,EAAKgd,WAAWrvB,KACnBqS,EAAKgd,WAAWrvB,GAAQ,CAAEN,OAAQM,OAItCqS,EAAKgd,WAAW,MAAQkX,iBAAmBg7B,EAC3ClvD,EAAKgd,WAAW,MAAQyG,KAAO,IAC/BzjB,EAAKgd,WAAW,MAAQkX,iBAAmBg7B,EAC3ClvD,EAAKgd,WAAW,MAAQyG,KAAO,IAC/BzjB,EAAKgd,WAAW,MAAQkX,iBAAmBg7B,EAC3ClvD,EAAKgd,WAAW,MAAQyG,KAAO,IAC/BzjB,EAAKgd,WAAW,MAAQkX,iBAAmBg7B,EAC3ClvD,EAAKgd,WAAW,MAAQyG,KAAO,IAC/BzjB,EAAKgd,WAAW,MAAQkX,iBAAmBg7B,EAC3ClvD,EAAKgd,WAAW,MAAQyG,KAAO,IAC/BzjB,EAAKgd,WAAW,MAAQkX,iBAAmBg7B,EAC3ClvD,EAAKgd,WAAW,MAAQyG,KAAO,IAC/BzjB,EAAKgd,WAAW,MAAQkX,iBAAmBg7B,EAC3ClvD,EAAKgd,WAAW,MAAQyG,KAAO,IAC/BzjB,EAAKgd,WAAW,QAAQkX,iBAAmBg7B,EAC3ClvD,EAAKgd,WAAW,QAAQyG,KAAO,IAC/BzjB,EAAKgd,WAAW,QAAQkX,iBAAmBg7B,EAC3ClvD,EAAKgd,WAAW,QAAQyG,KAAO,IAC/BzjB,EAAKgd,WAAW,QAAQkX,iBAAmBg7B,EAC3ClvD,EAAKgd,WAAW,QAAQyG,KAAO,IAC/BzjB,EAAKgd,WAAW,QAAQkX,iBAAmBg7B,EAC3ClvD,EAAKgd,WAAW,QAAQyG,KAAO,IAC/BzjB,EAAKgd,WAAW,MAAQkX,iBAAmBg7B,EAC3ClvD,EAAKgd,WAAW,MAAQyG,KAAO,IAExBzjB,GAGIkmC,EAAqB,SAAC7oB,GAkBjC,MAjBc,CACZ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAGW5yB,SAAS4yB,M","file":"static/js/main.ba12f9b9.chunk.js","sourcesContent":["import Dexie from \"dexie\";\r\n\r\nlet db;\r\n\r\nconst createDb = (name) => {\r\n  db = new Dexie(name);\r\n\r\n  db.version(1).stores({\r\n    cache: \"id\",\r\n  });\r\n};\r\n\r\nexport { db, createDb };\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nexport const PRIMARY_FEEDBACK_EMAIL = \"norbert.gruner@schindler.com\";\r\n\r\nexport const SFDL_MAJOR_VERSION = Number(\r\n  process.env.REACT_APP_SFDL_MAJOR_VERSION\r\n);\r\n\r\nexport const SFDL_MINOR_VERSION = Number(\r\n  process.env.REACT_APP_SFDL_MINOR_VERSION\r\n);\r\nexport const SFDL_VERSION = `${SFDL_MAJOR_VERSION}.${SFDL_MINOR_VERSION}`;\r\n\r\nexport const XSD_REVISION = Number(process.env.REACT_APP_XSD_REVISION);\r\n\r\nexport const XSD_VERSION = `${SFDL_MAJOR_VERSION}.${SFDL_MINOR_VERSION}.${XSD_REVISION}`;\r\n\r\nexport const APP_NAME = \"Schindler FieldCheck\";\r\nexport const APP_TITLE = \"Schindler FieldCheck Editor\";\r\nexport const APP_VERSION = process.env.REACT_APP_VERSION;\r\n// Uhh that's dirty!\r\n// export const APP_BUILD_DATE = document\r\n//   .getElementById(\"build-date\")\r\n//   .innerHTML.trim();\r\n\r\nexport const RETURN_TO_APP_URLS = [\"fieldlink://handleForm\"];\r\n\r\nexport const DEFAULT_LANG = \"English\";\r\nexport const LANGUAGES = [\r\n  DEFAULT_LANG,\r\n  \"Arabic\",\r\n  \"Bulgarian\",\r\n  \"Central Khmer\",\r\n  \"Chinese\",\r\n  \"Chinese trad.\",\r\n  \"Croatian\",\r\n  \"Czech\",\r\n  \"Danish\",\r\n  \"Dutch\",\r\n  \"Estonian\",\r\n  \"Finnish\",\r\n  \"French\",\r\n  \"French Canadian\",\r\n  \"German\",\r\n  \"Greek\",\r\n  \"Hebrew\",\r\n  \"Hungarian\",\r\n  \"Icelandic\",\r\n  \"Indonesia\",\r\n  \"Italian\",\r\n  \"Japanese\",\r\n  \"Korean\",\r\n  \"Latvian\",\r\n  \"Lithuanian\",\r\n  \"Malay\",\r\n  \"Norwegian\",\r\n  \"Polish\",\r\n  \"Portuguese\",\r\n  \"Portuguese Brasil\",\r\n  \"Romanian\",\r\n  \"Russian\",\r\n  \"Serbian\",\r\n  \"Slovak\",\r\n  \"Slovenian\",\r\n  \"Spanish\",\r\n  \"Spanish Latin America\",\r\n  \"Swedish\",\r\n  \"Thai\",\r\n  \"Turkish\",\r\n  \"Ukrainian\",\r\n  \"Vietnamese\",\r\n];\r\n\r\nexport const WEB_DAV_SERVERS = [\r\n  {\r\n    id: \"dev\",\r\n    name: \"DEV\",\r\n    server: \"https://edocuments-dev.schindler.com/\",\r\n    user: \"\",\r\n    password: \"\",\r\n  },\r\n  {\r\n    id: \"quali\",\r\n    name: \"QUALI\",\r\n    server: \"https://edocuments-quali.schindler.com/\",\r\n    user: \"\",\r\n    password: \"\",\r\n  },\r\n  {\r\n    id: \"prod\",\r\n    name: \"PROD\",\r\n    server: \"https://edocuments.schindler.com/\",\r\n    user: \"\",\r\n    password: \"\",\r\n  },\r\n];\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nlet ops = {}; // eslint-disable-line prefer-const\r\n\r\nconst ARG_TYPES = [\"string\", \"number\", \"bool\", \"date\", \"optionId\", \"extBool\"];\r\n\r\n// for the type optionId the value FREE_TEXT_VALUE (from ../utils/options.js)\r\n// can be used for the \"Other\" option\r\n\r\nfunction addOp(id, name, formulaOp, argType) {\r\n  if (ops[id]) {\r\n    throw new Error(\"Operator already exists: \" + id);\r\n  }\r\n  if (!ARG_TYPES.includes(argType)) {\r\n    throw new Error(\"Unknown operator argument type: \" + argType);\r\n  }\r\n\r\n  ops[id] = { id, name, formulaOp, argType };\r\n}\r\n\r\naddOp(\"isString\", \"is\", \"==\", \"string\");\r\naddOp(\"isNotString\", \"is not\", \"!=\", \"string\");\r\naddOp(\"isNumber\", \"is equal to\", \"==\", \"number\");\r\naddOp(\"isNotNumber\", \"is not equal to\", \"!=\", \"number\");\r\naddOp(\"isOption\", \"is\", \"==\", \"optionId\");\r\naddOp(\"isNotOption\", \"is not\", \"!=\", \"optionId\");\r\naddOp(\"isBool\", \"is\", \"==\", \"bool\");\r\naddOp(\"isExtBool\", \"is\", \"==\", \"extBool\");\r\naddOp(\"isNotExtBool\", \"is not\", \"!=\", \"extBool\");\r\naddOp(\"isDate\", \"is\", \"==\", \"date\");\r\naddOp(\"isNotDate\", \"is not\", \"!=\", \"date\");\r\naddOp(\"before\", \"is before\", \"before\", \"date\");\r\naddOp(\"after\", \"is after\", \"after\", \"date\");\r\naddOp(\"startsWith\", \"starts with\", \"startsWith\", \"string\");\r\naddOp(\"endsWith\", \"ends with\", \"endsWith\", \"string\");\r\naddOp(\"greaterThan\", \"is greater than\", \">=\", \"number\");\r\naddOp(\"lessThan\", \"is less than\", \"<=\", \"number\");\r\naddOp(\"containsString\", \"contains\", \"contains\", \"string\");\r\naddOp(\"containsOption\", \"contains\", \"contains\", \"optionId\");\r\naddOp(\"doesNotContainString\", \"does not contain\", \"doesntContain\", \"string\");\r\naddOp(\"doesNotContainOption\", \"does not contain\", \"doesntContain\", \"optionId\");\r\n\r\nexport default ops;\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\n// IMPORTANT: this has to be in sync with expr.pegjs (the identifier-rule) and vis_rules.pegjs!!!!\r\nexport default function isValidIdentifier(identifier) {\r\n  return identifier.match(/^[a-z_][a-z0-9_.]*$/i);\r\n}\r\n\r\nexport function removeXMLInvalidChars(string, removeDiscouragedChars = true) {\r\n  // remove everything forbidden by XML 1.0 specifications, plus the unicode replacement character U+FFFD\r\n\r\n  /*eslint no-control-regex: \"off\"*/\r\n  var regex = /((?:[\\0-\\x08\\x0B\\f\\x0E-\\x1F\\uFFFD\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))/g;\r\n  string = string.replace(regex, \"\");\r\n\r\n  if (removeDiscouragedChars) {\r\n    // remove everything not suggested by XML 1.0 specifications\r\n    regex = new RegExp(\r\n      \"([\\\\x7F-\\\\x84]|[\\\\x86-\\\\x9F]|[\\\\uFDD0-\\\\uFDEF]|(?:\\\\uD83F[\\\\uDFFE\\\\uDFFF])|(?:\\\\uD87F[\\\\uDF\" +\r\n        \"FE\\\\uDFFF])|(?:\\\\uD8BF[\\\\uDFFE\\\\uDFFF])|(?:\\\\uD8FF[\\\\uDFFE\\\\uDFFF])|(?:\\\\uD93F[\\\\uDFFE\\\\uD\" +\r\n        \"FFF])|(?:\\\\uD97F[\\\\uDFFE\\\\uDFFF])|(?:\\\\uD9BF[\\\\uDFFE\\\\uDFFF])|(?:\\\\uD9FF[\\\\uDFFE\\\\uDFFF])\" +\r\n        \"|(?:\\\\uDA3F[\\\\uDFFE\\\\uDFFF])|(?:\\\\uDA7F[\\\\uDFFE\\\\uDFFF])|(?:\\\\uDABF[\\\\uDFFE\\\\uDFFF])|(?:\\\\\" +\r\n        \"uDAFF[\\\\uDFFE\\\\uDFFF])|(?:\\\\uDB3F[\\\\uDFFE\\\\uDFFF])|(?:\\\\uDB7F[\\\\uDFFE\\\\uDFFF])|(?:\\\\uDBBF\" +\r\n        \"[\\\\uDFFE\\\\uDFFF])|(?:\\\\uDBFF[\\\\uDFFE\\\\uDFFF])(?:[\\\\0-\\\\t\\\\x0B\\\\f\\\\x0E-\\\\u2027\\\\u202A-\\\\uD7FF\\\\\" +\r\n        \"uE000-\\\\uFFFF]|[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]|[\\\\uD800-\\\\uDBFF](?![\\\\uDC00-\\\\uDFFF])|\" +\r\n        \"(?:[^\\\\uD800-\\\\uDBFF]|^)[\\\\uDC00-\\\\uDFFF]))\",\r\n      \"g\"\r\n    );\r\n    string = string.replace(regex, \"\");\r\n  }\r\n\r\n  return string;\r\n}\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport isValidIdentifier from \"../expr/isValidIdentifier\";\r\nimport assert from \"assert\";\r\n\r\nexport function isDuplicateValue(options, value) {\r\n  return options.filter((o) => o.value === value).length >= 2;\r\n}\r\n\r\nexport function generateUniqueOptionValue(options) {\r\n  for (let i = 1; ; i += 1) {\r\n    const value = `value${i}`;\r\n    if (options.every((o) => o.value !== value)) {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport function ensureOptionValues(options) {\r\n  options.forEach((option) => {\r\n    if (!option.value) {\r\n      option.value = generateUniqueOptionValue(options);\r\n    }\r\n  });\r\n}\r\n\r\nexport const FREE_TEXT_VALUE = \"free_text_option_value\";\r\nassert(isValidIdentifier(FREE_TEXT_VALUE));\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport Ops from \"./VisibilityOperators\";\r\n\r\n// When a new form-field is generated, the initialSettings are deep-cloned and all attributes\r\n// with name 'id' are set to a new unique id (also on field duplication)\r\n\r\n// The fields displayClass, editorClass, and io are added dynamically on application startup\r\n// (see components/fields/setup.js and sfdl/setup.js). We cannot init them directly here because\r\n// that would create cyclic dependencies (components/fields/SomeDisplay.js imports FieldTypes.js\r\n// imports components/fields/SomeDisplay.js ... and same for sfdl).\r\n\r\n// convertibleTo needs to be compatible with applicableOperators: if X can be converted to Y\r\n// then it must also hold that the applicableOperators of X are a subset of those of Y.\r\n// This is also checked in the FormStore when an actual conversion happens.\r\n\r\nconst STRING_OPS = [\r\n  Ops.isString,\r\n  Ops.isNotString,\r\n  Ops.containsString,\r\n  Ops.doesNotContainString,\r\n  Ops.startsWith,\r\n  Ops.endsWith,\r\n];\r\n\r\nconst NUMBER_OPS = [\r\n  Ops.isNumber,\r\n  Ops.isNotNumber,\r\n  Ops.greaterThan,\r\n  Ops.lessThan,\r\n];\r\n\r\nconst BUTTON_DESCRIPTION_OPS = [\r\n  { id: \"yes\", name: \"YES\" },\r\n  { id: \"no\", name: \"NO\" },\r\n  { id: \"na\", name: \"N/A\" },\r\n  { id: \"notok\", name: \"Not OK\" },\r\n  { id: \"ok\", name: \"OK\" },\r\n  { id: \"square\", name: \"\" },\r\n  { id: \"triangle\", name: \"\" },\r\n  { id: \"fixed\", name: \"Fixed\" },\r\n];\r\n\r\nexport const CATEGORIES = [\r\n  {\r\n    name: \"Basic\",\r\n    types: [\r\n      \"singleLine\",\r\n      \"paragraph\",\r\n      \"number\",\r\n      \"slider\",\r\n      \"date\",\r\n      \"multipleChoice\",\r\n      \"dropdown\",\r\n      \"yesNo\",\r\n      \"checkboxes\",\r\n      \"staticText\",\r\n      \"table\",\r\n    ],\r\n  },\r\n  {\r\n    name: \"Advanced\",\r\n    types: [\"naYesNo\", \"calculation\", \"signature\", \"photo\"],\r\n  },\r\n  {\r\n    name: \"Structural\",\r\n    types: [\"sectionBreak\", \"pageBreak\"],\r\n  },\r\n];\r\n\r\nexport default {\r\n  singleLine: {\r\n    name: \"Single Line Text\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      labelI18n: { English: \"Untitled question\" },\r\n      required: false,\r\n      important: false,\r\n      annotatable: false,\r\n      descriptionI18n: { English: undefined },\r\n      prefilledAnswer: \"\",\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      authorizationRules: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n      images: [],\r\n    },\r\n    applicableOperators: STRING_OPS,\r\n    convertibleTo: [\"paragraph\"],\r\n  },\r\n\r\n  paragraph: {\r\n    name: \"Paragraph Text\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      labelI18n: { English: \"Untitled question\" },\r\n      required: false,\r\n      important: false,\r\n      annotatable: false,\r\n      descriptionI18n: { English: undefined },\r\n      prefilledAnswer: \"\",\r\n      authorizationRules: [],\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n      images: [],\r\n    },\r\n    applicableOperators: STRING_OPS,\r\n    convertibleTo: [\"singleLine\"],\r\n  },\r\n\r\n  number: {\r\n    name: \"Number\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      labelI18n: { English: \"Enter a number\" },\r\n      required: false,\r\n      important: false,\r\n      annotatable: false,\r\n      descriptionI18n: { English: undefined },\r\n      prefilledAnswer: \"\",\r\n      min: null,\r\n      max: null,\r\n      unit: \"\",\r\n      unitFront: false,\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      authorizationRules: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n      images: [],\r\n    },\r\n    applicableOperators: NUMBER_OPS,\r\n    convertibleTo: [],\r\n  },\r\n\r\n  slider: {\r\n    name: \"Slider\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      labelI18n: { English: \"Choose a number from the range\" },\r\n      important: false,\r\n      annotatable: false,\r\n      descriptionI18n: { English: undefined },\r\n      min: 0,\r\n      max: 100,\r\n      step: 5,\r\n      initialValue: 25,\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      authorizationRules: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n      images: [],\r\n    },\r\n    applicableOperators: NUMBER_OPS,\r\n    convertibleTo: [],\r\n  },\r\n\r\n  date: {\r\n    name: \"Date/Time\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      label: \"Select a date\",\r\n      labelI18n: { English: \"Select a date\" },\r\n      required: false,\r\n      important: false,\r\n      annotatable: false,\r\n      includeTime: false,\r\n      pastDateNotAllowed: false,\r\n      futureDateNotAllowed: false,\r\n      changeNotAllowed: false,\r\n      hasDefaultValue: false,\r\n      defaultValue: null,\r\n      descriptionI18n: { English: undefined },\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      authorizationRules: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n      images: [],\r\n    },\r\n    applicableOperators: [Ops.isDate, Ops.isNotDate, Ops.before, Ops.after],\r\n    convertibleTo: [],\r\n  },\r\n\r\n  multipleChoice: {\r\n    name: \"Multiple Choice\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      labelI18n: { English: \"Select an option\" },\r\n      required: false,\r\n      important: false,\r\n      annotatable: false,\r\n      descriptionI18n: { English: undefined },\r\n      options: [\r\n        { id: null, nameI18n: { English: \"Option 1\" }, value: \"value1\" },\r\n        { id: null, nameI18n: { English: \"Option 2\" }, value: \"value2\" },\r\n        { id: null, nameI18n: { English: \"Option 3\" }, value: \"value3\" },\r\n      ],\r\n      selectedId: null, // null OR INVALID ID (!!) means: nothing selected\r\n      includeOther: false,\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      authorizationRules: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n      images: [],\r\n    },\r\n    applicableOperators: [Ops.isOption, Ops.isNotOption],\r\n    convertibleTo: [\"dropdown\"],\r\n  },\r\n\r\n  dropdown: {\r\n    name: \"Dropdown\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      labelI18n: { English: \"Select an option\" },\r\n      required: false,\r\n      important: false,\r\n      annotatable: false,\r\n      descriptionI18n: { English: undefined },\r\n      options: [\r\n        { id: null, nameI18n: { English: \"Option 1\" }, value: \"value1\" },\r\n        { id: null, nameI18n: { English: \"Option 2\" }, value: \"value2\" },\r\n        { id: null, nameI18n: { English: \"Option 3\" }, value: \"value3\" },\r\n      ],\r\n      selectedId: null, // null OR INVALID ID (!!) means: nothing selected\r\n      includeOther: false,\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      authorizationRules: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n      images: [],\r\n    },\r\n    applicableOperators: [Ops.isOption, Ops.isNotOption],\r\n    convertibleTo: [\"multipleChoice\"],\r\n  },\r\n\r\n  yesNo: {\r\n    name: \"Yes/No\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      labelI18n: { English: \"Yes or no\" },\r\n      important: false,\r\n      annotatable: false,\r\n      descriptionI18n: { English: undefined },\r\n      initialValue: false,\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      authorizationRules: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n      images: [],\r\n    },\r\n    applicableOperators: [Ops.isBool],\r\n    convertibleTo: [],\r\n  },\r\n\r\n  naYesNo: {\r\n    name: \"NA/Yes/No\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      labelI18n: { English: \"Yes or no\" },\r\n      required: false,\r\n      important: false,\r\n      annotatable: false,\r\n      descriptionI18n: { English: undefined },\r\n      notApplicableOption: true,\r\n      fixedOption: false,\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      authorizationRules: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n      images: [],\r\n      buttonDescriptions: [],\r\n    },\r\n    applicableOperators: [Ops.isExtBool, Ops.isNotExtBool],\r\n    applicableButtonDescriptions: BUTTON_DESCRIPTION_OPS,\r\n    convertibleTo: [],\r\n  },\r\n\r\n  checkboxes: {\r\n    name: \"Checkboxes\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      labelI18n: { English: \"Select an option\" },\r\n      important: false,\r\n      annotatable: false,\r\n      descriptionI18n: { English: undefined },\r\n      options: [\r\n        { id: null, nameI18n: { English: \"Option 1\" }, value: \"value1\" },\r\n        { id: null, nameI18n: { English: \"Option 2\" }, value: \"value2\" },\r\n        { id: null, nameI18n: { English: \"Option 3\" }, value: \"value3\" },\r\n      ],\r\n      selectedIds: [], // may also contain ids wich aren't actually options of this Checkbox-Field!\r\n      includeOther: false,\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      authorizationRules: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n      images: [],\r\n    },\r\n    applicableOperators: [Ops.containsOption, Ops.doesNotContainOption],\r\n    convertibleTo: [],\r\n  },\r\n\r\n  calculation: {\r\n    name: \"Calculation\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      labelI18n: { English: \"Calculation\" },\r\n      important: false,\r\n      annotatable: false,\r\n      descriptionI18n: { English: undefined },\r\n      formula: \"0\",\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      authorizationRules: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n      images: [],\r\n    },\r\n    applicableOperators: NUMBER_OPS,\r\n    convertibleTo: [],\r\n  },\r\n\r\n  signature: {\r\n    name: \"Signature\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      labelI18n: { English: \"Sign here\" },\r\n      required: false,\r\n      important: false,\r\n      annotatable: false,\r\n      descriptionI18n: { English: undefined },\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      authorizationRules: [],\r\n      images: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n    },\r\n    applicableOperators: [],\r\n    convertibleTo: [],\r\n  },\r\n\r\n  photo: {\r\n    name: \"Photo\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      labelI18n: { English: \"Take a photo\" },\r\n      required: false,\r\n      important: false,\r\n      annotatable: false,\r\n      descriptionI18n: { English: undefined },\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      authorizationRules: [],\r\n      images: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n    },\r\n    applicableOperators: [],\r\n    convertibleTo: [],\r\n  },\r\n\r\n  staticText: {\r\n    name: \"Static Text\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      textI18n: {\r\n        English:\r\n          \"Here you can provide some longer static text and \" +\r\n          \"images with instructions for the user.\",\r\n      },\r\n      important: false,\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      authorizationRules: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n      images: [],\r\n    },\r\n    applicableOperators: STRING_OPS,\r\n    convertibleTo: [],\r\n  },\r\n\r\n  table: {\r\n    name: \"Table\",\r\n    initialSettings: {\r\n      identifier: \"table\",\r\n      labelI18n: { English: \"A new table\" },\r\n      textI18n: {\r\n        English: \"Here you can provide table .\",\r\n      },\r\n      descriptionI18n: { English: undefined },\r\n      trs: [\r\n        {\r\n          id: null,\r\n          columnHeader: true,\r\n          tds: [\r\n            { id: null, nameI18n: { English: \"\" }, width: 25 },\r\n            { id: null, nameI18n: { English: \"col_1\" }, width: 25 },\r\n            { id: null, nameI18n: { English: \"col_2\" }, width: 25 },\r\n            { id: null, nameI18n: { English: \"col_3\" }, width: 25 },\r\n          ],\r\n        },\r\n        {\r\n          id: null,\r\n          tds: [\r\n            { id: null, rowHeader: true, nameI18n: { English: \"row_1\" } },\r\n            { id: null, nameI18n: { English: undefined } },\r\n            { id: null, nameI18n: { English: undefined } },\r\n            { id: null, nameI18n: { English: undefined } },\r\n          ],\r\n        },\r\n        {\r\n          id: null,\r\n          tds: [\r\n            { id: null, rowHeader: true, nameI18n: { English: \"row_2\" } },\r\n            { id: null, nameI18n: { English: undefined } },\r\n            { id: null, nameI18n: { English: undefined } },\r\n            { id: null, nameI18n: { English: undefined } },\r\n          ],\r\n        },\r\n        {\r\n          id: null,\r\n          tds: [\r\n            { id: null, rowHeader: true, nameI18n: { English: \"row_3\" } },\r\n            { id: null, nameI18n: { English: undefined } },\r\n            { id: null, nameI18n: { English: undefined } },\r\n            { id: null, nameI18n: { English: undefined } },\r\n          ],\r\n        },\r\n      ],\r\n      required: false,\r\n      important: false,\r\n      changeNotAllowed: false,\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      authorizationRules: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n      images: [],\r\n    },\r\n    applicableOperators: STRING_OPS,\r\n    convertibleTo: [],\r\n  },\r\n\r\n  sectionBreak: {\r\n    name: \"Section Break\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      labelI18n: { English: \"A new section\" },\r\n      important: false,\r\n      qrCodeReader: false,\r\n      descriptionI18n: {\r\n        English: \"Put some more information about this section here!\",\r\n      },\r\n      isCollapsed: false,\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n    },\r\n    applicableOperators: [],\r\n    convertibleTo: [],\r\n  },\r\n\r\n  pageBreak: {\r\n    name: \"Page Break\",\r\n    initialSettings: {\r\n      identifier: \"question\",\r\n      labelI18n: { English: \"A new page\" },\r\n      isCollapsed: false,\r\n      visRules: [],\r\n      externalVisRules: [],\r\n      tagRules: [],\r\n      printTagRules: [],\r\n      isTitlePageEnd: false,\r\n    },\r\n    applicableOperators: [],\r\n    convertibleTo: [],\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport forge from \"node-forge\";\r\n\r\nconst KEY = forge.util.hexToBytes(\r\n  \"C8DF55A9BAE39437C383A64B3D0FCBF2BFEDF599C0F4F246128503D0D13370A5\"\r\n);\r\nconst IV = forge.util.hexToBytes(\"7DE549A796BFF62AC8E1FB716C57DF46\");\r\n\r\nexport function encrypt(cleartext) {\r\n  const cipher = forge.cipher.createCipher(\"AES-CBC\", KEY);\r\n  cipher.start({ iv: IV });\r\n  cipher.update(forge.util.createBuffer(cleartext));\r\n  cipher.finish();\r\n\r\n  return forge.util.encode64(cipher.output.getBytes());\r\n}\r\n\r\nexport function decrypt(encrypted64) {\r\n  const encrypted = forge.util.decode64(encrypted64);\r\n\r\n  const decipher = forge.cipher.createDecipher(\"AES-CBC\", KEY);\r\n  decipher.start({ iv: IV });\r\n  decipher.update(forge.util.createBuffer(encrypted));\r\n  decipher.finish();\r\n\r\n  return decipher.output.data;\r\n}\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  // appendChildWithLineBreak,\r\n  appendChild,\r\n  appendQuestionBlock,\r\n  hasChildNode,\r\n  getChildNode,\r\n  readQuestionBlock,\r\n  getRequiredAttr,\r\n  getAttrWithDefault,\r\n} from \"./utils/xml\";\r\n\r\nexport default {\r\n  serialize(doc, findField, parentNode, field) {\r\n    // const { settings } = field;\r\n    // const { prefilledAnswer } = settings;\r\n    const questionBlock = appendQuestionBlock(\r\n      doc,\r\n      findField,\r\n      parentNode,\r\n      \"string\",\r\n      field\r\n    );\r\n\r\n    // appendChildWithLineBreak(doc, questionBlock, \"textfield\", null, {\r\n    //   \"prefilled-answer\": prefilledAnswer,\r\n    // });\r\n\r\n    appendChild(doc, questionBlock, \"textfield\", field.settings.value);\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return (\r\n      node.nodeName === \"question_block\" && hasChildNode(node, \"textfield\")\r\n    );\r\n  },\r\n\r\n  deserialize(node) {\r\n    let field = readQuestionBlock(node, \"singleLine\", \"string\"); // eslint-disable-line prefer-const\r\n    field.settings.required = getRequiredAttr(node, \"required\") === \"true\";\r\n\r\n    const textFieldNode = getChildNode(node, \"textfield\");\r\n    field.settings.text = textFieldNode.textContent;\r\n    field.settings.prefilledAnswer = getAttrWithDefault(\r\n      textFieldNode,\r\n      \"prefilled-answer\",\r\n      \"\"\r\n    );\r\n\r\n    field.settings.value = textFieldNode.textContent;\r\n\r\n    return field;\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  appendChild,\r\n  appendQuestionBlock,\r\n  hasChildNode,\r\n  getChildNode,\r\n  getRequiredAttr,\r\n  readQuestionBlock,\r\n  getAttrWithDefault,\r\n} from \"./utils/xml\";\r\n\r\nexport default {\r\n  serialize(doc, findField, parentNode, field) {\r\n    // const { settings } = field;\r\n    // const { prefilledAnswer } = settings;\r\n\r\n    const questionBlock = appendQuestionBlock(\r\n      doc,\r\n      findField,\r\n      parentNode,\r\n      \"string\",\r\n      field\r\n    );\r\n    // appendChild(doc, questionBlock, \"textarea\", null, {\r\n    //   \"prefilled-answer\": prefilledAnswer,\r\n    // });\r\n\r\n    appendChild(doc, questionBlock, \"textarea\", field.settings.value);\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return node.nodeName === \"question_block\" && hasChildNode(node, \"textarea\");\r\n  },\r\n\r\n  deserialize(node) {\r\n    let field = readQuestionBlock(node, \"paragraph\", \"string\"); // eslint-disable-line prefer-const\r\n    field.settings.required = getRequiredAttr(node, \"required\") === \"true\";\r\n\r\n    const textAreaNode = getChildNode(node, \"textarea\");\r\n    field.settings.text = textAreaNode.textContent;\r\n    field.settings.prefilledAnswer = getAttrWithDefault(\r\n      textAreaNode,\r\n      \"prefilled-answer\",\r\n      \"\"\r\n    );\r\n\r\n    field.settings.value = textAreaNode.textContent;\r\n\r\n    return field;\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  appendChild,\r\n  appendQuestionBlock,\r\n  hasChildNode,\r\n  getChildNode,\r\n  getRequiredAttr,\r\n  getAttrWithDefault,\r\n  readQuestionBlock,\r\n} from \"./utils/xml\";\r\n\r\nexport default {\r\n  serialize(doc, findField, parentNode, field) {\r\n    const {\r\n      min,\r\n      max,\r\n      unit,\r\n      unitFront,\r\n      prefilledAnswer,\r\n      value,\r\n    } = field.settings;\r\n\r\n    const questionBlock = appendQuestionBlock(\r\n      doc,\r\n      findField,\r\n      parentNode,\r\n      \"decimal\",\r\n      field\r\n    );\r\n    appendChild(doc, questionBlock, \"numberfield\", null, {\r\n      unit,\r\n      \"unit-in-front\": unitFront,\r\n      min,\r\n      max,\r\n      \"prefilled-answer\": prefilledAnswer,\r\n      value,\r\n    });\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return (\r\n      node.nodeName === \"question_block\" && hasChildNode(node, \"numberfield\")\r\n    );\r\n  },\r\n\r\n  deserialize(node) {\r\n    let field = readQuestionBlock(node, \"number\", \"decimal\"); // eslint-disable-line prefer-const\r\n    field.settings.required = getRequiredAttr(node, \"required\") === \"true\";\r\n\r\n    const inputNode = getChildNode(node, \"numberfield\");\r\n    field.settings.unit = getAttrWithDefault(inputNode, \"unit\", \"\");\r\n    field.settings.unitFront =\r\n      getAttrWithDefault(inputNode, \"unit-in-front\") === \"true\";\r\n    field.settings.prefilledAnswer = getAttrWithDefault(\r\n      inputNode,\r\n      \"prefilled-answer\",\r\n      \"\"\r\n    );\r\n\r\n    field.settings.value = getAttrWithDefault(inputNode, \"value\", \"\");\r\n\r\n    if (inputNode.textContent && inputNode.textContent.trim() !== \"\") {\r\n      field.settings.value = Number(inputNode.textContent.trim());\r\n      if (isNaN(field.settings.value)) {\r\n        console.warn(\r\n          \"Number field value is not a number: \" + inputNode.textContent\r\n        );\r\n      }\r\n    }\r\n\r\n    [\"min\", \"max\"].forEach((attr) => {\r\n      if (\r\n        inputNode.hasAttribute(attr) &&\r\n        getRequiredAttr(inputNode, attr).trim() !== \"\"\r\n      ) {\r\n        field.settings[attr] = Number(getAttrWithDefault(inputNode, attr, \"0\"));\r\n      } else {\r\n        field.settings[attr] = null;\r\n      }\r\n    });\r\n\r\n    return field;\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  appendChild,\r\n  appendQuestionBlock,\r\n  getRequiredAttr,\r\n  hasChildNode,\r\n  getChildNode,\r\n  readQuestionBlock,\r\n  getAttrWithDefault,\r\n} from \"./utils/xml\";\r\n\r\nexport default {\r\n  serialize(doc, findField, parentNode, field) {\r\n    const questionBlock = appendQuestionBlock(\r\n      doc,\r\n      findField,\r\n      parentNode,\r\n      \"binary\",\r\n      field\r\n    );\r\n    appendChild(doc, questionBlock, \"signature\", null, {\r\n      src:\r\n        field.settings.value === \"#\"\r\n          ? \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\r\n          : field.settings.value,\r\n    });\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return (\r\n      node.nodeName === \"question_block\" && hasChildNode(node, \"signature\")\r\n    );\r\n  },\r\n\r\n  deserialize(node) {\r\n    let field = readQuestionBlock(node, \"signature\", \"binary\"); // eslint-disable-line prefer-const\r\n    field.settings.required = getRequiredAttr(node, \"required\") === \"true\";\r\n\r\n    const signatureNode = getChildNode(node, \"signature\");\r\n    field.settings.dataUrl =\r\n      getAttrWithDefault(signatureNode, \"src\", \"\").trim() || undefined;\r\n\r\n    field.settings.value =\r\n      getAttrWithDefault(signatureNode, \"src\", \"\").trim() || undefined;\r\n\r\n    return field;\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  appendChild,\r\n  appendVisRules,\r\n  appendStaticTagRules,\r\n  appendImages,\r\n  getChildNodes,\r\n  getRequiredAttr,\r\n  readImages,\r\n  getAttrWithDefault,\r\n  appendPrintTagRules,\r\n  appendAuthorizationRules,\r\n  appendExtVisRules,\r\n} from \"./utils/xml\";\r\nimport uuid from \"node-uuid\";\r\nimport { DEFAULT_LANG } from \"./constants/global\";\r\n\r\nexport default {\r\n  serialize(doc, findField, parentNode, field) {\r\n    const { id } = field;\r\n    const {\r\n      identifier,\r\n      textI18n,\r\n      important,\r\n      visRules,\r\n      images,\r\n      authorizationRules,\r\n      tagRules,\r\n      printTagRules,\r\n      externalVisRules,\r\n    } = field.settings;\r\n\r\n    const labelNode = appendChild(doc, parentNode, \"label\", null, {\r\n      guid: id,\r\n      identifier: identifier,\r\n      important,\r\n    });\r\n\r\n    Object.keys(textI18n).forEach((lang) => {\r\n      if (typeof textI18n[lang] !== \"undefined\") {\r\n        appendChild(doc, labelNode, \"text\", textI18n[lang], { lang });\r\n      }\r\n    });\r\n\r\n    appendVisRules(doc, findField, labelNode, visRules);\r\n    appendExtVisRules(doc, findField, labelNode, externalVisRules);\r\n    appendImages(doc, labelNode, images);\r\n    appendAuthorizationRules(doc, labelNode, field, authorizationRules);\r\n    appendStaticTagRules(doc, labelNode, field, tagRules);\r\n    appendPrintTagRules(doc, labelNode, field, printTagRules);\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return node.nodeName === \"label\";\r\n  },\r\n\r\n  deserialize(node) {\r\n    const textI18n = getChildNodes(node, \"text\").reduce((acc, textNode) => {\r\n      return Object.assign({}, acc, {\r\n        [getAttrWithDefault(\r\n          textNode,\r\n          \"lang\",\r\n          DEFAULT_LANG\r\n        )]: textNode.textContent,\r\n      });\r\n    }, {});\r\n\r\n    return {\r\n      id: getAttrWithDefault(node, \"guid\", uuid.v4()),\r\n      type: \"staticText\",\r\n      settings: {\r\n        identifier: getAttrWithDefault(node, \"identifier\", uuid.v4()),\r\n        textI18n: textI18n,\r\n        important: getRequiredAttr(node, \"important\") === \"true\",\r\n        images: readImages(node),\r\n      },\r\n    };\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport Ops from \"../constants/VisibilityOperators\";\r\nimport uuid from \"node-uuid\";\r\nimport assert from \"assert\";\r\nimport { DEFAULT_LANG } from \"../constants/global\";\r\nimport { FREE_TEXT_VALUE } from \"../utils/options\";\r\nimport _ from \"lodash\";\r\nimport moment from \"moment\";\r\nimport serialize from \"../serialize\";\r\n\r\nexport function readQuestionBlock(node, type, expectedReturnType) {\r\n  if (getRequiredAttr(node, \"return-type\") !== expectedReturnType) {\r\n    throw new Error(`return-type of ${type} is not ${expectedReturnType}`);\r\n  }\r\n\r\n  const questionNode = getChildNode(node, \"question\");\r\n\r\n  const labelI18n = getChildNodes(questionNode, \"text\").reduce(\r\n    (acc, textNode) => {\r\n      return Object.assign({}, acc, {\r\n        [getAttrWithDefault(\r\n          textNode,\r\n          \"lang\",\r\n          DEFAULT_LANG\r\n        )]: textNode.textContent,\r\n      });\r\n    },\r\n    {}\r\n  );\r\n\r\n  const descriptionI18n = {\r\n    [DEFAULT_LANG]: getAttrWithDefault(questionNode, \"description\", undefined),\r\n  };\r\n\r\n  getChildNodes(questionNode, \"description\").forEach((descriptionNode) => {\r\n    descriptionI18n[getRequiredAttr(descriptionNode, \"lang\")] =\r\n      descriptionNode.textContent;\r\n  });\r\n\r\n  const annotatable = hasChildNode(node, \"annotation\");\r\n  let annotation = null;\r\n\r\n  if (annotatable) {\r\n    const annotationNode = getChildNode(node, \"annotation\");\r\n\r\n    const text = getChildNodes(annotationNode, \"text\")\r\n      .map((n) => n.textContent)\r\n      .join(\" \");\r\n    const imageUrl = hasChildNode(annotationNode, \"image\")\r\n      ? getRequiredAttr(getChildNode(annotationNode, \"image\"), \"src\")\r\n      : null;\r\n\r\n    if (text || imageUrl) {\r\n      annotation = { text, imageUrl };\r\n    }\r\n  }\r\n\r\n  const tags = _.uniq(\r\n    getAttrWithDefault(node, \"tags\", \"\")\r\n      .split(\",\")\r\n      .map((tag) => tag.trim())\r\n      .filter((tag) => tag)\r\n  );\r\n\r\n  return {\r\n    id: getAttrWithDefault(node, \"guid\", uuid.v4()),\r\n    type: type,\r\n    annotation,\r\n    tags,\r\n    settings: {\r\n      identifier: getRequiredAttr(node, \"identifier\"),\r\n      labelI18n: labelI18n,\r\n      important: getRequiredAttr(node, \"important\") === \"true\",\r\n      annotatable: annotatable,\r\n      descriptionI18n: descriptionI18n,\r\n      images: readImages(questionNode),\r\n    },\r\n  };\r\n}\r\n\r\nexport function readImages(questionNode) {\r\n  return getChildNodes(questionNode, \"image\").map((n) => ({\r\n    id: uuid.v4(),\r\n    url: getRequiredAttr(n, \"src\"),\r\n  }));\r\n}\r\n\r\nexport function getAttrWithDefault(node, attrName, defaultValue) {\r\n  if (node.hasAttribute(attrName)) {\r\n    return node.getAttribute(attrName);\r\n  } else {\r\n    return defaultValue;\r\n  }\r\n}\r\n\r\nexport function getRequiredAttr(node, attrName) {\r\n  if (node.hasAttribute(attrName)) {\r\n    return node.getAttribute(attrName);\r\n  } else {\r\n    throw new Error(\r\n      `Expected \"${node.nodeName}\" element to have an attribute \"${attrName}\"`\r\n    );\r\n  }\r\n}\r\n\r\nexport function getValueAttr(node, attrName) {\r\n  if (node.hasAttribute(attrName)) {\r\n    return node.getAttribute(attrName);\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nexport function hasChildNode(node, childName) {\r\n  if (node.hasChildNodes()) {\r\n    for (let i = 0; i < node.childNodes.length; i += 1) {\r\n      const child = node.childNodes[i];\r\n      if (child.nodeName === childName) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nexport function getChildNode(node, childName) {\r\n  if (node.hasChildNodes()) {\r\n    for (let i = 0; i < node.childNodes.length; i += 1) {\r\n      const child = node.childNodes[i];\r\n      if (child.nodeName === childName) {\r\n        return child;\r\n      }\r\n    }\r\n  }\r\n\r\n  throw new Error(\r\n    `Expected element \"${node.nodeName}\" to have a \"${childName}\" child element.`\r\n  );\r\n}\r\n\r\nexport function getChildNodes(node, childName) {\r\n  let result = []; // eslint-disable-line prefer-const\r\n\r\n  if (node.hasChildNodes()) {\r\n    for (let i = 0; i < node.childNodes.length; i += 1) {\r\n      const child = node.childNodes[i];\r\n      if (child.nodeName === childName) {\r\n        result.push(child);\r\n      }\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport function appendChild(\r\n  doc,\r\n  parentNode,\r\n  name,\r\n  textContent = \"\",\r\n  attributes = {},\r\n  isTextContentEncode = true\r\n) {\r\n  const node = doc.createElement(name);\r\n  parentNode.appendChild(node);\r\n\r\n  Object.keys(attributes).forEach((key) => {\r\n    let value = attributes[key];\r\n    if (value !== null) {\r\n      if (typeof value === \"string\") {\r\n        value = value.replace(\"\\n\", \" \");\r\n      }\r\n      node.setAttribute(key, value);\r\n    }\r\n  });\r\n\r\n  // TODO check how newlines are handled, that is, are they still there when the sfdl is imported?\r\n  if (textContent) {\r\n    if (isTextContentEncode)\r\n      node.appendChild(\r\n        doc.createTextNode(\r\n          decodeURIComponent(\r\n            encodeURIComponent(textContent).split(\"%C2%AD\").join(\"\")\r\n          )\r\n        )\r\n      );\r\n    else node.appendChild(doc.createTextNode(textContent));\r\n  }\r\n\r\n  return node;\r\n}\r\n\r\nexport function appendChildWithLineBreak(\r\n  doc,\r\n  parentNode,\r\n  name,\r\n  textContent = \"\",\r\n  attributes = {}\r\n) {\r\n  const node = doc.createElement(name);\r\n  parentNode.appendChild(node);\r\n\r\n  Object.keys(attributes).forEach((key) => {\r\n    let value = attributes[key];\r\n    if (value !== null) {\r\n      node.setAttribute(key, value);\r\n    }\r\n  });\r\n\r\n  // TODO check how newlines are handled, that is, are they still there when the sfdl is imported?\r\n  if (textContent) {\r\n    const textNode = doc.createTextNode(\r\n      decodeURIComponent(\r\n        encodeURIComponent(textContent).split(\"%C2%AD\").join(\"\")\r\n      )\r\n    );\r\n    node.appendChild(textNode);\r\n  }\r\n\r\n  return node;\r\n}\r\n\r\nexport function appendQuestionBlock(\r\n  doc,\r\n  findField,\r\n  parentNode,\r\n  returnType,\r\n  field\r\n) {\r\n  const { id, settings } = field;\r\n  const {\r\n    identifier,\r\n    labelI18n,\r\n    important,\r\n    annotatable,\r\n    descriptionI18n,\r\n    visRules,\r\n    images,\r\n    authorizationRules,\r\n    tagRules,\r\n    printTagRules,\r\n    buttonDescriptions,\r\n    externalVisRules,\r\n    value,\r\n    // value,\r\n  } = settings;\r\n  const required = settings.hasOwnProperty(\"required\")\r\n    ? settings.required\r\n    : false;\r\n\r\n  let initValue = \"\";\r\n\r\n  if (value) {\r\n    if (value.includes(\",\")) {\r\n      initValue = value.split(\",\");\r\n    } else {\r\n      initValue = value;\r\n    }\r\n  } else {\r\n    initValue = \"\";\r\n  }\r\n\r\n  const questionBlock = appendChild(doc, parentNode, \"question_block\", null, {\r\n    guid: id,\r\n    identifier: identifier,\r\n    required: required,\r\n    important: important,\r\n    \"return-type\": returnType,\r\n    value: initValue,\r\n  });\r\n\r\n  if (annotatable) {\r\n    appendChild(doc, questionBlock, \"annotation\");\r\n  }\r\n\r\n  appendVisRules(doc, findField, questionBlock, visRules);\r\n  appendExtVisRules(doc, findField, questionBlock, externalVisRules);\r\n  appendAuthorizationRules(doc, questionBlock, field, authorizationRules);\r\n  appendTagRules(doc, questionBlock, field, tagRules);\r\n  appendPrintTagRules(doc, questionBlock, field, printTagRules);\r\n  appendButtonDescriptions(doc, questionBlock, buttonDescriptions);\r\n\r\n  const questionNode = appendChild(doc, questionBlock, \"question\");\r\n\r\n  Object.keys(labelI18n).forEach((lang) => {\r\n    if (typeof labelI18n[lang] !== \"undefined\") {\r\n      appendChild(doc, questionNode, \"text\", labelI18n[lang], { lang });\r\n    }\r\n  });\r\n\r\n  Object.keys(descriptionI18n).forEach((lang) => {\r\n    if (typeof descriptionI18n[lang] !== \"undefined\") {\r\n      appendChild(doc, questionNode, \"description\", descriptionI18n[lang], {\r\n        lang,\r\n      });\r\n    }\r\n  });\r\n\r\n  appendImages(doc, questionNode, images);\r\n\r\n  return questionBlock;\r\n}\r\n\r\nexport function appendStaticTagRules(doc, parentNode, field, tagRules) {\r\n  if (tagRules && tagRules.length > 0) {\r\n    const tagRulesNode = appendChild(doc, parentNode, \"tag_rules\");\r\n\r\n    tagRules.forEach(({ tagName, operatorId, argument, alwaysAdd }) => {\r\n      assert(tagName); // this must be added earlier in the serialization process\r\n\r\n      appendChild(doc, tagRulesNode, \"tag\", null, { name: tagName });\r\n    });\r\n  }\r\n}\r\n\r\nexport function appendImages(doc, parentNode, images) {\r\n  images.forEach(({ url }) => {\r\n    appendChild(doc, parentNode, \"image\", null, { src: url });\r\n  });\r\n}\r\n\r\nexport function appendVisRules(doc, findField, parentNode, visRules) {\r\n  if (Array.isArray(visRules)) {\r\n    if (visRules.length > 0) {\r\n      // const first = visRules[0];\r\n      const visRulesNode = appendChild(\r\n        doc,\r\n        parentNode,\r\n        \"visibility_rules\",\r\n        null\r\n      );\r\n\r\n      visRules.forEach((child) => {\r\n        appendVisRules(doc, findField, visRulesNode, child);\r\n      });\r\n    }\r\n  } else {\r\n    const {\r\n      fieldId,\r\n      operatorId,\r\n      argument,\r\n      conjunctionOperator,\r\n      positionRule,\r\n    } = visRules;\r\n    const field = findField(fieldId);\r\n    const { settings } = field;\r\n\r\n    assert(typeof settings.identifier === \"string\");\r\n\r\n    appendChild(doc, parentNode, \"condition\", null, {\r\n      \"field-identifier\": settings.identifier,\r\n      operator: operatorId,\r\n      \"conjunction-operator\": conjunctionOperator,\r\n      argument: ruleArgumentToString(field, operatorId, argument),\r\n      positionRule: positionRule,\r\n    });\r\n  }\r\n}\r\n\r\nexport function appendTagRules(doc, parentNode, field, tagRules) {\r\n  if (tagRules && tagRules.length > 0) {\r\n    const tagRulesNode = appendChild(doc, parentNode, \"tag_rules\");\r\n\r\n    tagRules.forEach(({ tagName, operatorId, argument, alwaysAdd }) => {\r\n      assert(tagName); // this must be added earlier in the serialization process\r\n\r\n      if (alwaysAdd) {\r\n        appendChild(doc, tagRulesNode, \"tag\", null, { name: tagName });\r\n      } else {\r\n        argument = ruleArgumentToString(field, operatorId, argument);\r\n\r\n        appendChild(doc, tagRulesNode, \"tag_rule\", null, {\r\n          tag: tagName,\r\n          operator: operatorId,\r\n          argument: argument,\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport function appendPrintTagRules(doc, parentNode, field, printTagRules) {\r\n  if (printTagRules && printTagRules.length > 0) {\r\n    const printTagRulesNode = appendChild(doc, parentNode, \"print_tag_rules\");\r\n\r\n    printTagRules.forEach(({ tagName }) => {\r\n      appendChild(doc, printTagRulesNode, \"tag\", null, { name: tagName });\r\n    });\r\n  }\r\n}\r\n\r\nexport function appendAuthorizationRules(\r\n  doc,\r\n  parentNode,\r\n  field,\r\n  authorizationRules\r\n) {\r\n  if (authorizationRules && authorizationRules.length > 0) {\r\n    const authorizationRulesNode = appendChild(\r\n      doc,\r\n      parentNode,\r\n      \"authorization_rules\"\r\n    );\r\n\r\n    authorizationRules.forEach(({ authorizationName }) => {\r\n      appendChild(doc, authorizationRulesNode, \"authorization\", null, {\r\n        name: authorizationName,\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nexport function ruleArgumentToString(field, operatorId, argument) {\r\n  const argType = Ops[operatorId].argType;\r\n  const { settings } = field;\r\n\r\n  if (argType === \"optionId\" && argument !== FREE_TEXT_VALUE) {\r\n    const { options } = settings;\r\n    const option = options.find((o) => o.value === argument);\r\n    argument = option.value;\r\n  }\r\n\r\n  if (argType === \"date\") {\r\n    assert(moment.isMoment(argument));\r\n    argument = argument.format(\"YYYY-MM-DD\");\r\n  }\r\n\r\n  return argument;\r\n}\r\n\r\nexport function appendExtVisRules(\r\n  doc,\r\n  findField,\r\n  parentNode,\r\n  externalVisRules\r\n) {\r\n  if (externalVisRules) {\r\n    if (Array.isArray(externalVisRules)) {\r\n      if (externalVisRules.length > 0) {\r\n        // const first = externalVisRules[0];\r\n        const extVisRulesNode = appendChild(\r\n          doc,\r\n          parentNode,\r\n          \"external_visibility_rules\",\r\n          null\r\n        );\r\n\r\n        externalVisRules.forEach((child) => {\r\n          appendExtVisRules(doc, findField, extVisRulesNode, child);\r\n        });\r\n      }\r\n    } else {\r\n      const {\r\n        fieldId,\r\n        operatorId,\r\n        argument,\r\n        conjunctionOperator,\r\n        fields,\r\n        form,\r\n        positionRule,\r\n      } = externalVisRules;\r\n      const field = fields.find((f) => f.id === fieldId);\r\n      const { settings } = field;\r\n\r\n      assert(typeof settings.identifier === \"string\");\r\n\r\n      const extConditionNode = appendChild(doc, parentNode, \"condition\", null, {\r\n        \"field-identifier\": settings.identifier,\r\n        operator: operatorId,\r\n        \"conjunction-operator\": conjunctionOperator,\r\n        argument: ruleArgumentToString(field, operatorId, argument),\r\n        positionRule: positionRule,\r\n      });\r\n      const externalForm = serialize(form, fields);\r\n      appendChild(\r\n        doc,\r\n        extConditionNode,\r\n        \"external_form\",\r\n        externalForm,\r\n        {},\r\n        false\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport function appendButtonDescriptions(doc, parentNode, buttonDescriptions) {\r\n  if (buttonDescriptions && buttonDescriptions.length > 0) {\r\n    const buttonDescriptionsNode = appendChild(\r\n      doc,\r\n      parentNode,\r\n      \"button_descriptions\"\r\n    );\r\n\r\n    buttonDescriptions.forEach(\r\n      ({ selectedDescriptionId, selectedButtonId }) => {\r\n        appendChild(doc, buttonDescriptionsNode, \"button_description\", null, {\r\n          \"selected-description-id\": selectedDescriptionId,\r\n          \"selected-button-id\": selectedButtonId,\r\n        });\r\n      }\r\n    );\r\n  }\r\n}\r\n\r\nexport function appendValue(doc, parentNode, value) {\r\n  if (value && value.length > 0) {\r\n    appendChild(doc, parentNode, \"value\", value);\r\n  }\r\n}\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  appendChild,\r\n  appendQuestionBlock,\r\n  hasChildNode,\r\n  readQuestionBlock,\r\n  getRequiredAttr,\r\n  getChildNode,\r\n} from \"./utils/xml\";\r\n\r\nexport default {\r\n  serialize(doc, findField, parentNode, field) {\r\n    const { initialValue } = field.settings;\r\n\r\n    const questionBlock = appendQuestionBlock(\r\n      doc,\r\n      findField,\r\n      parentNode,\r\n      \"boolean\",\r\n      field\r\n    );\r\n    questionBlock.setAttribute(\"value\", initialValue);\r\n\r\n    appendChild(doc, questionBlock, \"checkbox\", null, {\r\n      value: field.settings.value,\r\n    });\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return node.nodeName === \"question_block\" && hasChildNode(node, \"checkbox\");\r\n  },\r\n\r\n  deserialize(node) {\r\n    let field = readQuestionBlock(node, \"yesNo\", \"boolean\"); // eslint-disable-line prefer-const\r\n\r\n    const checkboxNode = getChildNode(node, \"checkbox\");\r\n    field.settings.initialValue =\r\n      getRequiredAttr(checkboxNode, \"value\") === \"true\";\r\n\r\n    return field;\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  appendChild,\r\n  appendQuestionBlock,\r\n  hasChildNode,\r\n  readQuestionBlock,\r\n  getRequiredAttr,\r\n  getChildNode,\r\n  getAttrWithDefault,\r\n} from \"./utils/xml\";\r\n\r\nexport default {\r\n  serialize(doc, findField, parentNode, field) {\r\n    const { min, max, step, initialValue, value } = field.settings;\r\n\r\n    const questionBlock = appendQuestionBlock(\r\n      doc,\r\n      findField,\r\n      parentNode,\r\n      \"decimal\",\r\n      field\r\n    );\r\n    questionBlock.setAttribute(\"value\", initialValue);\r\n\r\n    appendChild(doc, questionBlock, \"range\", null, {\r\n      from: min,\r\n      to: max,\r\n      step: step,\r\n      value,\r\n    });\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return node.nodeName === \"question_block\" && hasChildNode(node, \"range\");\r\n  },\r\n\r\n  deserialize(node) {\r\n    let field = readQuestionBlock(node, \"slider\", \"decimal\"); // eslint-disable-line prefer-const\r\n\r\n    const rangeNode = getChildNode(node, \"range\");\r\n    field.settings.min = Number(getRequiredAttr(rangeNode, \"from\"));\r\n    field.settings.max = Number(getRequiredAttr(rangeNode, \"to\"));\r\n    field.settings.step = Number(getRequiredAttr(rangeNode, \"step\"));\r\n    field.settings.initialValue = Number(getRequiredAttr(rangeNode, \"value\"));\r\n\r\n    const value = Number(getAttrWithDefault(node, \"value\", \"x\"));\r\n    if (!Number.isNaN(value)) {\r\n      field.settings.value = value;\r\n    }\r\n\r\n    return field;\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  appendChild,\r\n  appendQuestionBlock,\r\n  hasChildNode,\r\n  getChildNode,\r\n  getChildNodes,\r\n  getRequiredAttr,\r\n  getAttrWithDefault,\r\n  readQuestionBlock,\r\n} from \"./utils/xml\";\r\nimport { FREE_TEXT_VALUE } from \"./utils/options\";\r\nimport { DEFAULT_LANG } from \"./constants/global\";\r\nimport uuid from \"node-uuid\";\r\n\r\nexport default {\r\n  serialize(doc, findField, parentNode, field) {\r\n    const { options, includeOther } = field.settings;\r\n\r\n    const questionBlock = appendQuestionBlock(\r\n      doc,\r\n      findField,\r\n      parentNode,\r\n      \"string[]\",\r\n      field\r\n    );\r\n\r\n    const multiGroup = appendChild(doc, questionBlock, \"multi_group\");\r\n\r\n    options.forEach(({ id, nameI18n, value }) => {\r\n      const optionNode = appendChild(doc, multiGroup, \"option\", null, {\r\n        value: value,\r\n        selected: field.settings.value.includes(value),\r\n      });\r\n\r\n      Object.keys(nameI18n).forEach((lang) => {\r\n        if (typeof nameI18n[lang] !== \"undefined\") {\r\n          appendChild(doc, optionNode, \"text\", nameI18n[lang], { lang });\r\n        }\r\n      });\r\n    });\r\n\r\n    if (includeOther) {\r\n      const optionNode = appendChild(doc, multiGroup, \"option\", null, {\r\n        value: FREE_TEXT_VALUE,\r\n        selected: false,\r\n      });\r\n      appendChild(doc, optionNode, \"textfield\");\r\n    }\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return (\r\n      node.nodeName === \"question_block\" && hasChildNode(node, \"multi_group\")\r\n    );\r\n  },\r\n\r\n  deserialize(node) {\r\n    let field = readQuestionBlock(node, \"checkboxes\", \"string[]\"); // eslint-disable-line prefer-const\r\n\r\n    const multiGroupNode = getChildNode(node, \"multi_group\");\r\n    const optionNodes = getChildNodes(multiGroupNode, \"option\");\r\n\r\n    let selectedValues = getAttrWithDefault(node, \"value\", \"\");\r\n    field.settings.value =\r\n      selectedValues === \"\" ? [] : selectedValues.split(\",\");\r\n\r\n    let options = []; // eslint-disable-line prefer-const\r\n    let selectedIds = []; // eslint-disable-line prefer-const\r\n    field.settings.options = options;\r\n    field.settings.selectedIds = selectedIds;\r\n\r\n    field.settings.includeOther = false;\r\n\r\n    optionNodes.forEach((optionNode) => {\r\n      if (hasChildNode(optionNode, \"textfield\")) {\r\n        const otherTextFieldNode = getChildNode(optionNode, \"textfield\");\r\n        field.settings.includeOther = true;\r\n        field.settings.otherOptionText = otherTextFieldNode.textContent;\r\n        field.settings.otherOptionSelected =\r\n          getAttrWithDefault(optionNode, \"selected\", \"false\") === \"true\";\r\n      } else {\r\n        const optionId = uuid.v4();\r\n\r\n        const nameI18n = getChildNodes(optionNode, \"text\").reduce(\r\n          (acc, textNode) => {\r\n            return Object.assign({}, acc, {\r\n              [getAttrWithDefault(\r\n                textNode,\r\n                \"lang\",\r\n                DEFAULT_LANG\r\n              )]: textNode.textContent,\r\n            });\r\n          },\r\n          {}\r\n        );\r\n\r\n        options.push({\r\n          id: optionId,\r\n          nameI18n: nameI18n,\r\n          value: getRequiredAttr(optionNode, \"value\"),\r\n        });\r\n\r\n        if (getAttrWithDefault(optionNode, \"selected\", \"false\") === \"true\") {\r\n          selectedIds.push(optionId);\r\n        }\r\n      }\r\n    });\r\n\r\n    return field;\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  appendChild,\r\n  appendQuestionBlock,\r\n  hasChildNode,\r\n  getRequiredAttr,\r\n  readQuestionBlock,\r\n  getChildNode,\r\n  getAttrWithDefault,\r\n} from \"./utils/xml\";\r\n\r\nexport default {\r\n  serialize(doc, findField, parentNode, field) {\r\n    const {\r\n      notApplicableOption,\r\n      changeDescription,\r\n      fixedOption,\r\n    } = field.settings;\r\n\r\n    // TODO string is probably not the ideal choice for return-type\r\n    const questionBlock = appendQuestionBlock(\r\n      doc,\r\n      findField,\r\n      parentNode,\r\n      \"string\",\r\n      field\r\n    );\r\n\r\n    appendChild(doc, questionBlock, \"na_yes_no\", null, {\r\n      \"not-applicable-option\": notApplicableOption,\r\n      \"fixed-option\": fixedOption,\r\n      \"change-button-description-option\": changeDescription\r\n        ? changeDescription\r\n        : \"false\",\r\n      value: field.settings.value,\r\n      itemTexts: field.settings.itemTexts,\r\n      itemValues: field.settings.itemValues,\r\n    });\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return (\r\n      node.nodeName === \"question_block\" && hasChildNode(node, \"na_yes_no\")\r\n    );\r\n  },\r\n\r\n  deserialize(node) {\r\n    let field = readQuestionBlock(node, \"naYesNo\", \"string\"); // eslint-disable-line prefer-const\r\n    field.settings.required = getRequiredAttr(node, \"required\") === \"true\";\r\n\r\n    const naYesNoNode = getChildNode(node, \"na_yes_no\");\r\n    field.settings.notApplicableOption =\r\n      getRequiredAttr(naYesNoNode, \"not-applicable-option\") === \"true\";\r\n    field.settings.fixedOption =\r\n      getAttrWithDefault(naYesNoNode, \"fixed-option\", \"false\") === \"true\";\r\n    field.settings.changeDescription =\r\n      getAttrWithDefault(\r\n        naYesNoNode,\r\n        \"change-button-description-option\",\r\n        \"false\"\r\n      ) === \"true\";\r\n\r\n    field.settings.value =\r\n      getAttrWithDefault(naYesNoNode, \"value\", \"\").trim() || undefined;\r\n\r\n    let itemTexts = getAttrWithDefault(naYesNoNode, \"itemTexts\", \"\");\r\n    field.settings.itemTexts = itemTexts === \"\" ? [] : itemTexts.split(\",\");\r\n\r\n    let itemValues = getAttrWithDefault(naYesNoNode, \"itemValues\", \"\");\r\n    field.settings.itemValues = itemValues === \"\" ? [] : itemValues.split(\",\");\r\n\r\n    return field;\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nexport default {\r\n  serialize() {\r\n    throw new Error(\"sectionBreak serializer called\");\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return false;\r\n  },\r\n\r\n  deserialize(node) {\r\n    throw new Error(\"sectionBreak deserializer called\");\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nexport default {\r\n  serialize() {\r\n    throw new Error(\"pageBreak serializer called\");\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return false;\r\n  },\r\n\r\n  deserialize(node) {\r\n    throw new Error(\"pageBreak deserializer called\");\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  appendChild,\r\n  appendQuestionBlock,\r\n  hasChildNode,\r\n  getChildNode,\r\n  getRequiredAttr,\r\n  getAttrWithDefault,\r\n  readQuestionBlock,\r\n} from \"./utils/xml\";\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n  serialize(doc, findField, parentNode, field) {\r\n    const questionBlock = appendQuestionBlock(\r\n      doc,\r\n      findField,\r\n      parentNode,\r\n      \"date\",\r\n      field\r\n    );\r\n    const {\r\n      includeTime,\r\n      pastDateNotAllowed,\r\n      futureDateNotAllowed,\r\n      changeNotAllowed,\r\n      hasDefaultValue,\r\n      //   defaultValue,\r\n      value,\r\n    } = field.settings;\r\n\r\n    var attr = {\r\n      \"past-date-not-allowed\": pastDateNotAllowed,\r\n      \"future-date-not-allowed\": futureDateNotAllowed,\r\n      \"change-not-allowed\": changeNotAllowed,\r\n      \"has-default-value\": hasDefaultValue,\r\n      value: value,\r\n    };\r\n\r\n    if (hasDefaultValue) {\r\n      attr[\"default-value\"] = \"filleddate\";\r\n    }\r\n\r\n    appendChild(\r\n      doc,\r\n      questionBlock,\r\n      includeTime ? \"datetime\" : \"date\",\r\n      \"\",\r\n      attr\r\n    );\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return (\r\n      node.nodeName === \"question_block\" &&\r\n      (hasChildNode(node, \"date\") || hasChildNode(node, \"datetime\"))\r\n    );\r\n  },\r\n\r\n  deserialize(node) {\r\n    let field = readQuestionBlock(node, \"date\", \"date\"); // eslint-disable-line prefer-const\r\n    field.settings.required = getRequiredAttr(node, \"required\") === \"true\";\r\n\r\n    const includeTime = hasChildNode(node, \"datetime\");\r\n    field.settings.includeTime = includeTime;\r\n\r\n    const dateNode = getChildNode(node, includeTime ? \"datetime\" : \"date\");\r\n\r\n    const dateString = dateNode.textContent;\r\n    if (dateString && dateString.trim() !== \"\") {\r\n      if (includeTime) {\r\n        field.settings.value = moment(new Date(dateString));\r\n      } else {\r\n        field.settings.value = moment(dateString, \"YYYY-MM-DD\");\r\n      }\r\n    }\r\n\r\n    field.settings.pastDateNotAllowed =\r\n      getAttrWithDefault(dateNode, \"past-date-not-allowed\", \"false\") === \"true\";\r\n    field.settings.futureDateNotAllowed =\r\n      getAttrWithDefault(dateNode, \"future-date-not-allowed\", \"false\") ===\r\n      \"true\";\r\n    field.settings.changeNotAllowed =\r\n      getAttrWithDefault(dateNode, \"change-not-allowed\", \"false\") === \"true\";\r\n    field.settings.hasDefaultValue =\r\n      getAttrWithDefault(dateNode, \"has-default-value\", \"false\") === \"true\";\r\n\r\n    field.settings.value = getAttrWithDefault(dateNode, \"value\", \"\");\r\n\r\n    return field;\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  appendChild,\r\n  appendQuestionBlock,\r\n  hasChildNode,\r\n  getChildNode,\r\n  getRequiredAttr,\r\n  readQuestionBlock,\r\n  getAttrWithDefault,\r\n} from \"./utils/xml\";\r\n\r\nexport default {\r\n  serialize(doc, findField, parentNode, field) {\r\n    const { formula } = field.settings;\r\n\r\n    const questionBlock = appendQuestionBlock(\r\n      doc,\r\n      findField,\r\n      parentNode,\r\n      \"decimal\",\r\n      field\r\n    );\r\n    appendChild(doc, questionBlock, \"calculation\", null, {\r\n      formula: formula || \"0\",\r\n    });\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return (\r\n      node.nodeName === \"question_block\" && hasChildNode(node, \"calculation\")\r\n    );\r\n  },\r\n\r\n  deserialize(node) {\r\n    let field = readQuestionBlock(node, \"calculation\", \"decimal\"); // eslint-disable-line prefer-const\r\n\r\n    const calculationNode = getChildNode(node, \"calculation\");\r\n    field.settings.formula = getRequiredAttr(calculationNode, \"formula\");\r\n\r\n    const value = parseFloat(getAttrWithDefault(node, \"value\", \"\"));\r\n    if (!Number.isNaN(value)) {\r\n      field.settings.value = value;\r\n    }\r\n\r\n    return field;\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  appendChild,\r\n  appendQuestionBlock,\r\n  getRequiredAttr,\r\n  hasChildNode,\r\n  getChildNode,\r\n  readQuestionBlock,\r\n  getAttrWithDefault,\r\n} from \"./utils/xml\";\r\n\r\nexport default {\r\n  serialize(doc, findField, parentNode, field) {\r\n    const questionBlock = appendQuestionBlock(\r\n      doc,\r\n      findField,\r\n      parentNode,\r\n      \"binary\",\r\n      field\r\n    );\r\n    appendChild(doc, questionBlock, \"photo\", null, {\r\n      src:\r\n        field.settings.value === \"#\"\r\n          ? \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\r\n          : field.settings.value,\r\n    });\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return node.nodeName === \"question_block\" && hasChildNode(node, \"photo\");\r\n  },\r\n\r\n  deserialize(node) {\r\n    let field = readQuestionBlock(node, \"photo\", \"binary\"); // eslint-disable-line prefer-const\r\n    field.settings.required = getRequiredAttr(node, \"required\") === \"true\";\r\n\r\n    const photoNode = getChildNode(node, \"photo\");\r\n    field.settings.dataUrl =\r\n      getAttrWithDefault(photoNode, \"src\", \"\").trim() || undefined;\r\n\r\n    field.settings.value =\r\n      getAttrWithDefault(photoNode, \"src\", \"\").trim() || undefined;\r\n\r\n    return field;\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  appendChild,\r\n  appendQuestionBlock,\r\n  hasChildNode,\r\n  getChildNode,\r\n  getChildNodes,\r\n  getRequiredAttr,\r\n  getAttrWithDefault,\r\n  readQuestionBlock,\r\n} from \"./utils/xml\";\r\nimport { DEFAULT_LANG } from \"./constants/global\";\r\nimport uuid from \"node-uuid\";\r\n\r\nexport default {\r\n  serialize(doc, findField, parentNode, field) {\r\n    const { trs, changeNotAllowed } = field.settings;\r\n    const questionBlock = appendQuestionBlock(\r\n      doc,\r\n      findField,\r\n      parentNode,\r\n      \"string[]\",\r\n      field\r\n    );\r\n    var attr = { \"change-not-allowed\": changeNotAllowed };\r\n\r\n    const table = appendChild(doc, questionBlock, \"table\", \"\", attr);\r\n\r\n    trs.forEach((tr) => {\r\n      const trNode = appendChild(doc, table, \"tr\");\r\n\r\n      tr.tds.forEach((td) => {\r\n        var attr = tr.columnHeader ? { width: td.width } : {};\r\n        const tdNode = appendChild(doc, trNode, \"td\", \"\", attr);\r\n        if (\r\n          tr.columnHeader === true ||\r\n          td.rowHeader === true ||\r\n          changeNotAllowed\r\n        ) {\r\n          Object.keys(td.nameI18n).forEach((lang) => {\r\n            if (typeof td.nameI18n[lang] !== \"undefined\") {\r\n              appendChild(doc, tdNode, \"text\", td.nameI18n[lang], { lang });\r\n            }\r\n          });\r\n        } else {\r\n          appendChild(doc, tdNode, \"textfield\", td.name);\r\n        }\r\n      });\r\n    });\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return node.nodeName === \"question_block\" && hasChildNode(node, \"table\");\r\n  },\r\n\r\n  deserialize(node) {\r\n    let field = readQuestionBlock(node, \"table\", \"string[]\"); // eslint-disable-line prefer-const\r\n\r\n    const tableNode = getChildNode(node, \"table\");\r\n    const trNodes = getChildNodes(tableNode, \"tr\");\r\n    const changeNotAllowed =\r\n      getAttrWithDefault(tableNode, \"change-not-allowed\", \"false\") === \"true\";\r\n    let trs = []; // eslint-disable-line prefer-const\r\n    field.settings.trs = trs;\r\n    field.settings.required = getRequiredAttr(node, \"required\") === \"true\";\r\n\r\n    trNodes.forEach((trNode, trIndex) => {\r\n      const trId = uuid.v4();\r\n      let tds = [];\r\n      if (trIndex === 0) {\r\n        trs.push({\r\n          id: trId,\r\n          columnHeader: true,\r\n          tds: tds,\r\n        });\r\n      } else {\r\n        trs.push({\r\n          id: trId,\r\n          tds: tds,\r\n        });\r\n      }\r\n      const tdNodes = getChildNodes(trNode, \"td\");\r\n\r\n      tdNodes.forEach((tdNode, tdIndex) => {\r\n        const tdId = uuid.v4();\r\n        trs[trIndex].tds.push({\r\n          id: tdId,\r\n        });\r\n\r\n        if (trIndex === 0) {\r\n          const nameI18n = getChildNodes(tdNode, \"text\").reduce(\r\n            (acc, textNode) => {\r\n              return Object.assign({}, acc, {\r\n                [getAttrWithDefault(\r\n                  textNode,\r\n                  \"lang\",\r\n                  DEFAULT_LANG\r\n                )]: textNode.textContent,\r\n              });\r\n            },\r\n            {}\r\n          );\r\n          trs[trIndex].tds[tdIndex].nameI18n = nameI18n;\r\n          trs[trIndex].tds[tdIndex].width = getAttrWithDefault(\r\n            tdNode,\r\n            \"width\",\r\n            0\r\n          );\r\n        } else if (tdIndex === 0) {\r\n          trs[trIndex].tds[tdIndex].rowHeader = true;\r\n          const nameI18n = getChildNodes(tdNode, \"text\").reduce(\r\n            (acc, textNode) => {\r\n              return Object.assign({}, acc, {\r\n                [getAttrWithDefault(\r\n                  textNode,\r\n                  \"lang\",\r\n                  DEFAULT_LANG\r\n                )]: textNode.textContent,\r\n              });\r\n            },\r\n            {}\r\n          );\r\n          trs[trIndex].tds[tdIndex].nameI18n = nameI18n;\r\n        } else if (changeNotAllowed) {\r\n          const contentNode = getChildNode(tdNode, \"textfield\");\r\n          let nameI18n = {};\r\n          if (contentNode.hasAttribute(\"lang\")) {\r\n            nameI18n = getChildNodes(tdNode, \"text\").reduce((acc, textNode) => {\r\n              return Object.assign({}, acc, {\r\n                [getAttrWithDefault(\r\n                  textNode,\r\n                  \"lang\",\r\n                  DEFAULT_LANG\r\n                )]: textNode.textContent,\r\n              });\r\n            }, {});\r\n          } else {\r\n            //Compatible with older versions\r\n            nameI18n[DEFAULT_LANG] =\r\n              contentNode.textContent !== \"\" &&\r\n              contentNode.textContent !== undefined\r\n                ? contentNode.textContent\r\n                : undefined;\r\n          }\r\n          trs[trIndex].tds[tdIndex].nameI18n = nameI18n;\r\n        } else {\r\n          const contentNode = getChildNode(tdNode, \"textfield\");\r\n          var nameI18n = {};\r\n          nameI18n[DEFAULT_LANG] =\r\n            contentNode.textContent !== \"\" &&\r\n            contentNode.textContent !== undefined\r\n              ? contentNode.textContent\r\n              : undefined;\r\n          trs[trIndex].tds[tdIndex].nameI18n = nameI18n;\r\n        }\r\n      });\r\n    });\r\n\r\n    field.settings.changeNotAllowed = changeNotAllowed;\r\n\r\n    return field;\r\n  },\r\n};\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  appendChild,\r\n  appendQuestionBlock,\r\n  hasChildNode,\r\n  getChildNode,\r\n  getChildNodes,\r\n  getRequiredAttr,\r\n  getAttrWithDefault,\r\n  readQuestionBlock,\r\n  getValueAttr,\r\n} from \"./utils/xml\";\r\nimport { FREE_TEXT_VALUE } from \"./utils/options\";\r\nimport uuid from \"node-uuid\";\r\nimport { DEFAULT_LANG } from \"./constants/global\";\r\n\r\nexport default function genericMCIOFactory(fieldType, xmlElementName) {\r\n  return {\r\n    serialize(doc, findField, parentNode, field) {\r\n      const { options, includeOther } = field.settings;\r\n\r\n      const questionBlock = appendQuestionBlock(\r\n        doc,\r\n        findField,\r\n        parentNode,\r\n        \"string\",\r\n        field\r\n      );\r\n\r\n      const radioGroupOrDropdown = appendChild(\r\n        doc,\r\n        questionBlock,\r\n        xmlElementName\r\n      );\r\n\r\n      options.forEach(({ id, nameI18n, value }) => {\r\n        const optionNode = appendChild(\r\n          doc,\r\n          radioGroupOrDropdown,\r\n          \"option\",\r\n          null,\r\n          {\r\n            value: value,\r\n            selected: value === field.settings.value,\r\n          }\r\n        );\r\n\r\n        Object.keys(nameI18n).forEach((lang) => {\r\n          if (typeof nameI18n[lang] !== \"undefined\") {\r\n            appendChild(doc, optionNode, \"text\", nameI18n[lang], { lang });\r\n          }\r\n        });\r\n      });\r\n\r\n      if (includeOther) {\r\n        const optionNode = appendChild(\r\n          doc,\r\n          radioGroupOrDropdown,\r\n          \"option\",\r\n          null,\r\n          {\r\n            value: FREE_TEXT_VALUE,\r\n            selected: false,\r\n          }\r\n        );\r\n        appendChild(doc, optionNode, \"textfield\");\r\n      }\r\n    },\r\n\r\n    canDeserialize(node) {\r\n      return (\r\n        node.nodeName === \"question_block\" && hasChildNode(node, xmlElementName)\r\n      );\r\n    },\r\n\r\n    deserialize(node) {\r\n      let field = readQuestionBlock(node, fieldType, \"string\"); // eslint-disable-line prefer-const\r\n      field.settings.required = getRequiredAttr(node, \"required\") === \"true\";\r\n\r\n      field.settings.value = getValueAttr(node, \"value\");\r\n\r\n      const radioOrDropdownNode = getChildNode(node, xmlElementName);\r\n      const optionNodes = getChildNodes(radioOrDropdownNode, \"option\");\r\n\r\n      let options = []; // eslint-disable-line prefer-const\r\n      field.settings.options = options;\r\n\r\n      field.settings.selectedId = null;\r\n      field.settings.includeOther = false;\r\n\r\n      optionNodes.forEach((optionNode) => {\r\n        if (hasChildNode(optionNode, \"textfield\")) {\r\n          const otherTextFieldNode = getChildNode(optionNode, \"textfield\");\r\n          field.settings.includeOther = true;\r\n          field.settings.otherOptionText = otherTextFieldNode.textContent;\r\n          field.settings.otherOptionSelected =\r\n            getAttrWithDefault(optionNode, \"selected\", \"false\") === \"true\";\r\n        } else {\r\n          const optionId = uuid.v4();\r\n\r\n          const nameI18n = getChildNodes(optionNode, \"text\").reduce(\r\n            (acc, textNode) => {\r\n              return Object.assign({}, acc, {\r\n                [getAttrWithDefault(\r\n                  textNode,\r\n                  \"lang\",\r\n                  DEFAULT_LANG\r\n                )]: textNode.textContent,\r\n              });\r\n            },\r\n            {}\r\n          );\r\n\r\n          options.push({\r\n            id: optionId,\r\n            nameI18n: nameI18n,\r\n            value: getRequiredAttr(optionNode, \"value\"),\r\n          });\r\n\r\n          if (getAttrWithDefault(optionNode, \"selected\", \"false\") === \"true\") {\r\n            field.settings.selectedId = optionId;\r\n          }\r\n        }\r\n      });\r\n\r\n      if (field.settings.otherOptionSelected) {\r\n        field.settings.selectedId = null;\r\n      }\r\n\r\n      return field;\r\n    },\r\n  };\r\n}\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport FieldTypes from \"./constants/FieldTypes\";\r\n// import assert from \"assert\";\r\n\r\nimport SingleLineIO from \"./SingleLineIO\";\r\nimport ParagraphTextIO from \"./ParagraphTextIO\";\r\nimport NumberIO from \"./NumberIO\";\r\nimport SignatureIO from \"./SignatureIO\";\r\nimport StaticTextIO from \"./StaticTextIO\";\r\nimport YesNoIO from \"./YesNoIO\";\r\nimport SliderIO from \"./SliderIO\";\r\nimport CheckboxesIO from \"./CheckboxesIO\";\r\nimport NaYesNoIO from \"./NaYesNoIO\";\r\nimport SectionIO from \"./SectionIO\";\r\nimport PageIO from \"./PageIO\";\r\nimport DateIO from \"./DateIO\";\r\nimport CalculationIO from \"./CalculationIO\";\r\nimport PhotoIO from \"./PhotoIO\";\r\nimport TableIO from \"./TableIO\";\r\nimport genericMCIOFactory from \"./genericMCIOFactory\";\r\n\r\nfunction register(type, io) {\r\n  // assert(type);\r\n  // assert(FieldTypes[type]);\r\n  // assert(io);\r\n  // assert(!FieldTypes[type].io);\r\n\r\n  FieldTypes[type].io = io;\r\n}\r\n\r\nfunction checkFieldTypes() {\r\n  const uninitializedTypes = Object.keys(FieldTypes)\r\n    .filter((type) => !FieldTypes[type].io)\r\n    .join(\", \");\r\n\r\n  if (uninitializedTypes !== \"\") {\r\n    throw new Error(\"Uninitialized FieldTypes io: \" + uninitializedTypes);\r\n  }\r\n}\r\n\r\nexport default function setup() {\r\n  register(\"singleLine\", SingleLineIO);\r\n  register(\"paragraph\", ParagraphTextIO);\r\n  register(\"number\", NumberIO);\r\n  register(\"slider\", SliderIO);\r\n  register(\"date\", DateIO);\r\n  register(\r\n    \"multipleChoice\",\r\n    genericMCIOFactory(\"multipleChoice\", \"radio_group\")\r\n  );\r\n  register(\"dropdown\", genericMCIOFactory(\"dropdown\", \"dropdown\"));\r\n  register(\"yesNo\", YesNoIO);\r\n  register(\"naYesNo\", NaYesNoIO);\r\n  register(\"checkboxes\", CheckboxesIO);\r\n  register(\"signature\", SignatureIO);\r\n  register(\"photo\", PhotoIO);\r\n  register(\"calculation\", CalculationIO);\r\n  register(\"staticText\", StaticTextIO);\r\n  register(\"sectionBreak\", SectionIO);\r\n  register(\"pageBreak\", PageIO);\r\n  register(\"table\", TableIO);\r\n\r\n  checkFieldTypes();\r\n}\r\n","import assert from \"assert\";\r\nimport {\r\n  SFDL_VERSION,\r\n  XSD_VERSION,\r\n  RETURN_TO_APP_URLS,\r\n  DEFAULT_LANG,\r\n} from \"./constants/global\";\r\nimport FieldTypes from \"./constants/FieldTypes\";\r\nimport {\r\n  appendChild,\r\n  appendVisRules,\r\n  appendImages,\r\n  appendTagRules,\r\n  appendPrintTagRules,\r\n  //   appendAuthorizationRules,\r\n  appendExtVisRules,\r\n} from \"./utils/xml\";\r\nimport isValidIdentifier, {\r\n  removeXMLInvalidChars,\r\n} from \"./expr/isValidIdentifier\";\r\nimport { encrypt } from \"./utils/crypto\";\r\nimport _ from \"lodash\";\r\nimport uuid from \"node-uuid\";\r\nimport setupIO from \"./setup\";\r\n\r\nfunction buildSfdl(doc, formMetaData, fields) {\r\n  if (!formMetaData.settings.status) {\r\n    formMetaData.settings.status = \"unknown\";\r\n  }\r\n\r\n  const form = doc.createElement(\"form\");\r\n  doc.appendChild(form);\r\n  form.setAttribute(\"version\", SFDL_VERSION);\r\n  form.setAttribute(\"identifier\", formMetaData.settings.identifier);\r\n  form.setAttribute(\"status\", formMetaData.settings.status);\r\n  form.setAttribute(\r\n    \"global-template\",\r\n    formMetaData.settings.globalTemplate !== undefined\r\n      ? formMetaData.settings.globalTemplate\r\n      : \"0\"\r\n  );\r\n  form.setAttribute(\r\n    \"include-geo-location\",\r\n    formMetaData.settings.includeGeoLocation\r\n  );\r\n  form.setAttribute(\"send-once\", formMetaData.settings.sendOnce);\r\n  form.setAttribute(\r\n    \"force-save-multi-language\",\r\n    formMetaData.settings.forceSaveMultiLanguage\r\n  );\r\n  form.setAttribute(\r\n    \"template-version\",\r\n    formMetaData.settings.globalTemplate === \"1\"\r\n      ? formMetaData.templateVersion\r\n      : \"\"\r\n  );\r\n  form.setAttribute(\"instance-id\", \"\");\r\n  form.setAttribute(\"geo-location\", \"\");\r\n  form.setAttribute(\"template-guid\", formMetaData.id);\r\n  form.setAttribute(\"xsd-version\", XSD_VERSION);\r\n  form.setAttribute(\"kg-code\", formMetaData.settings.kgCode);\r\n  form.setAttribute(\r\n    \"max-number-of-pictures\",\r\n    formMetaData.settings.maxNumberOfPictures\r\n  );\r\n\r\n  buildTitleAndDescription(doc, form, formMetaData);\r\n  buildLogo(doc, form, formMetaData);\r\n  buildLanguages(doc, form, formMetaData);\r\n  buildAuthorizationUniveerse(doc, form, formMetaData);\r\n  buildTagUniverse(doc, form, formMetaData);\r\n  buildPrintTagUniverse(doc, form, formMetaData);\r\n  buildTagRulesInFilter(doc, form, formMetaData);\r\n  buildPrintSettings(doc, form, formMetaData);\r\n  buildFormActions(doc, form, formMetaData);\r\n  buildFormMetadata(doc, form, formMetaData);\r\n  buildBuildingBlocks(doc, form, formMetaData);\r\n\r\n  const findField = (id) => fields.find((f) => f.id === id);\r\n  const authorizationUniverse = formMetaData.settings.authorizationUniverse;\r\n  const tagUniverse = formMetaData.settings.tagUniverse;\r\n  const printTagUniverse = formMetaData.settings.printTagUniverse;\r\n\r\n  extractPages(fields).forEach((pageData) => {\r\n    const {\r\n      id,\r\n      identifier,\r\n      labelI18n,\r\n      visRules,\r\n      fields: pageFields,\r\n      isTitlePageEnd,\r\n      tagRules,\r\n      printTagRules,\r\n      externalVisRules,\r\n    } = pageData;\r\n    const page = appendChild(doc, form, \"page\", null, {\r\n      guid: id,\r\n      identifier: identifier,\r\n      \"title-page-end\": isTitlePageEnd,\r\n    });\r\n\r\n    if (labelI18n) {\r\n      Object.keys(labelI18n).forEach((lang) => {\r\n        if (typeof labelI18n[lang] !== \"undefined\") {\r\n          appendChild(doc, page, \"title\", labelI18n[lang], { lang });\r\n        }\r\n      });\r\n    }\r\n\r\n    if (visRules) {\r\n      appendVisRules(doc, findField, page, visRules);\r\n    }\r\n\r\n    if (externalVisRules) {\r\n      appendExtVisRules(doc, findField, page, externalVisRules);\r\n    }\r\n\r\n    if (tagRules) {\r\n      appendTagRules(doc, page, null, tagRules);\r\n    }\r\n\r\n    if (printTagRules) {\r\n      //updatePrintTagValue\r\n      let printTagRulesWithLatestName = printTagRules.map((rule) => {\r\n        const tag = printTagUniverse.find((t) => t.id === rule.tagId);\r\n        return Object.assign({}, rule, { tagName: tag.name });\r\n      });\r\n      appendPrintTagRules(doc, page, null, printTagRulesWithLatestName);\r\n    }\r\n\r\n    extractSections(pageFields).forEach((sectionData) => {\r\n      const {\r\n        id,\r\n        identifier,\r\n        labelI18n,\r\n        important,\r\n        descriptionI18n,\r\n        visRules,\r\n        fields: sectionFields,\r\n        // authorizationRules,\r\n        tagRules,\r\n        printTagRules,\r\n        qrCodeReader,\r\n      } = sectionData;\r\n      const section = appendChild(doc, page, \"section\", null, {\r\n        guid: id,\r\n        identifier: identifier,\r\n        important: important,\r\n        \"qr-code-reader\": qrCodeReader,\r\n      });\r\n\r\n      if (labelI18n) {\r\n        Object.keys(labelI18n).forEach((lang) => {\r\n          if (typeof labelI18n[lang] !== \"undefined\") {\r\n            appendChild(doc, section, \"title\", labelI18n[lang], { lang });\r\n          }\r\n        });\r\n      }\r\n\r\n      if (descriptionI18n) {\r\n        Object.keys(descriptionI18n).forEach((lang) => {\r\n          if (typeof descriptionI18n[lang] !== \"undefined\") {\r\n            appendChild(doc, section, \"description\", descriptionI18n[lang], {\r\n              lang,\r\n            });\r\n          }\r\n        });\r\n      }\r\n\r\n      if (visRules) {\r\n        appendVisRules(doc, findField, section, visRules);\r\n      }\r\n\r\n      if (tagRules) {\r\n        appendTagRules(doc, section, null, tagRules);\r\n      }\r\n\r\n      if (printTagRules) {\r\n        //updatePrintTagValue\r\n        let printTagRulesWithLatestName = printTagRules.map((rule) => {\r\n          const tag = printTagUniverse.find((t) => t.id === rule.tagId);\r\n          return Object.assign({}, rule, { tagName: tag.name });\r\n        });\r\n        appendPrintTagRules(doc, section, null, printTagRulesWithLatestName);\r\n      }\r\n\r\n      sectionFields.forEach(\r\n        buildFormField.bind(\r\n          null,\r\n          doc,\r\n          findField,\r\n          authorizationUniverse,\r\n          tagUniverse,\r\n          printTagUniverse,\r\n          section\r\n        )\r\n      );\r\n    });\r\n  });\r\n}\r\n\r\nfunction buildTitleAndDescription(doc, form, formMetaData) {\r\n  const { titleI18n, descriptionI18n } = formMetaData.settings;\r\n\r\n  Object.keys(titleI18n).forEach((lang) => {\r\n    if (typeof titleI18n[lang] !== \"undefined\") {\r\n      appendChild(doc, form, \"title\", titleI18n[lang], { lang });\r\n    }\r\n  });\r\n\r\n  Object.keys(descriptionI18n).forEach((lang) => {\r\n    if (typeof descriptionI18n[lang] !== \"undefined\") {\r\n      appendChild(doc, form, \"description\", descriptionI18n[lang], { lang });\r\n    }\r\n  });\r\n}\r\n\r\nfunction buildLogo(doc, form, formMetaData) {\r\n  const { logos } = formMetaData.settings;\r\n\r\n  const logosNode = appendChild(doc, form, \"logos\");\r\n  appendImages(doc, logosNode, logos);\r\n}\r\n\r\nfunction buildLanguages(doc, form, formMetaData) {\r\n  const languages = appendChild(doc, form, \"languages\");\r\n\r\n  formMetaData.languages.forEach((lang) => {\r\n    appendChild(doc, languages, \"language\", lang, {\r\n      fallback: lang === formMetaData.fallbackLang,\r\n    });\r\n  });\r\n}\r\n\r\nfunction buildAuthorizationUniveerse(doc, form, formMetaData) {\r\n  const authorizationUniverse = appendChild(doc, form, \"authorizations\");\r\n\r\n  formMetaData.settings.authorizationUniverse\r\n    .map((authorization) => authorization.name)\r\n    .filter((authorization) => isValidIdentifier(authorization))\r\n    .forEach((authorization) =>\r\n      appendChild(doc, authorizationUniverse, \"authorization\", \"\", {\r\n        name: authorization,\r\n      })\r\n    );\r\n}\r\n\r\nfunction buildTagUniverse(doc, form, formMetaData) {\r\n  const tagUniverse = appendChild(doc, form, \"tags\");\r\n\r\n  formMetaData.settings.tagUniverse\r\n    .map((tag) => tag.name)\r\n    .filter((tag) => isValidIdentifier(tag))\r\n    .forEach((tag) => appendChild(doc, tagUniverse, \"tag\", \"\", { name: tag }));\r\n}\r\n\r\nfunction buildPrintTagUniverse(doc, form, formMetaData) {\r\n  const tagUniverse = appendChild(doc, form, \"print_tags\");\r\n\r\n  formMetaData.settings.printTagUniverse\r\n    .filter((tag) => isValidIdentifier(tag.name))\r\n    .forEach((tag) =>\r\n      appendChild(doc, tagUniverse, \"tag\", \"\", {\r\n        name: tag.name,\r\n        \"exclude-from-output\": tag.excludeFromOutput,\r\n      })\r\n    );\r\n}\r\n\r\nfunction buildTagRulesInFilter(doc, form, formMetaData) {\r\n  const { tagRulesInFilter } = formMetaData.settings;\r\n  appendChild(doc, form, \"tag_rules_in_filter\", tagRulesInFilter);\r\n}\r\n\r\nfunction buildPrintSettings(doc, form, formMetaData) {\r\n  const {\r\n    printHeader,\r\n    headerText,\r\n    printFooter,\r\n    footerText,\r\n  } = formMetaData.settings.printSettings;\r\n\r\n  const settings = appendChild(doc, form, \"print_settings\", \"\", {\r\n    \"header-required\": printHeader,\r\n    \"footer-required\": printFooter,\r\n  });\r\n\r\n  appendChild(doc, settings, \"header\", headerText);\r\n  appendChild(doc, settings, \"footer\", footerText);\r\n}\r\n\r\nfunction buildFormActions(doc, form, formMetaData) {\r\n  if (formMetaData.settings.emailAction.selected) {\r\n    const emailAction = appendChild(doc, form, \"email_action\");\r\n\r\n    var { attachmentType } = formMetaData.settings.emailAction;\r\n    if (!attachmentType || attachmentType.length === 0) {\r\n      attachmentType = \"all\";\r\n    }\r\n\r\n    emailAction.setAttribute(\"attachment-type\", attachmentType);\r\n\r\n    formMetaData.settings.emailAction.receivers\r\n      .map((email) => email.trim())\r\n      .filter((email) => email !== \"\")\r\n      .forEach(appendChild.bind(null, doc, emailAction, \"receiver\"));\r\n  }\r\n\r\n  if (formMetaData.settings.returnToApp.selected) {\r\n    const appId = formMetaData.settings.returnToApp.appId.trim();\r\n    if (appId !== \"\") {\r\n      const returnAppAction = appendChild(doc, form, \"return_to_app_action\");\r\n      appendChild(\r\n        doc,\r\n        returnAppAction,\r\n        \"app_url\",\r\n        formMetaData.settings.returnToApp.appId\r\n      );\r\n    }\r\n  }\r\n\r\n  if (formMetaData.settings.webDavAction.selected) {\r\n    const webDavAction = appendChild(doc, form, \"webdav_action\");\r\n\r\n    [\"server\", \"path\", \"username\", \"password\"].forEach((key) => {\r\n      appendChild(\r\n        doc,\r\n        webDavAction,\r\n        key,\r\n        encrypt(formMetaData.settings.webDavAction[key])\r\n      );\r\n    });\r\n\r\n    var { fileType } = formMetaData.settings.webDavAction;\r\n    if (!fileType || fileType.length === 0) {\r\n      fileType = \"xml\";\r\n    }\r\n\r\n    appendChild(doc, webDavAction, \"file-type\", fileType);\r\n  }\r\n}\r\n\r\nfunction buildFormMetadata(doc, form, formMetaData) {\r\n  const metadataNode = appendChild(doc, form, \"meta_datas\");\r\n\r\n  formMetaData.settings.metadata\r\n    .map((item) => {\r\n      return { key: item.key.trim(), value: item.value.trim() };\r\n    })\r\n    .filter((item) => item.key !== \"\" && item.value !== \"\")\r\n    .forEach((item) => {\r\n      appendChild(doc, metadataNode, \"meta_data\", null, {\r\n        key: item.key,\r\n        value: item.value,\r\n      });\r\n    });\r\n}\r\n\r\nfunction buildBuildingBlocks(doc, form, formMetaData) {\r\n  if (formMetaData.settings.blocks !== undefined) {\r\n    const blocksArraryNode = appendChild(doc, form, \"blocks\");\r\n\r\n    formMetaData.settings.blocks.forEach((item) => {\r\n      const blockNode = appendChild(doc, blocksArraryNode, \"block\", null, {\r\n        guid: item.guid,\r\n        identifier: item.identifier,\r\n        title: item.title,\r\n        src: item.src,\r\n      });\r\n\r\n      item.fields.forEach((fieldGuid) => {\r\n        appendChild(doc, blockNode, \"field\", null, { guid: fieldGuid });\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nfunction extractPages(fields) {\r\n  // returns array of array of {label, visRules, fields}\r\n  const result = fields.reduce(\r\n    (acc, field) => {\r\n      if (field.type === \"pageBreak\") {\r\n        const { id } = field;\r\n        const {\r\n          identifier,\r\n          labelI18n,\r\n          visRules,\r\n          isTitlePageEnd,\r\n          tagRules,\r\n          printTagRules,\r\n          externalVisRules,\r\n        } = field.settings;\r\n        acc.push({\r\n          id,\r\n          identifier,\r\n          labelI18n,\r\n          visRules,\r\n          fields: [],\r\n          isTitlePageEnd,\r\n          tagRules,\r\n          printTagRules,\r\n          externalVisRules,\r\n        });\r\n        return acc;\r\n      } else {\r\n        const currentPage = acc[acc.length - 1];\r\n        currentPage.fields.push(field);\r\n        return acc;\r\n      }\r\n    },\r\n    [\r\n      {\r\n        identifier: \"pagebreak-no-content\",\r\n        labelI18n: null,\r\n        visRules: [],\r\n        fields: [],\r\n        tagRules: [],\r\n        printTagRules: [],\r\n        externalVisRules: [],\r\n      },\r\n    ]\r\n  );\r\n\r\n  // When fields starts with a pageBreak then our initial value for the accumulator above\r\n  // can be removed:\r\n  const firstPage = result[0];\r\n  if (\r\n    firstPage.labelI18n === null &&\r\n    firstPage.descriptionI18n === null &&\r\n    firstPage.fields.length === 0\r\n  ) {\r\n    result.splice(0, 1);\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction extractSections(fields) {\r\n  // returns array of {label, description, fields}\r\n  const result = fields.reduce(\r\n    (acc, field) => {\r\n      if (field.type === \"sectionBreak\") {\r\n        const { id } = field;\r\n        const {\r\n          identifier,\r\n          labelI18n,\r\n          important,\r\n          descriptionI18n,\r\n          visRules,\r\n          tagRules,\r\n          printTagRules,\r\n          qrCodeReader,\r\n          externalVisRules,\r\n        } = field.settings;\r\n        acc.push({\r\n          id,\r\n          identifier,\r\n          labelI18n,\r\n          important,\r\n          descriptionI18n,\r\n          visRules,\r\n          fields: [],\r\n          tagRules,\r\n          printTagRules,\r\n          qrCodeReader,\r\n          externalVisRules,\r\n        });\r\n        return acc;\r\n      } else {\r\n        const currentSection = acc[acc.length - 1];\r\n        currentSection.fields.push(field);\r\n        return acc;\r\n      }\r\n    },\r\n    [\r\n      {\r\n        identifier: \"sectionbreak-no-content\",\r\n        labelI18n: null,\r\n        important: false,\r\n        descriptionI18n: null,\r\n        visRules: [],\r\n        fields: [],\r\n        tagRules: [],\r\n        printTagRules: [],\r\n        qrCodeReader: false,\r\n        externalVisRules: [],\r\n      },\r\n    ]\r\n  );\r\n\r\n  // When fields starts with a sectionBreak then our initial value for the accumulator above\r\n  // can be removed:\r\n  const firstSection = result[0];\r\n  if (\r\n    firstSection.labelI18n === null &&\r\n    firstSection.descriptionI18n === null &&\r\n    firstSection.fields.length === 0\r\n  ) {\r\n    result.splice(0, 1);\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction buildFormField(\r\n  doc,\r\n  findField,\r\n  authorizationUniverse,\r\n  tagUniverse,\r\n  printTagUniverse,\r\n  section,\r\n  field\r\n) {\r\n  const serializer = _.get(FieldTypes, `${field.type}.io.serialize`);\r\n  if (serializer) {\r\n    if (field.settings.authorizationRules) {\r\n      field.settings.authorizationRules = field.settings.authorizationRules.map(\r\n        (rule) => {\r\n          const authorization = authorizationUniverse.find(\r\n            (t) => t.id === rule.authorizationId\r\n          );\r\n          assert(authorization);\r\n          return Object.assign({}, rule, {\r\n            authorizationName: authorization.name,\r\n          });\r\n        }\r\n      );\r\n    }\r\n\r\n    if (field.settings.tagRules) {\r\n      field.settings.tagRules = field.settings.tagRules.map((rule) => {\r\n        const tag = tagUniverse.find((t) => t.id === rule.tagId);\r\n        assert(tag);\r\n        return Object.assign({}, rule, { tagName: tag.name });\r\n      });\r\n    }\r\n\r\n    if (field.settings.printTagRules) {\r\n      field.settings.printTagRules = field.settings.printTagRules.map(\r\n        (rule) => {\r\n          const tag = printTagUniverse.find((t) => t.id === rule.tagId);\r\n          assert(tag);\r\n          return Object.assign({}, rule, { tagName: tag.name });\r\n        }\r\n      );\r\n    }\r\n\r\n    serializer(doc, findField, section, field);\r\n  } else {\r\n    throw new Error(\"No SFDL serializer found for field-type=\" + field.type);\r\n  }\r\n}\r\n\r\nlet defaultForm = {\r\n  id: uuid.v4(),\r\n  languages: [DEFAULT_LANG],\r\n  fallbackLang: DEFAULT_LANG,\r\n  settings: {\r\n    identifier: \"\",\r\n    titleI18n: { English: \"Untitled Form\" },\r\n    globalTemplate: \"0\",\r\n    descriptionI18n: {\r\n      English:\r\n        \"This is a new form. Please add some fields and make it awesome!\",\r\n    },\r\n    includeGeoLocation: false,\r\n    sendOnce: false,\r\n    forceSaveMultiLanguage: false,\r\n    authorizationUniverse: [],\r\n    tagUniverse: [], // important: this might contain illegal/blank tags -> ignore them!\r\n    printTagUniverse: [],\r\n    tagRulesInFilter: \"0\",\r\n    emailAction: {\r\n      selected: false,\r\n      receivers: [],\r\n    },\r\n    returnToApp: {\r\n      selected: false,\r\n      appId: RETURN_TO_APP_URLS[0],\r\n    },\r\n    webDavAction: {\r\n      selected: false,\r\n      server: \"\",\r\n      path: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n    },\r\n    metadata: [],\r\n    blocks: [], // hold the building block references\r\n    logos: [],\r\n    kgCode: \"\",\r\n    maxNumberOfPictures: \"10\",\r\n    printSettings: {\r\n      printHeader: false,\r\n      headerText: \"\",\r\n      printFooter: false,\r\n      footerText: \"\",\r\n    },\r\n  },\r\n};\r\n\r\nfunction removeLanguages(fieldToMap) {\r\n  //remove I18n texts from fields and form settings\r\n  removeLanguageSettings(defaultForm.settings, defaultForm.languages);\r\n  fieldToMap.forEach(function (field) {\r\n    removeLanguageSettings(field.settings, defaultForm.languages);\r\n    if (typeof field.settings.options !== \"undefined\") {\r\n      field.settings.options.forEach((option) => {\r\n        removeLanguageSettings(option, defaultForm.languages);\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nfunction removeLanguageSettings(languageSettings, languages) {\r\n  Object.keys(languageSettings).forEach(function (key) {\r\n    if (key.endsWith(\"I18n\") && typeof languageSettings[key] === \"object\") {\r\n      Object.keys(languageSettings[key]).forEach(function (langKey) {\r\n        if (languages.indexOf(langKey) < 0) {\r\n          delete languageSettings[key][langKey];\r\n        }\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nexport default function serialize(data) {\r\n  setupIO();\r\n\r\n  const formMetaData = data.form;\r\n  const fields = data.fields;\r\n  const needRemoveLanguages = !!data.needRemoveLanguages;\r\n\r\n  // if (formMetaData.instanceId) {\r\n  //   throw new Error(\"Cannot serialize a form that already has an instance ID!\");\r\n  // }\r\n\r\n  if (needRemoveLanguages) {\r\n    removeLanguages(fields);\r\n  }\r\n\r\n  const doc = document.implementation.createDocument(\"\", \"\", null);\r\n  buildSfdl(doc, formMetaData, fields);\r\n\r\n  const serializer = new XMLSerializer();\r\n  return removeXMLInvalidChars(\r\n    '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n' +\r\n      serializer.serializeToString(doc)\r\n  );\r\n}\r\n","/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport assert from \"assert\";\r\nimport moment from \"moment\";\r\n\r\nexport default function getDefaultValue(type, targetField) {\r\n  switch (type) {\r\n    case \"number\":\r\n      return 0;\r\n    case \"string\":\r\n      return \"\";\r\n    case \"extBool\":\r\n      return \"\";\r\n    case \"bool\":\r\n      return false;\r\n    case \"date\":\r\n      return moment();\r\n    case \"optionId\":\r\n      const { options } = targetField.settings;\r\n      assert(options.length > 0);\r\n      return options[0].value;\r\n    default:\r\n      throw new Error(\"Unknown type: \" + type);\r\n  }\r\n}\r\n","import {\r\n  SFDL_VERSION,\r\n  SFDL_MAJOR_VERSION,\r\n  SFDL_MINOR_VERSION,\r\n  XSD_REVISION,\r\n  XSD_VERSION,\r\n  RETURN_TO_APP_URLS,\r\n  DEFAULT_LANG,\r\n} from \"./constants/global\";\r\nimport {\r\n  getRequiredAttr,\r\n  getAttrWithDefault,\r\n  getChildNode,\r\n  getChildNodes,\r\n  hasChildNode,\r\n  readImages,\r\n} from \"./utils/xml\";\r\nimport isValidIdentifier, {\r\n  removeXMLInvalidChars,\r\n} from \"./expr/isValidIdentifier\";\r\nimport FieldTypes from \"./constants/FieldTypes\";\r\nimport uuid from \"node-uuid\";\r\nimport assert from \"assert\";\r\nimport { decrypt } from \"./utils/crypto\";\r\nimport Ops from \"./constants/VisibilityOperators\";\r\nimport moment from \"moment\";\r\nimport { FREE_TEXT_VALUE } from \"./utils/options\";\r\nimport getDefaultValue from \"./utils/getDefaultValue\";\r\nimport setupIO from \"./setup\";\r\n\r\nexport default function deserialize(xmlText) {\r\n  // fix cyclic call setupIO caused by recursive\r\n  if (!arguments[1]) {\r\n    setupIO();\r\n  }\r\n\r\n  const parser = new DOMParser();\r\n  let form;\r\n  let fields;\r\n  let fieldsVisRules;\r\n\r\n  try {\r\n    const docNode = parser.parseFromString(\r\n      removeXMLInvalidChars(xmlText),\r\n      \"application/xml\"\r\n    ).documentElement;\r\n\r\n    if (docNode.nodeName === \"form\") {\r\n      checkRootNode(docNode);\r\n      checkSfdlVersion(docNode, xmlText);\r\n      checkXsdVersion(docNode, xmlText);\r\n\r\n      form = readFormMetadata(docNode); // eslint-disable-line prefer-const\r\n      fields = []; // eslint-disable-line prefer-const\r\n    } else if (docNode.nodeName === \"visibility_rules\") {\r\n      fieldsVisRules = [];\r\n    }\r\n\r\n    if (docNode.hasChildNodes()) {\r\n      let pageIndex = 0;\r\n\r\n      // XML sucks\r\n      for (let i = 0; i < docNode.childNodes.length; i += 1) {\r\n        const child = docNode.childNodes[i];\r\n        switch (child.nodeName) {\r\n          case \"title\":\r\n            form.settings.titleI18n[getRequiredAttr(child, \"lang\")] =\r\n              child.textContent;\r\n            break;\r\n          case \"description\":\r\n            form.settings.descriptionI18n[getRequiredAttr(child, \"lang\")] =\r\n              child.textContent;\r\n            break;\r\n          case \"logos\":\r\n            readLogos(form, child);\r\n            break;\r\n          case \"authorizations\":\r\n            readAuthorizationUniverse(form, child);\r\n            break;\r\n          case \"tags\":\r\n            readTagUniverse(form, child);\r\n            break;\r\n          case \"print_tags\":\r\n            readPrintTagUniverse(form, child);\r\n            break;\r\n          case \"tag_rules_in_filter\":\r\n            readTagRulesInFilter(form, child);\r\n            break;\r\n          case \"print_settings\":\r\n            readPrintSettings(form, child);\r\n            break;\r\n          case \"languages\":\r\n            readLanguages(form, child);\r\n            break;\r\n          case \"email_action\":\r\n            readEmailAction(form, child);\r\n            break;\r\n          case \"webdav_action\":\r\n            readWebdavAction(form, child);\r\n            break;\r\n          case \"return_to_app_action\":\r\n            readReturnToAppAction(form, child);\r\n            break;\r\n          case \"devices\":\r\n            readDevices(form, child);\r\n            break;\r\n          case \"meta_datas\":\r\n            readMetadata(form, child);\r\n            break;\r\n          case \"blocks\":\r\n            readBuildingBlocks(form, child);\r\n            break;\r\n          case \"page\":\r\n            readPage(fields, child, pageIndex);\r\n            pageIndex += 1;\r\n            break;\r\n          case \"question_visibility_rules\":\r\n            // addVisibilityRules(child, fieldsVisRules);\r\n            break;\r\n          case \"#comment\":\r\n          case \"#text\":\r\n            // ignore this\r\n            break;\r\n          default:\r\n            throw new Error(\r\n              \"Root element contains an illegal child element: \" +\r\n                child.nodeName\r\n            );\r\n        }\r\n      }\r\n    }\r\n\r\n    if (docNode.nodeName === \"form\") {\r\n      // Visibility rules:\r\n      fields\r\n        .filter((f) =>\r\n          FieldTypes[f.type].initialSettings.hasOwnProperty(\"visRules\")\r\n        )\r\n        .forEach((field) => {\r\n          field.settings.visRules = readVisRules(fields, field.node);\r\n          //delete field.node;\r\n        });\r\n\r\n      // External visibility rules:\r\n      fields\r\n        .filter((f) =>\r\n          FieldTypes[f.type].initialSettings.hasOwnProperty(\"externalVisRules\")\r\n        )\r\n        .forEach((field, position) => {\r\n          field.settings.externalVisRules = readExtVisRules(\r\n            fields,\r\n            field.node,\r\n            position\r\n          );\r\n        });\r\n\r\n      // Authorization rules:\r\n      if (form.settings.authorizationUniverse === undefined) {\r\n        form.settings.authorizationUniverse = [];\r\n      }\r\n      const authorizationUniverse = form.settings.authorizationUniverse;\r\n      fields\r\n        .filter((f) =>\r\n          FieldTypes[f.type].initialSettings.hasOwnProperty(\r\n            \"authorizationRules\"\r\n          )\r\n        )\r\n        .forEach((field) => {\r\n          field.settings.authorizationRules = readAuthorizationRules(\r\n            authorizationUniverse,\r\n            field,\r\n            field.node\r\n          );\r\n          //delete field.node;\r\n        });\r\n\r\n      // Tagging rules:\r\n      const tagUniverse = form.settings.tagUniverse;\r\n      fields\r\n        .filter((f) =>\r\n          FieldTypes[f.type].initialSettings.hasOwnProperty(\"tagRules\")\r\n        )\r\n        .forEach((field) => {\r\n          field.settings.tagRules = readTagRules(\r\n            tagUniverse,\r\n            field,\r\n            field.node\r\n          );\r\n          //delete field.node;\r\n        });\r\n\r\n      // Print tagging rules:\r\n      const printTagUniverse = form.settings.printTagUniverse;\r\n      fields\r\n        .filter((f) =>\r\n          FieldTypes[f.type].initialSettings.hasOwnProperty(\"printTagRules\")\r\n        )\r\n        .forEach((field) => {\r\n          field.settings.printTagRules = readPrintTagRules(\r\n            printTagUniverse,\r\n            field,\r\n            field.node\r\n          );\r\n          //delete field.node;\r\n        });\r\n\r\n      // button descriptions:\r\n      fields\r\n        .filter((f) =>\r\n          FieldTypes[f.type].initialSettings.hasOwnProperty(\r\n            \"buttonDescriptions\"\r\n          )\r\n        )\r\n        .forEach((field) => {\r\n          field.settings.buttonDescriptions = readButtonDescriptions(\r\n            fields,\r\n            field.node\r\n          );\r\n          //delete field.node;\r\n        });\r\n\r\n      return { form, fields };\r\n    } else {\r\n      return { fieldsVisRules };\r\n    }\r\n  } catch (e) {\r\n    return { error: e.message };\r\n  }\r\n}\r\n\r\n// some browsers (Chrome, Firefox) does not throw an exception in DOMParser#parseFromString() on\r\n// invalid input but instead just return a document with a parsererror root-node. So check that\r\n// the root-node is indeed a nice form-element\r\nfunction checkRootNode(docNode) {\r\n  if (docNode.nodeName !== \"form\" && docNode.nodeName !== \"visibility_rules\") {\r\n    throw new Error(\"This doesn't even look like a valid SFDL document!\");\r\n  }\r\n}\r\n\r\nfunction checkSfdlVersion(docNode, xmlText) {\r\n  const version = getRequiredAttr(docNode, \"version\");\r\n  const versionParts = version.split(\".\");\r\n  const major = Number(versionParts[0]);\r\n  const minor = Number(versionParts[1]);\r\n\r\n  if (major !== SFDL_MAJOR_VERSION || minor > SFDL_MINOR_VERSION) {\r\n    var stylesheet = determineTransformStylesheet(\r\n      major,\r\n      minor,\r\n      SFDL_MAJOR_VERSION,\r\n      SFDL_MINOR_VERSION\r\n    );\r\n\r\n    if (stylesheet) {\r\n      docNode = transformSfdlVersion(docNode, stylesheet, xmlText);\r\n    } else {\r\n      throw new Error(\r\n        `This document is in SFDL format version ${version} but FormBuilder uses ` +\r\n          `version ${SFDL_VERSION}. Please try to upgrade the version of FormBuilder you are ` +\r\n          `using, or ask your IT-administrator to convert the form for you.`\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\n// xsd-version reflects all changes happened on the xml schema\r\n// while sfdl only reflects big changes\r\nfunction checkXsdVersion(docNode, xmlText) {\r\n  const xsdVersion = getAttrWithDefault(docNode, \"xsd-version\", \"\");\r\n\r\n  if (xsdVersion.length === 0) {\r\n    return;\r\n  } // old version\r\n\r\n  const versionParts = xsdVersion.split(\".\");\r\n  const major = Number(versionParts[0]);\r\n  const minor = Number(versionParts[1]);\r\n  const revision = Number(versionParts[2]);\r\n\r\n  if (\r\n    major > SFDL_MAJOR_VERSION ||\r\n    minor > SFDL_MINOR_VERSION ||\r\n    revision > XSD_REVISION\r\n  ) {\r\n    throw new Error(\r\n      `This document is in SFDL format version ${xsdVersion} but FormBuilder uses ` +\r\n        `version ${XSD_VERSION}. Please try to upgrade the version of FormBuilder you are ` +\r\n        `using, or ask your IT-administrator to convert the form for you.`\r\n    );\r\n  }\r\n}\r\n\r\nfunction determineTransformStylesheet(\r\n  sourceMajor,\r\n  sourceMinor,\r\n  destMajor,\r\n  destMinor\r\n) {\r\n  var stylesheet = {};\r\n\r\n  stylesheet[\"xslt10to20.xslt\"] =\r\n    '<?xml version=\"1.0\"?><xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"><xsl:template match=\"@title\" /><xsl:template match=\"@description\" /><xsl:template match=\"@version\" /><xsl:template match=\"@*|node()\"><xsl:copy><xsl:apply-templates select=\"@*|node()\"/></xsl:copy>  </xsl:template><xsl:template match=\"form\">  <xsl:copy><xsl:copy-of select=\"@version|@identifier|@template-version|@include-geo-location|@instance-id|@geo-location|@send-once\"/><xsl:attribute name=\"version\">2.0</xsl:attribute><xsl:choose><xsl:when test=\"not(@template-version)\"><xsl:attribute name=\"template-version\">2.0</xsl:attribute></xsl:when></xsl:choose><title lang=\"English\"><xsl:value-of select=\"@title\" /></title><description lang=\"English\"><xsl:value-of select=\"@description\" /></description><languages><language fallback=\"true\">English</language></languages><xsl:apply-templates select=\"node()\"/></xsl:copy></xsl:template><xsl:template match=\"question\"><xsl:copy> <xsl:apply-templates select=\"@*|node()\"/><description lang=\"English\"><xsl:value-of select=\"@description\" /></description></xsl:copy></xsl:template><xsl:template match=\"text\"><xsl:copy><xsl:attribute name=\"lang\">English</xsl:attribute><xsl:value-of select=\"text()\"/></xsl:copy></xsl:template><xsl:template match=\"section[@title]|section[@description]\"><xsl:copy><xsl:apply-templates select=\"@important\"/><title lang=\"English\"><xsl:value-of select=\"@title\"/></title><description lang=\"English\"><xsl:value-of select=\"@description\"/></description><xsl:apply-templates select=\"node()\"/></xsl:copy></xsl:template></xsl:stylesheet>';\r\n\r\n  const key =\r\n    \"xslt\" + sourceMajor + sourceMinor + \"to\" + destMajor + destMinor + \".xslt\";\r\n\r\n  return stylesheet[key];\r\n}\r\n\r\nfunction transformSfdlVersion(docNode, stylesheet, xmlText) {\r\n  const parser = new DOMParser();\r\n  const xsltProcessor = new XSLTProcessor();\r\n\r\n  var xsltDoc = parser.parseFromString(stylesheet, \"text/xml\");\r\n  xsltProcessor.importStylesheet(xsltDoc);\r\n\r\n  var newDoc = xsltProcessor.transformToFragment(docNode, document);\r\n\r\n  return newDoc;\r\n}\r\n\r\nfunction readFormMetadata(docNode) {\r\n  const [lat, long, latLongAccuracy] = getAttrWithDefault(\r\n    docNode,\r\n    \"geo-location\",\r\n    \"\"\r\n  )\r\n    .split(\",\")\r\n    .filter((s) => s !== \"\")\r\n    .map((s) => Number(s));\r\n\r\n  return {\r\n    id: getAttrWithDefault(docNode, \"template-guid\", uuid.v4()),\r\n    instanceId:\r\n      getAttrWithDefault(docNode, \"instance-id\", undefined) || undefined,\r\n    templateVersion: getAttrWithDefault(docNode, \"template-version\", \"1.0\"),\r\n    lat,\r\n    long,\r\n    latLongAccuracy,\r\n    history: [],\r\n    languages: [DEFAULT_LANG],\r\n    fallbackLang: DEFAULT_LANG,\r\n    settings: {\r\n      identifier: getRequiredAttr(docNode, \"identifier\"),\r\n      xsdVersion: getAttrWithDefault(docNode, \"xsd-version\", \"\"),\r\n      status: getAttrWithDefault(docNode, \"status\", \"unknown\"),\r\n      globalTemplate: getAttrWithDefault(docNode, \"global-template\", \"0\"),\r\n      titleI18n: {\r\n        [DEFAULT_LANG]: getAttrWithDefault(docNode, \"title\", undefined),\r\n      },\r\n      descriptionI18n: {\r\n        [DEFAULT_LANG]: getAttrWithDefault(docNode, \"description\", undefined),\r\n      },\r\n      includeGeoLocation:\r\n        getRequiredAttr(docNode, \"include-geo-location\") === \"true\",\r\n      sendOnce: getAttrWithDefault(docNode, \"send-once\", \"false\") === \"true\",\r\n      forceSaveMultiLanguage:\r\n        getAttrWithDefault(docNode, \"force-save-multi-language\", \"false\") ===\r\n        \"true\",\r\n      tagUniverse: [],\r\n      printTagUniverse: [],\r\n      tagRulesInFilter: \"0\",\r\n      emailAction: {\r\n        selected: false,\r\n        receivers: [],\r\n        attachmentType: \"\",\r\n      },\r\n      returnToApp: {\r\n        selected: false,\r\n        appId: RETURN_TO_APP_URLS[0],\r\n      },\r\n      webDavAction: {\r\n        selected: false,\r\n        server: \"\",\r\n        path: \"\",\r\n        username: \"\",\r\n        password: \"\",\r\n      },\r\n      metadata: [],\r\n      blocks: [],\r\n      logos: [],\r\n      kgCode: getAttrWithDefault(docNode, \"kg-code\", \"\"),\r\n      maxNumberOfPictures: getAttrWithDefault(\r\n        docNode,\r\n        \"max-number-of-pictures\",\r\n        \"10\"\r\n      ),\r\n      printSettings: {\r\n        printHeader: false,\r\n        headerText: \"\",\r\n        printFooter: false,\r\n        footerText: \"\",\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nfunction readLogos(form, logosNode) {\r\n  form.settings.logos = readImages(logosNode);\r\n}\r\n\r\nfunction readAuthorizationUniverse(form, authorizationsNode) {\r\n  form.settings.authorizationUniverse = getChildNodes(\r\n    authorizationsNode,\r\n    \"authorization\"\r\n  )\r\n    .map((authorizationNode) => getRequiredAttr(authorizationNode, \"name\"))\r\n    .filter((authorization) => isValidIdentifier(authorization))\r\n    .map((authorization) => ({\r\n      id: uuid.v4(),\r\n      name: authorization,\r\n    }));\r\n}\r\n\r\nfunction readTagUniverse(form, tagsNode) {\r\n  form.settings.tagUniverse = getChildNodes(tagsNode, \"tag\")\r\n    .map((tagNode) => getRequiredAttr(tagNode, \"name\"))\r\n    .filter((tag) => isValidIdentifier(tag))\r\n    .map((tag) => ({\r\n      id: uuid.v4(),\r\n      name: tag,\r\n    }));\r\n}\r\n\r\nfunction readPrintTagUniverse(form, tagsNode) {\r\n  form.settings.printTagUniverse = getChildNodes(tagsNode, \"tag\")\r\n    .map((tagNode) => ({\r\n      name: getRequiredAttr(tagNode, \"name\"),\r\n      excludeFromOutput:\r\n        getAttrWithDefault(tagNode, \"exclude-from-output\", \"false\") === \"true\",\r\n    }))\r\n    .filter(({ name }) => isValidIdentifier(name))\r\n    .map(({ name, excludeFromOutput }) => ({\r\n      id: uuid.v4(),\r\n      name: name,\r\n      excludeFromOutput: excludeFromOutput,\r\n    }));\r\n}\r\n\r\nfunction readTagRulesInFilter(form, tagRulesInFilterNode) {\r\n  form.settings.tagRulesInFilter = tagRulesInFilterNode.textContent;\r\n}\r\n\r\nfunction readPrintSettings(form, printSettingsNode) {\r\n  const { printSettings } = form.settings;\r\n\r\n  printSettings.printHeader =\r\n    getAttrWithDefault(printSettingsNode, \"header-required\", \"false\") ===\r\n    \"true\";\r\n  printSettings.printFooter =\r\n    getAttrWithDefault(printSettingsNode, \"footer-required\", \"false\") ===\r\n    \"true\";\r\n\r\n  if (hasChildNode(printSettingsNode, \"header\")) {\r\n    const header = getChildNode(printSettingsNode, \"header\");\r\n    printSettings.headerText = header.textContent;\r\n  }\r\n\r\n  if (hasChildNode(printSettingsNode, \"footer\")) {\r\n    const footer = getChildNode(printSettingsNode, \"footer\");\r\n    printSettings.footerText = footer.textContent;\r\n  }\r\n}\r\n\r\nfunction readLanguages(form, languagesNode) {\r\n  form.languages = getChildNodes(languagesNode, \"language\").map((langNode) =>\r\n    langNode.textContent.trim()\r\n  );\r\n\r\n  assert(form.languages.length > 0);\r\n\r\n  form.fallbackLang =\r\n    getChildNodes(languagesNode, \"language\")\r\n      .filter(\r\n        (node) => getAttrWithDefault(node, \"fallback\", \"false\") === \"true\"\r\n      )\r\n      .map((node) => node.textContent.trim())[0] || DEFAULT_LANG;\r\n}\r\n\r\nfunction readEmailAction(form, actionNode) {\r\n  const { emailAction } = form.settings;\r\n\r\n  emailAction.selected = true;\r\n  emailAction.receivers = getChildNodes(actionNode, \"receiver\").map(\r\n    (node) => node.textContent\r\n  );\r\n  emailAction.attachmentType = getAttrWithDefault(\r\n    actionNode,\r\n    \"attachment-type\",\r\n    \"all\"\r\n  );\r\n}\r\n\r\nfunction readWebdavAction(form, actionNode) {\r\n  const { webDavAction } = form.settings;\r\n\r\n  webDavAction.selected = true;\r\n  [\"server\", \"path\", \"username\", \"password\"].forEach((attr) => {\r\n    webDavAction[attr] = decrypt(getChildNode(actionNode, attr).textContent);\r\n  });\r\n\r\n  var fileType = \"\";\r\n  try {\r\n    fileType = getChildNode(actionNode, \"file-type\").textContent;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n\r\n  if (!fileType || fileType.length === 0) {\r\n    fileType = \"xml\";\r\n  }\r\n  webDavAction.fileType = fileType;\r\n}\r\n\r\nfunction readReturnToAppAction(form, actionNode) {\r\n  const { returnToApp } = form.settings;\r\n\r\n  returnToApp.selected = true;\r\n  returnToApp.appId = getChildNode(actionNode, \"app_url\").textContent;\r\n}\r\n\r\nfunction readDevices(form, devicesNode) {\r\n  form.history = getChildNodes(devicesNode, \"device\").map((devNode) => ({\r\n    exportAction: getRequiredAttr(devNode, \"export-action\"),\r\n    exportDate: new Date(getRequiredAttr(devNode, \"export-date\")),\r\n    deviceId: devNode.textContent,\r\n  }));\r\n}\r\n\r\nfunction readMetadata(form, metadataNode) {\r\n  form.settings.metadata = getChildNodes(metadataNode, \"meta_data\").map(\r\n    (item) => {\r\n      return {\r\n        key: getRequiredAttr(item, \"key\"),\r\n        value: getRequiredAttr(item, \"value\"),\r\n      };\r\n    }\r\n  );\r\n}\r\n\r\nfunction readBuildingBlocks(form, blocksNode) {\r\n  form.settings.blocks = getChildNodes(blocksNode, \"block\").map(\r\n    (blockNode) => ({\r\n      guid: getRequiredAttr(blockNode, \"guid\"),\r\n      identifier: getRequiredAttr(blockNode, \"identifier\"),\r\n      title: getRequiredAttr(blockNode, \"title\"),\r\n      src: getRequiredAttr(blockNode, \"src\"),\r\n      fields: getChildNodes(blockNode, \"field\").map((fieldNode) =>\r\n        getRequiredAttr(fieldNode, \"guid\")\r\n      ),\r\n    })\r\n  );\r\n}\r\n\r\nfunction readPage(fields, pageNode, pageIndex) {\r\n  let pageField = null;\r\n\r\n  if (\r\n    pageIndex !== 0 ||\r\n    hasChildNode(pageNode, \"title\") ||\r\n    pageNode.hasAttribute(\"title\")\r\n  ) {\r\n    pageField = {\r\n      id: getAttrWithDefault(pageNode, \"guid\", uuid.v4()),\r\n      type: \"pageBreak\",\r\n      settings: {\r\n        identifier: getAttrWithDefault(pageNode, \"identifier\", \"\"),\r\n        labelI18n: {\r\n          [DEFAULT_LANG]: getAttrWithDefault(pageNode, \"title\", undefined),\r\n        },\r\n        isCollapsed: false,\r\n        isTitlePageEnd:\r\n          getAttrWithDefault(pageNode, \"title-page-end\", \"false\") === \"true\",\r\n      },\r\n    };\r\n\r\n    fields.push(pageField);\r\n  }\r\n\r\n  if (pageNode.hasChildNodes()) {\r\n    let sectionIndex = 0;\r\n    for (let i = 0; i < pageNode.childNodes.length; i += 1) {\r\n      const child = pageNode.childNodes[i];\r\n\r\n      if (child.nodeName === \"#comment\" || child.nodeName === \"#text\") {\r\n        continue;\r\n      }\r\n\r\n      // if (child.nodeName !== 'section') {\r\n      //   throw new Error('page element contains an element that is not a section: ' +\r\n      //       child.nodeName);\r\n      // }\r\n\r\n      if (child.nodeName === \"title\") {\r\n        assert(pageField);\r\n        pageField.settings.labelI18n[getRequiredAttr(child, \"lang\")] =\r\n          child.textContent;\r\n      } else if (\r\n        (child.nodeName === \"visibility_rules\" ||\r\n          child.nodeName === \"print_tag_rules\") &&\r\n        child.hasChildNodes()\r\n      ) {\r\n        assert(pageField);\r\n        pageField.node = pageNode;\r\n      } else {\r\n        readSection(fields, child, sectionIndex);\r\n        sectionIndex += 1;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction readSection(fields, sectionNode, sectionIndex) {\r\n  let sectionField = null;\r\n\r\n  if (\r\n    sectionIndex !== 0 ||\r\n    hasChildNode(sectionNode, \"title\") ||\r\n    sectionNode.hasAttribute(\"title\") ||\r\n    hasChildNode(sectionNode, \"description\") ||\r\n    sectionNode.hasAttribute(\"description\")\r\n  ) {\r\n    sectionField = {\r\n      id: getAttrWithDefault(sectionNode, \"guid\", uuid.v4()),\r\n      type: \"sectionBreak\",\r\n      settings: {\r\n        identifier: getAttrWithDefault(sectionNode, \"identifier\", \"\"),\r\n        labelI18n: {\r\n          [DEFAULT_LANG]: getAttrWithDefault(sectionNode, \"title\", undefined),\r\n        },\r\n        important: getRequiredAttr(sectionNode, \"important\") === \"true\",\r\n        descriptionI18n: {\r\n          [DEFAULT_LANG]: getAttrWithDefault(\r\n            sectionNode,\r\n            \"description\",\r\n            undefined\r\n          ),\r\n        },\r\n        isCollapsed: false,\r\n        qrCodeReader:\r\n          getAttrWithDefault(sectionNode, \"qr-code-reader\", \"false\") === \"true\",\r\n      },\r\n    };\r\n\r\n    fields.push(sectionField);\r\n  }\r\n\r\n  if (sectionNode.hasChildNodes()) {\r\n    for (let i = 0; i < sectionNode.childNodes.length; i += 1) {\r\n      const child = sectionNode.childNodes[i];\r\n\r\n      if (child.nodeName === \"#text\" || child.nodeName === \"#comment\") {\r\n        continue;\r\n      }\r\n\r\n      if (child.nodeName === \"title\") {\r\n        assert(sectionField);\r\n        sectionField.settings.labelI18n[getRequiredAttr(child, \"lang\")] =\r\n          child.textContent;\r\n      } else if (child.nodeName === \"description\") {\r\n        assert(sectionField);\r\n        sectionField.settings.descriptionI18n[getRequiredAttr(child, \"lang\")] =\r\n          child.textContent;\r\n      } else if (\r\n        child.nodeName === \"visibility_rules\" ||\r\n        child.nodeName === \"print_tag_rules\"\r\n      ) {\r\n        assert(sectionField);\r\n        sectionField.node = sectionNode;\r\n      } else {\r\n        readField(fields, child);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// This reads a form field EXCEPT the visRules. We read those in a second pass because we need to\r\n// be able to find the referenced field\r\nfunction readField(fields, fieldNode) {\r\n  const types = Object.keys(FieldTypes);\r\n\r\n  for (let i = 0; i < types.length; i += 1) {\r\n    const type = types[i];\r\n    const fieldIo = FieldTypes[type].io;\r\n\r\n    if (fieldIo.canDeserialize(fieldNode)) {\r\n      const field = fieldIo.deserialize(fieldNode);\r\n      field.node = fieldNode;\r\n      fields.push(field);\r\n      return;\r\n    }\r\n  }\r\n\r\n  throw new Error(\"Unknown field element: \" + fieldNode.nodeName);\r\n}\r\n\r\nfunction readVisRules(fields, fieldNode) {\r\n  if (!fieldNode) {\r\n    return [];\r\n  }\r\n\r\n  if (hasChildNode(fieldNode, \"visibility_rules\")) {\r\n    const rulesNode = getChildNode(fieldNode, \"visibility_rules\");\r\n\r\n    return parseVisRulesNode(fields, rulesNode);\r\n  } else {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction parseVisRulesNode(fields, node) {\r\n  assert(node.nodeName === \"visibility_rules\");\r\n\r\n  let positionRule = 0;\r\n  const op = getAttrWithDefault(node, \"operator\", \"\");\r\n\r\n  const result = [];\r\n  result.operator = op;\r\n\r\n  if (node.hasChildNodes()) {\r\n    for (let i = 0; i < node.childNodes.length; i += 1) {\r\n      const child = node.childNodes[i];\r\n\r\n      switch (child.nodeName) {\r\n        case \"condition\":\r\n          positionRule = positionRule + 1;\r\n          var condition = parseConditionNode(fields, child, positionRule);\r\n          // condition.conjunctionOperator = condition.conjunctionOperator; // store conjuction operator to each condition\r\n          result.push(condition);\r\n          break;\r\n        case \"visibility_rules\":\r\n          result.push(parseVisRulesNode(fields, child));\r\n          break;\r\n        case \"#comment\": // fall thru\r\n        case \"#text\":\r\n          // ignore this\r\n          break;\r\n        default:\r\n          throw new Error(\r\n            \"visibility_rules element contains illegal child: \" + child.nodeName\r\n          );\r\n      }\r\n    }\r\n  }\r\n\r\n  if (result.length <= 1) {\r\n    result.operator = \"and\";\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction parseConditionNode(fields, node, positionRule) {\r\n  assert(node.nodeName === \"condition\");\r\n\r\n  const otherIdentifier = getRequiredAttr(node, \"field-identifier\");\r\n  const otherFields = fields.filter(\r\n    (f) => f.settings.identifier === otherIdentifier\r\n  );\r\n  if (otherFields.length !== 1) {\r\n    throw new Error(\r\n      \"Invalid SFDL: Form contains multiple fields with the same identifier: \" +\r\n        otherIdentifier\r\n    );\r\n  }\r\n  const otherField = otherFields[0];\r\n\r\n  let operatorId = getRequiredAttr(node, \"operator\");\r\n  const argType = Ops[operatorId].argType;\r\n\r\n  let conjunctionOperator = getAttrWithDefault(\r\n    node,\r\n    \"conjunction-operator\",\r\n    \"and\"\r\n  );\r\n  let argument = convertRuleArgument(\r\n    argType,\r\n    getRequiredAttr(node, \"argument\"),\r\n    otherField\r\n  );\r\n\r\n  let type = getAttrWithDefault(node, \"type\", undefined);\r\n\r\n  let position = parseInt(getAttrWithDefault(node, \"positionRule\", undefined));\r\n\r\n  // HACK to support opening old versions\r\n  if (operatorId === \"isBool\" && otherField.type === \"naYesNo\") {\r\n    operatorId = \"isExtBool\";\r\n    argument = String(argument);\r\n  }\r\n\r\n  return {\r\n    id: uuid.v4(),\r\n    fieldId: otherField.id,\r\n    operatorId: operatorId,\r\n    argument: argument,\r\n    conjunctionOperator: conjunctionOperator,\r\n    type: type,\r\n    positionRule: position ? position : positionRule,\r\n    isInternal: true,\r\n  };\r\n}\r\n\r\nfunction convertRuleArgument(argType, argument, field) {\r\n  switch (argType) {\r\n    case \"bool\":\r\n      return argument === \"true\";\r\n    case \"extBool\":\r\n      assert([\"\", \"na\", \"fixed\", \"true\", \"false\"].includes(argument));\r\n      return argument;\r\n    case \"date\":\r\n      return moment(argument, \"YYYY-MM-DD\");\r\n    case \"number\":\r\n      return Number(argument);\r\n    case \"optionId\":\r\n      if (argument !== FREE_TEXT_VALUE) {\r\n        const otherOption = field.settings.options.find(\r\n          (option) => option.value === argument\r\n        );\r\n        return otherOption.value;\r\n      } else {\r\n        return argument;\r\n      }\r\n    // assert(false);\r\n    // return 42; // shut up eslint\r\n    case \"string\":\r\n      return argument;\r\n    default:\r\n      throw new Error(\"Unknown visibility rule argument type: \" + argType);\r\n  }\r\n}\r\n\r\nfunction readExtVisRules(fields, fieldNode, position) {\r\n  if (!fieldNode) {\r\n    return [];\r\n  }\r\n\r\n  if (hasChildNode(fieldNode, \"external_visibility_rules\")) {\r\n    const rulesNode = getChildNode(fieldNode, \"external_visibility_rules\");\r\n\r\n    return parseExtVisRulesNode(fields, rulesNode, position);\r\n  } else {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction parseExtVisRulesNode(fields, node, position) {\r\n  assert(node.nodeName === \"external_visibility_rules\");\r\n\r\n  let positionRule = getLastPostionOfVisRules(fields, position);\r\n  const op = getAttrWithDefault(node, \"operator\", \"\");\r\n\r\n  const result = [];\r\n  result.operator = op;\r\n\r\n  if (node.hasChildNodes()) {\r\n    for (let i = 0; i < node.childNodes.length; i += 1) {\r\n      const child = node.childNodes[i];\r\n\r\n      switch (child.nodeName) {\r\n        case \"condition\":\r\n          positionRule = positionRule + 1;\r\n          var condition = parseExtConditionNode(fields, child, positionRule);\r\n          // condition.conjunctionOperator = condition.conjunctionOperator; // store conjuction operator to each condition\r\n          result.push(condition);\r\n          break;\r\n        case \"external_visibility_rules\":\r\n          result.push(parseExtVisRulesNode(fields, child, position));\r\n          break;\r\n        case \"#comment\": // fall thru\r\n        case \"#text\":\r\n          // ignore this\r\n          break;\r\n        default:\r\n          throw new Error(\r\n            \"external_visibility_rules element contains illegal child: \" +\r\n              child.nodeName\r\n          );\r\n      }\r\n    }\r\n  }\r\n\r\n  if (result.length <= 1) {\r\n    result.operator = \"and\";\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction getLastPostionOfVisRules(checkList, position) {\r\n  const getPositionVR = checkList[position].settings.visRules.map((rules) => {\r\n    return rules.positionRule;\r\n  });\r\n  return Math.max(...getPositionVR);\r\n}\r\n\r\nfunction parseExtConditionNode(checkList, node, positionRule) {\r\n  assert(node.nodeName === \"condition\");\r\n\r\n  const conditionNode = getChildNode(node, \"external_form\");\r\n  const deserializeResult = deserialize(conditionNode.textContent, true);\r\n\r\n  if (deserializeResult.error) {\r\n    const { error } = deserializeResult;\r\n    throw new Error(\"external_visibility_rules error: \" + error);\r\n  }\r\n\r\n  const { form, fields } = deserializeResult;\r\n\r\n  const otherIdentifier = getRequiredAttr(node, \"field-identifier\");\r\n  const otherFields = fields.filter(\r\n    (f) => f.settings.identifier === otherIdentifier\r\n  );\r\n  if (otherFields.length !== 1) {\r\n    throw new Error(\r\n      \"Invalid SFDL: Form contains multiple fields with the same identifier: \" +\r\n        otherIdentifier\r\n    );\r\n  }\r\n  const otherField = otherFields[0];\r\n\r\n  let operatorId = getRequiredAttr(node, \"operator\");\r\n  const argType = Ops[operatorId].argType;\r\n\r\n  let conjunctionOperator = getAttrWithDefault(\r\n    node,\r\n    \"conjunction-operator\",\r\n    \"and\"\r\n  );\r\n\r\n  let argument = convertRuleArgument(\r\n    argType,\r\n    getRequiredAttr(node, \"argument\"),\r\n    otherField\r\n  );\r\n\r\n  let position = parseInt(getAttrWithDefault(node, \"positionRule\", undefined));\r\n  // HACK to support opening old versions\r\n  if (operatorId === \"isBool\" && otherField.type === \"naYesNo\") {\r\n    operatorId = \"isExtBool\";\r\n    argument = String(argument);\r\n  }\r\n\r\n  return {\r\n    id: uuid.v4(),\r\n    fieldId: otherField.id,\r\n    operatorId: operatorId,\r\n    argument: argument,\r\n    conjunctionOperator: conjunctionOperator,\r\n    form: form,\r\n    fields: fields,\r\n    positionRule: position ? position : positionRule,\r\n    isInternal: false,\r\n  };\r\n}\r\n\r\nfunction readAuthorizationRules(authorizationUniverse, field, fieldNode) {\r\n  if (fieldNode === undefined) {\r\n    return [];\r\n  }\r\n\r\n  const findAuthorizationId = (name) => {\r\n    const authorization = authorizationUniverse.find((t) => t.name === name);\r\n    return authorization.id;\r\n  };\r\n\r\n  if (hasChildNode(fieldNode, \"authorization_rules\")) {\r\n    const rulesNode = getChildNode(fieldNode, \"authorization_rules\");\r\n    const alwaysAddNodes = getChildNodes(rulesNode, \"authorization\");\r\n\r\n    const alwaysAddRules = alwaysAddNodes.map((tagNode) => {\r\n      const authorizationName = getRequiredAttr(tagNode, \"name\");\r\n      const authorizationId = findAuthorizationId(authorizationName);\r\n      return {\r\n        id: uuid.v4(),\r\n        authorizationId: authorizationId,\r\n        authorizationName: authorizationName,\r\n      };\r\n    });\r\n\r\n    return alwaysAddRules;\r\n  } else {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction readTagRules(tagUniverse, field, fieldNode) {\r\n  if (fieldNode === undefined) {\r\n    return [];\r\n  }\r\n\r\n  const findTagId = (name) => {\r\n    const tag = tagUniverse.find((t) => t.name === name);\r\n    assert(tag);\r\n    return tag.id;\r\n  };\r\n\r\n  if (hasChildNode(fieldNode, \"tag_rules\")) {\r\n    const rulesNode = getChildNode(fieldNode, \"tag_rules\");\r\n\r\n    const ruleNodes = getChildNodes(rulesNode, \"tag_rule\");\r\n    const alwaysAddNodes = getChildNodes(rulesNode, \"tag\");\r\n\r\n    const alwaysAddRules = alwaysAddNodes.map((tagNode) => {\r\n      const tagName = getRequiredAttr(tagNode, \"name\");\r\n      const tagId = findTagId(tagName);\r\n      const operator = FieldTypes[field.type].applicableOperators[0];\r\n      return {\r\n        id: uuid.v4(),\r\n        tagId: tagId,\r\n        operatorId: operator.id,\r\n        argument: getDefaultValue(operator.argType, field),\r\n        alwaysAdd: true,\r\n      };\r\n    });\r\n\r\n    const normalRules = ruleNodes.map((ruleNode) => {\r\n      const tagName = getRequiredAttr(ruleNode, \"tag\");\r\n      const tagId = findTagId(tagName);\r\n      const operatorId = getRequiredAttr(ruleNode, \"operator\");\r\n      const argType = Ops[operatorId].argType;\r\n      const argument = convertRuleArgument(\r\n        argType,\r\n        getRequiredAttr(ruleNode, \"argument\"),\r\n        field\r\n      );\r\n\r\n      return {\r\n        id: uuid.v4(),\r\n        tagId: tagId,\r\n        operatorId: operatorId,\r\n        argument: argument,\r\n        alwaysAdd: false,\r\n      };\r\n    });\r\n\r\n    return alwaysAddRules.concat(normalRules);\r\n  } else {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction readPrintTagRules(printTagUniverse, field, fieldNode) {\r\n  if (fieldNode === undefined) {\r\n    return [];\r\n  }\r\n\r\n  const findTagId = (name) => {\r\n    const tag = printTagUniverse.find((t) => t.name === name);\r\n    return tag.id;\r\n  };\r\n\r\n  if (hasChildNode(fieldNode, \"print_tag_rules\")) {\r\n    const rulesNode = getChildNode(fieldNode, \"print_tag_rules\");\r\n    const alwaysAddNodes = getChildNodes(rulesNode, \"tag\");\r\n\r\n    const alwaysAddRules = alwaysAddNodes.map((tagNode) => {\r\n      const tagName = getRequiredAttr(tagNode, \"name\");\r\n      const tagId = findTagId(tagName);\r\n      return {\r\n        id: uuid.v4(),\r\n        tagId: tagId,\r\n        tagName: tagName,\r\n      };\r\n    });\r\n\r\n    return alwaysAddRules;\r\n  } else {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction readButtonDescriptions(fields, fieldNode) {\r\n  if (hasChildNode(fieldNode, \"button_descriptions\")) {\r\n    const buttonDescriptionsNode = getChildNode(\r\n      fieldNode,\r\n      \"button_descriptions\"\r\n    );\r\n\r\n    return parseButtonDescriptionNode(fields, buttonDescriptionsNode);\r\n  } else {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction parseButtonDescriptionNode(fields, node) {\r\n  assert(node.nodeName === \"button_descriptions\");\r\n\r\n  const result = [];\r\n\r\n  if (node.hasChildNodes()) {\r\n    for (let i = 0; i < node.childNodes.length; i += 1) {\r\n      const child = node.childNodes[i];\r\n\r\n      if (child.nodeName === \"#comment\" || child.nodeName === \"#text\") {\r\n        continue;\r\n      }\r\n\r\n      const selectedDescriptionId = getRequiredAttr(\r\n        child,\r\n        \"selected-description-id\"\r\n      );\r\n      const selectedButtonId = getRequiredAttr(child, \"selected-button-id\");\r\n\r\n      if (child.nodeName === \"button_description\") {\r\n        result.push({\r\n          id: uuid.v4(),\r\n          selectedDescriptionId: selectedDescriptionId,\r\n          selectedButtonId: selectedButtonId,\r\n        });\r\n      } else {\r\n        throw new Error(\r\n          \"button_descriptions element contains illegal child: \" +\r\n            child.nodeName\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n","export const baseUrl = process.env.REACT_APP_API_BASE_URL;\r\nexport const IDPTBaseUrl = process.env.REACT_APP_IDPT_API_BASE_URL;\r\n\r\n\r\nexport const axiosConfig = {\r\n  baseURL: baseUrl,\r\n  timeout: 60000 * 5,\r\n  withCredentials: true,\r\n};\r\n\r\n\r\nexport const alertAutoHideDuration = 6000;\r\n\r\nexport const blobResponseURLs = [];\r\n\r\nexport const formDataURLs = [];\r\n","import React from \"react\";\r\n\r\nexport const localizedStrings = {\r\n  en: {\r\n    appName: \"SCF Installation Quality\",\r\n    INSTAPP_JOBLIST_ACTIVITY_COCKPIT: \"Activity Cockpit\",\r\n    INSTAPP_TEMPLATE_New_VERSION: \"New version\",\r\n    INSTAPP_TEMPLATE_OVER_WRITE: \"Over Write\",\r\n    JOBLIST_ACTIVITY: \"Activity\",\r\n    INSTAPP_JOBLIST_ACTIVITY_SUM: \"Total\",\r\n    INSTAPP_JOBLIST_ACTIVITY_OVERDUE: \"Overdue\",\r\n    INSTAPP_PROJECTLIST_PROJECT: \"Project\",\r\n    INSTAPP_PROJECTLIST_PROJECT_LEADER: \"PM\",\r\n    INSTAPP_JOBLIST_TASKS: \"Task\",\r\n    INSTAPP_JOBLIST_ME: \"Me\",\r\n    COCKPIT_FILTER_TODAY: \"Today\",\r\n    COCKPIT_FILTER_THISWEEK: \"This week\",\r\n    INSTAPP_COCKPIT_FILTER_THISMONTH: \"This Month\",\r\n    INSTAPP_COCKPIT_FILTER_SIXMONTH: \"6 Months\",\r\n    COCKPIT_FILTER_OPEN: \"Open\",\r\n    COCKPIT_FILTER_CONFIRMED: \"Confirmed\",\r\n    COCKPIT_FILTER_NONE: \"All\",\r\n    INSTAPP_JOBLIST_ACTIVITY_DETAIL: \"Activity Detail\",\r\n    INSTAPP_JOBLIST_UNIT_DETAIL: \"Unit Detail\",\r\n    PROJECTLIST_PROJECT: \"Project\",\r\n    PROJECTLIST_PROJECT_NO: \"Project Number\",\r\n    PROJECTLIST_PROJECT_DESCRIPTION: \"Project Description\",\r\n    PROJECTLIST_SITE_ADDRESS: \"Site Address\",\r\n    JOBLIST_SUBCON_TL: \"Subcon TL\",\r\n    INSTAPP_PROJECTLIST_FitterCount: \"Fitter Count\",\r\n    INSTAPP_PROJECTLIST_UnitCount: \"Unit Count\",\r\n    JOBLIST_ORDER: \"Order\",\r\n    JOBLIST_ORDER_NUMBER: \"Order Number\",\r\n    ORDERDETAILS_PRODUCT_FAMILY: \"Product Family\",\r\n    INSTAPP_JOBLIST_INSTMETHOD: \"Inst Method\",\r\n    VIEW_INSTALLATION_CHECKLIST: \"View Installation Checklist\",\r\n    INSTALLATION_CHECKLIST: \"Installation Checklist\",\r\n    VIEW_NONCONFORMANCE_ITEMS: \"View & Close Nonconformance Items\",\r\n    Close_NONCONFORMANCE_ITEMS: \"Close Nonconformance Items\",\r\n    NONCONFORMITY_LIST: \"Nonconformity List\",\r\n    INSTAPP_JOBLIST_UNIT_PROGRESS: \"Unit Overall Progress\",\r\n    ISNTAPP_JOBLIST_ACTIVITY: \"ACTIVITIES\",\r\n    ISNTAPP_JOBLIST_STEPS: \"STEPS\",\r\n    PROJECTLIST_PLANNED_FINISH: \"Planned Finish\",\r\n    PROJECTLIST_CONFIRMED_FINISH: \"Confirmed Finish\",\r\n    ORDERDETAILS_LOCK: \"Lock\",\r\n    ORDERDETAILS_UNLOCK: \"Unlock\",\r\n    GENERAL_CONFIRM: \"Confirm\",\r\n    GENERAL_CANCEL: \"Cancel\",\r\n    ISNTAPP_JOBLIST_DOC_TODO: \"To do\",\r\n    ISNTAPP_JOBLIST_DOC_DONE: \"Done\",\r\n    ISNTAPP_WITHOUT_TEMPLATES: \"N/A\",\r\n    ISNTAPP_JOBLIST_INST_STEPS: \"Inst Steps\",\r\n    ISNTAPP_PROJECTLIST_FITTER_ASSIGNMENT: \"Fitter Assignment\",\r\n    GENERAL_OVERVIEW: \"Overview\",\r\n    ISNTAPP_PROJECTLIST_FITTER_ASSIGNMENT2: \"Assignment\",\r\n    ISNTAPP_PROJECTLIST_FITTER_ASSIGNED_TOTAL: \"Assigned Total\",\r\n    ISNTAPP_PROJECTLIST_FITTER_NEED: \"Fitters Demand\",\r\n    ISNTAPP_PROJECTLIST_FITTER_Qualified: \"Fitters Qualified\",\r\n    ISNTAPP_PROJECTLIST_FITTER_Assigned: \"Assigned\",\r\n    ISNTAPP_PROJECTLIST_FITTER_CONFIRM: \"Confirm\",\r\n    ISNTAPP_PROJECTLIST_PROJECT_PROGRESS: \"Project Progress\",\r\n    ISNTAPP_PROJECTLIST_PROJECT_INSTALLATIONSTEPS: \"Project Installation Steps\",\r\n    LATERALMENU_PROJECT_LIST: \"Project List\",\r\n    PROJECTLIST_DETAILS: \"Project Details\",\r\n    ISNTAPP_UNITS: \"Units\",\r\n    ISNTAPP_PROJECTS: \"Projects\",\r\n    ISNTAPP_LANGUAGE: \"Language\",\r\n    ISNTAPP_SYNCHRONIZE: \"Synchronize\",\r\n    ISNTAPP_CHANGE_PASSWORD: \"Change Password\",\r\n    ISNTAPP_ABOUT: \"About\",\r\n    ISNTAPP_LANGUAGE_ZH_CN: \"ZH CN\",\r\n    ISNTAPP_LANGUAGE_EN: \"EN\",\r\n    ISNTAPP_ME: \"Me\",\r\n    ISNTAPP_SIGN_OUT: \"Sign Out\",\r\n    ISNTAPP_SYNC_PAGE: \"Synchronize\",\r\n    ISNTAPP_SYNCHRONIZE_PAGE: \"Synchronize All Data\",\r\n    ISNTAPP_SYNCHRONIZE_ORDER: \"Synchronize orders\",\r\n    ISNTAPP_SYNCHRONIZE_MASTER_DATA: \"Synchronize Master Data \",\r\n    ISNTAPP_SYNCHRONIZE_ORDER_DATA: \"Synchronize Order Data \",\r\n    ISNTAPP_SYNCHRONIZE_DOCUMENTS: \"Synchronize Template \",\r\n    ISNTAPP_SYNCHRONIZE_TEMPLATE_LIST: \"Synchronize template list \",\r\n    ISNTAPP_SYNCHRONIZE_DOCUMENT_LIST: \"Synchronize document list \",\r\n    ISNTAPP_SYNCHRONIZE_TASK: \"Synchronize Tasks \",\r\n    ISNTAPP_SYNCHRONIZE_TASK_LIST: \"Synchronize Task list \",\r\n    ISNTAPP_LOADED: \"Loaded \",\r\n    ISNTAPP_LOADING: \"Loading\",\r\n    ISNTAPP_FEIL_TO_LOAD: \"Fail To Load\",\r\n    ISNTAPP_NEW_PASSWORD: \"New Password\",\r\n    ISNTAPP_OLD_PASSWORD: \"Old Password\",\r\n    ISNTAPP_CONFIRME_CHANGE_PASSWORD: \"Confirm New Password\",\r\n    ISNTAPP_UPDATES: \"Updates\",\r\n    ISNTAPP_INSTALLATION_QUALITY_APP: \"Installation Quality APP\",\r\n    ISNTAPP_NEW_VERSION_FOUND: \"New Version Found\",\r\n    ISNTAPP_LATEST_VERSION: \"This is already the latest version\",\r\n    ISNTAPP_CHECK_UPDATES: \"Check Updates\",\r\n    ISNTAPP_COPYRIGHT: \" Copyright Schindler\",\r\n    ISNTAPP_VERSION: \"Version\",\r\n    ISNTAPP_TASKS: \"Tasks\",\r\n    ISNTAPP_TASKS_CREATED_BY_ME: \"Tasks Created By Me\",\r\n    ISNTAPP_TASKS_ASSIGUED_TO_ME: \"Tasks Assigned To Me\",\r\n    ISNTAPP_TO_COMPLETE: \"To Complete\",\r\n    ISNTAPP_TO_CLOSE: \"To Close\",\r\n    ISNTAPP_CLOSED: \"Closed\",\r\n    ISNTAPP_COMPLETE: \"Complete\",\r\n    ISNTAPP_COMPLETE_COMMENT: \"Complete Comment\",\r\n    ISNTAPP_DELETE: \"Delete\",\r\n    ISNTAPP_CLOSE: \"Close\",\r\n    ISNTAPP_TASK: \"Task Description\",\r\n    ISNTAPP_TASK_CREATED: \"Task Create\",\r\n    ISNTAPP_TASK_DESCRIPTION: \"Task Detail\",\r\n    ISNTAPP_DUE_DATE: \"Due Date\",\r\n    ISNTAPP_ASSIGNEE: \"Assignee\",\r\n    ISNTAPP_SUBMIT: \"Submit\",\r\n    ISNTAPP_CONFIRM_TO_CLOSE_THIS_TASK: \"Confirm To Close This Task?\",\r\n    ISNTAPP_CONFIRM_TO_DELETE_THIS_TASK: \"Confirm To Delete This Task?\",\r\n    ISNTAPP_PLEASE_SELECT_COnFIRM_DATE: \" Please Select Confirm Date\",\r\n    ISNTAPP_SEARCH_PROJECT_LIST: \"Search Project List\",\r\n    ISNTAPP_PROJECT_PROGRESS: \"Project Progress\",\r\n    ISNTAPP_SEARCH_ORDER: \"Search Order\",\r\n    ISNTAPP_PROJECT_SITE_ADDRESS: \"Project Site Address\",\r\n    ISNTAPP_PROGRESS: \" progress\",\r\n    ISNTAPP_BASIC: \"Basic\",\r\n    ISNTAPP_PENDING: \"Pending\",\r\n    ISNTAPP_ALL: \"All\",\r\n    ISNTAPP_DESIGNATION: \"Designation\",\r\n    ISNTAPP_INSTALLATION_METHODS: \"Installation Methods\",\r\n    ISNTAPP_NO_PERMISSION: \"No Permission\",\r\n    ISNTAPP_CONFIRM_TO: \"Confirm To \",\r\n    ISNTAPP_DETE: \" Date\",\r\n    ISNTAPP_PLEASE_SELECT: \"please Select\",\r\n    ISNTAPP_IMPORT_PICTURES: \"import Pictures\",\r\n    ISNTAPP_RESHOOT: \"Reshoot\",\r\n    ISNTAPP_USE_PHOTOS: \"Use Photos\",\r\n    ISNTAPP_TAKE_PICTURE:\"Take Picture\",\r\n    ISNTAPP_TEMPLATE: \"Template\",\r\n    ISNTAPP_SAVE_AS_PDF: \"Save As Pdf\",\r\n    ISNTAPP_TEMPLATE_UPLOAD: \"Upload\",\r\n    INSTALLATION_FUTURE: \"Future\",\r\n    INSTALLATION_WEEKS: \"Weeks\",\r\n    INSTALLATION_PROJECT_NAME: \"Project Name\",\r\n    INSTALLATION_DO_YOU_WANGT_TO_SAVE_THE_DRAFT:\r\n      \"You are about to leave the current page. Do you want to save the draft ?\",\r\n    INSTALLATION_ACTIVITY_DOCUMENT: \"Activity Document\",\r\n    INSTALLATION_STOPS: \"Stops\",\r\n    INSTALLATION_HOIST_HEIGHT: \"Hoist height\",\r\n    INSTALLATION_USER_MANUAL: \"User Manual\",\r\n    INSTALLATION_SAVE: \"Save\",\r\n    INSTALLATION_CLEAR: \"Clear\",\r\n    ISNTAPP_HISTORY: \"History\",\r\n    ISNTAPP_INPUT_ORDER_NO: \"Please  Input Order Number\",\r\n    ISNTAPP_INPUT_PE_JOB_NO: \"Please  Input PE Job Number\",\r\n    ISNTAPP_PLAN_START_DATE: 'Plan Start Date',\r\n    ISNTAPP_PLAN_END_DATE: 'Plan End Date',\r\n    ISNTAPP_ACTUAL_START_DATE: \"Actual Start Date\",\r\n    ISNTAPP_ACTUAL_END_DATE: \"Actual end Date\",\r\n    ISNTAPP_ACTUAL_CLOSED_DATE: \"Actual closed Date\",\r\n    ISNTAPP_START: \"START\",\r\n    ISNTAPP_UPLOADED:\"Uploaded\"\r\n  },\r\n  \"zh-cn\": {\r\n    appName: \"App\",\r\n    INSTAPP_JOBLIST_ACTIVITY_COCKPIT: \"\",\r\n    INSTAPP_TEMPLATE_New_VERSION: \"\",\r\n    INSTAPP_TEMPLATE_OVER_WRITE: \"\",\r\n    JOBLIST_ACTIVITY: \"\",\r\n    INSTAPP_JOBLIST_ACTIVITY_SUM: \"\",\r\n    INSTAPP_JOBLIST_ACTIVITY_OVERDUE: \"\",\r\n    INSTAPP_PROJECTLIST_PROJECT: \"\",\r\n    INSTAPP_PROJECTLIST_PROJECT_LEADER: \"\",\r\n    INSTAPP_JOBLIST_TASKS: \"\",\r\n    INSTAPP_JOBLIST_ME: \"\",\r\n    COCKPIT_FILTER_TODAY: \"\",\r\n    COCKPIT_FILTER_THISWEEK: \"\",\r\n    INSTAPP_COCKPIT_FILTER_THISMONTH: \"\",\r\n    INSTAPP_COCKPIT_FILTER_SIXMONTH: \"6\",\r\n    COCKPIT_FILTER_OPEN: \"\",\r\n    COCKPIT_FILTER_CONFIRMED: \"\",\r\n    COCKPIT_FILTER_NONE: \"\",\r\n    INSTAPP_JOBLIST_ACTIVITY_DETAIL: \"\",\r\n    INSTAPP_JOBLIST_UNIT_DETAIL: \"\",\r\n    PROJECTLIST_PROJECT: \"\",\r\n    PROJECTLIST_PROJECT_NO: \"\",\r\n    PROJECTLIST_PROJECT_DESCRIPTION: \"\",\r\n    PROJECTLIST_SITE_ADDRESS: \"\",\r\n    JOBLIST_SUBCON_TL: \"\",\r\n    INSTAPP_PROJECTLIST_FitterCount: \"\",\r\n    INSTAPP_PROJECTLIST_UnitCount: \"\",\r\n    JOBLIST_ORDER: \"\",\r\n    JOBLIST_ORDER_NUMBER: \"\",\r\n    ORDERDETAILS_PRODUCT_FAMILY: \"\",\r\n    INSTAPP_JOBLIST_INSTMETHOD: \"\",\r\n    VIEW_INSTALLATION_CHECKLIST: \"\",\r\n    INSTALLATION_CHECKLIST: \"\",\r\n    VIEW_NONCONFORMANCE_ITEMS: \"&\",\r\n    Close_NONCONFORMANCE_ITEMS: \"\",\r\n    NONCONFORMITY_LIST: \"\",\r\n    INSTAPP_JOBLIST_UNIT_PROGRESS: \"\",\r\n    ISNTAPP_JOBLIST_ACTIVITY: \"\",\r\n    ISNTAPP_JOBLIST_STEPS: \"\",\r\n    PROJECTLIST_PLANNED_FINISH: \"\",\r\n    PROJECTLIST_CONFIRMED_FINISH: \"\",\r\n    ORDERDETAILS_LOCK: \"\",\r\n    ORDERDETAILS_UNLOCK: \"\",\r\n    GENERAL_CONFIRM: \"\",\r\n    GENERAL_CANCEL: \"\",\r\n    ISNTAPP_JOBLIST_DOC_TODO: \"\",\r\n    ISNTAPP_JOBLIST_DOC_DONE: \"\",\r\n    ISNTAPP_WITHOUT_TEMPLATES: \"\",\r\n    ISNTAPP_JOBLIST_INST_STEPS: \"\",\r\n    ISNTAPP_PROJECTLIST_FITTER_ASSIGNMENT: \"\",\r\n    GENERAL_OVERVIEW: \"\",\r\n    ISNTAPP_PROJECTLIST_FITTER_ASSIGNMENT2: \"\",\r\n    ISNTAPP_PROJECTLIST_FITTER_ASSIGNED_TOTAL: \"\",\r\n    ISNTAPP_PROJECTLIST_FITTER_NEED: \"\",\r\n    ISNTAPP_PROJECTLIST_FITTER_Qualified: \"\",\r\n    ISNTAPP_PROJECTLIST_FITTER_Assigned: \"\",\r\n    ISNTAPP_PROJECTLIST_FITTER_CONFIRM: \"\",\r\n    ISNTAPP_PROJECTLIST_PROJECT_PROGRESS: \"\",\r\n    ISNTAPP_PROJECTLIST_PROJECT_INSTALLATIONSTEPS: \"\",\r\n    LATERALMENU_PROJECT_LIST: \"\",\r\n    PROJECTLIST_DETAILS: \"\",\r\n    ISNTAPP_PROJECTS: \"\",\r\n    ISNTAPP_UNITS: \"\",\r\n    ISNTAPP_LANGUAGE: \"\",\r\n    ISNTAPP_SYNCHRONIZE: \"\",\r\n    ISNTAPP_CHANGE_PASSWORD: \"\",\r\n    ISNTAPP_ABOUT: \"\",\r\n    ISNTAPP_LANGUAGE_ZH_CN: \" \",\r\n    ISNTAPP_LANGUAGE_EN: \" \",\r\n    ISNTAPP_ME: \"\",\r\n    ISNTAPP_SIGN_OUT: \" \",\r\n    ISNTAPP_SYNC_PAGE: \" \",\r\n    ISNTAPP_SYNCHRONIZE_PAGE: \"\",\r\n    ISNTAPP_SYNCHRONIZE_ORDER: \"\",\r\n    ISNTAPP_SYNCHRONIZE_MASTER_DATA: \" \",\r\n    ISNTAPP_SYNCHRONIZE_ORDER_DATA: \"\",\r\n    ISNTAPP_SYNCHRONIZE_DOCUMENTS: \"\",\r\n    ISNTAPP_SYNCHRONIZE_TEMPLATE_LIST: \"\",\r\n    ISNTAPP_SYNCHRONIZE_DOCUMENT_LIST: \"\",\r\n    ISNTAPP_SYNCHRONIZE_TASK: \"\",\r\n    ISNTAPP_SYNCHRONIZE_TASK_LIST: \" \",\r\n    ISNTAPP_LOADED: \" \",\r\n    ISNTAPP_LOADING: \"\",\r\n    ISNTAPP_FEIL_TO_LOAD: \"\",\r\n    ISNTAPP_NEW_PASSWORD: \"\",\r\n    ISNTAPP_OLD_PASSWORD: \"\",\r\n    ISNTAPP_CONFIRME_CHANGE_PASSWORD: \"\",\r\n    ISNTAPP_INSTALLATION_QUALITY_APP: \"\",\r\n    ISNTAPP_NEW_VERSION_FOUND: \"\",\r\n    ISNTAPP_LATEST_VERSION: \"\",\r\n    ISNTAPP_CHECK_UPDATES: \"\",\r\n    ISNTAPP_UPDATES: \"\",\r\n    ISNTAPP_COPYRIGHT: \"\",\r\n    ISNTAPP_VERSION: \"\",\r\n    ISNTAPP_TASKS: \"\",\r\n    ISNTAPP_TASKS_CREATED_BY_ME: \"\",\r\n    ISNTAPP_TASKS_ASSIGUED_TO_ME: \"\",\r\n    ISNTAPP_TO_COMPLETE: \"\",\r\n    ISNTAPP_TO_CLOSE: \"\",\r\n    ISNTAPP_CLOSED: \"\",\r\n    ISNTAPP_COMPLETE: \"\",\r\n    ISNTAPP_COMPLETE_COMMENT: \"\",\r\n    ISNTAPP_DELETE: \"\",\r\n    ISNTAPP_CLOSE: \"\",\r\n    ISNTAPP_TASK: \"\",\r\n    ISNTAPP_TASK_CREATED: \"\",\r\n    ISNTAPP_TASK_DESCRIPTION: \"\",\r\n    ISNTAPP_DUE_DATE: \"\",\r\n    ISNTAPP_ASSIGNEE: \"\",\r\n    ISNTAPP_SUBMIT: \"\",\r\n    ISNTAPP_CONFIRM_TO_CLOSE_THIS_TASK: \"?\",\r\n    ISNTAPP_CONFIRM_TO_DELETE_THIS_TASK: \"?\",\r\n    ISNTAPP_PLEASE_SELECT_COnFIRM_DATE: \"\",\r\n    ISNTAPP_SEARCH_PROJECT_LIST: \"\",\r\n    ISNTAPP_PROJECT_PROGRESS: \"\",\r\n    ISNTAPP_SEARCH_ORDER: \"\",\r\n    ISNTAPP_PROJECT_SITE_ADDRESS: \"\",\r\n    ISNTAPP_PROGRESS: \" \",\r\n    ISNTAPP_BASIC: \"\",\r\n    ISNTAPP_PENDING: \"\",\r\n    ISNTAPP_ALL: \"\",\r\n    ISNTAPP_DESIGNATION: \"\",\r\n    ISNTAPP_INSTALLATION_METHODS: \"\",\r\n    ISNTAPP_NO_PERMISSION: \"\",\r\n    ISNTAPP_CONFIRM_TO: \"\",\r\n    ISNTAPP_DETE: \"\",\r\n    ISNTAPP_PLEASE_SELECT: \"\",\r\n    ISNTAPP_TEMPLATE_UPLOAD: \"\",\r\n    ISNTAPP_SAVE_AS_PDF: \"\",\r\n    ISNTAPP_TEMPLATE: \" \",\r\n    ISNTAPP_IMPORT_PICTURES: \"\",\r\n    ISNTAPP_RESHOOT: \"\",\r\n    ISNTAPP_USE_PHOTOS: \"\",\r\n    ISNTAPP_TAKE_PICTURE: \"\",\r\n    INSTALLATION_FUTURE: \"\",\r\n    INSTALLATION_WEEKS: \" \",\r\n    INSTALLATION_PROJECT_NAME: \"\",\r\n    INSTALLATION_DO_YOU_WANGT_TO_SAVE_THE_DRAFT:\r\n      \", ?\",\r\n    INSTALLATION_ACTIVITY_DOCUMENT: \"\",\r\n    INSTALLATION_STOPS: \"\",\r\n    INSTALLATION_HOIST_HEIGHT: \"\",\r\n    INSTALLATION_USER_MANUAL: \"\",\r\n    INSTALLATION_SAVE: \"\",\r\n    INSTALLATION_CLEAR: \"\",\r\n    ISNTAPP_HISTORY: \"\",\r\n    ISNTAPP_INPUT_ORDER_NO: \"\",\r\n    ISNTAPP_INPUT_PE_JOB_NO: \"PE\",\r\n    ISNTAPP_PLAN_START_DATE: '',\r\n    ISNTAPP_PLAN_END_DATE: '',\r\n    ISNTAPP_ACTUAL_START_DATE:\"\",\r\n    ISNTAPP_ACTUAL_END_DATE: \"\",\r\n    ISNTAPP_ACTUAL_CLOSED_DATE: \"\",\r\n    ISNTAPP_START: \"\",\r\n    ISNTAPP_UPLOADED: \"\"\r\n  },\r\n};\r\n\r\nexport const LocalizeContext = React.createContext(localizedStrings[\"zh-cn\"]);\r\n","import { Box, makeStyles, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  logo: {\r\n    width: \"25vw\",\r\n    height: \"auto\",\r\n  },\r\n\r\n  description: {\r\n    margin: spacing(2, 0, 1, 0),\r\n  },\r\n}));\r\n\r\nexport const TitlePage = (props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box>\r\n      <Box>\r\n        {props?.logos?.map((logo) => {\r\n          return (\r\n            <img\r\n              className={classes.logo}\r\n              key={logo.id}\r\n              src={logo.url}\r\n              alt=\"logo\"\r\n            />\r\n          );\r\n        })}\r\n      </Box>\r\n      <Typography variant=\"subtitle2\" className={classes.description}>\r\n        {props?.description}\r\n      </Typography>\r\n    </Box>\r\n  );\r\n};\r\n","import axios from \"axios\";\r\nimport { axiosConfig, blobResponseURLs, formDataURLs } from \"config\";\r\n\r\nconst getPostData = (data, useFormData = false) => {\r\n  if (useFormData) {\r\n    const formData = new FormData();\r\n    Object.keys(data).forEach((key) => {\r\n      if (Array.isArray(data[key])) {\r\n        data[key].forEach((item) => formData.append(key, item));\r\n      } else {\r\n        formData.append(key, data[key]);\r\n      }\r\n    });\r\n    return formData;\r\n  } else {\r\n    return JSON.stringify(data);\r\n  }\r\n};\r\n\r\nconst getQueryString = (data) => {\r\n  let queryString = \"\";\r\n\r\n  if (data) {\r\n    queryString = Object.keys(data)\r\n      .map((key) => {\r\n        let result = `${encodeURIComponent(key)}=`;\r\n        if (Array.isArray(data[key])) {\r\n          result += data[key]\r\n            .map((v) => {\r\n              return `${encodeURIComponent(v)}`;\r\n            })\r\n            .join(`${\"&\" + key + \"=\"}`);\r\n        } else {\r\n          result += `${encodeURIComponent(data[key])}`;\r\n        }\r\n        return result;\r\n      })\r\n      .join(\"&\");\r\n  }\r\n\r\n  if (queryString) {\r\n    return `?${queryString}`;\r\n  }\r\n\r\n  return queryString;\r\n};\r\n\r\nexport const get = (url, data) => {\r\n  return axios\r\n    .get(url + getQueryString(data), {\r\n      ...axiosConfig,\r\n      responseType: blobResponseURLs.some((element) => url.startsWith(element))\r\n        ? \"blob\"\r\n        : \"json\",\r\n    })\r\n    .catch(({ message, response }) => {\r\n      if (response.status === 400 || response.status === 403) {\r\n        return Promise.reject({\r\n          code: response.status,\r\n          message: response.data.error.message,\r\n        });\r\n      }\r\n\r\n      if (response.status === 401) {\r\n        return Promise.reject({\r\n          code: response.status,\r\n          message: \"\",\r\n        });\r\n      }\r\n\r\n      return Promise.reject({ code: response.status, message });\r\n    });\r\n};\r\n\r\nexport const post = (url, data) => {\r\n  const useFormData = formDataURLs.some((element) => url.startsWith(element));\r\n  const postData = getPostData(data, useFormData);\r\n\r\n  return axios\r\n    .post(url, postData, {\r\n      ...axiosConfig,\r\n      headers: !useFormData ? { \"Content-Type\": \"application/json\" } : {},\r\n    })\r\n    .catch(({ message, response }) => {\r\n      if (response.status === 400 || response.status === 403) {\r\n        return Promise.reject({\r\n          code: response.status,\r\n          message: response.data.error.message,\r\n        });\r\n      }\r\n\r\n      if (response.status === 401) {\r\n        return Promise.reject({\r\n          code: response.status,\r\n          message: \"\",\r\n        });\r\n      }\r\n\r\n      return Promise.reject({ code: response.status, message });\r\n    });\r\n};","import { get, post } from \"./base\";\r\n\r\nexport const login = (data) => {\r\n  return post(\"/app/login\", data);\r\n};\r\n\r\nexport const logout = () => {\r\n  return get(\"/account/logout\");\r\n};\r\n\r\nexport const getProfile = () => {\r\n  return get(\"/app/profile\");\r\n};\r\n","import { post } from \"./base\";\r\n\r\nexport const uploadDocumentForm = (data) => {\r\n  return post(\r\n    \"/app/SaveDocumentInfo?isGeneratePdf=true&fileExtension=.eform2\",\r\n    data\r\n  );\r\n};\r\n","import { get, post } from \"./base\";\r\n\r\nexport const fetchFittersDemand = (data) => {\r\n  return get(\"/app/fittersDemand\", data);\r\n};\r\n\r\nexport const fetchFittersCertification = (data) => {\r\n  return get(\"/app/fittersCertification\", data);\r\n};\r\n\r\nexport const fetchFittersAssignmentTransfer = (data) => {\r\n  return get(\"/app/fittersAssignmentTransfer\", data);\r\n};\r\n\r\nexport const postFittersAssignmentTransfer = (data) => {\r\n  return post(\"/app/fittersAssignmentTransfer\", data);\r\n};\r\n","import { get, post } from \"./base\";\r\n\r\nexport const fetchGroupInfo = () => {\r\n  return get(\"/app/groupInfo\");\r\n};\r\n\r\nexport const postGroupInfo = (data) => {\r\n  return post(\"/app/groupInfo\", data);\r\n};\r\n","import { get } from \"./base\";\r\n\r\nexport const getInstallationMethodDict = () => {\r\n  return get(\"/app/installationMethodDict\");\r\n};\r\n","import { get, post } from \"./base\";\r\nimport store from \"js/store\";\r\nimport _ from \"lodash\";\r\n\r\nexport const fetchMasterData = (data) => {\r\n  return get(\"/app/orderMDGet\", data);\r\n};\r\n\r\nexport const fetchOrdersData = (data) => {\r\n  return get(\"/app/ordersGet\", data);\r\n};\r\n\r\nexport const fetchOrdersDataByProjects = (data) => {\r\n  return get(\"/app/ordersGet/ByProjects\", data);\r\n};\r\n\r\nfunction customizer(objValue, srcValue) {\r\n  if (_.isArray(objValue)) {\r\n    return objValue.concat(srcValue);\r\n  }\r\n}\r\n\r\nexport const fetchOrdersDataByProjectsAndMerge = (projects, step, userInfo) => {\r\n  const auth = store.getState().auth;\r\n  let promises = [];\r\n\r\n  let splitCount = Math.ceil(projects.length / step);\r\n  for (let i = 0; i < splitCount; i++) {\r\n    let ps = { projectNos: projects.slice(i * step, (i + 1) * step) };\r\n    if (userInfo?.pNumber) {\r\n      ps[\"pNumber\"] = userInfo.pNumber;\r\n    }\r\n    promises.push(fetchOrdersDataByProjects(ps));\r\n  }\r\n\r\n  if (promises.length === 0) {\r\n    // Just get the error message through call api\r\n    const message = auth?.roles[0] === \"SL\" ? \"->\" : \"\";\r\n\r\n    return Promise.reject({ message: message });\r\n  }\r\n\r\n  let result = {};\r\n  let fulfilledValues = [];\r\n\r\n  return Promise.allSettled(promises).then((results) => {\r\n    results.forEach((result) => {\r\n      if (result.status === \"fulfilled\") {\r\n        fulfilledValues.push(result.value);\r\n      }\r\n    });\r\n\r\n    if (fulfilledValues.length === 0) {\r\n      const message = auth?.roles[0] === \"SL\" ? \"->\" : \"\";\r\n\r\n      return Promise.reject({ message: message });\r\n    } else {\r\n      for (let i = 0; i < fulfilledValues.length; i++) {\r\n        _.mergeWith(result, fulfilledValues[i].data, customizer);\r\n      }\r\n\r\n      return Promise.resolve(result);\r\n    }\r\n  });\r\n};\r\n\r\nexport const updateOrderInstallationsMethod = (data) => {\r\n  return post(\"/app/orderInstallationMethod\", data);\r\n};\r\n\r\nexport const updateOrderActivityStatus = (data) => {\r\n  return post(\"/app/activityStatusSet\", data);\r\n};\r\n\r\nexport const getInstMethods = () => {\r\n  return get(\"/app/instMethods\");\r\n};\r\n\r\nexport const updateLocalInstallationStepConfirmDate = (data) => {\r\n  return post(\"/app/convertStepsConfirmedDate\", data);\r\n};\r\n\r\nexport const getLocalInstallationStepConfirmDate = (data) => {\r\n  return get(\"/app/convertStepsConfirmedDate\", data);\r\n};\r\n\r\nexport const checkFileIsExisting = (data) => {\r\n  return post(\"/app/CheckFileExisting\", data);\r\n};\r\n","import { get, post } from \"./base\";\r\n\r\nexport const fetchTemplatesData = (data) => {\r\n  return get(\"/app/templatesGet\", data);\r\n};\r\n\r\nexport const fetchTemplateFormData = (data) => {\r\n  return get(\"/app/documentGet\", data);\r\n};\r\n\r\nexport const pdfDownLoad = (data) => {\r\n  return get(\"/app/pdfDownload\", data);\r\n};\r\n\r\nexport const getDocumentList = (data) => {\r\n  return post(\"/app/documentListByOrder\", data);\r\n};\r\n\r\nexport const getDraft = (data) => {\r\n  return get(\"/app/documentFormDraft\", data);\r\n};\r\n\r\nexport const saveDraft = (data) => {\r\n  return post(\r\n    `/app/SaveDocumentInfo?isGeneratePdf=false&fileExtension=.eform2`,\r\n    data\r\n  );\r\n};\r\n\r\nexport const getNoConformityList = (data) => {\r\n  return get(\"/app/CheckListNonConformity\", data);\r\n};\r\n\r\nexport const getHistoryList = (data) => {\r\n  return get(\"/app/CheckListNonConformityHistory\", data);\r\n}\r\n\r\nexport const closeNonConfirmityItems = (data) => {\r\n  return post(`/app/CloseNonConfirmityItems`, data);\r\n};\r\n","import { get, post } from \"./base\";\r\n\r\nexport const fetchTasks = (data) => {\r\n  return get(\"/app/persTaskGet\", data);\r\n};\r\n\r\nexport const fetchIDPTTasks = (userId) => {\r\n  let id = userId.length === 6 ? '00' + userId : userId;\r\n  return get(`/app/LDPTDb/GetTasks?Executor=${id}`);\r\n};\r\n\r\nexport const fetchEISVOrdersData = (data=[]) => {\r\n  let url = \"app/ordersGet/ByOrders\"\r\n  data.forEach((item, index) => {\r\n    // eslint-disable-next-line\r\n    url += (index===0?'?':'')+'orders=' + `${item}${data.length-1!==index?'&':''}`\r\n  })\r\n  return get(url);\r\n};\r\n\r\nexport const createTask = (data) => {\r\n  return post(\"/app/persTaskSet\", data);\r\n};\r\n\r\nexport const processingTasks = (action,id,data) => {\r\n  return post(`/app/LDPTDb/${id}/${action}?body=${JSON.stringify(data)}`);\r\n} ","import { post } from \"./base\";\r\n\r\nexport const changePassword = (data) => {\r\n  return post(\"/identity/my-profile/change-password\", data);\r\n};\r\n\r\nexport const restNewUserStatus = () => {\r\n  return post(\"/app/profile/set-password-status\");\r\n};\r\n","import { get } from \"./base\";\r\n\r\nexport const getUserManual = () => {\r\n  return get(\"/app/userInstruction\");\r\n};\r\n\r\nexport const downLoadPdf = (id) => {\r\n  return get(\"/app/userInstruction/download\", { id });\r\n};\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA2CAYAAACIsLrgAAABQmlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSCwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAzSDLIMrAyiCWmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsisrYJTzogkns1/ICf4T3uW/HJM9SiAKyW1OBlI/wHilOSCohIGBsYEIFu5vKQAxG4BskWKgI4CsmeA2OkQ9hoQOwnCPgBWExLkDGRfAbIFkjMSU4DsJ0C2ThKSeDoSG2ov2A0+7goeLkEKJt4EHEsqKEmtKAHRzvkFlUWZ6RklCo7AEEpV8MxL1tNRMDIwMmBgAIU3RPVnMXA4MoqdQohVXmdgsAgEMmIQYiE3GRh2BTAwcM9GiGmoMTDwAsPtuGlBYlEi3AGM31iK04yNIGyeIgYG1h///3+WZWBg38XA8Lfo///fc////7uEgYEZaOaBQgCyPl2FN4nK4AAAAIplWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAOShgAHAAAAEgAAAHigAgAEAAAAAQAAADSgAwAEAAAAAQAAADYAAAAAQVNDSUkAAABTY3JlZW5zaG90a6e/YwAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAdRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NTQ8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+NTI8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpVc2VyQ29tbWVudD5TY3JlZW5zaG90PC9leGlmOlVzZXJDb21tZW50PgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KkR460QAAABxpRE9UAAAAAgAAAAAAAAAbAAAAKAAAABsAAAAbAAAEIYh2lRcAAAPtSURBVGgF7FhfSFNRGP+2ubl5l7IVLUNB0kCKpCioIOglQemlh6wHJYwKHzKKgjQMISnSoEiyh6hIQh8qH3wJBXuJoughCsGnLARFkiTRdjfd3Oz8Pncv13X/7GpElB9s9+7c73zn/M7v933n3DkWhNE/ZI5VQH85m6sM/eUE0SpD/x1DC3KY5t++pvnBj5Sc+CquH3TXIKtsBzlDGyirbDtl7d1HDsmv62e38bdJDgDiL/opNtBndw7s7ymvJPeBCga4rACpTisGlPgyTLP3OnSZwKq7ikt49eOCNZhbsAEWE5+H+Zqah3oBc77zjcye2mjjZkWA5ro7abbr0ZLhXJtKyFNeQW6x4oqMwJ7ccJb9pLZ2lQUAiwtGYwP9hIXRmrfmOGVX12qbMrpfFiBMJNJyeQkryAVv3RkCoHQzAqT1W2T6Duee0g62cpqvqgujtJtdbQMCGLnhnJDMJ44LFnwXLrGUjAbKBJDSF4xFhYQxDsxVvJmkttsZg7IFKB0M2MhpvmapdzuAAALVMdLSpMrQDihbgMCMUoYhMYBR8gQTMTK7gBBnUdZNqgQhPzBlZRkDmhPJP9vdyfHAjHSjPSMw6MDMXkwVhWX0UwqGVxSJbFEszCwjQAgYPn2C44AR/92HljIzG9TOM8gPYys5tabzienYGQHSSg0yw17yJw2FInKrlYe0kp4lIK3+kTfYR+zYzMwMRaNRisfj3M3tdpPP56Pc3Fw7YXgfw1xg2r0sPYgloOjN6xQTRxoYpKa3z6QHxe+pqSkaHx+nRCKh95g8Hg+FQiEKBAK6z9MbtbL3iCMStgo9MwUE3c4cPsj9AASArAwAxsbGaHp62sqVnweDQcrPzyeXy2Xpj1xSCkRuz3PdomQKSKtdX109eQ5VWQ46OjrK7MARk/T7/YT/YZLJJPd1Op3kcDiWAAaogoICy9ix3me86cLRKJdNAWnlZrQi2llAZgAEg6S8Xi8hh/QMOSTLsirJwsJCS/mh4v2oPcrhjGRnCggHSiQi3ltQLq1saGiIJwhmJElSwfjfvyNv6vAZ2bKNIlvLOBRAKYCxAKWlpVZDcAogFYwKlCmg6cr9PIBRZ+3omNjIyAg35eXlqZJa//g++YYGta4k79pDk1XVv/gWFRVZVj9lkdE5r+/lkrj4kREgfvkSrwTphkKhHH0mJiYIH5iy8mBm7dMubksEgnx1TX3n67djp5gpxReNqHr4wMCCUgC4IfUV6+2h+JtX/MsWIG2F0wbU3uPQ6O94wE3aYoBCEA6HaZ0AIwlQADPWeIWcYj/a2N5KACXv3E2TR2q4aMAXhhKOXIKF60+qJ3pu0PnSA/QTAAD//6A6sosAAAQMSURBVO1WS0hUURj+5+HkPBoxo5EBQXyAEIjRogdGmwTFTYusRRKGhYsswyCTykUpZpBk2UJIcmGLskUbUbBNJD0WUbQSzBAEyV7iNA8bnbHzneFcjnfm3rlXLTf+MPee+5//P2e++3//d49lhRlp2ELVYY2ZhNtWUESeB/38YWZmhubn5/nY4/FQMBiknU8Hyf3+HcV25NDshRY+57/XRbZfPym0dx/9OF5LIhaT2dnZlJeXx+OC5+op9uUzH2tdskZeJk1ZjADKOFBOjqM1Scm2wiKyuD3cPzc3R/jBvF4vBQIB8jAwOQwUDKBgAAP7fuoshXeXKrHw+Xw+/sN4JRSk2FQyoOjzIVp6M44QWjMge2kZubt6+CJaFwCYnp7m01lZWbSwsMDHokpynqgOfHJsfn4+ByjHqsehliZa/vSRu00DEskWRiHv0LB67aTniYkJikaj3C+qhAdUKnNqkvtRFfxgcozD4aCSkhLu17sEaqpphdFZ6yXrUi5yp5OiL0b5+t5nwwq9tDZED6GXYDabjdxuN6deqniACYVCFIvF+DR6Bz2kZ/G5r/S77gQPcRypJOel1qRwXUBLYyMU7r7Fk5wNjSn7SL2iLA6YA6WgO/F4nIdarVayWCwKJeGUxYAHaVzQP5G+Xj7rausg9LbadAGhMQPHqnmOrbCYPL0P1flJz3jjs7OziuIlBagcAOP3+3lFVVNJj8HGM0woEtTVYowuIKwo0w4SDak2YqAfVE/0lDoHPQNVS0czkQcJh5TDtOiGubSAoCgQB5i9dA9Tu7t8bPQC9YtEIgowAHE6nWnVTL1+qOUiU7cP3A3FhSiksrSAkCTUDmNX8xXKqKjC8L+Z3Mta6ib+jCFAsrpAwj29/WT15Yo1/ukdewcb67lUY6PtA0909zYECAv9GXxEi48HMCQIBKgnTgncqXOBuIAysLXkCSHIPFlH22pP6+xkoIfkbJl66CdXW7shUHIf6vFf3ku8BAEmHdVEruEKIYFvcrlJOTSiUq7r7boUQJ5ZQKBZ+OY1RaKhrO7bPYZenilAqUChp5wN5ymDfbm1zAygJXYyifTdV3rGDBjsbxoQklCp8I2ryiERPlAwk50mUn2njADCd2aRnQKENCfWLGO07jBUGcTD1gQokbpaKIQPNHRUVJJ9f7lCRS1AoNby23GKjo0q9BLrGBEAESvf1wUIC+FPRbo7V1VLbAA62gqKCfel16+4O+PgIU6n2JdJhVYiHnc0v7O5VXkZ8pyR8boBiU1QBXwAxelc+I3ecZzBB1vrBGB0nQ0DJDZEfy2zagBg/BujFLunMvxx665csrOKYWz0m5ZqLdm34YDkxTdjvAVoM966mT23KmTmbW1G7FaFNuOtm9nzL/TbZptQOiqOAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_ENTITIES\": {\r\n      const { activities } = payload;\r\n      return activities ? { ...state, ...activities } : state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = JSON.parse(window.localStorage.getItem(\"auth\"));\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case \"SET_AUTH\":\r\n      return payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initData = {};\r\n\r\nexport default (state = initData, { type, payload }) => {\r\n  switch (type) {\r\n    case \"SET_DOCUMENT_LIST\":\r\n      return { ...payload };\r\n    case \"UPDATE_DOCUMENT_LIST\":\r\n      const {\r\n        projectNo,\r\n        orderNo,\r\n        activityNo,\r\n        documentName,\r\n        modified,\r\n      } = payload;\r\n      const newState = { ...state };\r\n      if (!newState[projectNo]) {\r\n        newState[projectNo] = {};\r\n      }\r\n\r\n      if (!newState[projectNo][orderNo]) {\r\n        newState[projectNo][orderNo] = {};\r\n      }\r\n\r\n      if (!newState[projectNo][orderNo][activityNo]) {\r\n        newState[projectNo][orderNo][activityNo] = [];\r\n      }\r\n\r\n      if (\r\n        newState[projectNo][orderNo][activityNo].some(\r\n          (e) => e.name === documentName\r\n        )\r\n      ) {\r\n        newState[projectNo][orderNo][activityNo].forEach((item) => {\r\n          if (item.name === documentName) {\r\n            item.modified = modified;\r\n          }\r\n        });\r\n      } else {\r\n        newState[projectNo][orderNo][activityNo].push({\r\n          name: documentName,\r\n          modified: modified,\r\n        });\r\n      }\r\n      return newState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { fittersAssignmentTransferProc } from \"js/util\";\r\n\r\nconst initialState = {};\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case \"SET_FITTERS_ASSIGNMENT_TRANSFER\":\r\n      return { ...payload };\r\n    case \"UPDATE_FITTERS_ASSIGNMENT_TRANSFER\":\r\n      const newData = fittersAssignmentTransferProc(payload);\r\n      return { ...state, ...newData };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case \"SET_FITTERS_CERTIFICATION\":\r\n      return { ...payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case \"SET_FITTERS_DEMAND\":\r\n      return { ...payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initDate = {};\r\n\r\nexport default (state = initDate, { type, payload }) => {\r\n  switch (type) {\r\n    case \"RESET_FORM_DATA\":\r\n      return {};\r\n    case \"SET_FORM_DATA\":\r\n      return payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case \"UPDATE_GROUPINFO\":\r\n      const { projrctNumber, groupName, checkList } = payload;\r\n      const gropInfo = {};\r\n      const groupItem = {};\r\n      groupItem[groupName] = checkList;\r\n      gropInfo[projrctNumber] = groupItem;\r\n      // gropInfo[projrctNumber][groupIndex] = groupIndex;\r\n\r\n      return { ...state, ...gropInfo };\r\n    case \"INIT_GROUPINFO\":\r\n      const { projectNumber, initOrderList } = payload;\r\n      const initGroupItem = {};\r\n      initGroupItem[\"UndefinedGroupName\"] = initOrderList;\r\n      initGroupItem[\"groupIndex\"] = 0;\r\n      state[projectNumber] = initGroupItem;\r\n\r\n      return state;\r\n    case \"CHANGE_GROUPINFO\":\r\n      alert(\"123132\");\r\n      break;\r\n    case \"SET_GROUPINFO\":\r\n      return { ...payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case \"SET_INSTALLATION_METHOD_DICT\":\r\n      return { ...payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_ENTITIES\": {\r\n      const { installations } = payload;\r\n      return installations ? { ...state, ...installations } : state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_ENTITIES\": {\r\n      const { orderActivities } = payload;\r\n      return orderActivities ? { ...state, ...orderActivities } : state;\r\n    }\r\n    case \"SET_LOCAL_INSTALLATION_STEP_CONFIRMDATE\":\r\n      const { orderNo, stepNo, confirmedDate } = payload;\r\n      state[orderNo + \"-\" + stepNo].confirmedDate = confirmedDate;\r\n      return { ...state };\r\n    case \"SET_ALL_LOCAL_INSTALLATION_STEP_CONFIRMDATE\":\r\n      const installationStepConfirmDates = { ...payload };\r\n      Object.keys(installationStepConfirmDates).forEach((orderAcitivity) => {\r\n        if (state[orderAcitivity]) {\r\n          state[orderAcitivity].confirmedDate =\r\n            installationStepConfirmDates[orderAcitivity].confirmedDate;\r\n        }\r\n      });\r\n      return { ...state };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_ENTITIES\": {\r\n      const { orderInstallationMethods } = payload;\r\n      return orderInstallationMethods\r\n        ? { ...state, ...orderInstallationMethods }\r\n        : state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_ENTITIES\": {\r\n      const { orders } = payload;\r\n      return orders ? { ...state, ...orders } : state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case \"SET_OVERDUE_ACTIVITIES\":\r\n      return { ...payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_ENTITIES\": {\r\n      const { partnerFunctions } = payload;\r\n      return partnerFunctions ? { ...state, ...partnerFunctions } : state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_ENTITIES\": {\r\n      const { partners } = payload;\r\n      return partners ? { ...state, ...partners } : state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_ENTITIES\": {\r\n      const { productFamilies } = payload;\r\n      return productFamilies ? { ...state, ...productFamilies } : state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_ENTITIES\": {\r\n      const { projects } = payload;\r\n      return projects ? { ...state, ...projects } : state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_ALL_DATA_REFRESH_TIME\": {\r\n      return payload ? { ...payload } : state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {\r\n  documentStatus: \"loaded\",\r\n  masterDataStatus: \"loaded\",\r\n  ordersDataStatus: \"loaded\",\r\n  templateListStatus: \"loaded\",\r\n  taskListStatus: \"loaded\",\r\n};\r\n\r\nexport default (state = { ...initialState }, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_REQUEST_STATUS\": {\r\n      state[payload.name + \"Status\"] = payload.loading;\r\n      return { ...state };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = [];\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_SELECT_BALE\": {\r\n      state.indexOf(payload) > -1\r\n        ? state.splice(state.indexOf(payload), 1)\r\n        : state.push(payload);\r\n      return payload ? [...state] : null;\r\n    }\r\n    case \"SELECT_ALL\": {\r\n      state = payload;\r\n      return payload ? state : null;\r\n    }\r\n    case \"UN_SELECT_ALL\": {\r\n      state = payload;\r\n      return state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {\r\n  language: \"zh-cn\",\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_LANGUAGE\": {\r\n      return payload ? { language: payload } : state;\r\n    }\r\n    case \"SET_DEFAULT_TAB\": {\r\n      return payload ? { ...state, ...{ defaultTab: payload } } : state;\r\n    }\r\n    case \"SET_HISTORY_PAGE\": {\r\n      return payload ? { ...state, ...{ historyPage: payload } } : state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = [];\r\n//payload={projrctNumber:\"\",orderNumber:\"\",flag: \"add\"}\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case \"SET_SLECTEDCHECKBOXLIST\":\r\n      const { flag, orderNumber } = payload;\r\n      const newStateSet = new Set(state.slice(0));\r\n      const newState = Array.from(newStateSet);\r\n      if (flag) {\r\n        newState.push(orderNumber);\r\n      } else {\r\n        newState.splice(newState.indexOf(orderNumber), 1);\r\n      }\r\n      return newState;\r\n    case \"CLEAN_SLECTEDCHECKBOXLIST\":\r\n      return [];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_TASKS\": {\r\n      return payload;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { changeValue } from \"js/templateFormUtil\";\r\n\r\nconst initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"REMOVE_TEMPLATE_FORM_STATE\": {\r\n      const {\r\n        documentNo,\r\n        documentPart,\r\n        activityNo,\r\n        productFamily,\r\n        productLine,\r\n        language,\r\n      } = payload;\r\n      const newState = { ...state };\r\n      delete newState[\r\n        documentNo +\r\n          \"-\" +\r\n          documentPart +\r\n          \"-\" +\r\n          activityNo +\r\n          \"-\" +\r\n          productFamily +\r\n          \"-\" +\r\n          productLine +\r\n          \"-\" +\r\n          language\r\n      ];\r\n      return { ...newState };\r\n    }\r\n    case \"SET_TEMPLATE_FORM_STATE\": {\r\n      return payload ? { ...state, ...payload } : state;\r\n    }\r\n    case \"HANDLE_COMPONENT_VALUE_ONCHANGE\": {\r\n      const newState = changeValue(state, payload);\r\n      return { ...newState };\r\n    }\r\n    case \"STORE_CURRENT_PARAMS\": {\r\n      const currentTemplateParams = { currentTemplateParams: { ...payload } };\r\n      return payload ? { ...state, ...currentTemplateParams } : state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_TEMPLATES\": {\r\n      return payload;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","function versionUpdating(state = {}, action) {\r\n  const { payload } = action;\r\n  switch (action.type) {\r\n    case \"SW_INIT\":\r\n      return {\r\n        ...state,\r\n        serviceWorkerInitialized: !state.serviceWorkerInitialized,\r\n      };\r\n    case \"SW_UPDATE\":\r\n      return {\r\n        ...state,\r\n        serviceWorkerUpdated: !state.serviceWorkerUpdated,\r\n        serviceWorkerRegistration: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default versionUpdating;\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_METHODS\": {\r\n      return payload ? { ...state, ...payload } : state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_SCROLL_POSITION\": {\r\n      state[payload.namepath] = payload.position;\r\n      return { ...state };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n    const { type, payload } = action;\r\n    switch (type) {\r\n        case \"SET_ENTITIES\": {\r\n            const { nonConformityConfig } = payload;\r\n            return nonConformityConfig ? { ...state, ...nonConformityConfig } : state;\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","const initialState = {};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case \"SET_ENTITIES\": {\r\n      const { chars } = payload;\r\n      return chars ? { ...state, ...chars } : state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import activities from \"reducers/activities\";\r\nimport alert from \"reducers/alert\";\r\nimport auth from \"reducers/auth\";\r\nimport documentList from \"reducers/documentList\";\r\nimport fittersAssignmentTransfer from \"reducers/fittersAssignmentTransfer\";\r\nimport fittersCertification from \"reducers/fittersCertification\";\r\nimport fittersDemand from \"reducers/fittersDemand\";\r\nimport formData from \"reducers/formData\";\r\nimport groupInfo from \"reducers/groupInfo\";\r\nimport installationMethodDict from \"reducers/installationMethodDict\";\r\nimport installations from \"reducers/installations\";\r\nimport loading from \"reducers/loading\";\r\nimport orderActivities from \"reducers/orderActivities\";\r\nimport orderInstallationMethods from \"reducers/orderInstallationMethods\";\r\nimport orders from \"reducers/orders\";\r\nimport overdueActivities from \"reducers/overdueActivities\";\r\nimport partnerFunctions from \"reducers/partnerFunctions\";\r\nimport partners from \"reducers/partners\";\r\nimport productFamilies from \"reducers/productFamilies\";\r\nimport projectFilterValue from \"reducers/projectFilterValue\";\r\nimport projects from \"reducers/projects\";\r\nimport refreshTime from \"reducers/refreshTime\";\r\nimport requestStatus from \"reducers/requestStatus\";\r\nimport selectBale from \"reducers/selectBale\";\r\nimport settings from \"reducers/settings\";\r\nimport slectedCheckBoxList from \"reducers/slectedCheckBoxList\";\r\nimport tasks from \"reducers/tasks\";\r\nimport templateForm from \"reducers/templateForm\";\r\nimport templates from \"reducers/templates\";\r\nimport timeHorizon from \"reducers/timeHorizon\";\r\nimport versionUpdating from \"reducers/versionUpdating\";\r\nimport wayToInstallList from \"reducers/wayToInstallList\";\r\nimport scrollPosition from \"reducers/scrollPosition\";\r\nimport nonConformityConfig from \"reducers/nonConformityConfig\";\r\n\r\nimport chars from \"reducers/chars\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst appReducer = combineReducers({\r\n  activities,\r\n  alert,\r\n  auth,\r\n  documentList,\r\n  formData,\r\n  groupInfo,\r\n  installations,\r\n  requestStatus,\r\n  loading,\r\n  orderActivities,\r\n  orderInstallationMethods,\r\n  orders,\r\n  overdueActivities,\r\n  projects,\r\n  productFamilies,\r\n  partners,\r\n  partnerFunctions,\r\n  projectFilterValue,\r\n  selectBale,\r\n  slectedCheckBoxList,\r\n  settings,\r\n  timeHorizon,\r\n  templates,\r\n  templateForm,\r\n  fittersDemand,\r\n  fittersCertification,\r\n  fittersAssignmentTransfer,\r\n  installationMethodDict,\r\n  refreshTime,\r\n  tasks,\r\n  chars,\r\n  versionUpdating,\r\n  wayToInstallList,\r\n  scrollPosition,\r\n  nonConformityConfig\r\n});\r\n\r\nconst rootReducer = (state, action) => {\r\n  if (action.type === \"USER_LOGOUT\") {\r\n    state = undefined;\r\n  }\r\n  if (action.type === \"INIT_STORE\") {\r\n    state = {};\r\n  }\r\n\r\n  return appReducer(state, action);\r\n};\r\n\r\nexport default rootReducer;\r\n","export default (state = {}, { type, payload }) => {\r\n  switch (type) {\r\n    case \"SET_ALERT\":\r\n      return payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export default (state = false, { type, payload }) => {\r\n  \r\n  switch (type) {\r\n    case \"SET_LOADING\":\r\n      return payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = \"\";\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case \"SET_PROJECTFILTERVALUE\":\r\n      return payload ? payload : null;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = \"all\";\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case \"SET_TIME_HORIZON\":\r\n      return payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import rootReducer from \"reducers\";\r\nimport { applyMiddleware, compose, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport default createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAADy0lEQVRYR+2XXYhVVRTHf/+r+NDHQzU2GBaYgaRBgT5oOnfv66QQQQ9WMlKZD0KRSdpQQT1UUBRFTOT0QR9kJWENFUVEpDZnn5HIQgpisIKeEstm6CEhMGbOin3n3OlO3S9nbpNEB/Z9OHfttX9nrb3/a21xGj06jVj4b8CYc+uQzgM6yLIOpJ+BEaQRJUkynYifUmSsWLwU2IC0HehssOAJ4COkj5UkL7UK1hKMdXUtYM6cXsx6qxwPA99hdhw4jrQAiGM5cMGknXSALHtaafp+M6imMFYsbkOKEIsw+w3pGWBAIXxRz7mVSt2Mj1+PdBNwVtnO7Cml6c5GQA1hzPsdmPXlDg4DOxXCULMvrPxva9cuZmzsZqQH8nf7FcK6evPrwpj3WzB7JZ84gHS7kmS0VZBqO3PubuDx8jtpu5Kkv5af+jDOWQVEIWycDsQUIO89ZoM50CYlyd6/+mwEEyeOtANkMm3O3QU8CRxWCCtahplpJGrNt2XL5tHR8RUQJeJWhfBCtV3T09RuKHPuPuARzA4pTVf+uzCl0hKy7Jv8uC9Vmh4x7xcqSY7OWmTMuU2YnaE0fdmcS4Eu4E5gcy6UV06BsVJpOVl2sUIY+AfSEw+EB/YhfYLZo5gdQOoGPlMIqyZhbPXqi5g79/O85vQphLjz2/aU65r0BnAFcCwvGb8A5yL1KEne/BPG+8cwu7dq9WcVwra20cSKUCxeiLQHKFb5fVchbCjrYfyxrq6lFAqHJusI/A7MA15TCLe0FWjNmnMoFF5HuibfxE5pGvdQDuN9P2YxCt8Di2MOgYX5iEVxxgo8RY0n9GYX0pdKkucr/8m6uzsZG/spfxGBYlX+AbgOeA44oRBK7YxOPV8TaXLuLaQPlSS7zblfgbMZH1+pgwdj6mbt+ZvOlMHgBsweUpo+OGsklT0zJZ/eb8XsxfLxy7IVGhr6cbaAaiqweb8fs+52R8ecWwV8CmysJay1YYrFa5HeyyNyj0J4YqbRyeUj9s2xBa25Ber3M8ViH9KO8mSpNN3rR3ntUulysuyDslRIrypJttT6uMY9sHP7gKvyib2MjvZreDgKYsuPeX8bZg8D8Y6VNJKJplXbvL8Ds1356keAPRQKb2tw8NtGRObc1UBPXpWjadPy0hSmHGbvezC7H7isCmAoahNwtDzM5gPzMTsf6Ubgktx2BLOtbbk3VRa39evP5OTJSv+xpGmezI4h7cVst9L066b2tXSmlUnmfWwDYre/CKkTs3jVje3AxJhoKd9pxVe1TUtpOlWn07X/H6Ze5P4Abx9i6a6CJXkAAAAASUVORK5CYII=\"","import * as api from \"api\";\r\nimport { createDb, db } from \"js/db\";\r\nimport * as schema from \"js/schema\";\r\nimport store from \"js/store\";\r\nimport {\r\n  fittersAssignmentTransferProc,\r\n  groupInfoProc,\r\n  orderActivitiesSort,\r\n  templatesConverter,\r\n  localInstallationStepsConfirmDateProc,\r\n  getNonConformityConfig\r\n} from \"js/util\";\r\nimport { normalize } from \"normalizr\";\r\nimport _ from \"lodash\";\r\nimport { taskDataConversion } from \"./util\";\r\n\r\nexport const type = {\r\n  CACHE: 0,\r\n  API: 1,\r\n};\r\n\r\nexport const initDB = () => {\r\n  const state = store.getState();\r\n  const personalNumber = state.auth.personalNumber;\r\n  createDb(personalNumber);\r\n};\r\n\r\nexport const fetchProfile = (param = type.API) => {\r\n  if (param === type.API) {\r\n    return api.getProfile().then((response) => {\r\n      createDb(response.data.personalNumber);\r\n      return db.cache.put({ id: \"auth\", data: response.data }).then(() => {\r\n        return Promise.resolve(response.data);\r\n      });\r\n    });\r\n  }\r\n\r\n  if (param === type.CACHE) {\r\n    return db.cache.get(\"auth\").then((cache) => {\r\n      if (cache?.data) {\r\n        return Promise.resolve(cache.data);\r\n      } else {\r\n        return fetchProfile();\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const fetchMasterData = (param = type.API) => {\r\n  if (param === type.API) {\r\n    return api.fetchMasterData().then((response) => {\r\n      const { entities } = normalize(response.data, schema.masterData);\r\n      entities[\"nonConformityConfig\"] = getNonConformityConfig();\r\n      return db.cache.put({ id: \"masterData\", data: entities }).then(() => {\r\n        return Promise.resolve(entities);\r\n      });\r\n    });\r\n  }\r\n\r\n  if (param === type.CACHE) {\r\n    return db.cache.get(\"masterData\").then((cache) => {\r\n      if (cache?.data) {\r\n        return Promise.resolve(cache.data);\r\n      } else {\r\n        return fetchMasterData();\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const fetchOrdersData = (param = type.API) => {\r\n  if (param === type.API) {\r\n    return api.fetchOrdersData().then((response) => {\r\n      const data = response.data;\r\n      data.orderActivities = orderActivitiesSort(data.orderActivities);\r\n      const { entities } = normalize(response.data, schema.ordersData);\r\n      return db.cache.put({ id: \"ordersData\", data: entities }).then(() => {\r\n        return Promise.resolve(entities);\r\n      });\r\n    });\r\n  }\r\n\r\n  if (param === type.CACHE) {\r\n    return db.cache.get(\"ordersData\").then((cache) => {\r\n      if (cache?.data) {\r\n        return Promise.resolve(cache.data);\r\n      } else {\r\n        return fetchOrdersData();\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nfunction customizer(objValue, srcValue) {\r\n  if (_.isArray(objValue)) {\r\n    return objValue.concat(srcValue);\r\n  }\r\n}\r\n\r\nexport const fetchOrdersDataByProjects = (param = type.API, projects, step) => {\r\n  const auth = store.getState().auth;\r\n\r\n  if (param === type.API) {\r\n    let promises = [];\r\n\r\n    let splitCount = Math.ceil(projects.length / step);\r\n\r\n    for (let i = 0; i < splitCount; i++) {\r\n      let ps = { projectNos: projects.slice(i * step, (i + 1) * step) };\r\n      promises.push(api.fetchOrdersDataByProjects(ps));\r\n    }\r\n\r\n    if (promises.length === 0) {\r\n      // Just get the error message through call api\r\n      const message = auth?.roles[0] === \"SL\" ? \"->\" : \"\";\r\n      return Promise.reject({ message: message });\r\n    }\r\n\r\n    let result = {};\r\n    let fulfilledValues = [];\r\n\r\n    return Promise.allSettled(promises).then((results) => {\r\n      results.forEach((result) => {\r\n        if (result.status === \"fulfilled\") {\r\n          fulfilledValues.push(result.value);\r\n        }\r\n      });\r\n\r\n      if (fulfilledValues.length === 0) {\r\n        const message = auth?.roles[0] === \"SL\" ? \"->\" : \"\";\r\n\r\n        return Promise.reject({ message: message });\r\n      } else {\r\n        for (let i = 0; i < fulfilledValues.length; i++) {\r\n          _.mergeWith(result, fulfilledValues[i].data, customizer);\r\n        }\r\n\r\n        result.orderActivities = orderActivitiesSort(result.orderActivities);\r\n        const { entities } = normalize(result, schema.ordersData);\r\n        return db.cache.put({ id: \"ordersData\", data: entities }).then(() => {\r\n          return Promise.resolve(entities);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  if (param === type.CACHE) {\r\n    return db.cache.get(\"ordersData\").then((cache) => {\r\n      if (cache?.data) {\r\n        return Promise.resolve(cache.data);\r\n      } else {\r\n        return fetchOrdersDataByProjects(type.API, projects, step);\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const fetchTemplatesData = (param = type.API) => {\r\n  if (param === type.API) {\r\n    return api.fetchTemplatesData().then((response) => {\r\n      const data = templatesConverter(response.data);\r\n      return db.cache.put({ id: \"templatesData\", data: data }).then(() => {\r\n        return Promise.resolve(data);\r\n      });\r\n    });\r\n  }\r\n\r\n  if (param === type.CACHE) {\r\n    return db.cache.get(\"templatesData\").then((cache) => {\r\n      if (cache?.data) {\r\n        return Promise.resolve(cache.data);\r\n      } else {\r\n        return fetchTemplatesData();\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const fetchGroupInfo = (param = type.API) => {\r\n  if (param === type.API) {\r\n    return api.fetchGroupInfo().then((response) => {\r\n      const data = groupInfoProc(response.data);\r\n      return db.cache.put({ id: \"groupInfo\", data: data }).then(() => {\r\n        return Promise.resolve(data);\r\n      });\r\n    });\r\n  }\r\n\r\n  if (param === type.CACHE) {\r\n    return db.cache.get(\"groupInfo\").then((cache) => {\r\n      if (cache?.data) {\r\n        return Promise.resolve(cache.data);\r\n      } else {\r\n        return fetchGroupInfo();\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateOrderActivities = (data) => {\r\n  return db.cache.get(\"ordersData\").then((cache) => {\r\n    if (cache?.data) {\r\n      let { orderActivities } = cache.data;\r\n      orderActivities = { ...orderActivities, ...data.orderActivities };\r\n      const newOrdersData = { ...cache.data };\r\n      newOrdersData.orderActivities = orderActivities;\r\n      return db.cache.put({ id: \"ordersData\", data: newOrdersData });\r\n    } else {\r\n      return Promise.resolve(data);\r\n    }\r\n  });\r\n};\r\n\r\nexport const fetchLocalInstallationStepsConfirmDate = (\r\n  data,\r\n  param = type.API\r\n) => {\r\n  if (param === type.API) {\r\n    let promises = [];\r\n    let projects = data.projectNos;\r\n    let step = 70;\r\n    let splitCount = Math.ceil(projects.length / step);\r\n\r\n    for (let i = 0; i < splitCount; i++) {\r\n      let ps = { projectNos: projects.slice(i * step, (i + 1) * step) };\r\n      promises.push(api.getLocalInstallationStepConfirmDate(ps));\r\n    }\r\n\r\n    if (promises.length === 0) {\r\n      const data = localInstallationStepsConfirmDateProc([]);\r\n      return db.cache\r\n        .put({ id: \"localInstallationStepsConfirmDate\", data: data })\r\n        .then(() => {\r\n          return Promise.resolve(data);\r\n        });\r\n    }\r\n\r\n    return Promise.all(promises).then((response) => {\r\n      let res = [];\r\n      for (let i = 0; i < splitCount; i++) {\r\n        res = res.concat(response[i].data);\r\n      }\r\n      const data = localInstallationStepsConfirmDateProc(res);\r\n      return db.cache\r\n        .put({ id: \"localInstallationStepsConfirmDate\", data: data })\r\n        .then(() => {\r\n          return Promise.resolve(data);\r\n        });\r\n    });\r\n  }\r\n\r\n  if (param === type.CACHE) {\r\n    return db.cache.get(\"localInstallationStepsConfirmDate\").then((cache) => {\r\n      if (cache?.data) {\r\n        return Promise.resolve(cache.data);\r\n      } else {\r\n        return fetchLocalInstallationStepsConfirmDate(data);\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateLocalInstallationStepConfirmDate = (data) => {\r\n  return db.cache.get(\"localInstallationStepsConfirmDate\").then((cache) => {\r\n    if (cache?.data) {\r\n      let localInstallationStepsConfirmDates = { ...cache.data };\r\n\r\n      localInstallationStepsConfirmDates[data.orderNo + \"-\" + data.stepNo] =\r\n        data;\r\n\r\n      return db.cache.put({\r\n        id: \"localInstallationStepsConfirmDate\",\r\n        data: localInstallationStepsConfirmDates,\r\n      });\r\n    } else {\r\n      return Promise.resolve(data);\r\n    }\r\n  });\r\n};\r\n\r\nexport const fetchFittersDemand = (param = type.API) => {\r\n  if (param === type.API) {\r\n    return api.fetchFittersDemand().then((response) => {\r\n      const { entities } = normalize(response.data, schema.fittersDemands);\r\n\r\n      return db.cache\r\n        .put({ id: \"fittersDemand\", data: entities.fittersDemand })\r\n        .then(() => {\r\n          return Promise.resolve(entities.fittersDemand);\r\n        });\r\n    });\r\n  }\r\n\r\n  if (param === type.CACHE) {\r\n    return db.cache.get(\"fittersDemand\").then((cache) => {\r\n      if (cache?.data) {\r\n        return Promise.resolve(cache.data);\r\n      } else {\r\n        return fetchFittersDemand();\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const fetchFittersCertification = (param = type.API) => {\r\n  if (param === type.API) {\r\n    return api.fetchFittersCertification().then((response) => {\r\n      const { entities } = normalize(\r\n        response.data,\r\n        schema.fittersCertifications\r\n      );\r\n\r\n      return db.cache\r\n        .put({\r\n          id: \"fittersCertification\",\r\n          data: entities.fittersCertification,\r\n        })\r\n        .then(() => {\r\n          return Promise.resolve(entities.fittersCertification);\r\n        });\r\n    });\r\n  }\r\n\r\n  if (param === type.CACHE) {\r\n    return db.cache.get(\"fittersCertification\").then((cache) => {\r\n      if (cache?.data) {\r\n        return Promise.resolve(cache.data);\r\n      } else {\r\n        return fetchFittersCertification();\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const fetchFittersAssignmentTransfer = (param = type.API) => {\r\n  if (param === type.API) {\r\n    return api.fetchFittersAssignmentTransfer().then((response) => {\r\n      const fittersAssignmentTransfer = fittersAssignmentTransferProc(\r\n        response.data\r\n      );\r\n\r\n      return db.cache\r\n        .put({\r\n          id: \"fittersAssignmentTransfer\",\r\n          data: fittersAssignmentTransfer,\r\n        })\r\n        .then(() => {\r\n          return Promise.resolve(fittersAssignmentTransfer);\r\n        });\r\n    });\r\n  }\r\n\r\n  if (param === type.CACHE) {\r\n    return db.cache.get(\"fittersAssignmentTransfer\").then((cache) => {\r\n      if (cache?.data) {\r\n        return Promise.resolve(cache.data);\r\n      } else {\r\n        return fetchFittersAssignmentTransfer();\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateFittersAssignmentTransfer = (data) => {\r\n  return db.cache.get(\"fittersAssignmentTransfer\").then((cache) => {\r\n    if (cache?.data) {\r\n      let newData = { ...cache.data };\r\n      const extfittersAssignmentTransfer = fittersAssignmentTransferProc(data);\r\n      newData = { ...newData, ...extfittersAssignmentTransfer };\r\n      return db.cache.put({ id: \"fittersAssignmentTransfer\", data: newData });\r\n    } else {\r\n      return Promise.resolve(data);\r\n    }\r\n  });\r\n};\r\n\r\nexport const fetchDocumentList = (request, param = type.API) => {\r\n  if (param === type.API) {\r\n    return api.getDocumentList(request).then((response) => {\r\n      return db.cache\r\n        .put({ id: \"documentList\", data: response.data })\r\n        .then(() => {\r\n          return Promise.resolve(response.data);\r\n        });\r\n    });\r\n  }\r\n\r\n  if (param === type.CACHE) {\r\n    return db.cache.get(\"documentList\").then((cache) => {\r\n      if (cache?.data) {\r\n        return Promise.resolve(cache.data);\r\n      } else {\r\n        return fetchDocumentList(request);\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const fetchInstalltionMethodDict = (param = type.API) => {\r\n  if (param === type.API) {\r\n    return api.getInstallationMethodDict().then((response) => {\r\n      return db.cache\r\n        .put({ id: \"InstalltionMethodDict\", data: response.data })\r\n        .then(() => {\r\n          return Promise.resolve(response.data);\r\n        });\r\n    });\r\n  }\r\n\r\n  if (param === type.CACHE) {\r\n    return db.cache.get(\"InstalltionMethodDict\").then((cache) => {\r\n      if (cache?.data) {\r\n        return Promise.resolve(cache.data);\r\n      } else {\r\n        return fetchInstalltionMethodDict();\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateDocumentList = (data) => {\r\n  return db.cache.get(\"documentList\").then((cache) => {\r\n    if (cache?.data) {\r\n      const { projectNo, orderNo, activityNo, documentName, modified } = data;\r\n      let newData = { ...cache.data };\r\n\r\n      if (!newData[projectNo]) {\r\n        newData[projectNo] = {};\r\n      }\r\n\r\n      if (!newData[projectNo][orderNo]) {\r\n        newData[projectNo][orderNo] = {};\r\n      }\r\n\r\n      if (!newData[projectNo][orderNo][activityNo]) {\r\n        newData[projectNo][orderNo][activityNo] = [];\r\n      }\r\n\r\n      if (\r\n        newData[projectNo][orderNo][activityNo].some(\r\n          (e) => e.name === documentName\r\n        )\r\n      ) {\r\n        newData[projectNo][orderNo][activityNo].forEach((item) => {\r\n          if (item.name === documentName) {\r\n            item.modified = modified;\r\n          }\r\n        });\r\n      } else {\r\n        newData[projectNo][orderNo][activityNo].push({\r\n          name: documentName,\r\n          modified: modified,\r\n        });\r\n      }\r\n      return db.cache.put({ id: \"documentList\", data: newData });\r\n    } else {\r\n      return Promise.resolve(data);\r\n    }\r\n  });\r\n};\r\n\r\nexport const removeCachedData = () => {\r\n  db.cache.clear();\r\n};\r\n\r\nexport const fetchTasks = (param = type.API) => {\r\n  if (param === type.API) {\r\n    const auth = JSON.parse(window.localStorage.getItem(\"auth\"));\r\n  \r\n    return api\r\n      .fetchIDPTTasks(auth.userName)\r\n      .then((response) => {\r\n        let resp = response.data?.data.map((item) => {\r\n          return taskDataConversion(item)\r\n        });\r\n\r\n        return db.cache\r\n          .put({\r\n            id: \"tasks\",\r\n            data: resp,\r\n          })\r\n          .then(() => {\r\n            return Promise.resolve(resp);\r\n          });\r\n      })\r\n  }\r\n\r\n  if (param === type.CACHE) {\r\n    return db.cache.get(\"tasks\").then((cache) => {\r\n      if (cache?.data) {\r\n        return Promise.resolve(cache.data);\r\n      } else {\r\n        return fetchTasks();\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport const fetchInstMethods = (param = type.API) => {\r\n  if (param === type.API) {\r\n    return api.getInstMethods().then((response) => {\r\n      return db.cache\r\n        .put({\r\n          id: \"instMethods\",\r\n          data: response.data,\r\n        })\r\n        .then(() => {\r\n          return Promise.resolve(response.data);\r\n        });\r\n    });\r\n  }\r\n\r\n  if (param === type.CACHE) {\r\n    return db.cache.get(\"instMethods\").then((cache) => {\r\n      if (cache?.data) {\r\n        return Promise.resolve(cache.data);\r\n      } else {\r\n        return fetchTasks();\r\n      }\r\n    });\r\n  }\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/Favicon.5d05d6fd.png\";","module.exports = __webpack_public_path__ + \"static/media/fitter2.7dfa807b.svg\";","module.exports = __webpack_public_path__ + \"static/media/fitter3.a2da1260.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADPklEQVRYR8WXT2hUVxSHv5M3zkaLiy4qWYnVouDCjevqRqGKhfoPF8UutNYYkvsyEsmmJuDKLN6dsQpCi7jQFiUVEaRxoS0VuyoouCxFCxVBELPQwJR3j5zwRp7TZN4bHc3bzcx553z3d8/9nTvCO3jiOF4VQqiJSBW44L3/daEy0uv6cRyvDiFcE5HDwCYR6U+S5Ot3CjA+Pl6ZmZn5JoRwWEQioCIiJ1W1H9gJTHnvx+eDeCsFRkZGtqdpakU3Ar+LyHSz2ZyuVquRqv4ERCJyDBhW1T/ng+gaYGhoaL2IHAK2icgTYDqEcKPRaNzOr9A5N7diKzo6OvpBs9mcAu60Q5QCGBgYWFatVg8AXwAfq+p0X1/ftSRJriy0t3kAixkbG/twdnb2Z+Cm936i9V5HAJM4hGB7uBW4r6pT9Xr9bJnGzQA0X2xwcLC/UqkYxC8tJf4H4JxbJyI7VXUHsAz4ETjlvX9WpnArZj4A+805txIw5a4ahMRxfElVd3eTvJex4py7BUx0MoteFmxrVF18BdqINgHHvfeb32TVzjlzvtNpmh5sNBp3MnUtlXX9vHlfa0JL8LYA9j5wL4qiE2maXs4W8n4B0jT9PIqiSeCTRQGwLYzjeIuqfgf8280WnAO+UtU99Xq9JV/pdmjfwjiO/waequrRwh7IjOMzVZ0UEfOGriHyAMPDw4dEZAR41FEB55w1zT5gNfBCVZcAS7Kx+oeqJmXVaAEAv4nIY1XdW9gDLSMCNqjqVhupwBHgNLAckIVmefveZAAXgB+899+WOoZ5JzQ1bHjYd9ZImTrdApjHG7j5vrlsZx/IKWCB+4HzQALEwKfZTH81Pjt1ZKbAKRGpJUlyoyyAXRzmCuWepcBz+6yqZ96gB24C3wMXCxUofcZKBOZPgXPOrmQfLRpArVZbG0K4rqoPSxtRiUV2DGk3IufcfeC/rJ+Kh1EvATJj+xL4570rAJiT2pXc7pPlx3GPFGiISJIkyblSx7CoaC5JUagd2RUissZObxbcp6qpiMwdaeBuPkkURUcK/xc45yxZNzekXW2kf2Wf7Vb9IPebzaCJUgDe+8K4QnnaAloOXJg4U6Db/GXjN78Ewg3EUMJlk8QAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADY0lEQVRYR8WWX4hUVRzHv99zx1BUDHoo9klMxcCHXnoyZq4ESTvjNLOThQ9iD5UtPoQp+Na60FM+LGQKQSE++Adj9840M+aKuHvHsKegwMeICgohEF80y53zlTOzg3e33bn35tqch4E753d+v8/5/n7ndw7xBMbLlcYmr83DIJ6i7NnZ6u7Z5cJwpeP7xcub5c3VKY1awCc5FAaF954ogO/PZPD0X++LGgXgAchA+kTQEGkqkp1sVXcfWwrisRTwy82CpFGQLwG4DmnaM5z+h/I8ywuCPGMyR2XbH0j2+6UgUgP45cZ2SxygZR7Eny4oaa/MBsVvozvMluqdHbugO4q19RkvMynZG4shEgH4e2bW4cHdd0SOAHoe4DRo6uHUa8FyuY0COJtXylefmcPfUxKutar58d66vgAdiYkKxF2AboqYbE3lP09SuF0Ao2iwHcXakGcyU4C93FPiXwDZcuMFI1ZEFAGsA3meds2J2erOO0kC92yWAnBzfumbjaINJFtzEMyVL10EtCeN85W0dQAzVHu8X7NYyYBRX7lyU4NXIErkl+q+6I2FwfDO/7Lr+fUnZe27rVrhRq7cmHF+KI0v53dBEa4QwBiBHzHX/lgZfjUQgPv38frqNTgO2a0DAXApzJa+fpXG+wzS74lTkCs1T4N4G9CbYVDoyJdmLE5hbqTxM4TblI7E1oBrHKQZBnQcoOsNqSGiANmR5gEKHwL6o68C2VLTFc1eEJsB3AOwCtAqgB7A7wA7kVSNHoDUDg3NLUFvxdZArxEBfFHkLkrTAg4SOGnBDYDlcnf54vTMA5yF7JdhtfBRomMY7YRODXd5uP+6hdQcSw9gamGQ3+DgUgG4BYLZT9gzopmg7CELk+ve6Y+uz35F2VXAnJB4uFUdvpIIoFt8XifQo6G1AO92v+2ptDUA4pqF+cJo7lxsDaQ5ZnG2C05BqXmB1LMDA/Ar9W0SL0H4NXEjitth3PwSjegmhAeUDsU2ojjnSeYXpqB+DDT7CP32vysA2YuE8URbGUQNfApoIgzypxMdwzhpXVOKs4kc3+cAbOm0lM6PDME2gPkjzR+ivqztdNz+o/Nuk03+QhLeWOCR/Kn7zTuA/aU354rSvUUTAYRBPtYubiOL53tXQKxjp0Ba50ntnbIPAV3NMwCjlOzLAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAGVJREFUOE/tk7ENgDAQA+/XoU3HBtCTASmhhwmYC0QkS5G++oiCIq7tKyzb+EBWMQ5gCjBPYH79gmzAEgDIugNZkLsBoIh1iGuvd+IH9cNOLmBsmH45oWY/ACuQAqByvvrFgay3PsN+ExJbZaOxAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAM5JREFUSEvt0k0OgjAQBeA3MXgHYxOKR/A0/h1PwFNBF/UcY2ig2rTFKhIX2h1p8+Ux8wgzHZrJxR+2k/3+KERRnJlpcVXNPmXhSYk7FIxjBzLokoI/hR/RIWkKPgoLKUuADuFfp1qrJnKHeI/HUZu91koF8WBiIWUFUNKSAA7iHvwaapNXWimz3OE48FpuagLvUurkv2EHt/A01E9u4M+gPU4oddueaJXnW+p6b8p/b8nSvMvAzM64zHfmDMK/x0jd3ptzZHlTsWgrfhu+AWf6SquxlWDhAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/logo.8fbb15dd.png\";","module.exports = __webpack_public_path__ + \"static/media/fitter.bc99d9db.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADa0lEQVRYR8WXT4hVdRTHv99z35SgIdGieC9BzKKgRRtXLvpdHRMqFJr+0CJqUZm4EDNo1zTQKhcDmUFQSAtLRkYRIRoX994obBUUuIxIZ95rSBA3hem9v6/8nnPhOs28e5+OzW937+/ccz7n/M6f3yXuwrowOrqpVRQHId3jgWMbsixbzgxX2v6sc5uNPOOlvQCcke1Omr59VwHkXKtn9g5uGo0EtAz4uJDaETlWSNMbsuzDpSDuKALzzj2fk3sN2OKBHwDMGDkTmUXX8/w4yagVRe/n3u/33v+8FMTQAPPOPVkAe0A+J+CSATOSznay7Meqh7PO9T0ORi9t3XrftZGRaQ+cWwzRCOAv59ZdA96k2QuQHgmekjzTTpJTy51tFSDIzG3f/gC9Pwkp6WTZRPndQIAQ4sJsjNJOSecJTLez7PMmiRsADFDV2MUdO9qW5yclfVdG4j8AvdHRJ7z3YwB2EVgn6Zu10uH7s+xKE8OlzFIAYe9P5zZ68pSXTgcI9uJ4SsBLwyhfSdkAkBbSxKBmsZIGq7q6cazVj8Ci0nEROd5O0/h2vJ51zkVmRwS81UmSc3NxnAY9kiaW03tLEvYV3CkAOQ7yV3j/kSdPrArAvWvW7P736tVDHnhsVQDCEXa3bXsGwKeSuo2PoOvcUZBviHz54STph2+YtfgIu3H8u4DLkt6rzYHQOAg8C7NDlKZuB6IK0HNuj8zeldQbGIGucyFpXiWwWcA/AkYIjISxCuknmU02jUYJUEjfR2bzXnqlNgfKRkTgKQI7dXPQ7JN0hMB6D3C5Wb74eAKAmR2j9GU7TT9oVIbVThiiEYZHeNdPJOfGhwWIzE63k2R9fwI26QMlQPjAgNc98JWRk146YMDT4X11og1KyoUjOCzyYCdJzjYCCMkXkX1D5fLkWpP+Ds+e/GzYHPBAkuf5F61W6+vaHBimzOpkq1UwF8fHATy4agA95x4X+a2AC40bUZ2HdftLNKLzAq5LOlDbiOqUN9mvAvQbG/kagIv/ewQ8OUXvI5Hhatd8HDfxsrYMzT4RMNlJkqONyrDOaOgTdTLlvoCHADwanF54ZwIKAv2SJvBLVRfN9tX+F4R7m5eGuSG9eIsR4LeF5ysC/ij3QlKGu2gjgE6a1so1jVIpV5lBgz8NERhWeVP5ENkbMywm8Ua5J/wAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACfUlEQVRYR+1Xv2sUQRT+3u41oo1IdnNEg4iNEZLCxs6kE7GyiGCRzJiDVBLEPyCxstDCwiLEXGaSTq9Wy6SwERSMoEi0FO5H4iF6YgjuPpl1N67h9m5vT/GEDGyz896b733v1wyhxapKeRvAJQAnWsml2PsG4C2YF1yt5+PylKRckbJIwNUUxjsSIeCao9S9SKkpgJoQF5joUShUI+BNR6fsEWbgMICR8PfWTqMxeKxUMqygKYCKlPcJKBgBBs72K/WsGwBGtyzEnEU0G9jxvBF3ZeVVIoCalKsMjBoBV6nEMHUCqizEqEW0anR85rG81mu9DSDyzlFqLO5pWYjjAMyXatm2/cEpFt93xEDL0hRiHUTDqU4PhXLA6R1mp2UIjGdE9JiAU02Mf/KZr+e11jUpX/KvjE6FIxWAaqEwDM9bT7RIVHKXlsb/aghMqdhE58LyC6qAgDUGNlylplO5myDUUQ70dBlWpHxAwHgzRxl42K/U5WZ7f4yBqpQNAAcTmP7qKnUoM4Da1NRJz/OO2kSzUSc0XcvK5eru4mLQOitSXrSAaRAFvXx3MR8gy5rvKxajGfLbdlsGPko59B14nZRoPvPNvNZzWROxLQDjPfv+u38GwBxsWDAda28Icsxf+paXX2T13ui1ZSBuvKfLMCsL/wcDia2YaNPMgazep8qBzcnJM75lPW9xyEI386BtCLYmJgY8236acNn47DPPmHGclYW2AParYJ+BOANVKe8AuGH+mfvcEaW6ehmFZbj7MInbTHqanWeiJyGoOgHBKM68iFxmji67dYd5gLTeNvZ683EaeVoR4haAK0Q0mNn7n4rbINog5ruOUipu6weKsNQwew+EzAAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/about.3f69b977.svg\";","module.exports = __webpack_public_path__ + \"static/media/downLoad.707b29cc.svg\";","module.exports = __webpack_public_path__ + \"static/media/Elevator.ea78ca47.svg\";","module.exports = __webpack_public_path__ + \"static/media/key.411e2c90.svg\";","module.exports = __webpack_public_path__ + \"static/media/language.231164ab.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADNklEQVRYR+2WT4gbZRjGf88ku/QiitiDRW+t4KonFaXrlmzmy9YoqCAuWoV6qnoRKiJY1K29WK2CsGKRVdDai/9AwRLS/WZ2V6GoBxUPXiwe1FoRe/PQdpt5ZSappsFkJpuFIji3kG+e5/f+mfd7xUV+dJH9GQnAJicvYcOGK5E2yfvltQQzNIBt376ZVqsO7MS4scv0I7DnFEXfDwMyFIBV3V7EHHAK45Bi/4SF4QTSbZge7xjvV7R4uChEYQBz7jGM1xGvcm7sFS03fuk2yUDQHqCOaMr7HUUgCgFYtboNBSuYZhUvfjBI2KZnbiFIljBeUuz35kHkAtjMzPW0kiNg+xRFb/2boDlXwZjDWElNLXSHwUqKogdGB6jXN3J29XcsmVQcH0sFrVq7D1kFmOgYbMpKYzxDuXQTq61HgJsV+ztHBsgMw9qbkFwOHML0JGIS+A74Aew3TH90IjfgC+BS4FNF/qn1AWineCkTE0+TJO8qjk/0imef6LnWAlDBkjsUx411AWhnwf2E8Y1if/fAJnRuB8bbivx4nnk7noKPhbU9mF2n2D+YAzCPsUWRv72I9BAA4T2gZxkf26pG40w/cQvdV8BykfoPlYGsDM4dAT6X9/v7fI73YvYa5fKUms3j65qBdh+EU6DPMOYV+/OjN/OxqjuAeBixT97PFzEfOgOZ0XQtJDAP/AmkUSYYVyM2prNA3u8uar42gEr9KkqrP7cHj10BGgN9DfYi2EOMj384qEd64Yo3oXO7gF1dV/B7ivz9ncn4KLKDHfFfMRYYK72hZvNkXjYKAZhz72OEQANsCdMWZDuB06CzwDUk9g4K0jtjqn0j6gwks3n7QS5A21wTvWJWqVxGuTyLWZkgOKbFxW+7o+333lAlsFrtLhL7hFJwq44e/TJnAL3Q+f+UvH+5Mz1/RByU9wf6vTswA1kUCdcq9jfk1dKcS3sgPffxPwDhAmizIj+9NoDQGcbz5xcLq7o5AlYGLaDp2vb3+c4lpsj3DXRwBnoB0t9ieiBA15nOorL03wcgoL3zpzuBsZuACzr+gvr2njFGzEBe9xX4f80lKKA98pHcQTSyQ47A/wB/AVD4eDBW3QbGAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/checkList.e863cca7.svg\";","module.exports = __webpack_public_path__ + \"static/media/nodeStatus.654468a4.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/gif;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAVVJREFUSEvt1C1LBFEYxfHfghZBixhMgggGi6JBg+AL+AU0GDUYjWJUsBjEZBJ8qRa/gajNYhEURCwGg2ARP4BzYUaGYXfv7OIadG8ZmHvm/u858zxPxS+vyi/z/F/gAobR22Tkb7jAY/H7WpE+YahJWPbZFWbLAAfxnAi3sYNOdBSe1d7lNfPYwgBe8tBqDvvxmopWcdqg0zkcp7AJ3MaAYT+4CzcM6wDrJaFrOEy1U7gpE2mmWcYRunCOxQh0F5u4xyQ+q+ljfTiWQsMzFMFS4va9cFB3GmHYi6YRA4azg8PgNDi+S8p9Gh8ptCepxGuMYgN7sejLALMzsv8aSj24DWsGl+llzmKwsP9TwPwl6nLbwHw89f5hO9LvpBopmpVkPp5gBA+FtmhJpGGijOd6MN+HLQFW66+s8f8usC+ds/uFqGtOm0aKpsyojGrawGhEjQq+AJvmSR11CPxIAAAAAElFTkSuQmCC\"","export const getProjectSiteAddress = (data, params) => {\r\n  const { orders, partners } = data;\r\n  const { projectNumber } = params;\r\n\r\n  const getOrderSiteAddress = (orderNumber) => {\r\n    const firstPartner = Object.keys(partners)\r\n      .filter((key) => {\r\n        return (\r\n          partners[key].orderNumber === orderNumber &&\r\n          partners[key].functionNumber === \"YS\"\r\n        );\r\n      })\r\n      .sort()[0];\r\n\r\n    if (firstPartner) {\r\n      return partners[firstPartner]?.siteAddress;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  if (Object.keys(orders).length > 0) {\r\n    let result = Object.keys(orders)\r\n      .filter((orderNumber) => {\r\n        return orders[orderNumber].projectNumber === projectNumber;\r\n      })\r\n      .sort()\r\n      .map((orderNumber) => {\r\n        return {\r\n          orderNumber,\r\n          siteAddress: getOrderSiteAddress(orderNumber),\r\n        };\r\n      })\r\n      .filter((item) => {\r\n        return !!item.siteAddress;\r\n      })[0];\r\n    return result ? result.siteAddress : \"\";\r\n  }\r\n  return \"\";\r\n};\r\n","import _ from \"lodash\";\r\n\r\nexport const showInActivityListSteps = (activityAuth, role) => {\r\n  const rolesMapper = {\r\n    PE: \"pe\",\r\n    \"Subcon TL\": \"subconTL\",\r\n    \"SL\":\"sl\"\r\n  };\r\n\r\n  const result = [];\r\n\r\n  if (role === \"admin\") {\r\n    Object.keys(rolesMapper).forEach((key) => {\r\n      const tmp = showInActivityListSteps(activityAuth, key);\r\n      result.push(...tmp);\r\n    });\r\n\r\n    return Array.from(new Set([...result]));\r\n  }\r\n\r\n  const authDesc = activityAuth[rolesMapper[role]];\r\n\r\n  const steps = Array.from(\r\n    new Set([...authDesc.authorization.c, ...authDesc.documentAuthorization.c])\r\n  );\r\n\r\n  steps.forEach((step) => {\r\n    result.push(...step.split(\"/\"));\r\n  });\r\n\r\n  return result;\r\n};\r\n\r\nexport const orderDetailSteps = (\r\n  orderActivities,\r\n  orderNumber,\r\n  activityAuth,\r\n  role\r\n) => {\r\n  const rolesMapper = {\r\n    PE: \"pe\",\r\n    \"Subcon TL\": \"subconTL\",\r\n    \"SL\":\"sl\"\r\n  };\r\n\r\n  const result = [];\r\n\r\n  if (role === \"admin\") {\r\n    Object.keys(rolesMapper).forEach((key) => {\r\n      const tmp = orderDetailSteps(\r\n        orderActivities,\r\n        orderNumber,\r\n        activityAuth,\r\n        key\r\n      );\r\n      result.push(...tmp);\r\n    });\r\n\r\n    return Array.from(new Set([...result]));\r\n  }\r\n\r\n  const authDesc = activityAuth[rolesMapper[role]];\r\n\r\n  const steps = Array.from(\r\n    new Set([...authDesc.authorization.c, ...authDesc.documentAuthorization.c])\r\n  );\r\n\r\n  var filteredSteps = steps.filter((value) => {\r\n    return value.length === 4;\r\n  });\r\n\r\n  if (role === \"PE\") {\r\n    // 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      filteredSteps.push(\"7020\");\r\n    } else {\r\n      // 14 steps\r\n      filteredSteps.push(\"70D0\");\r\n    }\r\n  } else if (role === \"SL\") {\r\n    filteredSteps.push(\"7800\");\r\n   } else {\r\n    // 3 steps\r\n    // subcon tl:  remove 7020 when this order contains 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      const removeSteps = [\r\n        \"7020\",\r\n        \"7030\",\r\n        \"7040\",\r\n        \"7050\",\r\n        \"7060\",\r\n        \"7070\",\r\n        \"7080\",\r\n        \"7090\",\r\n        \"70A0\",\r\n        \"70B0\",\r\n        \"70C0\",\r\n        \"70D0\",\r\n      ];\r\n\r\n      _.remove(filteredSteps, (number) => {\r\n        return removeSteps.includes(number);\r\n      });\r\n    }\r\n  }\r\n  return [...new Set(filteredSteps)];\r\n};\r\n\r\nexport const allActivitiesNosInProjectProgress = (activityAuth, role) => {\r\n  const rolesMapper = {\r\n    PE: \"pe\",\r\n    \"Subcon TL\": \"subconTL\",\r\n    SL:\"sl\"\r\n  };\r\n\r\n  const result = [];\r\n\r\n  if (role === \"admin\") {\r\n    Object.keys(rolesMapper).forEach((key) => {\r\n      const tmp = allActivitiesNosInProjectProgress(activityAuth, role);\r\n      result.push(...tmp);\r\n    });\r\n\r\n    return Array.from(new Set([...result]));\r\n  }\r\n\r\n  const authDesc = activityAuth[rolesMapper[role]];\r\n\r\n  const authActivities = Array.from(\r\n    new Set([...authDesc.authorization.c, ...authDesc.authorization.r])\r\n  );\r\n\r\n  var filteredActivities = authActivities.filter((value) => {\r\n    return value.length === 4;\r\n  });\r\n\r\n  const installationSteps = [\r\n    \"7000\",\r\n    \"7010\",\r\n    \"7020\",\r\n    \"7030\",\r\n    \"7040\",\r\n    \"7050\",\r\n    \"7060\",\r\n    \"7070\",\r\n    \"7080\",\r\n    \"7090\",\r\n    \"70A0\",\r\n    \"70B0\",\r\n    \"70C0\",\r\n    \"70D0\",\r\n    \"7600\",\r\n  ];\r\n\r\n  filteredActivities = filteredActivities.filter(\r\n    (value) => !installationSteps.includes(value)\r\n  );\r\n\r\n  return filteredActivities;\r\n};\r\n\r\nexport const allOrderDetailSteps = (\r\n  orderActivities,\r\n  orderNumber,\r\n  activityAuth,\r\n  role\r\n) => {\r\n  const rolesMapper = {\r\n    PE: \"pe\",\r\n    \"Subcon TL\": \"subconTL\",\r\n    \"SL\":\"sl\"\r\n  };\r\n\r\n  const result = [];\r\n\r\n  if (role === \"admin\") {\r\n    Object.keys(rolesMapper).forEach((key) => {\r\n      const tmp = allOrderDetailSteps(\r\n        orderActivities,\r\n        orderNumber,\r\n        activityAuth,\r\n        key\r\n      );\r\n      result.push(...tmp);\r\n    });\r\n\r\n    return Array.from(new Set([...result]));\r\n  }\r\n\r\n  const authDesc = activityAuth[rolesMapper[role]];\r\n\r\n  const steps = Array.from(\r\n    new Set([\r\n      ...authDesc.authorization.c,\r\n      ...authDesc.documentAuthorization.c,\r\n      ...authDesc.authorization.r,\r\n      ...authDesc.documentAuthorization.r,\r\n    ])\r\n  );\r\n\r\n  var filteredSteps = steps.filter((value) => {\r\n    return value.length === 4;\r\n  });\r\n\r\n  if (role === \"PE\") {\r\n    // 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      filteredSteps.push(\"7020\");\r\n    } else {\r\n      // 14 steps\r\n      filteredSteps.push(\"70D0\");\r\n    }\r\n  } else if (role === \"SL\") {\r\n    filteredSteps.push(\"7800\");\r\n  } else {\r\n    // 3 steps\r\n    // subcon tl:  remove 7020 when this order contains 3 steps\r\n    // add 7020/70D0\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      const removeSteps = [\r\n        \"7030\",\r\n        \"7040\",\r\n        \"7050\",\r\n        \"7060\",\r\n        \"7070\",\r\n        \"7080\",\r\n        \"7090\",\r\n        \"70A0\",\r\n        \"70B0\",\r\n        \"70C0\",\r\n        \"70D0\",\r\n      ];\r\n\r\n      _.remove(filteredSteps, (number) => {\r\n        return removeSteps.includes(number);\r\n      });\r\n    } else {\r\n      // 14 steps\r\n      filteredSteps.push(\"70D0\");\r\n    }\r\n  }\r\n\r\n  return Array.from(new Set([...filteredSteps]));\r\n};\r\n\r\nexport const authorizationC = (\r\n  orderActivities,\r\n  orderNumber,\r\n  activityAuth,\r\n  role\r\n) => {\r\n  const rolesMapper = {\r\n    PE: \"pe\",\r\n    \"Subcon TL\": \"subconTL\",\r\n    SL:\"sl\"\r\n  };\r\n\r\n  const result = [];\r\n\r\n  if (role === \"admin\") {\r\n    Object.keys(rolesMapper).forEach((key) => {\r\n      const tmp = authorizationC(\r\n        orderActivities,\r\n        orderNumber,\r\n        activityAuth,\r\n        key\r\n      );\r\n      result.push(...tmp);\r\n    });\r\n\r\n    return Array.from(new Set([...result]));\r\n  }\r\n\r\n  const authDesc = activityAuth[rolesMapper[role]];\r\n\r\n  const steps = Array.from(new Set([...authDesc.authorization.c]));\r\n\r\n  var filteredSteps = steps.filter((value) => {\r\n    return value.length === 4;\r\n  });\r\n\r\n  if (role === \"PE\") {\r\n    // 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      filteredSteps.push(\"7020\");\r\n    } else {\r\n      // 14 steps\r\n      filteredSteps.push(\"70D0\");\r\n    }\r\n  } else {\r\n    // 3 steps\r\n    // subcon tl:  remove 7020 when this order contains 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      const removeSteps = [\r\n        \"7020\",\r\n        \"7030\",\r\n        \"7040\",\r\n        \"7050\",\r\n        \"7060\",\r\n        \"7070\",\r\n        \"7080\",\r\n        \"7090\",\r\n        \"70A0\",\r\n        \"70B0\",\r\n        \"70C0\",\r\n        \"70D0\",\r\n      ];\r\n\r\n      _.remove(filteredSteps, (number) => {\r\n        return removeSteps.includes(number);\r\n      });\r\n    }\r\n  }\r\n\r\n  return [...new Set(filteredSteps)];\r\n};\r\n\r\nexport const documentAuthorizationC = (\r\n  orderActivities,\r\n  orderNumber,\r\n  activityAuth,\r\n  role\r\n) => {\r\n  const rolesMapper = {\r\n    PE: \"pe\",\r\n    \"Subcon TL\": \"subconTL\",\r\n    \"SL\":\"sl\"\r\n  };\r\n\r\n  const result = [];\r\n\r\n  if (role === \"admin\") {\r\n    Object.keys(rolesMapper).forEach((key) => {\r\n      const tmp = documentAuthorizationC(\r\n        orderActivities,\r\n        orderNumber,\r\n        activityAuth,\r\n        key\r\n      );\r\n      result.push(...tmp);\r\n    });\r\n\r\n    return Array.from(new Set([...result]));\r\n  }\r\n\r\n  const authDesc = activityAuth[rolesMapper[role]];\r\n\r\n  const steps = Array.from(new Set([...authDesc.documentAuthorization.c]));\r\n\r\n  var filteredSteps = steps.filter((value) => {\r\n    return value.length === 4;\r\n  });\r\n\r\n  if (role === \"PE\") {\r\n    // 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      filteredSteps.push(\"7020\");\r\n    } else {\r\n      // 14 steps\r\n      filteredSteps.push(\"70D0\");\r\n    }\r\n  } else if (role === \"SL\") {\r\n    filteredSteps.push(\"7800\");\r\n  } else {\r\n    // 3 steps\r\n    // subcon tl:  remove 7020 when this order contains 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      const removeSteps = [\r\n        \"7020\",\r\n        \"7030\",\r\n        \"7040\",\r\n        \"7050\",\r\n        \"7060\",\r\n        \"7070\",\r\n        \"7080\",\r\n        \"7090\",\r\n        \"70A0\",\r\n        \"70B0\",\r\n        \"70C0\",\r\n        \"70D0\",\r\n      ];\r\n\r\n      _.remove(filteredSteps, (number) => {\r\n        return removeSteps.includes(number);\r\n      });\r\n    }\r\n  }\r\n\r\n  return [...new Set(filteredSteps)];\r\n};\r\n\r\nexport const documentAuthorizationR = (\r\n  orderActivities,\r\n  orderNumber,\r\n  activityAuth,\r\n  role\r\n) => {\r\n  const rolesMapper = {\r\n    PE: \"pe\",\r\n    \"Subcon TL\": \"subconTL\",\r\n    \"SL\":\"sl\"\r\n  };\r\n\r\n  const result = [];\r\n\r\n  if (role === \"admin\") {\r\n    Object.keys(rolesMapper).forEach((key) => {\r\n      const tmp = documentAuthorizationR(\r\n        orderActivities,\r\n        orderNumber,\r\n        activityAuth,\r\n        key\r\n      );\r\n      result.push(...tmp);\r\n    });\r\n\r\n    return Array.from(new Set([...result]));\r\n  }\r\n\r\n  const authDesc = activityAuth[rolesMapper[role]];\r\n\r\n  const steps = Array.from(\r\n    new Set([\r\n      ...authDesc.documentAuthorization.c,\r\n      ...authDesc.documentAuthorization.r,\r\n    ])\r\n  );\r\n\r\n  var filteredSteps = steps.filter((value) => {\r\n    return value.length === 4;\r\n  });\r\n\r\n  if (role === \"PE\") {\r\n    // 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      filteredSteps.push(\"7020\");\r\n    } else {\r\n      // 14 steps\r\n      filteredSteps.push(\"70D0\");\r\n    }\r\n  } else if (role === \"SL\") {\r\n    filteredSteps.push(\"7800\");\r\n  } else {\r\n    // 3 steps\r\n    // subcon tl:  remove 7020 when this order contains 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      const removeSteps = [\r\n        \"7020\",\r\n        \"7030\",\r\n        \"7040\",\r\n        \"7050\",\r\n        \"7060\",\r\n        \"7070\",\r\n        \"7080\",\r\n        \"7090\",\r\n        \"70A0\",\r\n        \"70B0\",\r\n        \"70C0\",\r\n        \"70D0\",\r\n      ];\r\n\r\n      _.remove(filteredSteps, (number) => {\r\n        return removeSteps.includes(number);\r\n      });\r\n    }\r\n  }\r\n  return [...new Set(filteredSteps)];\r\n};\r\n","import { toDoOrDone } from \"js/util\";\r\nimport {\r\n  authorizationC,\r\n  documentAuthorizationC,\r\n  documentAuthorizationR,\r\n} from \"js/publicFn/authUtils\";\r\nconst DateConfirmFlag = (flagNumber) => {\r\n  const permissionObj = {\r\n    CanConfirm: false,\r\n    CanCancel: false,\r\n    CanSetConstraint: false,\r\n    CanDeleteDonstraint: false,\r\n    HasConstraint: false,\r\n    SupervisorActivity: false,\r\n    HideActivity: false,\r\n    PaymentOk: false,\r\n    PaymentNotOk: false,\r\n    ProgressType: false,\r\n  };\r\n  const binFlagNumberOrder = parseInt(flagNumber, 10)\r\n    .toString(2)\r\n    .padStart(10, \"0\")\r\n    .split(\"\")\r\n    .reverse()\r\n    .join(\"\");\r\n  Object.keys(permissionObj).forEach((item, index) => {\r\n    if (binFlagNumberOrder[index] === \"1\") {\r\n      permissionObj[item] = true;\r\n    }\r\n  });\r\n  return permissionObj;\r\n};\r\n\r\nexport const DatePermissionControl = (data, prarms) => {\r\n  const { auth, orderActivities, documentList, templates } = data;\r\n  const { orderNumber, activityNumber, projectNumber } = prarms;\r\n  const role = auth.roles[0];\r\n  const permissions = auth.activityAuth;\r\n  const datePermission = {\r\n    Confirm: false,\r\n    Cancel: false,\r\n    Lock: false,\r\n    unLock: false,\r\n    canUploadDoc: false,\r\n    canReadDoc: false,\r\n    docStatus: \"\",\r\n    planedDateEditablePermission: false,\r\n    planedDateCancelablePermission: false,\r\n    finishedDateEditablePermission: false,\r\n    finishedDateCancelablePermission: false,\r\n  };\r\n\r\n  const flagsNumber =\r\n    orderActivities[`${orderNumber}-${activityNumber}`]?.flags;\r\n\r\n  const docStatus = toDoOrDone(\r\n    projectNumber,\r\n    orderNumber,\r\n    activityNumber,\r\n    templates,\r\n    documentList\r\n  );\r\n\r\n  const docIsFinish = docStatus !== \"ToDo\";\r\n\r\n  const flags = DateConfirmFlag(flagsNumber);\r\n\r\n  if (role === \"admin\") {\r\n    Object.keys(datePermission).forEach((Permission) => {\r\n      if (Permission === \"Confirm\") {\r\n        if (docIsFinish) {\r\n          datePermission[Permission] = true;\r\n        }\r\n      } else {\r\n        datePermission[Permission] = true;\r\n      }\r\n      datePermission[\"docStatus\"] = docStatus;\r\n    });\r\n  } else {\r\n    const authNumbers = authorizationC(\r\n      orderActivities,\r\n      orderNumber,\r\n      permissions,\r\n      role\r\n    );\r\n\r\n    datePermission[\"docStatus\"] = docStatus;\r\n\r\n    if (authNumbers.includes(activityNumber)) {\r\n      if (docIsFinish && flags.CanConfirm) {\r\n        datePermission.Confirm = true;\r\n      }\r\n\r\n      datePermission.Cancel = flags.CanCancel;\r\n      datePermission.Lock = flags.CanSetConstraint;\r\n      datePermission.unLock = flags.CanDeleteDonstraint;\r\n\r\n      datePermission.planedDateEditablePermission = flags.CanSetConstraint;\r\n      datePermission.planedDateCancelablePermission = flags.CanDeleteDonstraint;\r\n      datePermission.finishedDateEditablePermission = flags.CanConfirm;\r\n      datePermission.finishedDateCancelablePermission = flags.CanCancel;\r\n    }\r\n\r\n    if (\r\n      orderActivities[`${orderNumber}-${activityNumber}`].editable !==\r\n        undefined &&\r\n      orderActivities[`${orderNumber}-${activityNumber}`].editable === false\r\n    ) {\r\n      if (\r\n        orderActivities[`${orderNumber}-${activityNumber}`].confirmedDate ===\r\n        null\r\n      ) {\r\n        datePermission.Confirm = true;\r\n        datePermission.Cancel = false;\r\n      } else {\r\n        datePermission.Confirm = false;\r\n        datePermission.Cancel = true;\r\n      }\r\n    }\r\n\r\n    if (!docIsFinish) {\r\n      datePermission.Confirm = false;\r\n    }\r\n\r\n    const docCNumbers = documentAuthorizationC(\r\n      orderActivities,\r\n      orderNumber,\r\n      permissions,\r\n      role\r\n    );\r\n\r\n    if (docCNumbers.includes(activityNumber)) {\r\n      datePermission.canUploadDoc = true;\r\n    }\r\n\r\n    const docRNumbers = documentAuthorizationR(\r\n      orderActivities,\r\n      orderNumber,\r\n      permissions,\r\n      role\r\n    );\r\n\r\n    if (docRNumbers.includes(activityNumber)) {\r\n      datePermission.canReadDoc = true;\r\n    }\r\n\r\n  }\r\n\r\n  return datePermission;\r\n};\r\n","export const taskCleaner = (tasks, orders, projects) => {\r\n  let result = [];\r\n\r\n  if (!tasks) {\r\n    return;\r\n  }\r\n\r\n  for (let i = 0; i < tasks.length; i++) {\r\n    if (tasks[i].ProjectNo) {\r\n      if (Object.keys(projects).includes(tasks[i].ProjectNo)) {\r\n        result.push(tasks[i]);\r\n        continue;\r\n      }\r\n    }\r\n\r\n    if (tasks[i].OrderNo) {\r\n      if (Object.keys(orders).includes(tasks[i].OrderNo)) {\r\n        result.push(tasks[i]);\r\n        continue;\r\n      }\r\n    }\r\n  }\r\n\r\n  return result;\r\n};\r\n","export const getListOfInstallationBranches = (prctr) => {\r\n  const data = [\r\n    { name: \"\", id: 3900050 },\r\n    { name: \"\", id: 3900040 },\r\n    { name: \"\", id: 3900150 },\r\n    { name: \"\", id: 3900350 },\r\n    { name: \"\", id: 3900370 },\r\n    { name: \"\", id: 3900420 },\r\n    { name: \"\", id: 3900310 },\r\n    { name: \"\", id: 3900240 },\r\n    { name: \"\", id: 3900170 },\r\n    { name: \"\", id: 3900140 },\r\n    { name: \"\", id: 3900250 },\r\n    { name: \"\", id: 3900280 },\r\n    { name: \"\", id: 3900120 },\r\n    { name: \"\", id: 3900100 },\r\n    { name: \"\", id: 3900270 },\r\n    { name: \"\", id: 3900130 },\r\n    { name: \"\", id: 3900190 },\r\n    { name: \"\", id: 3900110 },\r\n    { name: \"\", id: 3900390 },\r\n    { name: \"\", id: 3900220 },\r\n    { name: \"\", id: 3900320 },\r\n    { name: \"\", id: 3900340 },\r\n    { name: \"\", id: 3900300 },\r\n    { name: \"\", id: 3900200 },\r\n    { name: \"\", id: 3900360 },\r\n    { name: \"\", id: 3900020 },\r\n    { name: \"\", id: 3900180 },\r\n    { name: \"\", id: 3900010 },\r\n    { name: \"\", id: 3900260 },\r\n    { name: \"\", id: 3900060 },\r\n    { name: \"\", id: 3900210 },\r\n    { name: \"\", id: 3900090 },\r\n    { name: \"\", id: 3900330 },\r\n    { name: \"\", id: 3900290 },\r\n    { name: \"\", id: 3900030 },\r\n    { name: \"\", id: 3900070 },\r\n    { name: \"\", id: 3900410 },\r\n    { name: \"\", id: 3900160 },\r\n    { name: \"\", id: 3900230 },\r\n    { name: \"\", id: 3900080 },\r\n    { name: \"\", id: 3900400 },\r\n  ];\r\n\r\n  return data.find((item) => {\r\n    return item.id === Number(prctr);\r\n  })?.name;\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nconst PrivateRoute = ({ component: Component, isAuthenticated, ...rest }) => {\r\n  return (\r\n    <Route\r\n      render={(props) => {\r\n        return isAuthenticated ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: props.location.pathname,\r\n            }}\r\n          />\r\n        );\r\n      }}\r\n      {...rest}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return {\r\n    isAuthenticated: !!auth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import {\r\n  Box,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Slide,\r\n} from \"@material-ui/core\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport React from \"react\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst ConfirmModal = ({\r\n  children,\r\n  open,\r\n  handleClick,\r\n  onClose,\r\n  title,\r\n  mask,\r\n  hiddenCancel = false,\r\n}) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  return (\r\n    <Dialog\r\n      fullWidth={true}\r\n      open={open}\r\n      TransitionComponent={Transition}\r\n      keepMounted\r\n      onClose={() => !mask && onClose()}\r\n    >\r\n      <DialogTitle style={{ textAlign: \"center\" }}>{title}</DialogTitle>\r\n      <DialogContent>\r\n        <Box>{children}</Box>\r\n      </DialogContent>\r\n      <DialogActions style={{ padding: \"16px\" }}>\r\n        {!hiddenCancel && (\r\n          <Button variant=\"contained\" onClick={onClose}>\r\n            {i18n.GENERAL_CANCEL}\r\n          </Button>\r\n        )}\r\n\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleClick}>\r\n          {i18n.GENERAL_CONFIRM}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ConfirmModal;\r\n","import { Box, Button, makeStyles } from \"@material-ui/core\";\r\nimport * as action from \"actions\";\r\nimport ConfirmModal from \"components/ConfirmModal\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  btn: {\r\n    width: \"80%\",\r\n    position: \"fixed\",\r\n    bottom: spacing(17),\r\n    marginLeft: \"10%\",\r\n  },\r\n}));\r\n\r\nconst CheckforUpdates = ({\r\n  type,\r\n  onClick,\r\n  isServiceWorkerUpdated = \"\",\r\n  page = \"\",\r\n}) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!onClick) {\r\n      const timer = setTimeout(() => {\r\n        dispatch(\r\n          `${type === \"SW_INIT\" ? action.setSwInIt() : action.setSwUpdate()}`\r\n        );\r\n      }, 6000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [onClick, dispatch, type]);\r\n\r\n  const closeMenu = () => {\r\n    setOpen(false);\r\n    dispatch(action.setInfo(\"\"));\r\n    setTimeout(() => {\r\n      onClick();\r\n    }, 2000);\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      {page === \"activity\" ? (\r\n        <ConfirmModal\r\n          hiddenCancel={true}\r\n          open={open}\r\n          mask={true}\r\n          handleClick={closeMenu}\r\n        >\r\n          \r\n        </ConfirmModal>\r\n      ) : (\r\n        <Box className={classes.btn}>\r\n          <Button\r\n            style={{\r\n              textTransform: \"capitalize\",\r\n              backgroundColor: \"rgb(220,2,2)\",\r\n              color: \"white\",\r\n              padding: \"3px\",\r\n            }}\r\n            fullWidth\r\n            onClick={onClick}\r\n            size=\"large\"\r\n            variant=\"contained\"\r\n          >\r\n            {isServiceWorkerUpdated}\r\n          </Button>\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CheckforUpdates;\r\n","import { Snackbar } from \"@material-ui/core\";\r\nimport { alertAutoHideDuration } from \"config\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as action from \"actions\";\r\n\r\nconst Alert = ({ message, onClose }) => {\r\n  return (\r\n    <Snackbar\r\n      anchorOrigin={{ horizontal: \"center\", vertical: \"bottom\" }}\r\n      autoHideDuration={alertAutoHideDuration}\r\n      message={message}\r\n      onClose={onClose}\r\n      open={!!message}\r\n    />\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  ({ alert }) => ({\r\n    message: alert.message,\r\n  }),\r\n  (dispatch) => {\r\n    return {\r\n      onClose: () => {\r\n        dispatch(action.hideAlert());\r\n      },\r\n    };\r\n  }\r\n)(Alert);\r\n","import { Backdrop, CircularProgress } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Loading = withStyles(({ zIndex }) => ({\r\n  backdrop: {\r\n    zIndex: zIndex.drawer + 1,\r\n    color: \"#fff\",\r\n  },\r\n}))(({ classes, loading }) => {\r\n  return (\r\n    <Backdrop className={classes.backdrop} open={loading}>\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  );\r\n});\r\n\r\nexport default connect(({ loading }) => {\r\n  return {\r\n    loading,\r\n  };\r\n})(Loading);\r\n","import {\r\n  AppBar,\r\n  BottomNavigation,\r\n  BottomNavigationAction,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  ArrowBackIos,\r\n  AssignmentOutlined,\r\n  Refresh,\r\n  Schedule,\r\n} from \"@material-ui/icons\";\r\nimport * as action from \"actions\";\r\nimport fitter2 from \"assets/svg/fitter2.svg\";\r\nimport fitter3 from \"assets/svg/fitter3.svg\";\r\nimport Alert from \"components/Alert\";\r\nimport Loading from \"components/Loading\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport projectIcon from \"img/project.png\";\r\nimport SelectedProjectIcon from \"img/selectedProject.png\";\r\nimport { db } from \"js/db\";\r\nimport * as repo from \"js/fetch\";\r\nimport { getAwaitComplateAwaitCloseCount } from \"js/util\";\r\nimport { recordRefreshTime } from \"js/util\";\r\nimport React, { Fragment, useEffect, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    logout: () => {\r\n      dispatch(action.logout());\r\n    },\r\n    refresh: () => {\r\n      dispatch(action.fetchAll());\r\n    },\r\n    getData: () => {\r\n      dispatch(action.fetchAll(repo.type.CACHE));\r\n    },\r\n    getLanguage: () => {\r\n      db.cache.get(\"settings\").then((cache) => {\r\n        if (!cache) {\r\n          return;\r\n        }\r\n        const {\r\n          language: { language },\r\n        } = cache.data;\r\n        dispatch(action.setLanguage(language));\r\n      });\r\n    },\r\n    getRefreshData: () => {\r\n      recordRefreshTime(dispatch);\r\n    },\r\n    setScrollPosition: (data) => {\r\n      dispatch(action.setScrollPosition(data));\r\n    },\r\n    backPage: (history, name, root) => {\r\n      if (name === \"activity Document\") {\r\n        dispatch(action.setOrderDetailPageDefaultTab(root));\r\n        history.goBack();\r\n      } else {\r\n        history.goBack();\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  let tasks = Object.keys(state?.tasks).length > 0 ? state?.tasks : [];\r\n  var taskSum = 0;\r\n  const taskList = getAwaitComplateAwaitCloseCount(tasks);\r\n  const duplicateRemovalTasks = taskList.filter((task, index, self) =>\r\n    index === self.findIndex(t => t.taskType === task.taskType)\r\n  );\r\n  duplicateRemovalTasks.forEach((item) => {\r\n    taskSum += (item.awaitStartNum + item.awaitComplateNum + item.awaitCloseNum)\r\n  })\r\n\r\n  return { taskSum };\r\n};\r\n\r\nconst TitleBar = withStyles(({ spacing }) => {\r\n  return {\r\n    appBar: {\r\n      borderBottomColor: \"#e0e0e0\",\r\n      borderBottomStyle: \"solid\",\r\n      borderBottomWidth: 1,\r\n    },\r\n    toolbar: {\r\n      minHeight: spacing(6.5),\r\n      backgroundColor: \"rgb(255,255,255)\",\r\n      color: \"black\",\r\n    },\r\n    icon: {\r\n      minWidth: spacing(5),\r\n    },\r\n    title1: {\r\n      textAlign: \"left\",\r\n      flex: 1,\r\n      fontFamily: \"' Bold', ' Regular', ''\",\r\n      fontSize: 18,\r\n    },\r\n    title2: {\r\n      textAlign: \"center\",\r\n      flex: 1,\r\n      fontFamily: \"' Bold', ' Regular', ''\",\r\n      fontSize: \"18px\",\r\n    },\r\n  };\r\n})(\r\n  connect(\r\n    null,\r\n    mapDispatchToProps\r\n  )(\r\n    ({\r\n      classes,\r\n      refresh,\r\n      title,\r\n      pageLevel,\r\n      isShowRefreshButton = false,\r\n      goBack,\r\n    }) => {\r\n      return (\r\n        <AppBar elevation={0} className={classes.appBar}>\r\n          <Toolbar className={classes.toolbar}>\r\n            {pageLevel !== 1 && (\r\n              <ArrowBackIos\r\n                aria-label=\"back\"\r\n                fontSize=\"small\"\r\n                onClick={() => {\r\n                  goBack();\r\n                }}\r\n              />\r\n            )}\r\n            <Typography\r\n              variant=\"subtitle1\"\r\n              className={pageLevel === 1 ? classes.title1 : classes.title2}\r\n            >\r\n              {title}\r\n            </Typography>\r\n            {isShowRefreshButton && (\r\n              <Refresh fontSize=\"small\" onClick={() => refresh()} />\r\n            )}\r\n          </Toolbar>\r\n        </AppBar>\r\n      );\r\n    }\r\n  )\r\n);\r\n\r\nconst BottomBar = withStyles(({ spacing }) => {\r\n  return {\r\n    root: {\r\n      position: \"fixed\",\r\n      bottom: 0,\r\n      width: \"100%\",\r\n      height: window.screen.height >= \"812\" ? spacing(10) : spacing(9),\r\n    },\r\n    content: {\r\n      padding: 0,\r\n      \"&$selected\": {\r\n        paddingTop: 0,\r\n      },\r\n      minWidth: \"unset\",\r\n    },\r\n    selected: {},\r\n    project: {\r\n      marginBottom: spacing(0.4),\r\n      transform: \"scaleX(-1)\",\r\n    },\r\n  };\r\n})(({ classes, selected, taskSum }) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const auth = JSON.parse(window.localStorage.getItem(\"auth\"));\r\n  let roles = auth?.roles;\r\n  const isEISV = roles.indexOf('SL') > -1;\r\n\r\n  return (\r\n    <div>\r\n      <BottomNavigation value={selected} showLabels className={classes.root}>\r\n        <BottomNavigationAction\r\n          style={{ display: isEISV ?'none':''}}\r\n          classes={{\r\n            root: classes.content,\r\n            selected: classes.selected,\r\n          }}\r\n          icon={<Schedule style={{ height: \"22\" }} />}\r\n          component={Link}\r\n          label={i18n.JOBLIST_ACTIVITY}\r\n          to=\"/\"\r\n          value=\"activities\"\r\n        />\r\n        <BottomNavigationAction\r\n          style={{ display: isEISV ? 'none' : '' }}\r\n          classes={{\r\n            root: classes.content,\r\n            selected: classes.selected,\r\n          }}\r\n          component={Link}\r\n          icon={\r\n            <img\r\n              src={selected === \"projects\" ? SelectedProjectIcon : projectIcon}\r\n              height=\"20\"\r\n              className={classes.project}\r\n              alt=\"\"\r\n            />\r\n          }\r\n          to=\"/projects\"\r\n          label={i18n.INSTAPP_PROJECTLIST_PROJECT}\r\n          value=\"projects\"\r\n        />\r\n        <BottomNavigationAction\r\n          classes={{\r\n            root: classes.content,\r\n            selected: classes.selected,\r\n          }}\r\n          component={Link}\r\n          icon={<AssignmentOutlined />}\r\n          label={i18n.INSTAPP_JOBLIST_TASKS}\r\n          to=\"/TasksGroupPage\"\r\n          value=\"TasksGroupPage\"\r\n        />\r\n        <BottomNavigationAction\r\n          classes={{\r\n            root: classes.content,\r\n            selected: classes.selected,\r\n          }}\r\n          component={Link}\r\n          icon={\r\n            <img\r\n              src={selected === \"me\" ? fitter2 : fitter3}\r\n              width=\"26\"\r\n              alt=\"\"\r\n            />\r\n          }\r\n          label={i18n.INSTAPP_JOBLIST_ME}\r\n          to=\"/me\"\r\n          value=\"me\"\r\n        />\r\n      </BottomNavigation>\r\n      <Hint taskSum={taskSum} />\r\n    </div>\r\n  );\r\n});\r\n\r\nconst Hint = withStyles(({ spacing }) => {\r\n  return {\r\n    taskCount: {\r\n      position: \"fixed\",\r\n      right: \"30%\",\r\n      bottom: spacing(5),\r\n      backgroundColor: \"red\",\r\n      borderRadius: \"30px\",\r\n      color: \"white\",\r\n      width: \"24px\",\r\n      height: \"24px\",\r\n      textAlign: \"center\",\r\n      lineHeight: spacing(3) + \"px\",\r\n    },\r\n  };\r\n})(({ classes, taskSum }) => {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div>\r\n      {taskSum > 0 && (\r\n        <span\r\n          className={classes.taskCount}\r\n          onClick={() => history.push(\"/TasksGroupPage\")}\r\n        >\r\n          {taskSum}\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nconst PrimaryLayout = withStyles(({ spacing }) => {\r\n  return {\r\n    main: {\r\n      position: \"fixed\",\r\n      top: spacing(6.5),\r\n      left: 0,\r\n      right: 0,\r\n      bottom: window.screen.height >= \"812\" ? spacing(10) : spacing(9),\r\n      overflowY: \"scroll\",\r\n    },\r\n  };\r\n})(\r\n  ({\r\n    classes,\r\n    children,\r\n    name,\r\n    getData,\r\n    getLanguage,\r\n    getRefreshData,\r\n    title,\r\n    pageLevel,\r\n    isShowRefreshButton,\r\n    isDirectReturn = true,\r\n    goBack,\r\n    isFetchAll = true,\r\n    backPage,\r\n    setScrollPosition,\r\n    root,\r\n    taskSum,\r\n  }) => {\r\n    const history = useHistory();\r\n\r\n    const location = useLocation();\r\n\r\n    const mainRef = useRef(null);\r\n\r\n    let scrollPos = 0;\r\n    useEffect(() => {\r\n      repo.initDB();\r\n\r\n      getLanguage();\r\n      document.title = `App`;\r\n      isFetchAll && getData();\r\n      getRefreshData();\r\n    }, [getLanguage, title, getData, getRefreshData, isFetchAll]);\r\n\r\n    const scrollEvent = (e) => {\r\n      scrollPos = e.target.scrollTop;\r\n      setScrollPosition({ namepath: location.pathname, position: scrollPos });\r\n    };\r\n    return (\r\n      <Fragment>\r\n        <TitleBar\r\n          title={title}\r\n          pageLevel={pageLevel}\r\n          isShowRefreshButton={isShowRefreshButton}\r\n          goBack={() =>\r\n            isDirectReturn ? backPage(history, name, root) : goBack()\r\n          }\r\n        />\r\n        <main className={classes.main} onScroll={scrollEvent} ref={mainRef}>\r\n          {children}\r\n        </main>\r\n        <BottomBar selected={name} taskSum={taskSum} />\r\n        <Loading />\r\n        <Alert />\r\n      </Fragment>\r\n    );\r\n  }\r\n);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PrimaryLayout);\r\n","import { Box, makeStyles, Typography } from \"@material-ui/core\";\r\nimport Logo from \"assets/img/Favicon.png\";\r\nimport CheckforUpdates from \"components/CheckforUpdates\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  box: {\r\n    textAlign: \"center\",\r\n    margin: spacing(7, 0),\r\n  },\r\n  listItemText: {\r\n    marginLeft: spacing(2),\r\n  },\r\n  list: {\r\n    margin: spacing(0, 2),\r\n  },\r\n  listItem: {\r\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  title: {\r\n    margin: spacing(1, 0),\r\n  },\r\n  footer: {\r\n    position: \"fixed\",\r\n    width: \"100%\",\r\n    bottom: spacing(11),\r\n    textAlign: \"center\",\r\n  },\r\n  button: {\r\n    backgroundColor: \"rgb(220,2,2)\",\r\n    color: \"white\",\r\n  },\r\n}));\r\n\r\nconst AboutPage = ({ isServiceWorkerUpdated, serviceWorkerRegistration }) => {\r\n  const classes = useStyles();\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  const updateServiceWorker = () => {\r\n    const registrationWaiting = serviceWorkerRegistration.waiting;\r\n    if (registrationWaiting) {\r\n      registrationWaiting.postMessage({ type: \"SKIP_WAITING\" });\r\n\r\n      registrationWaiting.addEventListener(\"statechange\", (e) => {\r\n        if (e.target.state === \"activated\") {\r\n          window.localStorage.removeItem(\"versionUpdating\");\r\n          window.location.reload();\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PrimaryLayout title={i18n.ISNTAPP_ABOUT}>\r\n      <Box className={classes.box}>\r\n        <img src={Logo} width=\"24%\" alt=\"\" />\r\n        <Typography variant=\"h5\" className={classes.title}>\r\n          {i18n.ISNTAPP_INSTALLATION_QUALITY_APP}\r\n        </Typography>\r\n        <Typography variant=\"body1\">{i18n.ISNTAPP_VERSION} 3.1.2</Typography>\r\n      </Box>\r\n      <Typography variant=\"body2\" align=\"center\" color=\"textSecondary\">\r\n        {isServiceWorkerUpdated ? (\r\n          <span style={{ color: \"red\" }}>{i18n.ISNTAPP_NEW_VERSION_FOUND}</span>\r\n        ) : (\r\n          i18n.ISNTAPP_LATEST_VERSION\r\n        )}\r\n      </Typography>\r\n      <CheckforUpdates\r\n        type=\"SW_UPDATE\"\r\n        isServiceWorkerUpdated={\r\n          isServiceWorkerUpdated\r\n            ? i18n.ISNTAPP_UPDATES\r\n            : i18n.ISNTAPP_CHECK_UPDATES\r\n        }\r\n        onClick={\r\n          isServiceWorkerUpdated\r\n            ? updateServiceWorker\r\n            : () => window.location.reload()\r\n        }\r\n      />\r\n      <Box className={classes.footer}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\">\r\n          {i18n.ISNTAPP_COPYRIGHT}\r\n        </Typography>\r\n      </Box>\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  (\r\n    {\r\n      versionUpdating: {\r\n        serviceWorkerUpdated,\r\n        serviceWorkerRegistration,\r\n        serviceWorkerInitialized,\r\n      },\r\n    },\r\n    state\r\n  ) => {\r\n    return {\r\n      isServiceWorkerUpdated: serviceWorkerUpdated,\r\n      serviceWorkerRegistration,\r\n      isServiceWorkerInitialized: serviceWorkerInitialized,\r\n    };\r\n  }\r\n)(AboutPage);\r\n","import { Button, Grid, Typography } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport * as action from \"actions\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { getStopsOrHoistHeight } from \"js/util\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst OrderListItem = withStyles(({ spacing, palette }) => {\r\n  return {\r\n    root: {\r\n      backgroundColor: \"#ffffff\",\r\n      padding: spacing(1.25, 0, 1.25, 2.5),\r\n      marginBottom: spacing(1.25),\r\n    },\r\n\r\n    date: {\r\n      fontSize: spacing(1.5),\r\n      color: \"#878787\",\r\n    },\r\n    overdue: {\r\n      width: spacing(11),\r\n      color: \"white!important\",\r\n      backgroundColor: \"red!important\",\r\n      borderRadius: spacing(2.5),\r\n      lineHeight: \"unset\",\r\n      padding: spacing(0.25, 1.75),\r\n    },\r\n    pending: {\r\n      width: spacing(11),\r\n      color: \"white!important\",\r\n      backgroundColor: \"#8bc34a!important\",\r\n      borderRadius: spacing(2.5),\r\n      lineHeight: \"unset\",\r\n      padding: spacing(0.25, 1.75),\r\n    },\r\n    button: {\r\n      width: spacing(11),\r\n      borderRadius: spacing(2.5),\r\n      lineHeight: \"unset\",\r\n      padding: spacing(0.25, 1.75),\r\n    },\r\n  };\r\n})(\r\n  ({\r\n    classes,\r\n    activityNumber,\r\n    confirmedDate,\r\n    leadingDate,\r\n    orderNumber,\r\n    projectName,\r\n    projectNumber,\r\n    productFamilyName,\r\n    overdueActivities,\r\n    pendingList,\r\n    toOrder,\r\n    unitDesignation,\r\n    stops,\r\n    hoistHeight,\r\n  }) => {\r\n    const history = useHistory();\r\n    const i18n = React.useContext(LocalizeContext);\r\n\r\n    const overdueActivity =\r\n      overdueActivities[activityNumber]?.indexOf(\r\n        orderNumber + \"-\" + activityNumber\r\n      ) > -1;\r\n    const pendingActivity =\r\n      pendingList?.indexOf(orderNumber + \"-\" + activityNumber) > -1;\r\n    return (\r\n      <div\r\n        className={classes.root}\r\n        onClick={() => toOrder(history, orderNumber)}\r\n      >\r\n        <Grid container spacing={1}>\r\n          <Grid item xs={8}>\r\n            <Typography variant=\"h6\">{orderNumber}</Typography>\r\n            <Typography variant=\"body2\" clolor=\"secondary\">\r\n              {productFamilyName}\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <Button\r\n              disabled\r\n              classes={{\r\n                root: overdueActivity\r\n                  ? classes.overdue\r\n                  : pendingActivity\r\n                  ? classes.pending\r\n                  : classes.button,\r\n              }}\r\n            >\r\n              <Typography variant=\"caption\">{leadingDate}</Typography>\r\n            </Button>\r\n            <Button disabled variant=\"contained\" className={classes.button}>\r\n              <Typography variant=\"caption\">{confirmedDate}</Typography>\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={1}>\r\n          <Grid item className={classes.content}>\r\n            {i18n.ISNTAPP_DESIGNATION}:\r\n          </Grid>\r\n          <Grid item xs className={classes.content}>\r\n            {unitDesignation}\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={1}>\r\n          <Grid item className={classes.content}>\r\n            {i18n.INSTALLATION_STOPS}:\r\n          </Grid>\r\n          <Grid item className={classes.content}>\r\n            {stops}\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={1}>\r\n          <Grid item className={classes.content}>\r\n            {i18n.INSTALLATION_HOIST_HEIGHT}:\r\n          </Grid>\r\n          <Grid item xs className={classes.content}>\r\n            {hoistHeight}\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={1}>\r\n          <Grid item className={classes.content}>\r\n            {i18n.PROJECTLIST_PROJECT_NO}:\r\n          </Grid>\r\n          <Grid item xs className={classes.content}>\r\n            {projectNumber}\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={1}>\r\n          <Grid item className={classes.content}>\r\n            {i18n.INSTALLATION_PROJECT_NAME}:\r\n          </Grid>\r\n          <Grid item xs className={classes.content}>\r\n            {projectName}\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const {\r\n    orders,\r\n    orderActivities,\r\n    overdueActivities,\r\n    projects,\r\n    productFamilies,\r\n    chars,\r\n  } = state;\r\n  const { number, pendingList } = ownProps;\r\n  const {\r\n    activityNumber,\r\n    confirmedDate,\r\n    leadingDate,\r\n    orderNumber,\r\n    leadingStartDate,\r\n    leadingEndDate,\r\n  } = orderActivities[number];\r\n  const { productFamily, projectNumber } = orders[orderNumber];\r\n  const { description: projectName } = projects[projectNumber];\r\n  const { name: productFamilyName } = productFamilies[productFamily];\r\n\r\n  const stops = getStopsOrHoistHeight(chars, orderNumber, \"stops\");\r\n\r\n  const hoistHeight = getStopsOrHoistHeight(chars, orderNumber, \"hoistHeight\");\r\n  return {\r\n    activityNumber,\r\n    confirmedDate: confirmedDate\r\n      ? new Date(confirmedDate).toLocaleDateString()\r\n      : \"-\",\r\n    leadingDate: leadingDate\r\n      ? new Date(leadingDate).toLocaleDateString()\r\n      : leadingStartDate && leadingEndDate\r\n      ? new Date(leadingEndDate).toLocaleDateString()\r\n      : \"-\",\r\n    orderNumber,\r\n    overdueActivities,\r\n    pendingList,\r\n    productFamily,\r\n    productFamilyName,\r\n    projectName,\r\n    projectNumber,\r\n    unitDesignation: orders[orderNumber].unitDesignation,\r\n    stops,\r\n    hoistHeight,\r\n  };\r\n};\r\n\r\nconst mapDispatchToState = (dispatch) => {\r\n  return {\r\n    toOrder: (history, orderNumber) => {\r\n      history.push(`/order/${orderNumber}`);\r\n      dispatch(action.setOrderDetailPageDefaultTab(\"basic\"));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToState)(OrderListItem);\r\n","import List from \"@material-ui/core/List\";\r\nimport OrderListItem from \"components/OrderListItem\";\r\nimport * as util from \"js/util\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst OrderList = ({ orderActivities, pendingList }) => {\r\n  return (\r\n    <List\r\n      style={{\r\n        position: \"absolute\",\r\n        backgroundColor: \"#f3f3f3\",\r\n        height: `calc(100%- 173px)`,\r\n        width: \"100%\",\r\n        overflow: \"hidden auto\",\r\n      }}\r\n    >\r\n      {orderActivities.map((item) => {\r\n        return (\r\n          <OrderListItem key={item} number={item} pendingList={pendingList} />\r\n        );\r\n      })}\r\n    </List>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const { orderActivities, overdueActivities, timeHorizon } = state;\r\n  const { activityNumber, activityStatus } = ownProps;\r\n  const today = new Date().setHours(0, 0, 0, 0);\r\n\r\n  let overdueList = [];\r\n  let pendingList = [];\r\n  let confirmList = [];\r\n  let currentActivityOverdueList = [];\r\n\r\n  const sortOrderActivitiesList = (list) => {\r\n    const sortDate = {};\r\n    list.forEach((key) => {\r\n      sortDate[key] = orderActivities[key].leadingDate\r\n        ? orderActivities[key].leadingDate\r\n        : orderActivities[key].leadingEndDate;\r\n    });\r\n\r\n    return list.sort((a, b) =>\r\n      sortDate[a] ? (sortDate[a] > sortDate[b] ? 1 : -1) : 1\r\n    );\r\n  };\r\n\r\n  Object.keys(orderActivities).forEach((key) => {\r\n    if (\r\n      orderActivities[key].activityNumber === activityNumber &&\r\n      util.timeHorizonFilter(\r\n        orderActivities[key].leadingDate\r\n          ? orderActivities[key].leadingDate\r\n          : orderActivities[key].leadingStartDate &&\r\n            orderActivities[key].leadingEndDate\r\n          ? orderActivities[key].leadingEndDate\r\n          : null,\r\n        today,\r\n        timeHorizon\r\n      )\r\n    ) {\r\n      if (activityStatus === \"open\") {\r\n        if (overdueActivities[activityNumber]?.includes(key)) {\r\n          overdueList.push(key);\r\n          overdueList = sortOrderActivitiesList(overdueList);\r\n        } else if (!orderActivities[key].confirmedDate) {\r\n          pendingList.push(key);\r\n          pendingList = sortOrderActivitiesList(pendingList);\r\n        }\r\n      } else if (activityStatus === \"confirmed\") {\r\n        if (\r\n          !overdueActivities[activityNumber]?.includes(key) &&\r\n          orderActivities[key].confirmedDate\r\n        ) {\r\n          confirmList.push(key);\r\n          confirmList = sortOrderActivitiesList(confirmList);\r\n        }\r\n      } else {\r\n        if (overdueActivities[activityNumber]?.includes(key)) {\r\n          overdueList.push(key);\r\n          overdueList = sortOrderActivitiesList(overdueList);\r\n        } else if (orderActivities[key].confirmedDate) {\r\n          confirmList.push(key);\r\n          confirmList = sortOrderActivitiesList(confirmList);\r\n        } else {\r\n          pendingList.push(key);\r\n          pendingList = sortOrderActivitiesList(pendingList);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  currentActivityOverdueList = overdueList.concat(pendingList, confirmList);\r\n\r\n  return {\r\n    orderActivities: currentActivityOverdueList,\r\n    pendingList: pendingList,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(OrderList);\r\n","import OrderList from \"components/OrderList\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React, { useRef, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { scrollToPosition } from \"js/util\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(({ theme, spacing }) => ({\r\n  main: {\r\n    // backgroundColor: \"#f3f3f3\",\r\n    // padding: 6,\r\n    position: \"absolute\",\r\n    height: window.screen.height - 125 + \"px\",\r\n    width: \"100%\",\r\n    overflow: \"hidden auto\",\r\n  },\r\n}));\r\n\r\nconst ActivityDetailPage = ({ activityNumber, descriptionShort }) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  const scrollRef = useRef(null);\r\n  const classes = useStyles();\r\n\r\n  const location = useLocation();\r\n\r\n  // const [activityStatus, setActivityStatus] = React.useState(\"all\");\r\n\r\n  // const tabs = [\r\n  //   { title: i18n.COCKPIT_FILTER_OPEN, value: \"open\" },\r\n  //   { title: i18n.COCKPIT_FILTER_CONFIRMED, value: \"confirmed\" },\r\n  //   { title: i18n.COCKPIT_FILTER_NONE, value: \"all\" },\r\n  // ];\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      scrollToPosition(scrollRef, location.pathname);\r\n    }, 1000);\r\n  }, [location.pathname]);\r\n\r\n  return (\r\n    <PrimaryLayout\r\n      title={\r\n        i18n.INSTAPP_JOBLIST_ACTIVITY_DETAIL +\r\n        \": \" +\r\n        activityNumber +\r\n        \" - \" +\r\n        descriptionShort\r\n      }\r\n    >\r\n      {/* <FFTab\r\n        tabs={tabs}\r\n        selectedTabValue={\"all\"}\r\n        onTabChange={(value) => setActivityStatus(value)}\r\n      /> */}\r\n      <div className={classes.main} ref={scrollRef}>\r\n        <OrderList activityStatus=\"open\" activityNumber={activityNumber} />\r\n      </div>\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const { activities } = state;\r\n  const { match } = ownProps;\r\n  const { params } = match;\r\n  const { number: activityNumber } = params;\r\n  const { descriptionShort } = activities[activityNumber] || {};\r\n\r\n  return { activityNumber, descriptionShort };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ActivityDetailPage);\r\n","import { Box, Card, Grid, Typography } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport * as action from \"actions\";\r\nimport classnames from \"classnames\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { showInActivityListSteps } from \"js/publicFn\";\r\nimport * as util from \"js/util\";\r\nimport React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst ActivityList = withStyles(({ spacing }) => {\r\n  return {\r\n    overdue: {\r\n      backgroundColor: \"red\",\r\n      color: \"white\",\r\n    },\r\n    normal: {\r\n      backgroundColor: \"#9cea40\",\r\n      color: \"white\",\r\n    },\r\n    cardStyle: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      width: \"33%\",\r\n      padding: \"20px 0\",\r\n    },\r\n    grid: {\r\n      fontSize: \"14px\",\r\n      marginLeft: 1,\r\n    },\r\n  };\r\n})(({ classes, overdueActivities, data, setOverdueActivities }) => {\r\n  const history = useHistory();\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  const useOverdueActivities = (setOverdueActivities) => {\r\n    useEffect(() => {\r\n      setOverdueActivities(overdueActivities);\r\n    }, [setOverdueActivities]);\r\n  };\r\n\r\n  useOverdueActivities(setOverdueActivities);\r\n\r\n  return (\r\n    <Box>\r\n      {data.map((activity, index) => {\r\n        return activity.total > 0 ? (\r\n          <div key={index}>\r\n            <Card\r\n              elevation={0}\r\n              onClick={() => {\r\n                history.push(`/activity/${activity.number}`);\r\n              }}\r\n              style={{ margin: \"8px 0\", borderRadius: \"0\" }}\r\n            >\r\n              <Box\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  height: 80,\r\n                }}\r\n              >\r\n                <Box\r\n                  style={{ width: \"1%\" }}\r\n                  className={classnames({\r\n                    [`${classes.overdue}`]: activity.overdue > 0,\r\n                    [`${classes.normal}`]: activity.overdue <= 0,\r\n                  })}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      width: `2px`,\r\n                      height: `80px`,\r\n                    }}\r\n                  ></div>\r\n                </Box>\r\n                <Grid container spacing={3} className={classes.grid}>\r\n                  <Grid item xs={5}>\r\n                    <Typography style={{ fontWeight: \"bold\" }}>\r\n                      {activity.number}\r\n                    </Typography>\r\n                    <Box>\r\n                      {activity.descriptionShort3\r\n                        ? activity.descriptionShort3 + \"-\"\r\n                        : activity.descriptionShort}\r\n                    </Box>\r\n                    <Box>\r\n                      {activity.descriptionShort14\r\n                        ? activity.descriptionShort14 + \"-\"\r\n                        : \"\"}\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item style={{ textAlign: \"center\" }} xs={2}>\r\n                    <Typography color=\"secondary\">{activity.total}</Typography>\r\n                    <Box>{i18n.INSTAPP_JOBLIST_ACTIVITY_SUM}</Box>\r\n                  </Grid>\r\n                  <Grid\r\n                    item\r\n                    style={{ textAlign: \"center\", padding: \"12px 9px\" }}\r\n                    xs={2}\r\n                  >\r\n                    <Typography color=\"secondary\">\r\n                      {activity.notOverdue}\r\n                    </Typography>\r\n                    <Box>{i18n.INSTALLATION_FUTURE}</Box>\r\n                  </Grid>\r\n                  <Grid item style={{ textAlign: \"center\" }} xs={2}>\r\n                    <Typography color=\"secondary\">\r\n                      {activity.overdue}\r\n                    </Typography>\r\n                    <Box>{i18n.INSTAPP_JOBLIST_ACTIVITY_OVERDUE}</Box>\r\n                  </Grid>\r\n                </Grid>\r\n              </Box>\r\n            </Card>\r\n          </div>\r\n        ) : null;\r\n      })}\r\n    </Box>\r\n  );\r\n});\r\n\r\nconst mapStateToProps = ({\r\n  activities,\r\n  orderActivities,\r\n  timeHorizon,\r\n  auth,\r\n}) => {\r\n  const today = new Date().setHours(0, 0, 0, 0);\r\n  // const hideInProgress = auth.activityAuth.hideInProgress;\r\n  let overdueActivities = {};\r\n\r\n  const total = (activityNumber) => {\r\n    return Object.keys(orderActivities).filter((key) => {\r\n      return (\r\n        orderActivities[key].activityNumber === activityNumber &&\r\n        !orderActivities[key].confirmedDate &&\r\n        util.timeHorizonFilter(\r\n          orderActivities[key].leadingDate\r\n            ? orderActivities[key].leadingDate\r\n            : orderActivities[key].leadingEndDate,\r\n          today,\r\n          timeHorizon\r\n        )\r\n      );\r\n    }).length;\r\n  };\r\n\r\n  // const overdue = (activityNumber) => {\r\n  //   const calculateOverdue = (orderActivityNumber) => {\r\n  //     if (orderActivities[orderActivityNumber]) {\r\n  //       return (\r\n  //         new Date(orderActivities[orderActivityNumber].leadingDate).getTime() <\r\n  //           today && !orderActivities[orderActivityNumber].confirmedDate\r\n  //       );\r\n  //     } else {\r\n  //       return false;\r\n  //     }\r\n  //   };\r\n\r\n  //   const overdueList = Object.keys(orderActivities).filter((key) => {\r\n  //     let passedActivity = false;\r\n\r\n  //     if (orderActivities[key].activityNumber !== activitiesList[0].number) {\r\n  //       if (orderActivities[key].activityNumber === activityNumber) {\r\n  //         let currentActivityIndex = 0;\r\n  //         const orderNumber = orderActivities[key].orderNumber;\r\n\r\n  //         activitiesList.forEach((item, activityIndex) => {\r\n  //           if (item.number === activityNumber) {\r\n  //             currentActivityIndex = activityIndex;\r\n  //           }\r\n  //         });\r\n\r\n  //         activitiesList.forEach((item, index) => {\r\n  //           if (index < currentActivityIndex) {\r\n  //             if (calculateOverdue(orderNumber + \"-\" + item.number)) {\r\n  //               passedActivity = calculateOverdue(\r\n  //                 orderNumber + \"-\" + item.number\r\n  //               );\r\n  //             }\r\n  //           }\r\n  //         });\r\n  //       }\r\n  //     } else {\r\n  //       passedActivity = false;\r\n  //     }\r\n\r\n  //     return (\r\n  //       orderActivities[key].activityNumber === activityNumber &&\r\n  //       util.timeHorizonFilter(\r\n  //         orderActivities[key].leadingDate,\r\n  //         today,\r\n  //         timeHorizon\r\n  //       ) &&\r\n  //       calculateOverdue(key) &&\r\n  //       !passedActivity\r\n  //     );\r\n  //   });\r\n\r\n  //   if (overdueList.length > 0) {\r\n  //     overdueActivities[activityNumber] = overdueList;\r\n  //   }\r\n\r\n  //   return overdueList.length;\r\n  // };\r\n\r\n  const overdue = (activityNumber) => {\r\n    const calculateOverdue = (orderActivityNumber) => {\r\n      const orderActivity = orderActivities[orderActivityNumber];\r\n      if (orderActivity) {\r\n        if (!orderActivity.leadingDate) {\r\n          if (orderActivity.leadingStartDate && orderActivity.leadingEndDate) {\r\n            return (\r\n              new Date(orderActivity.leadingEndDate).getTime() < today &&\r\n              !orderActivity.confirmedDate\r\n            );\r\n          }\r\n        } else {\r\n          return (\r\n            new Date(orderActivity.leadingDate).getTime() < today &&\r\n            !orderActivity.confirmedDate\r\n          );\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    };\r\n\r\n    const overdueList = Object.keys(orderActivities).filter((key) => {\r\n      return (\r\n        orderActivities[key].activityNumber === activityNumber &&\r\n        util.timeHorizonFilter(\r\n          orderActivities[key].leadingDate\r\n            ? orderActivities[key].leadingDate\r\n            : orderActivities[key].leadingEndDate,\r\n          today,\r\n          timeHorizon\r\n        ) &&\r\n        calculateOverdue(key)\r\n      );\r\n    });\r\n\r\n    if (overdueList.length > 0) {\r\n      overdueActivities[activityNumber] = overdueList;\r\n    }\r\n\r\n    return overdueList.length;\r\n  };\r\n\r\n  // const notOverdue = (total, overdue, activityNumber) => {\r\n  //   const confirmedCount = Object.keys(orderActivities).filter((key) => {\r\n  //     return (\r\n  //       orderActivities[key].activityNumber === activityNumber &&\r\n  //       util.timeHorizonFilter(\r\n  //         orderActivities[key].leadingDate,\r\n  //         today,\r\n  //         timeHorizon\r\n  //       ) &&\r\n  //       orderActivities[key].confirmedDate\r\n  //     );\r\n  //   }).length;\r\n\r\n  //   return total - overdue - confirmedCount;\r\n  // };\r\n\r\n  var orderActivitiesList = [];\r\n  Object.keys(orderActivities).forEach((item) => {\r\n    orderActivitiesList.push(orderActivities[item]);\r\n  });\r\n\r\n  var activitiesObj = activities;\r\n  orderActivitiesList.forEach((item) => {\r\n    if (activitiesObj[item.activityNumber]) {\r\n      activitiesObj[item.activityNumber].sort = item.sort;\r\n    }\r\n  });\r\n\r\n  var activitiesList = [];\r\n  Object.keys(activitiesObj).forEach((item) => {\r\n    activitiesList.push(activitiesObj[item]);\r\n  });\r\n\r\n  let showStepNos = [];\r\n\r\n  // let rolesMapper = { sc: \"Subcon TL\", pe: \"PE\" };\r\n\r\n  // Object.keys(auth.activityAuth).forEach((name) => {\r\n  //   if (auth.roles.indexOf(rolesMapper[name.substring(0, 2)]) > -1) {\r\n  //     showStepNos = showStepNos.concat(auth.activityAuth[name]);\r\n  //   }\r\n  // });\r\n\r\n  showStepNos = showInActivityListSteps(auth.activityAuth, auth.roles[0]);\r\n\r\n  activitiesList = activitiesList\r\n    .filter((item) => {\r\n      return (\r\n        // !hideInProgress.includes(item.number) ||\r\n        showStepNos.includes(item.number)\r\n      );\r\n    })\r\n    .sort((a, b) => (a.sort ? (a.sort > b.sort ? 1 : -1) : 1));\r\n\r\n  return {\r\n    data: activitiesList.map((item) => {\r\n      return {\r\n        ...activities[item.number],\r\n        total: total(item.number),\r\n        overdue: overdue(item.number),\r\n        notOverdue: total(item.number) - overdue(item.number),\r\n        // notOverdue: notOverdue(\r\n        //   total(item.number),\r\n        //   overdue(item.number),\r\n        //   item.number\r\n        // ),\r\n      };\r\n    }),\r\n    overdueActivities: overdueActivities,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setOverdueActivities: (data) => {\r\n      dispatch(action.setOverdueActivities(data));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ActivityList);\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  tab: {\r\n    whiteSpace: \"nowrap\",\r\n    textTransform: \"capitalize\",\r\n  },\r\n  root: {\r\n    backgroundColor: \" #FFF\",\r\n  },\r\n}));\r\n\r\nconst FFTab = ({ tabs, selectedTabValue, onTabChange }) => {\r\n  const classes = useStyles();\r\n\r\n  const [value, setValue] = React.useState(selectedTabValue);\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setValue(newValue);\r\n    if (onTabChange) {\r\n      onTabChange(newValue);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Tabs\r\n      className={classes.root}\r\n      value={value}\r\n      indicatorColor=\"secondary\"\r\n      textColor=\"secondary\"\r\n      onChange={handleTabChange}\r\n      variant=\"fullWidth\"\r\n    >\r\n      {tabs.map((i, index) => {\r\n        return (\r\n          <Tab\r\n            key={index}\r\n            label={i.title}\r\n            value={i.value}\r\n            className={classes.tab}\r\n          />\r\n        );\r\n      })}\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default FFTab;\r\n","import { Box, makeStyles } from \"@material-ui/core\";\r\nimport * as action from \"actions\";\r\nimport ActivityList from \"components/ActivityList\";\r\nimport CheckforUpdates from \"components/CheckforUpdates\";\r\nimport FFTab from \"components/FFTab\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport * as repo from \"js/fetch\";\r\nimport { scrollToPosition } from \"js/util\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles(({ theme, spacing }) => ({\r\n  main: {\r\n    backgroundColor: \"#f3f3f3\",\r\n    padding: 6,\r\n    position: \"absolute\",\r\n    top: spacing(6),\r\n    height: window.screen.height - 173 + \"px\",\r\n    width: \"100%\",\r\n    overflow: \"hidden auto\",\r\n  },\r\n}));\r\n\r\nconst ActivityListPage = ({\r\n  timeHorizon,\r\n  setTimeHorizon,\r\n  historyPage,\r\n  serviceWorkerRegistration,\r\n  isServiceWorkerUpdated,\r\n}) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const classes = useStyles();\r\n  const scrollRef = useRef(null);\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      scrollToPosition(scrollRef, location.pathname);\r\n    }, 1000);\r\n  }, [location.pathname]);\r\n\r\n  const tabs = [\r\n    { title: i18n.COCKPIT_FILTER_NONE, value: \"all\" },\r\n    { title: i18n.COCKPIT_FILTER_THISWEEK, value: \"thisWeek\" },\r\n    { title: \"2 \" + i18n.INSTALLATION_WEEKS, value: \"twoWeeks\" },\r\n    { title: \"4 \" + i18n.INSTALLATION_WEEKS, value: \"fourWeeks\" },\r\n    { title: \"8 \" + i18n.INSTALLATION_WEEKS, value: \"eightWeeks\" },\r\n  ];\r\n\r\n  const updateServiceWorker = () => {\r\n    const registrationWaiting = serviceWorkerRegistration.waiting;\r\n    if (registrationWaiting) {\r\n      registrationWaiting.postMessage({ type: \"SKIP_WAITING\" });\r\n\r\n      registrationWaiting.addEventListener(\"statechange\", (e) => {\r\n        if (e.target.state === \"activated\") {\r\n          window.localStorage.removeItem(\"versionUpdating\");\r\n          window.location.reload();\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PrimaryLayout\r\n      name=\"activities\"\r\n      title={i18n.INSTAPP_JOBLIST_ACTIVITY_COCKPIT}\r\n      pageLevel={1}\r\n    >\r\n      <Box\r\n        style={{\r\n          width: \"100%\",\r\n          position: \"fixed\",\r\n          zIndex: \"100\",\r\n          backgroundColor: \"#fafafa\",\r\n          height: \"48px\",\r\n        }}\r\n      >\r\n        <FFTab\r\n          tabs={tabs}\r\n          selectedTabValue={timeHorizon}\r\n          onTabChange={(value) => setTimeHorizon(value)}\r\n        />\r\n      </Box>\r\n      <div className={classes.main} ref={scrollRef}>\r\n        <ActivityList />\r\n      </div>\r\n\r\n      <div>\r\n        {historyPage === \"loginPage\" && isServiceWorkerUpdated && (\r\n          <CheckforUpdates\r\n            type=\"SW_UPDATE\"\r\n            page=\"activity\"\r\n            open={isServiceWorkerUpdated}\r\n            onClick={updateServiceWorker}\r\n          />\r\n        )}\r\n      </div>\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nconst mapStateToPops = (state, ownProps) => {\r\n  const {\r\n    timeHorizon,\r\n    settings,\r\n    versionUpdating: { serviceWorkerUpdated, serviceWorkerRegistration },\r\n  } = state;\r\n  const historyPage = settings.historyPage ? settings.historyPage : \"\";\r\n\r\n  return {\r\n    timeHorizon,\r\n    historyPage,\r\n    isServiceWorkerUpdated: serviceWorkerUpdated,\r\n    serviceWorkerRegistration,\r\n  };\r\n};\r\n\r\nconst mapDispatchToState = (dispatch) => {\r\n  return {\r\n    refresh: () => {\r\n      dispatch(action.fetchAll(repo.type.CACHE));\r\n    },\r\n    setTimeHorizon: (timeHorizon) => {\r\n      dispatch(action.setTimeHorizon(timeHorizon));\r\n    },\r\n    setScrollPosition: (data) => {\r\n      dispatch(action.setScrollPosition(data));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToPops, mapDispatchToState)(ActivityListPage);\r\n","import { Box, Button, makeStyles, Typography } from \"@material-ui/core\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport * as action from \"actions\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  main: {\r\n    margin: spacing(1, 2),\r\n  },\r\n  formControl: {\r\n    marginBottom: spacing(2),\r\n  },\r\n  submit: {\r\n    position: \"fixed\",\r\n    bottom: spacing(12),\r\n    width: \"90%\",\r\n  },\r\n  descript: {\r\n    marginTop: spacing(1),\r\n  },\r\n}));\r\n\r\nconst ChangePassword = ({ submit }) => {\r\n  const classes = useStyles();\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  const [values, setValues] = React.useState({\r\n    oldPassword: \"\",\r\n    newPassword: \"\",\r\n    confrimNewPassword: \"\",\r\n  });\r\n\r\n  const [isShowPassword, setShowPassword] = React.useState({\r\n    oldPassword: false,\r\n    newPassword: false,\r\n    confrimNewPassword: false,\r\n  });\r\n\r\n  const fields = [\r\n    {\r\n      name: \"oldPassword\",\r\n      label: i18n.ISNTAPP_OLD_PASSWORD,\r\n      showPassword: isShowPassword.oldPassword,\r\n    },\r\n    {\r\n      name: \"newPassword\",\r\n      label: i18n.ISNTAPP_NEW_PASSWORD,\r\n      showPassword: isShowPassword.newPassword,\r\n    },\r\n    {\r\n      name: \"confrimNewPassword\",\r\n      label: i18n.ISNTAPP_CONFIRME_CHANGE_PASSWORD,\r\n      showPassword: isShowPassword.confrimNewPassword,\r\n      descript: \"6-16\",\r\n    },\r\n  ];\r\n\r\n  const handleChange = (prop) => (event) => {\r\n    setValues({ ...values, [prop]: event.target.value.trim() });\r\n  };\r\n\r\n  const handleClickShowPassword = (name) => (event) => {\r\n    setShowPassword({ ...isShowPassword, [name]: !isShowPassword[name] });\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const verificationSubmit = () => {\r\n    if (!values.oldPassword) {\r\n      alert(\"\");\r\n    } else if (!values.newPassword) {\r\n      alert(\"\");\r\n    } else if (checkoutPassword(values.newPassword)) {\r\n      return true;\r\n    } else if (!values.confrimNewPassword) {\r\n      alert(\"\");\r\n    } else if (values.oldPassword === values.confrimNewPassword) {\r\n      alert(\"\");\r\n    } else if (checkoutPassword(values.confrimNewPassword)) {\r\n      return true;\r\n    } else if (values.newPassword !== values.confrimNewPassword) {\r\n      alert(\"\");\r\n    } else {\r\n      submit({\r\n        currentPassword: values.oldPassword,\r\n        newPassword: values.newPassword,\r\n      });\r\n    }\r\n  };\r\n\r\n  const checkoutPassword = (password) => {\r\n    var hasUpperCase = /[A-Z]/.test(password);\r\n    var hasLowerCase = /[a-z]/.test(password);\r\n    var hasNumbers = /\\d/.test(password);\r\n    var hasNonalphas = /\\W/.test(password);\r\n\r\n    if (password.length < 6) {\r\n      alert(\"6\");\r\n      return true;\r\n    } else if (password.length > 16) {\r\n      alert(\"16\");\r\n      return true;\r\n    } else if (!hasUpperCase) {\r\n      alert(\"\");\r\n      return true;\r\n    } else if (!hasLowerCase) {\r\n      alert(\"\");\r\n      return true;\r\n    } else if (!hasNumbers) {\r\n      alert(\"\");\r\n      return true;\r\n    } else if (!hasNonalphas) {\r\n      alert(\"\");\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PrimaryLayout title={i18n.ISNTAPP_CHANGE_PASSWORD}>\r\n      <Box className={classes.main}>\r\n        {fields.map((item, index) => {\r\n          return (\r\n            <FormControl\r\n              fullWidth\r\n              required\r\n              key={index}\r\n              className={classes.formControl}\r\n            >\r\n              <InputLabel>{item.label}</InputLabel>\r\n              <Input\r\n                maxLength=\"8\"\r\n                type={item.showPassword ? \"text\" : \"password\"}\r\n                value={item.password}\r\n                onChange={handleChange(item.name)}\r\n                endAdornment={\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"toggle password visibility\"\r\n                      onClick={handleClickShowPassword(item.name)}\r\n                      onMouseDown={handleMouseDownPassword}\r\n                    >\r\n                      {item.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                }\r\n              />\r\n              <Typography\r\n                variant=\"body2\"\r\n                color=\"textSecondary\"\r\n                className={classes.descript}\r\n              >\r\n                {item.descript}\r\n              </Typography>\r\n            </FormControl>\r\n          );\r\n        })}\r\n        <Box className={classes.submit}>\r\n          <Button\r\n            style={{\r\n              backgroundColor: \"rgb(220,2,2)\",\r\n              color: \"white\",\r\n              textTransform: \"capitalize\",\r\n            }}\r\n            fullWidth\r\n            onClick={() => verificationSubmit()}\r\n            size=\"large\"\r\n            variant=\"contained\"\r\n          >\r\n            {i18n.ISNTAPP_CHANGE_PASSWORD}\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nconst mapStateToPops = (state, ownProps) => {\r\n  return {};\r\n};\r\n\r\nconst mapDispatchToState = (dispatch) => {\r\n  return {\r\n    submit: (values) => {\r\n      dispatch(action.changePassword(values));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToPops, mapDispatchToState)(ChangePassword);\r\n","import { Box, Toolbar, Typography } from \"@material-ui/core\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport React from \"react\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: \"fixed\",\r\n  },\r\n  content: {\r\n    marginTop: theme.spacing(10),\r\n  },\r\n}));\r\n\r\nconst Model = ({ handleClose, open, title, children }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Dialog fullScreen open={open} TransitionComponent={Transition}>\r\n      <AppBar className={classes.appBar}>\r\n        <Toolbar>\r\n          <IconButton color=\"inherit\" onClick={handleClose}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\">{title}</Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Box className={classes.content}>{children}</Box>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default Model;\r\n","import ZoomInIcon from \"@material-ui/icons/ZoomIn\";\r\nimport ZoomOutIcon from \"@material-ui/icons/ZoomOut\";\r\nimport React from \"react\";\r\nimport { Document, Page, pdfjs } from \"react-pdf\";\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\nconst Pdf = ({ filePath }) => {\r\n  const [pageWidth, setPageWidth] = React.useState(600);\r\n  // const [pageNumber] = React.useState(1);\r\n  const [numPages, setNumPages] = React.useState(1);\r\n  // setPagNumber\r\n  const onDocumentLoadSuccess = ({ numPages }) => {\r\n    setNumPages(numPages);\r\n  };\r\n\r\n  const pageZoomIn = () => {\r\n    const pageWidths = pageWidth * 1.2;\r\n    setPageWidth(pageWidths);\r\n  };\r\n\r\n  const pageZoomOut = () => {\r\n    if (pageWidth <= 600) {\r\n      return;\r\n    }\r\n    const pageWidths = pageWidth * 0.8;\r\n    setPageWidth(pageWidths);\r\n  };\r\n\r\n  return (\r\n    <div style={{ overflow: \"auto\" }}>\r\n      <div\r\n        style={{\r\n          position: \"fixed\",\r\n          top: \"52px\",\r\n          zIndex: 1,\r\n          width: \"100%\",\r\n          display: \"flex\",\r\n          justifyContent: \"space-around\",\r\n          backgroundColor: \"rgb(238, 238, 238)\",\r\n          height: \"50px\",\r\n        }}\r\n      >\r\n        <p onClick={pageZoomIn}>\r\n          <ZoomInIcon color=\"disabled\" fontSize=\"large\" />\r\n        </p>\r\n        <p onClick={pageZoomOut}>\r\n          <ZoomOutIcon color=\"disabled\" fontSize=\"large\" />\r\n        </p>\r\n      </div>\r\n\r\n      <div style={{ width: \"95%\", margin: \"24px auto\" }}>\r\n        <Document file={filePath} onLoadSuccess={onDocumentLoadSuccess}>\r\n          {new Array(numPages).fill(\"\").map((item, index) => {\r\n            return (\r\n              <Page\r\n                key={index}\r\n                pageNumber={index + 1}\r\n                width={pageWidth}\r\n                scale={0.6}\r\n              />\r\n            );\r\n          })}\r\n        </Document>\r\n      </div>\r\n\r\n      {/* <p>\r\n        Page {pageNumber} of {numPages}\r\n      </p> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pdf;\r\n","import {\r\n  Accordion,\r\n  AccordionDetails,\r\n  AccordionSummary,\r\n  Box,\r\n  Grid,\r\n  Typography,\r\n  withStyles,\r\n  Divider,\r\n  Button,\r\n  AccordionActions,\r\n  List,\r\n  Checkbox\r\n} from \"@material-ui/core\";\r\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\r\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\";\r\nimport * as action from \"actions\";\r\nimport Model from \"components/Model\";\r\nimport Pdf from \"components/Pdf\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { documentAuthorizationC } from \"js/publicFn\";\r\nimport { getTemplateList,  showUploadButton } from \"js/util\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Square from \"img/square.png\"\r\nimport Triangle from \"img/triangle.png\"\r\nimport { makeStyles } from \"@material-ui/styles\";\r\n\r\n\r\nconst getSquareORTriangle = (type) => {\r\n  let imgSource = type === \"Square\" ? Square : type === \"Triangle\" ? Triangle : \"No\";\r\n  return imgSource === \"No\" ? imgSource : <img src={imgSource} alt=\"\" />\r\n}\r\n\r\nconst getSpecifyStr = (item) => {\r\n  const str = \"Chinese:\";\r\n  var splitChar = item.split(\"||\");\r\n\r\n  return splitChar\r\n    .find((e) => {\r\n      return (\r\n        e.startsWith(str) ||\r\n        (splitChar.findIndex((e) => e.startsWith(str)) === -1 && splitChar[0])\r\n      );\r\n    })\r\n    .split(\":\")\r\n    .slice(-1)[0];\r\n};\r\n\r\n// const isShowUpLoadButon = (allowreupload, param, documents) => {\r\n//   if (documents.length > 0) {\r\n//     if (!allowreupload) {\r\n//       return false\r\n//     } else {\r\n//       if (getChecklistActivityNo(param)) {\r\n//         return false\r\n//       } else {\r\n//         return true;\r\n//       }\r\n//     }\r\n//   } else {\r\n//     return true\r\n//   }\r\n// }\r\n\r\nconst dynamicDisplay = (root, config, version) => {\r\n  if (root === \"listCard\") {\r\n    if (version !== \"Latest\") {\r\n      return false\r\n    }\r\n    return config.closeEnabledInOILScreen\r\n  } else if (root === \"installationChecklist\") {\r\n    if (version !== \"Latest\") {\r\n      return false\r\n    } else {\r\n      return true\r\n    }\r\n\r\n  }\r\n  return false\r\n}\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  root: {\r\n    \"& .MuiAccordionSummary-content.Mui-expanded\": {\r\n      margin: 0\r\n    },\r\n    \"& .MuiAccordionSummary-content\": {\r\n      margin: 0\r\n    },\r\n    \"& .MuiAccordionSummary-root.Mui-expanded\": {\r\n      minHeight: \"auto\",\r\n      paddingTop: spacing(1)\r\n    }\r\n\r\n  },\r\n}))\r\n\r\nconst ListofIncongruentItems = ({ data, getHistoryList, version, root, nonConformityConfig, activityNo, closeNonConfirmityItems }) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const [expanded, setExpanded] = React.useState(true);\r\n\r\n  const classes = useStyles();\r\n\r\n  const handleChange = (event, newExpanded) => {\r\n    setExpanded(newExpanded);\r\n  };\r\n\r\n  let canClick = true;\r\n\r\n  return <List component=\"nav\" aria-label=\"contacts\" style={{ marginBottom: 20 }}>\r\n    {version === \"Latest\" &&\r\n      <Box style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n        <Button size=\"large\" color=\"secondary\" onClick={() => getHistoryList()}></Button>\r\n        {dynamicDisplay(root, nonConformityConfig[activityNo], version) && data.nonConformities.find(item => item.nonConformityItems.length > 0) &&\r\n          <Button size=\"large\" color=\"secondary\" onClick={() =>\r\n            \r\n          {\r\n            if (!canClick) {\r\n              alert('');\r\n              return;\r\n            };\r\n\r\n            setTimeout(() => {\r\n              canClick = true;\r\n            }, 2000); \r\n        \r\n            canClick = false;\r\n            closeNonConfirmityItems(data)\r\n          }\r\n          \r\n          }>{i18n.Close_NONCONFORMANCE_ITEMS}</Button>\r\n        }\r\n      </Box>\r\n    }\r\n    <Accordion className={classes.root} style={{ margin: \"0 16px\" }} expanded={expanded} onChange={handleChange}>\r\n      <AccordionSummary style={{ margin: 0 }}>\r\n        <ArrowRightIcon fontSize=\"large\" style={expanded ? { transform: \"rotate(90deg)\" } : {}} />\r\n        <Typography variant=\"h6\">{version === \"Latest\" ? `` : `${version}`}</Typography>\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n        <Box style={{ width: \"100%\" }}>\r\n          {data.nonConformities.map((key, index) => {\r\n            return (\r\n              <Box key={index} ml={2} mr={2}>\r\n                <Typography\r\n                  style={{ fontWeight: 600 }}\r\n                  gutterBottom\r\n                  variant=\"body2\"\r\n                  component=\"h2\"\r\n                >\r\n                  {key.documentName}\r\n                </Typography>\r\n                <Box>\r\n                  {key.nonConformityItems.map((item, index) => {\r\n                    return (\r\n                      <Grid key={index} container >\r\n                        <Grid item xs={8}>\r\n                          <Typography variant=\"caption\">{getSpecifyStr(item.itemName)}</Typography>\r\n                        </Grid>\r\n                        <Grid item xs={2}>\r\n                          <p style={{ fontWeight: 800, paddingLeft: 24, marginBottom: 0, marginTop: 8 }}> {getSquareORTriangle(item.questionType)}</p>\r\n                        </Grid>\r\n                        <Grid item xs={2} style={{ textAlign: \"end\" }}>\r\n                          {dynamicDisplay(root, nonConformityConfig[activityNo], version) &&\r\n                            <Checkbox\r\n                              style={{ padding: 4 }}\r\n                              color=\"default\"\r\n                              inputProps={{ 'aria-label': 'checkbox with default color' }}\r\n                              onChange={(event) => {\r\n                                let checkedVlaue = event.target.checked;\r\n                                item[\"itemValue\"] = checkedVlaue ? \"yes\" : \"no\"\r\n                                item[\"activityNo\"] = key.activityNo\r\n\r\n                              }}\r\n                            />\r\n                          }\r\n                        </Grid>\r\n                      </Grid>\r\n                    );\r\n                  })}\r\n                </Box>\r\n              </Box>\r\n            );\r\n          })}\r\n        </Box>\r\n      </AccordionDetails>\r\n    </Accordion>\r\n\r\n  </List>\r\n};\r\n\r\n\r\nconst Template = withStyles(({ spacing }) => ({\r\n  root: {\r\n    padding: 0,\r\n  },\r\n  add: {\r\n    marginLeft: spacing(5),\r\n  },\r\n  navIcon: {\r\n    transform: \"rotate(90deg)\",\r\n  },\r\n  documentName: {\r\n    marginLeft: spacing(1),\r\n  },\r\n}))(\r\n  ({\r\n    classes,\r\n    template: {\r\n      activityNo,\r\n      documentNo,\r\n      documentPart,\r\n      mandDoc,\r\n      documentDescription,\r\n      productFamily,\r\n      productLine,\r\n      language,\r\n    },\r\n    orderNo,\r\n    projectNumber,\r\n    fetchPdf,\r\n    documents,\r\n    foe,\r\n    region,\r\n    branch,\r\n    DisableTheEntranceroot,\r\n    canUploadDoc,\r\n    fetchNoConformityList,\r\n    root,\r\n    i18n,\r\n    fetchHistoryList,\r\n    nonConformityConfig,\r\n    closeNonConfirmity\r\n  }) => {\r\n    const [expanded, setExpanded] = React.useState(true);\r\n    const [open, setOpen] = React.useState(false);\r\n    const [modelContent, setModelContent] = React.useState();\r\n    const [title, setTitle] = React.useState(documentDescription);\r\n    const [data, setData] = React.useState([]);\r\n    useEffect(() => {\r\n      setModelContent(\r\n        data.map((item, index) =>\r\n          < ListofIncongruentItems\r\n            key={index}\r\n            data={item}\r\n            getHistoryList={getHistoryList}\r\n            version={item?.versionIdentifier}\r\n            root={root}\r\n            nonConformityConfig={nonConformityConfig}\r\n            activityNo={activityNo}\r\n            closeNonConfirmityItems={closeNonConfirmityItems}\r\n          />))\r\n      // eslint-disable-next-line\r\n    }, [data]);\r\n\r\n\r\n    const handleClickOpen = (name) => {\r\n      const data = {\r\n        ProjectNo: projectNumber,\r\n        OrderNo: orderNo,\r\n        ActivityNo: activityNo,\r\n        DocumentName: name,\r\n        foe,\r\n        region,\r\n        branch,\r\n      };\r\n      root === \"installationChecklist\" && delete data.ActivityNo;\r\n      fetchPdf(data).then((url) => {\r\n        setOpen(true);\r\n        setModelContent(<Pdf filePath={url} />);\r\n      });\r\n    };\r\n\r\n    const handleClose = () => {\r\n      setOpen(false);\r\n    };\r\n\r\n    const handleChange = (event, newExpanded) => {\r\n      setExpanded(newExpanded);\r\n    };\r\n\r\n    const getHistoryList = () => {\r\n      const param = {\r\n        ProjectNo: projectNumber,\r\n        OrderNo: orderNo,\r\n        ActivityNo: root === \"listCard\" ? activityNo : \"\",\r\n        Description: root === \"listCard\" ? documentDescription : \"\",\r\n        foe,\r\n        region,\r\n        branch,\r\n      };\r\n      fetchHistoryList(param).then((res) => {\r\n        const newData = res.data.map((item, index) => {\r\n          return {\r\n            nonConformities: item.nonConformities,\r\n            versionIdentifier: res.data.length - index\r\n          }\r\n        });\r\n        const historyData = [\r\n          ...data, ...newData\r\n        ]\r\n        const result = Array.from(new Set(historyData.map(JSON.stringify))).map(JSON.parse);\r\n        setData(result)\r\n      })\r\n    }\r\n\r\n    const closeNonConfirmityItems = (checkContent) => {\r\n\r\n      const filteredData = checkContent?.nonConformities?.filter(item => {\r\n        return item.nonConformityItems.some(subItem => subItem.itemValue === \"yes\");\r\n      });\r\n\r\n      let checkedData = filteredData.map((item) => {\r\n        return {\r\n          documentInfo: {\r\n            projectNo: projectNumber,\r\n            orderNo: orderNo,\r\n            activityNo: item.activityNo,\r\n            description: item.documentName,\r\n            foe,\r\n            region,\r\n            branch,\r\n          },\r\n          items: item.nonConformityItems,\r\n        }\r\n      })\r\n\r\n      if (checkedData.length < 1) {\r\n        alert(\"\")\r\n        return false\r\n      }\r\n      closeNonConfirmity(checkedData).then((res) => {\r\n        setOpen(false);\r\n      })\r\n    }\r\n\r\n\r\n    const getNoConformityList = (param) => {\r\n      setTitle(i18n.NONCONFORMITY_LIST);\r\n      fetchNoConformityList(param).then((res) => {\r\n        setOpen(true);\r\n        res.data[\"versionIdentifier\"] = \"Latest\"\r\n        setData(res.data)\r\n      })\r\n    }\r\n    const showButton = showUploadButton() ? (showUploadButton() && DisableTheEntranceroot && canUploadDoc) : (DisableTheEntranceroot && canUploadDoc)\r\n    const history = useHistory();\r\n    return (\r\n      <Accordion expanded={expanded} onChange={handleChange}>\r\n        <AccordionSummary className={classes.root}>\r\n          <ArrowRightIcon className={expanded ? classes.navIcon : \"\"} />\r\n          {mandDoc === \"X\" ? (\r\n            <Typography color=\"error\">{documentDescription}*</Typography>\r\n          ) : (\r\n            <Typography>{documentDescription}</Typography>\r\n          )}\r\n\r\n          {showButton &&\r\n            (\r\n              <AddCircleOutlineIcon\r\n                color=\"error\"\r\n                className={classes.add}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  history.push(\r\n                    `/template/${documentNo}/${documentPart}/${activityNo}/${orderNo}/${projectNumber}/${productFamily}/${productLine}/${language}`\r\n                  );\r\n                }}\r\n              />\r\n             )}\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <Box>\r\n            {documents[0] &&\r\n              (root === \"installationChecklist\"\r\n                ? documents\r\n                : Array.from(new Set(documents)).filter((item) => {\r\n                  return (\r\n                    item.name.indexOf(documentDescription) > -1 &&\r\n                    item.name === documentDescription + \".pdf\"\r\n                  );\r\n                })\r\n              ).map((item, index) => {\r\n                return (\r\n                  <Grid\r\n                    className={classes.documentName}\r\n                    key={index}\r\n                    item\r\n                    xs={12}\r\n                    onClick={() => {\r\n                      setTitle(documentDescription);\r\n                      handleClickOpen(item.name);\r\n                    }}\r\n                  >\r\n                    {item.name}\r\n                  </Grid>\r\n                );\r\n              })}\r\n          </Box>\r\n        </AccordionDetails>\r\n        {documents.length > 0 && (\r\n          <Box>\r\n            <Divider />\r\n            <AccordionActions>\r\n              <Button\r\n                size=\"small\"\r\n                color=\"secondary\"\r\n                onClick={() => {\r\n                  const param = {\r\n                    ProjectNo: projectNumber,\r\n                    OrderNo: orderNo,\r\n                    ActivityNo: activityNo,\r\n                    Description: documentDescription,\r\n                    foe,\r\n                    region,\r\n                    branch,\r\n                  };\r\n                  root === \"installationChecklist\" && delete param.ActivityNo;\r\n                  getNoConformityList(param);\r\n                }}\r\n              >\r\n                {i18n.VIEW_NONCONFORMANCE_ITEMS}\r\n              </Button>\r\n            </AccordionActions>\r\n          </Box>\r\n        )}\r\n        <Model open={open} title={title} handleClose={handleClose}>\r\n          {modelContent}\r\n        </Model>\r\n      </Accordion>\r\n    );\r\n  }\r\n);\r\n\r\nconst DocumentsPage = withStyles(({ spacing }) => ({\r\n  root: {\r\n    margin: spacing(2),\r\n  },\r\n  content: {\r\n    marginBottom: spacing(5),\r\n  },\r\n  title: {\r\n    lineHeight: \"2.5\",\r\n  },\r\n}))(\r\n  ({\r\n    descriptionShort,\r\n    classes,\r\n    data,\r\n    orderNo,\r\n    projectNumber,\r\n    fetchPdf,\r\n    documents,\r\n    foe,\r\n    region,\r\n    branch,\r\n    DisableTheEntranceroot,\r\n    canUploadDoc,\r\n    root,\r\n    fetchNoConformityList,\r\n    getHistoryList,\r\n    nonConformityConfig,\r\n    closeNonConfirmityItems\r\n  }) => {\r\n    const i18n = React.useContext(LocalizeContext);\r\n    const [pageDescription, setPageDescription] = React.useState(\r\n      i18n.INSTALLATION_ACTIVITY_DOCUMENT\r\n    );\r\n\r\n    const pageSource =\r\n      root === \"minCard\" ? \"all\" : root === \"listCard\" ? \"pending\" : \"basic\";\r\n\r\n    useEffect(() => {\r\n      if (root === \"installationChecklist\")\r\n        setPageDescription(i18n.INSTALLATION_CHECKLIST);\r\n    }, [root, i18n]);\r\n    return (\r\n      <PrimaryLayout\r\n        name=\"activity Document\"\r\n        root={pageSource}\r\n        title={pageDescription}\r\n      >\r\n        <Box className={classes.root}>\r\n          <Box\r\n            fontSize=\"h6.fontSize\"\r\n            fontWeight=\"fontWeightMedium\"\r\n            my={1}\r\n          >{`${orderNo}`}</Box>\r\n          <Typography variant=\"body1\" className={classes.title}>\r\n            {descriptionShort}\r\n          </Typography>\r\n          <Box className={classes.content}>\r\n            {data.map((item, index) => {\r\n              return (\r\n                <Template\r\n                  template={item}\r\n                  key={index}\r\n                  orderNo={orderNo}\r\n                  projectNumber={projectNumber}\r\n                  fetchPdf={fetchPdf}\r\n                  documents={documents}\r\n                  foe={foe}\r\n                  region={region}\r\n                  branch={branch}\r\n                  DisableTheEntranceroot={DisableTheEntranceroot}\r\n                  canUploadDoc={canUploadDoc}\r\n                  fetchNoConformityList={fetchNoConformityList}\r\n                  root={root}\r\n                  i18n={i18n}\r\n                  fetchHistoryList={getHistoryList}\r\n                  nonConformityConfig={nonConformityConfig}\r\n                  closeNonConfirmity={closeNonConfirmityItems}\r\n                />\r\n              );\r\n            })}\r\n          </Box>\r\n        </Box>\r\n      </PrimaryLayout>\r\n    );\r\n  }\r\n);\r\n\r\nexport default connect(\r\n  (\r\n    { activities, orderActivities, documentList, templates, orders, auth, nonConformityConfig },\r\n    {\r\n      match: {\r\n        params: { activityNo, orderNo, productFamily, root },\r\n      },\r\n    }\r\n  ) => {\r\n    const projectNumber = orders[orderNo]?.projectNumber;\r\n    const productCategory = orders[orderNo]?.productCategory;\r\n    const productLine = orders[orderNo]?.productLine;\r\n    const templatesData = templates[activityNo] || [];\r\n    let order = orders?.[orderNo];\r\n    const documents = [];\r\n    const documentsItem = documentList[projectNumber]?.[orderNo]?.[activityNo];\r\n\r\n    const data = getTemplateList(templatesData, productLine, productFamily, productCategory);\r\n    const description = data.map((item) => {\r\n      return item.documentDescription;\r\n    });\r\n\r\n\r\n    description.forEach((item) => {\r\n      return (\r\n        (documentsItem &&\r\n          documentsItem.filter(\r\n            (ele) => ele.name.indexOf(item) > -1 && documents.push(ele)\r\n          )) ||\r\n        []\r\n      );\r\n    });\r\n\r\n    const docAuthActivityNos = documentAuthorizationC(\r\n      orderActivities,\r\n      orderNo,\r\n      auth.activityAuth,\r\n      auth.roles[0]\r\n    );\r\n\r\n    const canUploadDoc = docAuthActivityNos.includes(activityNo);\r\n\r\n    const { descriptionShort, descriptionShort14 } =\r\n      activities[activityNo] || {};\r\n\r\n    const title = orderActivities[orderNo + \"-7030\"]\r\n      ? descriptionShort14\r\n        ? descriptionShort14\r\n        : descriptionShort\r\n      : descriptionShort;\r\n\r\n    if (root === \"installationChecklist\") {\r\n      const template = {\r\n        mandDoc: \"Y\",\r\n        documentDescription: ``,\r\n      };\r\n\r\n      data.push(template);\r\n\r\n      documents.push(documentList?.[projectNumber]?.[orderNo]?.[activityNo][0]);\r\n    }\r\n\r\n    return {\r\n      data: data,\r\n      descriptionShort: title,\r\n      orderNo,\r\n      projectNumber,\r\n      documents,\r\n      foe: order?.fo,\r\n      region: order?.region,\r\n      branch: order?.prctr,\r\n      DisableTheEntranceroot: root === \"listCard\",\r\n      canUploadDoc,\r\n      root: root,\r\n      nonConformityConfig\r\n    };\r\n  },\r\n  (dispatch) => {\r\n    return {\r\n      fetchPdf: (data) => {\r\n        return dispatch(action.fetchPdf(data));\r\n      },\r\n\r\n      fetchNoConformityList: (data) => {\r\n        return dispatch(action.getNoConformityList(data));\r\n      },\r\n\r\n      getHistoryList: (data) => {\r\n        return dispatch(action.getHistoryList(data));\r\n      },\r\n\r\n      closeNonConfirmityItems: (data) => {\r\n        return dispatch(action.closeNonConfirmityItems(data));\r\n\r\n      }\r\n\r\n    };\r\n  }\r\n)(DocumentsPage);\r\n","import { Box, Button, Checkbox, Grid } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport * as action from \"actions\";\r\nimport React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { LocalizeContext } from \"i18n\";\r\n\r\nconst FitterAssignment = withStyles(({ spacing, palette }) => {\r\n  return {\r\n    root: {\r\n      display: \"flex\",\r\n      borderBottomColor: palette.grey[\"300\"],\r\n      borderBottomStyle: \"solid\",\r\n      borderBottomWidth: 1,\r\n      padding: spacing(1, 0),\r\n    },\r\n  };\r\n})(({ defaultAssignedList, classes, data, projectNumber, confirm }) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  const [fitterConfirmList, setFitterConfirmList] = useState(\r\n    defaultAssignedList\r\n  );\r\n\r\n  const assignedList = (sqmNr) => {\r\n    let newFitterConfirmList = fitterConfirmList.slice(0);\r\n    const fitterIndex = newFitterConfirmList.indexOf(sqmNr);\r\n    if (fitterIndex > -1) {\r\n      newFitterConfirmList.splice(fitterIndex, 1);\r\n    } else {\r\n      newFitterConfirmList.push(sqmNr);\r\n    }\r\n    setFitterConfirmList(newFitterConfirmList);\r\n  };\r\n\r\n  return (\r\n    <Box my={2}>\r\n      <Box textAlign={\"right\"}>\r\n        <Button\r\n          style={{ textTransform: \"none\" }}\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            confirm({ projectNo: projectNumber, sqmNr: fitterConfirmList });\r\n          }}\r\n        >\r\n          {i18n.GENERAL_CONFIRM}\r\n        </Button>\r\n      </Box>\r\n      {data.map((item, key) => {\r\n        return (\r\n          <Box className={classes.root} key={key}>\r\n            <Grid container spacing={0} style={{ flex: \"auto\" }}>\r\n              <Grid container spacing={1}>\r\n                <Grid item xs={6}>\r\n                  {item.fitterName}\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                  {item.sqmNr}\r\n                </Grid>\r\n              </Grid>\r\n              <Grid container spacing={1}>\r\n                <Grid item xs={6}>\r\n                  {item.fitterRole}\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                  {item.productFamilyName}\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n            <Box style={{ flex: \"auto\" }}>\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={fitterConfirmList.includes(item.sqmNr)}\r\n                onChange={() => {\r\n                  assignedList(item.sqmNr);\r\n                }}\r\n              ></Checkbox>\r\n            </Box>\r\n          </Box>\r\n        );\r\n      })}\r\n    </Box>\r\n  );\r\n});\r\n\r\nconst mapStateToProps = (\r\n  { fittersAssignmentTransfer, fittersCertification, productFamilies },\r\n  { projectNumber }\r\n) => {\r\n  let fitterAssignmentList = [];\r\n  let defaultAssignedList = [];\r\n\r\n  const joinProductFramilyName = (item) => {\r\n    let framilyNames = \"\";\r\n    let bias = \"\";\r\n    const productFamilyLists = item.productFamily.split(\"/\");\r\n    if (productFamilyLists.length > 1) {\r\n      productFamilyLists.forEach((key, index) => {\r\n        if (index !== 0) {\r\n          bias = \"/\";\r\n        }\r\n        framilyNames += bias + productFamilies[key].name;\r\n      });\r\n    } else {\r\n      framilyNames = productFamilies[item.productFamily].name;\r\n    }\r\n    return framilyNames;\r\n  };\r\n\r\n  Object.keys(fittersCertification).forEach((key) => {\r\n    if (fittersCertification[key].fitterRole === \"TL\") {\r\n      fittersCertification[key].productFamilyName = joinProductFramilyName(\r\n        fittersCertification[key]\r\n      );\r\n      fitterAssignmentList.unshift(fittersCertification[key]);\r\n    } else {\r\n      fittersCertification[key].productFamilyName = joinProductFramilyName(\r\n        fittersCertification[key]\r\n      );\r\n      fitterAssignmentList.push(fittersCertification[key]);\r\n    }\r\n  });\r\n\r\n  (fittersAssignmentTransfer[projectNumber]\r\n    ? fittersAssignmentTransfer[projectNumber]\r\n    : []\r\n  ).forEach((item) => {\r\n    defaultAssignedList.push(item.sqmNr);\r\n  });\r\n\r\n  return {\r\n    data: fitterAssignmentList,\r\n    defaultAssignedList: defaultAssignedList,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    confirm: (data) => {\r\n      dispatch(action.confirmFittersAssignmentList(data));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FitterAssignment);\r\n","import { Box, Grid } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { LocalizeContext } from \"i18n\";\r\n\r\nconst FitterOverview = withStyles(({ spacing, palette }) => {\r\n  return {\r\n    root: {\r\n      borderBottomColor: palette.grey[\"300\"],\r\n      borderBottomStyle: \"solid\",\r\n      borderBottomWidth: 1,\r\n      padding: spacing(1, 0),\r\n    },\r\n  };\r\n})(({ assignedTotal, classes, data, projectNumber }) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  return (\r\n    <Box>\r\n      <Box fontSize=\"h6.fontSize\" fontWeight=\"fontWeightMedium\" my={2}>\r\n        {i18n.ISNTAPP_PROJECTLIST_FITTER_ASSIGNED_TOTAL}: {assignedTotal}\r\n      </Box>\r\n      {data.map((item, key) => {\r\n        return (\r\n          <Box className={classes.root} key={key}>\r\n            <Grid container spacing={1}>\r\n              <Grid item xs={4}>\r\n                {item.name}\r\n              </Grid>\r\n              <Grid item xs={4}>\r\n                {i18n.INSTAPP_PROJECTLIST_UnitCount}: {item.units}\r\n              </Grid>\r\n              <Grid item xs={4}></Grid>\r\n            </Grid>\r\n            <Grid container spacing={1}>\r\n              <Grid item xs={4}>\r\n                {i18n.ISNTAPP_PROJECTLIST_FITTER_NEED}: {item.need}\r\n              </Grid>\r\n              <Grid item xs={4}>\r\n                {i18n.ISNTAPP_PROJECTLIST_FITTER_Qualified}: {item.qualified}\r\n              </Grid>\r\n              <Grid item xs={4}>\r\n                {i18n.ISNTAPP_PROJECTLIST_FITTER_Assigned}: {item.assigned}\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        );\r\n      })}\r\n    </Box>\r\n  );\r\n});\r\n\r\nconst mapStateToProps = (\r\n  {\r\n    fittersAssignmentTransfer,\r\n    fittersDemand,\r\n    fittersCertification,\r\n    orders,\r\n    productFamilies,\r\n  },\r\n  { projectNumber }\r\n) => {\r\n  let productFamilyList = [];\r\n\r\n  Object.keys(orders).forEach((item) => {\r\n    if (orders[item].projectNumber === projectNumber) {\r\n      productFamilyList.push(orders[item].productFamily);\r\n    }\r\n  });\r\n\r\n  const productFamilyCountList = productFamilyList.reduce(function (\r\n    prev,\r\n    next\r\n  ) {\r\n    prev[next] = prev[next] + 1 || 1;\r\n    return prev;\r\n  },\r\n  {});\r\n\r\n  const currentFamilyAssigned = (productFamily) => {\r\n    let assignedCount = 0;\r\n    Object.keys(fittersCertification).forEach((key) => {\r\n      Object.keys(\r\n        fittersAssignmentTransfer[projectNumber]\r\n          ? fittersAssignmentTransfer[projectNumber]\r\n          : {}\r\n      ).forEach((item) => {\r\n        if (\r\n          fittersAssignmentTransfer[projectNumber][item].sqmNr === key &&\r\n          fittersCertification[key].productFamily.includes(productFamily)\r\n        ) {\r\n          assignedCount += 1;\r\n        }\r\n      });\r\n    });\r\n    return assignedCount;\r\n  };\r\n\r\n  return {\r\n    data: Object.keys(productFamilyCountList).map((item) => {\r\n      const name = productFamilies[item].name;\r\n      const units = productFamilyCountList[item];\r\n      return {\r\n        name: name,\r\n        units: units,\r\n        need:\r\n          units * (fittersDemand[item] ? fittersDemand[item].fittersNeed : 1),\r\n        qualified: Object.keys(fittersCertification).filter((key) => {\r\n          return fittersCertification[key].productFamily.indexOf(item) !== -1;\r\n        }).length,\r\n        assigned: currentFamilyAssigned(item),\r\n      };\r\n    }),\r\n    assignedTotal: fittersAssignmentTransfer[projectNumber]\r\n      ? fittersAssignmentTransfer[projectNumber].length\r\n      : 0,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(FitterOverview);\r\n","import { Tab, Tabs } from \"@material-ui/core\";\r\nimport FitterAssignment from \"components/FitterAssignment\";\r\nimport FitterOverview from \"components/FitterOverview\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { LocalizeContext } from \"i18n\";\r\n\r\nconst FitterAssignmentPage = ({ projectNumber }) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const [activeTab, setActiveTab] = useState(\"overView\");\r\n\r\n  return (\r\n    <PrimaryLayout title={i18n.ISNTAPP_PROJECTLIST_FITTER_ASSIGNMENT}>\r\n      <Tabs\r\n        indicatorColor=\"primary\"\r\n        onChange={(e, value) => {\r\n          setActiveTab(value);\r\n        }}\r\n        textColor=\"primary\"\r\n        value={activeTab}\r\n        variant=\"fullWidth\"\r\n      >\r\n        <Tab label={i18n.GENERAL_OVERVIEW} value=\"overView\" />\r\n        <Tab\r\n          label={i18n.ISNTAPP_PROJECTLIST_FITTER_ASSIGNMENT2}\r\n          value=\"fitterAssignment\"\r\n        />\r\n      </Tabs>\r\n      {activeTab === \"overView\" && (\r\n        <FitterOverview projectNumber={projectNumber}></FitterOverview>\r\n      )}\r\n      {activeTab === \"fitterAssignment\" && (\r\n        <FitterAssignment projectNumber={projectNumber}></FitterAssignment>\r\n      )}\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ projects }, ownProps) => {\r\n  const { match } = ownProps;\r\n  const { params } = match;\r\n  const { number: projectNumber } = params;\r\n  return { projectNumber };\r\n};\r\n\r\nexport default connect(mapStateToProps)(FitterAssignmentPage);\r\n","import { TextField } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nexport const SingleLine = ({\r\n  autoFocus,\r\n  data,\r\n  errorMessage,\r\n  label,\r\n  name,\r\n  onChange,\r\n  placeholder,\r\n  readonly,\r\n  required,\r\n}) => {\r\n  return (\r\n    <TextField\r\n      autoFocus={autoFocus}\r\n      error={!!errorMessage}\r\n      fullWidth\r\n      helperText={errorMessage}\r\n      id={name}\r\n      inputProps={{ readOnly: readonly }}\r\n      label={label}\r\n      margin=\"normal\"\r\n      name={name}\r\n      onChange={(e) => {\r\n        onChange(name, e.target.value);\r\n      }}\r\n      placeholder={placeholder}\r\n      required={required}\r\n      value={data[name] || \"\"}\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { SingleLine } from \"./SingleLine\";\r\n\r\nconst Form = ({ data = {}, fields = [], onChange, validation }) => {\r\n  return fields.map(({ component: Component = SingleLine, ...rest }, index) => {\r\n    const { name } = rest;\r\n    return (\r\n      <Component\r\n        data={data}\r\n        errorMessage={data[name] !== undefined && validation[name]?.message}\r\n        key={index}\r\n        onChange={onChange(data)}\r\n        {...rest}\r\n      />\r\n    );\r\n  });\r\n};\r\n\r\nexport default connect(\r\n  ({ formData }) => {\r\n    return {\r\n      data: formData,\r\n    };\r\n  },\r\n  (dispatch, { onChange }) => {\r\n    return (\r\n      // !onChange && {\r\n      //   onChange: (data) => (name, value) => {\r\n      //     dispatch(action.setFormData({ ...data, [name]: value }));\r\n      //   },\r\n      // }\r\n      { onChange }\r\n    );\r\n  }\r\n)(Form);\r\n","import {\r\n  Checkbox as MuiCheckbox,\r\n  FormControlLabel,\r\n  FormControl,\r\n} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nexport const Checkbox = withStyles(({ spacing }) => {\r\n  return {\r\n    root: {\r\n      margin: spacing(2, 0, 1, 0),\r\n    },\r\n  };\r\n})(({ classes, data, label, name, onChange }) => {\r\n  return (\r\n    <FormControl className={classes.root} fullWidth>\r\n      <FormControlLabel\r\n        control={\r\n          <MuiCheckbox\r\n            name={name}\r\n            color=\"primary\"\r\n            checked={data[name] || false}\r\n            onChange={(e) => {\r\n              onChange(name, e.target.checked);\r\n            }}\r\n          />\r\n        }\r\n        label={label}\r\n      />\r\n    </FormControl>\r\n  );\r\n});\r\n","import {\r\n  FormControl,\r\n  Input,\r\n  InputAdornment,\r\n  InputLabel,\r\n} from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport React from \"react\";\r\n\r\nexport const Password = ({ data, label, name, onChange }) => {\r\n  return (\r\n    <FormControl fullWidth margin=\"dense\" required>\r\n      <InputLabel htmlFor={name}>{label}</InputLabel>\r\n      <Input\r\n        id={name}\r\n        type=\"password\"\r\n        value={data[name] || \"\"}\r\n        onChange={(e) => {\r\n          onChange(name, e.target.value);\r\n        }}\r\n        endAdornment={\r\n          <InputAdornment position=\"end\">\r\n            <LockOutlinedIcon color=\"action\" />\r\n          </InputAdornment>\r\n        }\r\n      />\r\n    </FormControl>\r\n  );\r\n};\r\n","import {\r\n  FormControl,\r\n  Input,\r\n  InputAdornment,\r\n  InputLabel,\r\n} from \"@material-ui/core\";\r\nimport PersonOutlineOutlinedIcon from \"@material-ui/icons/PersonOutlineOutlined\";\r\nimport React from \"react\";\r\n\r\nexport const PhoneNumber = ({ data, label, name, onChange }) => {\r\n  return (\r\n    <FormControl fullWidth margin=\"dense\" required>\r\n      <InputLabel htmlFor={name}>{label}</InputLabel>\r\n      <Input\r\n        id={name}\r\n        value={data[name] || \"\"}\r\n        onChange={(e) => {\r\n          onChange(name, e.target.value);\r\n        }}\r\n        endAdornment={\r\n          <InputAdornment position=\"end\">\r\n            <PersonOutlineOutlinedIcon color=\"action\" />\r\n          </InputAdornment>\r\n        }\r\n      />\r\n    </FormControl>\r\n  );\r\n};\r\n","import Form from \"./Form\";\r\n\r\nexport * from \"./Checkbox\";\r\nexport * from \"./Date\";\r\nexport * from \"./Hidden\";\r\nexport * from \"./MultiLine\";\r\nexport * from \"./Password\";\r\nexport * from \"./PhoneNumber\";\r\nexport * from \"./Radio\";\r\nexport * from \"./Select\";\r\nexport * from \"./Slide\";\r\nexport * from \"./SingleLine\";\r\nexport * from \"./Static\";\r\nexport * from \"./validate\";\r\n\r\nexport default Form;\r\n","import { InputBase, InputLabel } from \"@material-ui/core\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport React from \"react\";\r\n\r\nexport const Static = withStyles(({ spacing }) => ({\r\n  margin: {\r\n    margin: spacing(2, 0, 1, 0),\r\n  },\r\n}))(({ classes, data, label, name }) => {\r\n  return (\r\n    <FormControl className={classes.margin}>\r\n      {label && <InputLabel shrink>{label}</InputLabel>}\r\n      <InputBase\r\n        className={classes.margin}\r\n        id={name}\r\n        value={data[name] || \"\"}\r\n      />\r\n    </FormControl>\r\n  );\r\n});\r\n","import { Box, Button } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport * as action from \"actions\";\r\nimport schindler from \"assets/img/logo.png\";\r\nimport Alert from \"components/Alert\";\r\nimport Form, {\r\n  Checkbox,\r\n  hasError,\r\n  Password,\r\n  PhoneNumber,\r\n  validate,\r\n} from \"components/Form\";\r\nimport Loading from \"components/Loading\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport store from \"js/store\";\r\n\r\nconst LoginPage = withStyles(() => {\r\n  return {\r\n    root: {\r\n      position: \"absolute\",\r\n      height: \"100%\",\r\n      width: \"100%\",\r\n      backgroundColor: \"white\",\r\n      padding: \"16vh 16px\",\r\n    },\r\n    logo: {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n    },\r\n    title: {\r\n      textAlign: \"center\",\r\n      color: \"rgb(220,2,2)\",\r\n    },\r\n    submit: {\r\n      textTransform: \"none\",\r\n      color: \"white\",\r\n      backgroundColor: \"rgb(220,2,2)\",\r\n    },\r\n  };\r\n})(({ classes, data, loading, location, onChange, submit, setAuth }) => {\r\n  const history = useHistory();\r\n\r\n  const fields = [\r\n    {\r\n      name: \"userNameOrEmailAddress\",\r\n      component: PhoneNumber,\r\n      label: \" /\",\r\n      required: true,\r\n    },\r\n    {\r\n      name: \"password\",\r\n      component: Password,\r\n      label: \"\",\r\n      required: true,\r\n    },\r\n    {\r\n      name: \"rememberMe\",\r\n      component: Checkbox,\r\n      label: \"\",\r\n    },\r\n  ];\r\n\r\n  const validation = validate(fields, data);\r\n\r\n  const onSubmit = () => {\r\n    if (\r\n      data[\"userNameOrEmailAddress\"] === undefined ||\r\n      data[\"userNameOrEmailAddress\"] === \"\"\r\n    ) {\r\n      alert(\" /\");\r\n    } else if (data[\"password\"] === undefined || data[\"password\"] === \"\") {\r\n      alert(\"\");\r\n    }\r\n    if (!hasError(validation)) {\r\n      submit(data).then((res) => {\r\n        if (res?.isPwdInit) {\r\n          const firstLogin = true;\r\n          setAuth(data);\r\n          window.localStorage.setItem(\"auth\", JSON.stringify(data));\r\n          history.push({\r\n            pathname: `/newUserResetPassword/${firstLogin}/${data.password}`,\r\n          });\r\n        } else {\r\n          console.log()\r\n          if (store.getState()?.auth?.[\"roles\"]?.[0] === \"SL\") {\r\n            history.push({ pathname: \"/synchronize\" });\r\n          } else {\r\n            history.push({ pathname: \"/activities\" });\r\n          }\r\n       \r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box className={classes.root}>\r\n        <Box className={classes.logo}>\r\n          <img\r\n            src={schindler}\r\n            alt=\"Schindler Logo\"\r\n            style={{ height: \"16vh\" }}\r\n          />\r\n        </Box>\r\n        <Box\r\n          mt={3}\r\n          mb={2}\r\n          className={classes.title}\r\n          fontSize=\"h6.fontSize\"\r\n          fontWeight=\"fontWeightBold\"\r\n        >\r\n          SCF NI INSTALLATION QUALITY\r\n        </Box>\r\n        <Box my={2}>\r\n          <Form fields={fields} onChange={onChange} validation={validation} />\r\n        </Box>\r\n        <Box my={2}>\r\n          <Button\r\n            disabled={loading}\r\n            style={{ backgroundColor: \"rgb(220,2,2)\", color: \"white\" }}\r\n            fullWidth\r\n            onClick={onSubmit}\r\n            size=\"large\"\r\n            variant=\"contained\"\r\n          >\r\n            \r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n      <Loading />\r\n      <Alert />\r\n    </>\r\n  );\r\n});\r\n\r\nexport default connect(\r\n  ({ formData, loading }) => {\r\n    return { data: formData, loading };\r\n  },\r\n  (dispatch) => {\r\n    return {\r\n      onChange: (data) => (name, value) => {\r\n        if (name === \"username\" && !value) {\r\n          dispatch(\r\n            action.setFormData({ ...data, [name]: value, rememberMe: false })\r\n          );\r\n        } else {\r\n          dispatch(action.setFormData({ ...data, [name]: value }));\r\n        }\r\n      },\r\n      submit: (data) => {\r\n        return dispatch(action.login(data));\r\n      },\r\n      setAuth: (data) => {\r\n        dispatch(action.setAuth(data));\r\n      },\r\n    };\r\n  }\r\n)(LoginPage);\r\n","export const validate = (fields, data) => {\r\n  let result = {};\r\n\r\n  fields.forEach((field) => {\r\n    const { label, name, required } = field;\r\n    if (required && !(data[name]?.length > 0)) {\r\n      result = {\r\n        ...result,\r\n        [name]: { message: `${label || name} is required` },\r\n      };\r\n    }\r\n  });\r\n\r\n  return result;\r\n};\r\n\r\nexport const hasError = (validation) => {\r\n  return Object.keys(validation).some((item) => {\r\n    return !!validation[item].message;\r\n  });\r\n};\r\n","import { MenuItem, Select, Typography } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport * as action from \"actions\";\r\nimport { db } from \"js/db\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst SwitchLanguage = withStyles(() => {\r\n  return {\r\n    root: {\r\n      minWidth: \"120px\",\r\n    },\r\n  };\r\n})(({ classes, setLanguage, language, menuItemData }) => {\r\n  return (\r\n    <Select\r\n      className={classes.root}\r\n      onChange={(e) => setLanguage(e.target.value)}\r\n      value={language}\r\n    >\r\n      {menuItemData.map((item, index) => {\r\n        return (\r\n          <MenuItem value={item.value} key={index}>\r\n            <Typography variant=\"subtitle1\" align=\"center\">\r\n              {item.label}\r\n            </Typography>\r\n          </MenuItem>\r\n        );\r\n      })}\r\n    </Select>\r\n  );\r\n});\r\n\r\nexport default connect(\r\n  ({ settings: { language } }) => {\r\n    return {\r\n      language,\r\n    };\r\n  },\r\n  (dispatch) => {\r\n    return {\r\n      setLanguage: (languageType) => {\r\n        db.cache\r\n          .put({\r\n            id: \"settings\",\r\n            data: { language: languageType },\r\n          })\r\n          .then(() => {\r\n            dispatch(action.setLanguage(languageType));\r\n          });\r\n      },\r\n    };\r\n  }\r\n)(SwitchLanguage);\r\n","import { Box, Button, Grid, makeStyles, Typography } from \"@material-ui/core\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\r\nimport * as action from \"actions\";\r\nimport fitter from \"assets/svg/fitter.svg\";\r\nimport SwitchLanguage from \"components/SwitchLanguage\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { calculationOfInstallationSteps } from \"js/util\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport projectIcon from \"../../img/projectIcon.png\";\r\nimport userManualIcon from \"../../img/userManual.png\";\r\nimport about from \"../././../assets/svg/about.svg\";\r\nimport downLoad from \"../././../assets/svg/downLoad.svg\";\r\nimport Elevator from \"../././../assets/svg/Elevator.svg\";\r\nimport key from \"../././../assets/svg/key.svg\";\r\nimport language from \"../././../assets/svg/language.svg\";\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n\r\n  instructions: {\r\n    marginTop: spacing(1),\r\n    marginBottom: spacing(1),\r\n  },\r\n  header: {\r\n    display: \"flex\",\r\n  },\r\n  headerContainer: {\r\n    width: \"100%\",\r\n    margin: spacing(2, 0, 1, 0),\r\n    padding: spacing(2, 2, 1, 2),\r\n    backgroundColor: \"#FFF\",\r\n  },\r\n  units: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  listItem: {\r\n    backgroundColor: \"#fff\",\r\n    margin: spacing(0, 0, 2, 0),\r\n  },\r\n  listItemText: {\r\n    margin: spacing(0, 0, 0, 2),\r\n  },\r\n  name: {\r\n    marginLeft: spacing(2),\r\n    whiteSpace: \"nowrap\",\r\n  },\r\n  userName: {\r\n    marginLeft: spacing(7),\r\n  },\r\n  btn: {\r\n    display: \"block\",\r\n    textTransform: \"capitalize\",\r\n    margin: spacing(3, \"auto\"),\r\n    fontSize: spacing(2),\r\n    color: \"red\",\r\n  },\r\n  asdf: {\r\n    display: \"flex\",\r\n    margin: \"8px\",\r\n    width: \" 100%\",\r\n  },\r\n}));\r\n\r\nconst MePage = ({\r\n  company,\r\n  userName,\r\n  roles,\r\n  ProjectQuantity,\r\n  progress,\r\n  logout,\r\n}) => {\r\n  const classes = useStyles();\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const [peInfo] = React.useState(JSON.parse(window.localStorage.getItem(\"peInfo\")));\r\n\r\n  const list = [\r\n    {\r\n      name: i18n.ISNTAPP_LANGUAGE,\r\n      imgSrc: language,\r\n      type: \"Language\",\r\n    },\r\n    {\r\n      name: i18n.ISNTAPP_SYNCHRONIZE,\r\n      imgSrc: downLoad,\r\n      link: \"synchronize\",\r\n    },\r\n    {\r\n      name: i18n.ISNTAPP_CHANGE_PASSWORD,\r\n      imgSrc: key,\r\n      link: \"ChangePassword\",\r\n    },\r\n    {\r\n      name: i18n.ISNTAPP_ABOUT,\r\n      id: 18,\r\n      imgSrc: about,\r\n      link: \"about\",\r\n    },\r\n    {\r\n      name: i18n.INSTALLATION_USER_MANUAL,\r\n      imgSrc: userManualIcon,\r\n      link: \"userManual\",\r\n    },\r\n  ];\r\n\r\n  const menuItemData = [\r\n    { label: i18n.ISNTAPP_LANGUAGE_ZH_CN, value: \"zh-cn\" },\r\n    { label: i18n.ISNTAPP_LANGUAGE_EN, value: \"en\" },\r\n  ];\r\n\r\n  const history = useHistory();\r\n  return (\r\n    <PrimaryLayout name=\"me\" title={i18n.ISNTAPP_ME}>\r\n      <Grid container spacing={1} className={classes.headerContainer}>\r\n        <Grid style={{ display: \"flex\", margin: \"8px\", width: \" 100%\" }}>\r\n          <img src={fitter} style={{ width: \"22px\", height: \"24px\" }} alt=\"\" />\r\n          <Typography align=\"center\" className={classes.name}>\r\n            {userName}\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <Grid item xs={5}>\r\n          <Typography\r\n            variant=\"subtitle1\"\r\n            align=\"left\"\r\n            style={{ marginLeft: \"42px\" }}\r\n          >\r\n            {roles === \"Subcon TL\" ? i18n.JOBLIST_SUBCON_TL : roles}\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <Grid item xs={5}>\r\n          <Typography variant=\"subtitle1\" align=\"center\">\r\n            {company}\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <Divider />\r\n        </Grid>\r\n\r\n        <Grid item xs={3}>\r\n          <Box className={classes.units}>\r\n            <img src={Elevator} width=\"24\" alt=\"\"></img>\r\n            <Typography\r\n              variant=\"subtitle1\"\r\n              align=\"center\"\r\n              className={classes.name}\r\n            >\r\n              {i18n.ISNTAPP_UNITS}\r\n            </Typography>\r\n          </Box>\r\n        </Grid>\r\n        <Grid item xs={3} align=\"center\">\r\n          <Typography variant=\"subtitle1\">\r\n            {progress.theOverallProgress}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={6} align=\"center\">\r\n          <Typography variant=\"subtitle1\">\r\n            {roles===\"SL\"&&peInfo?.pNumber&&`PE${peInfo?.pNumber}`} \r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={3}></Grid>\r\n        <Grid item xs={12}></Grid>\r\n        <Grid item xs={3}>\r\n          <Box className={classes.units}>\r\n            <img\r\n              src={projectIcon}\r\n              width=\"24\"\r\n              style={{ marginLeft: \"2px\", transform: \" scaleX(-1)\" }}\r\n              alt=\"\"\r\n            ></img>\r\n            <Typography\r\n              variant=\"subtitle1\"\r\n              align=\"center\"\r\n              className={classes.name}\r\n            >\r\n              {i18n.ISNTAPP_PROJECTS}\r\n            </Typography>\r\n          </Box>\r\n        </Grid>\r\n        <Grid item xs={3} align=\"center\">\r\n          <Typography variant=\"subtitle1\">{ProjectQuantity}</Typography>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <List className={classes.root}>\r\n        {list.map((item, index) => {\r\n          return (\r\n            <ListItem\r\n              key={index}\r\n              className={classes.listItem}\r\n              onClick={() => {\r\n                history.push(item.link);\r\n              }}\r\n            >\r\n              <img src={item.imgSrc} width=\"24\" alt=\"\" />\r\n              <ListItemText\r\n                primary={item.name}\r\n                className={classes.listItemText}\r\n              />\r\n              <ListItemAvatar align=\"right\">\r\n                {item.type ? (\r\n                  <SwitchLanguage menuItemData={menuItemData} />\r\n                ) : (\r\n                  <ArrowForwardIosIcon fontSize=\"inherit\" />\r\n                )}\r\n              </ListItemAvatar>\r\n            </ListItem>\r\n          );\r\n        })}\r\n      </List>\r\n      <Box>\r\n        <Button\r\n          color=\"secondary\"\r\n          className={classes.btn}\r\n          onClick={() => logout()}\r\n        >\r\n          {i18n.ISNTAPP_SIGN_OUT}\r\n        </Button>\r\n      </Box>\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  ({\r\n    auth: {\r\n      userName,\r\n      roles,\r\n      company: { name },\r\n    },\r\n    orderActivities,\r\n    projects,\r\n    orders,\r\n  }) => {\r\n    const ProjectQuantity = Object.keys(projects).length;\r\n    const progress = calculationOfInstallationSteps(orderActivities, orders);\r\n    return {\r\n      userName,\r\n      roles: roles[0],\r\n      orderActivities,\r\n      ProjectQuantity,\r\n      progress,\r\n      company: name,\r\n    };\r\n  },\r\n  (dispatch) => {\r\n    return {\r\n      logout: () => {\r\n        dispatch(action.logout());\r\n      },\r\n    };\r\n  }\r\n)(MePage);\r\n","import { Box, Button, makeStyles, Typography } from \"@material-ui/core\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport * as action from \"actions\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  main: {\r\n    margin: spacing(1, 2),\r\n  },\r\n  formControl: {\r\n    marginBottom: spacing(2),\r\n  },\r\n  submit: {\r\n    position: \"fixed\",\r\n    bottom: spacing(4),\r\n    width: \"90%\",\r\n  },\r\n  reset: {\r\n    position: \"fixed\",\r\n    bottom: spacing(4),\r\n    width: \"90%\",\r\n  },\r\n  descript: {\r\n    marginTop: spacing(1),\r\n  },\r\n}));\r\n\r\nconst NewUserResetPasswordPage = ({\r\n  submit,\r\n  firstLogin,\r\n  firstLoginPassword,\r\n}) => {\r\n  const classes = useStyles();\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  const [values, setValues] = React.useState({\r\n    oldPassword: firstLogin === \"true\" ? firstLoginPassword : \"\",\r\n    newPassword: \"\",\r\n    confrimNewPassword: \"\",\r\n  });\r\n\r\n  const [isShowPassword, setShowPassword] = React.useState({\r\n    oldPassword: false,\r\n    newPassword: false,\r\n    confrimNewPassword: false,\r\n  });\r\n\r\n  const fields = [\r\n    {\r\n      name: \"oldPassword\",\r\n      label: i18n.ISNTAPP_OLD_PASSWORD,\r\n      showPassword: firstLoginPassword,\r\n      firstLogin: firstLogin,\r\n    },\r\n    {\r\n      name: \"newPassword\",\r\n      label: i18n.ISNTAPP_NEW_PASSWORD,\r\n      showPassword: isShowPassword.newPassword,\r\n    },\r\n    {\r\n      name: \"confrimNewPassword\",\r\n      label: i18n.ISNTAPP_CONFIRME_CHANGE_PASSWORD,\r\n      showPassword: isShowPassword.confrimNewPassword,\r\n      descript: \"6-16\",\r\n    },\r\n  ];\r\n\r\n  const handleChange = (prop) => (event) => {\r\n    setValues({ ...values, [prop]: event.target.value.trim() });\r\n  };\r\n\r\n  const handleClickShowPassword = (name) => (event) => {\r\n    setShowPassword({ ...isShowPassword, [name]: !isShowPassword[name] });\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const verificationSubmit = () => {\r\n    if (!values.oldPassword) {\r\n      alert(\"\");\r\n    } else if (!values.newPassword) {\r\n      alert(\"\");\r\n    } else if (checkoutPassword(values.newPassword)) {\r\n      return true;\r\n    } else if (!values.confrimNewPassword) {\r\n      alert(\"\");\r\n    } else if (values.oldPassword === values.confrimNewPassword) {\r\n      alert(\"\");\r\n    } else if (checkoutPassword(values.confrimNewPassword)) {\r\n      return true;\r\n    } else if (values.newPassword !== values.confrimNewPassword) {\r\n      alert(\"\");\r\n    } else {\r\n      submit(\r\n        {\r\n          currentPassword: values.oldPassword,\r\n          newPassword: values.newPassword,\r\n        },\r\n        firstLogin\r\n      );\r\n    }\r\n  };\r\n\r\n  const checkoutPassword = (password) => {\r\n    var hasUpperCase = /[A-Z]/.test(password);\r\n    var hasLowerCase = /[a-z]/.test(password);\r\n    var hasNumbers = /\\d/.test(password);\r\n    var hasNonalphas = /\\W/.test(password);\r\n\r\n    if (password.length < 6) {\r\n      alert(\"6\");\r\n      return true;\r\n    } else if (password.length > 16) {\r\n      alert(\"16\");\r\n      return true;\r\n    } else if (!hasUpperCase) {\r\n      alert(\"\");\r\n      return true;\r\n    } else if (!hasLowerCase) {\r\n      alert(\"\");\r\n      return true;\r\n    } else if (!hasNumbers) {\r\n      alert(\"\");\r\n      return true;\r\n    } else if (!hasNonalphas) {\r\n      alert(\"\");\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box className={classes.main}>\r\n      <Typography variant=\"body2\" color=\"error\" style={{ marginTop: \"16px\" }}>\r\n        *\r\n      </Typography>\r\n      {fields.map((item, index) => {\r\n        return (\r\n          item.firstLogin !== \"true\" && (\r\n            <FormControl\r\n              fullWidth\r\n              required\r\n              key={index}\r\n              className={classes.formControl}\r\n            >\r\n              <InputLabel>{item.label}</InputLabel>\r\n              <Input\r\n                maxLength=\"8\"\r\n                type={item.showPassword ? \"text\" : \"password\"}\r\n                value={item.password}\r\n                onChange={handleChange(item.name)}\r\n                endAdornment={\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"toggle password visibility\"\r\n                      onClick={handleClickShowPassword(item.name)}\r\n                      onMouseDown={handleMouseDownPassword}\r\n                    >\r\n                      {item.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                }\r\n              />\r\n              <Typography\r\n                variant=\"body2\"\r\n                color=\"textSecondary\"\r\n                className={classes.descript}\r\n              >\r\n                {item.descript}\r\n              </Typography>\r\n            </FormControl>\r\n          )\r\n        );\r\n      })}\r\n      <Box className={classes.submit}>\r\n        <Button\r\n          style={{\r\n            backgroundColor: \"rgb(220,2,2)\",\r\n            color: \"white\",\r\n            textTransform: \"capitalize\",\r\n          }}\r\n          fullWidth\r\n          onClick={() => verificationSubmit()}\r\n          size=\"large\"\r\n          variant=\"contained\"\r\n        >\r\n          {i18n.ISNTAPP_CHANGE_PASSWORD}\r\n        </Button>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst mapStateToPops = (\r\n  state,\r\n  {\r\n    match: {\r\n      params: { firstLogin, firstLoginPassword },\r\n    },\r\n  }\r\n) => {\r\n  return { firstLogin, firstLoginPassword };\r\n};\r\n\r\nconst mapDispatchToState = (dispatch) => {\r\n  return {\r\n    submit: (values) => {\r\n      dispatch(action.firstLoginRestPassword(values));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToPops,\r\n  mapDispatchToState\r\n)(NewUserResetPasswordPage);\r\n","import { Box, Typography } from \"@material-ui/core\";\r\nimport ConfirmModal from \"components/ConfirmModal\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport moment from \"moment\";\r\nimport React from \"react\";\r\nimport { DatePicker } from \"@material-ui/pickers\";\r\n\r\nconst OrderActivityList = ({\r\n  data,\r\n  component: Component,\r\n  tabType,\r\n  submit,\r\n  oneThousandPlannedDate,\r\n  nineThousandPlannedDate,\r\n}) => {\r\n  const [open, setOpen] = React.useState(null);\r\n  const [activity, setActivity] = React.useState(\"\");\r\n  const [currentActivity, setCurrentActivity] = React.useState(\"\");\r\n  const [date, setDate] = React.useState(\r\n    moment(new Date()).format(\"YYYY-MM-DD\")\r\n  );\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  const handleClickOpen = (name, activity, currentActivity) => {\r\n    setOpen(name);\r\n    setActivity(activity);\r\n    setCurrentActivity(currentActivity);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(null);\r\n    setDate(moment(new Date()).format(\"YYYY-MM-DD\"));\r\n  };\r\n\r\n  const confirmedDateMinAndMax = () => {\r\n    const currentData = activity\r\n      ? data[\r\n          Object.keys(data).filter((item) => {\r\n            return data[item].activityNumber === activity;\r\n          })[0]\r\n        ]\r\n      : data;\r\n    if (activity) {\r\n      if (currentData.confPreStart === \"X\") {\r\n        return { min: 0, max: moment().format(\"YYYY-MM-DD\") };\r\n      } else {\r\n        if (currentData.confPast === \"0\" || currentData.confPast === null) {\r\n          return {\r\n            min: moment().add(-5, \"days\").format(\"YYYY-MM-DD\"),\r\n            max: moment().format(\"YYYY-MM-DD\"),\r\n          };\r\n        } else {\r\n          return {\r\n            min: moment()\r\n              .add(-currentData.confPast, \"days\")\r\n              .format(\"YYYY-MM-DD\"),\r\n            max: moment().format(\"YYYY-MM-DD\"),\r\n          };\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleClick = () => {\r\n    let type = 0;\r\n\r\n    if (open === \"lock\" || open === \"unlock\") {\r\n      type = 2;\r\n    }\r\n\r\n    if (open === \"confirm\" || open === \"cancel\") {\r\n      type = 1;\r\n    }\r\n\r\n    if ((open === \"lock\" || open === \"confirm\") && date) {\r\n      submit(activity, date, type);\r\n      setOpen(null);\r\n    } else if (open === \"unlock\" || open === \"cancel\") {\r\n      submit(activity, \"\", type);\r\n      setOpen(null);\r\n    }\r\n  };\r\n\r\n  if (data) {\r\n    data.sort((a, b) => (a.sort ? (a.sort > b.sort ? 1 : -1) : 1));\r\n  }\r\n\r\n  return (\r\n    <Box style={{ marginBottom: \"16px\" }}>\r\n      {data?.map((item, index) => {\r\n        return (\r\n          <Component\r\n            data={item}\r\n            handleClickOpen={(name, activity, currentActivity) =>\r\n              handleClickOpen(name, activity, currentActivity)\r\n            }\r\n            tabType={tabType}\r\n            key={index}\r\n          />\r\n        );\r\n      })}\r\n      <ConfirmModal\r\n        open={\r\n          open === \"lock\" ||\r\n          open === \"unlock\" ||\r\n          open === \"confirm\" ||\r\n          open === \"cancel\"\r\n        }\r\n        date={date}\r\n        handleClick={handleClick}\r\n        onClose={handleClose}\r\n        title={currentActivity}\r\n      >\r\n        <Box mb={1} align=\"center\" mr={5}>\r\n          <Typography\r\n            variant=\"body2\"\r\n            color={\r\n              open === \"lock\" || open === \"confirm\"\r\n                ? date\r\n                  ? \"initial\"\r\n                  : \"error\"\r\n                : \"initial\"\r\n            }\r\n          >\r\n            {open === \"lock\" || open === \"confirm\"\r\n              ? `*${i18n.ISNTAPP_PLEASE_SELECT}${\r\n                  open === \"lock\"\r\n                    ? i18n.ORDERDETAILS_LOCK\r\n                    : open === \"confirm\"\r\n                    ? i18n.GENERAL_CONFIRM\r\n                    : \"\"\r\n                }${i18n.ISNTAPP_DETE}`\r\n              : `${i18n.ISNTAPP_CONFIRM_TO}${\r\n                  open === \"unlock\"\r\n                    ? i18n.ORDERDETAILS_UNLOCK\r\n                    : open === \"cancel\"\r\n                    ? i18n.GENERAL_CANCEL\r\n                    : \"\"\r\n                }${i18n.ISNTAPP_DETE}?`}\r\n          </Typography>\r\n        </Box>\r\n        <Box mb={1} align=\"center\">\r\n          {open === \"lock\" && (\r\n            <input\r\n              type=\"date\"\r\n              min={oneThousandPlannedDate}\r\n              max={nineThousandPlannedDate}\r\n              onChange={(e) => {\r\n                setDate(e.target.value);\r\n              }}\r\n              value={date}\r\n            />\r\n          )}\r\n          {open === \"confirm\" && (\r\n            // <input\r\n            //   min={confirmedDateMinAndMax().min}\r\n            //   max={confirmedDateMinAndMax().max}\r\n            //   type=\"date\"\r\n            //   onChange={(e) => {\r\n            //     setDate(e.target.value);\r\n            //   }}\r\n            //   value={date}\r\n            // />\r\n\r\n            <DatePicker\r\n              autoOk\r\n              disableToolbar={true}\r\n              variant=\"inline\"\r\n              value={date ? new Date(date) : null}\r\n              minDate={new Date(confirmedDateMinAndMax()?.min)}\r\n              maxDate={new Date(confirmedDateMinAndMax()?.max)}\r\n              format=\"YYYY/MM/DD\"\r\n              onChange={(d) => {\r\n                setDate(moment(d).format(\"YYYY-MM-DD\"));\r\n              }}\r\n            />\r\n          )}\r\n        </Box>\r\n      </ConfirmModal>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default OrderActivityList;\r\n","import {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  Grid,\r\n  Typography,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  CancelOutlined,\r\n  CheckCircleOutlineOutlined,\r\n  DescriptionOutlined,\r\n  EventAvailableOutlined,\r\n  EventNoteOutlined,\r\n  // LockOpenOutlined,\r\n  // LockOutlined,\r\n  ScheduleOutlined,\r\n} from \"@material-ui/icons\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { isInstallationStep } from \"js/installationStep\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  toDoOrDone,\r\n  verifyWhenConfirm7020or70C0,\r\n  checkFileIsExisting,\r\n  getTemplateList\r\n} from \"../../js/util\";\r\nimport * as action from \"actions\";\r\n\r\nconst OrderActivityListCard = withStyles(({ spacing }) => {\r\n  return {\r\n    button: {\r\n      borderRadius: spacing(2.5),\r\n      textTransform: \"capitalize\",\r\n      lineHeight: \"unset\",\r\n      fontSize: \"0.5rem\",\r\n      padding: \"2px 14px\",\r\n    },\r\n    card: {\r\n      marginTop: spacing(2),\r\n      // borderTopStyle: \"solid\",\r\n      // borderTopColor: \"#ff0000\",\r\n    },\r\n    cardActions: {\r\n      marginLeft: \"0px\",\r\n    },\r\n    label: {\r\n      whiteSpace: \"nowrap\",\r\n    },\r\n  };\r\n})(\r\n  ({\r\n    classes,\r\n    data,\r\n    document,\r\n    handleClickOpen,\r\n    tabType,\r\n    orderActivities,\r\n    documentList,\r\n    orders,\r\n    templates,\r\n    fetchNoConformityList\r\n  }) => {\r\n    // console.log(data);\r\n    const i18n = React.useContext(LocalizeContext);\r\n    const root = \"listCard\";\r\n    const history = useHistory();\r\n    const action = [\r\n      // {\r\n      //   label: i18n.ORDERDETAILS_LOCK,\r\n      //   name: \"Lock\",\r\n      //   component: (auth) => (\r\n      //     <LockOutlined\r\n      //       color={auth.isExecutable.Lock ? \"action\" : \"disabled\"}\r\n      //       onClick={() =>\r\n      //         handleClickOpen(\r\n      //           \"lock\",\r\n      //           data.activityNumber,\r\n      //           (tabType ? data.activityNumber : data.stepNumber) +\r\n      //             \" \" +\r\n      //             data.descriptionShort\r\n      //         )\r\n      //       }\r\n      //     />\r\n      //   ),\r\n      // },\r\n      // {\r\n      //   label: i18n.ORDERDETAILS_UNLOCK,\r\n      //   name: \"unLock\",\r\n      //   component: (auth) => (\r\n      //     <LockOpenOutlined\r\n      //       color={auth.isExecutable.unLock ? \"action\" : \"disabled\"}\r\n      //       onClick={() =>\r\n      //         handleClickOpen(\r\n      //           \"unlock\",\r\n      //           data.activityNumber,\r\n      //           (tabType ? data.activityNumber : data.stepNumber) +\r\n      //             \" \" +\r\n      //             data.descriptionShort\r\n      //         )\r\n      //       }\r\n      //     />\r\n      //   ),\r\n      // },\r\n      {\r\n        label: i18n.GENERAL_CONFIRM,\r\n        name: \"Confirm\",\r\n        component: (auth) => (\r\n          <CheckCircleOutlineOutlined\r\n            color={auth.isExecutable.Confirm ? \"action\" : \"disabled\"}\r\n            onClick={() => {\r\n              const result = verifyWhenConfirm7020or70C0(\r\n                orderActivities,\r\n                data.orderNumber,\r\n                data.activityNumber\r\n              );\r\n              if (result) {\r\n                alert(result.stepNo + result.message);\r\n                return;\r\n              }\r\n\r\n\r\n\r\n              const templateDataList = getTemplateList(\r\n                templates[data.activityNumber] || [],\r\n                orders[data.orderNumber].productLine,\r\n                orders[data.orderNumber].productFamily,\r\n                orders[data.orderNumber].productCategory\r\n              );\r\n\r\n              const param = templateDataList.map((item) => {\r\n                return {\r\n                  foe: orders[data.orderNumber].fo,\r\n                  region: orders[data.orderNumber].region,\r\n                  branch: orders[data.orderNumber].prctr,\r\n                  ProjectNo: orders[data.orderNumber].projectNumber,\r\n                  OrderNo: data.orderNumber,\r\n                  ActivityNo: data.activityNumber,\r\n                  Description: item.documentDescription,\r\n                };\r\n              });\r\n\r\n              checkFileIsExisting(templates, data, orders).then((message) => {\r\n                if (message.length < 1) {\r\n                  param.map(item =>\r\n                    fetchNoConformityList(item).then((res) => {\r\n                      const foundItems = res.data?.[0].nonConformities?.flatMap(key =>\r\n                        key.nonConformityItems.filter(\r\n                          subItem => subItem.questionType === \"Triangle\" && subItem.itemValue === \"no\"\r\n                        )\r\n                      );\r\n\r\n                      if (foundItems.length > 0) {\r\n                        alert(`${foundItems.length}`);\r\n                        return false;\r\n                      };\r\n                    })\r\n                  )\r\n                  handleClickOpen(\r\n                    \"confirm\",\r\n                    data.activityNumber,\r\n                    (tabType ? data.activityNumber : data.stepNumber) +\r\n                    \" \" +\r\n                    data.description\r\n                  );\r\n                } else {\r\n                  alert(` ${message.toString()}`);\r\n                }\r\n              });\r\n            }}\r\n          />\r\n        ),\r\n      },\r\n      {\r\n        label: i18n.GENERAL_CANCEL,\r\n        name: \"Cancel\",\r\n        component: (auth) => (\r\n          <CancelOutlined\r\n            color={auth.isExecutable.Cancel ? \"action\" : \"disabled\"}\r\n            onClick={() =>\r\n              handleClickOpen(\r\n                \"cancel\",\r\n                data.activityNumber,\r\n                (tabType ? data.activityNumber : data.stepNumber) +\r\n                \" \" +\r\n                data.description\r\n              )\r\n            }\r\n          />\r\n        ),\r\n      },\r\n      {\r\n        label:\r\n          document === \"Done\"\r\n            ? i18n.ISNTAPP_JOBLIST_DOC_DONE\r\n            : document === \"ToDo\"\r\n              ? i18n.ISNTAPP_JOBLIST_DOC_TODO\r\n              : i18n.ISNTAPP_WITHOUT_TEMPLATES,\r\n        name: \"Document\",\r\n        component: () => (\r\n          <DescriptionOutlined\r\n            style={{ margin: \"auto\" }}\r\n            color={\r\n              document === \"Done\" || document === \"ToDo\" ? \"action\" : \"disabled\"\r\n            }\r\n            onClick={() => {\r\n              history.push(\r\n                `/documents/${data.activityNumber}/${data.orderNumber}/${data.productFamily}/${root}`\r\n              );\r\n            }}\r\n          />\r\n        ),\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <Card className={classes.card}>\r\n        <CardContent>\r\n          <Button\r\n            disabled\r\n            variant=\"contained\"\r\n            style={{\r\n              backgroundColor: data.isExecutable.Confirm ? \"#8bc34a\" : \"\",\r\n              color: data.isExecutable.Confirm ? \"white\" : \"black\",\r\n            }}\r\n            classes={{ root: classes.button }}\r\n          >\r\n            {data.info} {data.hint && i18n.ISNTAPP_NO_PERMISSION}\r\n          </Button>\r\n          <Box mt={2}>\r\n            <Box style={{ display: \"inline-flex\" }}>\r\n              <ScheduleOutlined color=\"action\" style={{ fontSize: \"1.4rem\" }} />\r\n              <Typography variant=\"body1\" fontWeight={500}>\r\n                {!isInstallationStep(data.activityNumber)\r\n                  ? i18n.JOBLIST_ACTIVITY\r\n                  : i18n.ISNTAPP_JOBLIST_INST_STEPS}\r\n                : {data.activityNumber + \" \" + data.description}\r\n              </Typography>\r\n            </Box>\r\n          </Box>\r\n          <Box mt={1.5}>\r\n            <Grid container>\r\n              <Grid item xs={6} style={{ display: \"inline-flex\" }}>\r\n                <EventNoteOutlined\r\n                  style={{ fontSize: \"1.05rem\" }}\r\n                  color=\"action\"\r\n                />\r\n                <Typography variant=\"caption\">\r\n                  {i18n.PROJECTLIST_PLANNED_FINISH}: {data.leadingDate}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                xs={6}\r\n                style={{\r\n                  display: \"inline-flex\",\r\n                  justifyContent: \"flex-start\",\r\n                }}\r\n              >\r\n                <EventAvailableOutlined\r\n                  style={{ fontSize: \"1.05rem\" }}\r\n                  color=\"action\"\r\n                />\r\n                <Typography variant=\"caption\">\r\n                  {i18n.PROJECTLIST_CONFIRMED_FINISH}: {data.confirmedDate}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </CardContent>\r\n        <CardActions style={{ backgroundColor: \"#f5f5f5\", overflow: \"auto\" }}>\r\n          {action.map((item, index) => {\r\n            const Component = item.component;\r\n            let disabled = false;\r\n\r\n            if (item.name === \"Lock\") {\r\n              disabled = !data.isExecutable.Lock;\r\n            }\r\n\r\n            if (item.name === \"unLock\") {\r\n              disabled = !data.isExecutable.unLock;\r\n            }\r\n\r\n            if (item.name === \"Confirm\") {\r\n              disabled = !data.isExecutable.Confirm;\r\n            }\r\n\r\n            if (item.name === \"Cancel\") {\r\n              disabled = !data.isExecutable.Cancel;\r\n            }\r\n\r\n            if (item.name === \"Document\") {\r\n              disabled = !(\r\n                (document === \"ToDo\" || document === \"Done\") &&\r\n                data.isExecutable.canReadDoc\r\n              );\r\n            }\r\n\r\n            return (\r\n              <Button\r\n                size=\"small\"\r\n                key={index}\r\n                disabled={disabled}\r\n                style={{\r\n                  display: \"inline-grid\",\r\n                  flex: \"auto\",\r\n                  marginLeft: \"0px\",\r\n                }}\r\n              >\r\n                <Component isExecutable={data.isExecutable} />\r\n                <Typography variant=\"caption\" className={classes.label}>\r\n                  {item.label}\r\n                </Typography>\r\n              </Button>\r\n            );\r\n          })}\r\n        </CardActions>\r\n      </Card>\r\n    );\r\n  }\r\n);\r\nexport default connect(\r\n  (\r\n    { templates = [], documentList, orders, orderActivities },\r\n    { data: { activityNumber: activityNo, orderNumber } }\r\n  ) => {\r\n    const projectNumber = orders[orderNumber]?.projectNumber;\r\n    const document = toDoOrDone(\r\n      projectNumber,\r\n      orderNumber,\r\n      activityNo,\r\n      templates,\r\n      documentList\r\n    );\r\n\r\n    return {\r\n      document,\r\n      orderActivities,\r\n      documentList,\r\n      orders,\r\n      templates,\r\n    };\r\n  }, (dispatch) => {\r\n    return {\r\n      fetchNoConformityList: (data) => {\r\n        return dispatch(action.getNoConformityList(data));\r\n      },\r\n    };\r\n  }\r\n)(OrderActivityListCard);\r\n","import OrderActivityList from \"components/OrderActivityList\";\r\nimport OrderActivityListCard from \"components/OrderActivityListCard\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport * as action from \"actions\";\r\nimport * as publicFn from \"../../js/publicFn/index\";\r\n\r\nconst OrderActivityListPage = ({ data, orderNumber, submit }) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  return (\r\n    <PrimaryLayout title={i18n.ISNTAPP_JOBLIST_ACTIVITY + \": \" + orderNumber}>\r\n      <OrderActivityList\r\n        data={data}\r\n        component={OrderActivityListCard}\r\n        tabType=\"activity\"\r\n        submit={(activityNumber, date, type) => {\r\n          submit(activityNumber, orderNumber, date, type);\r\n        }}\r\n      ></OrderActivityList>\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nconst mapDispatchToState = (dispatch) => {\r\n  return {\r\n    submit: (activityNumber, orderNumber, date, type) => {\r\n      let data = {\r\n        activityNo: activityNumber,\r\n        date: date ? date : \"\",\r\n        orderNo: orderNumber,\r\n        type: type,\r\n      };\r\n      dispatch(action.updateOrderActivityStatus(data));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  (\r\n    { orders, orderActivities, activities, auth },\r\n    {\r\n      match: {\r\n        params: { number: orderNumber },\r\n      },\r\n    }\r\n  ) => {\r\n    const hideInProgress = auth.activityAuth.hideInProgress;\r\n    const { productFamily } = orders[orderNumber] || {};\r\n\r\n    return {\r\n      data: Object.keys(orderActivities)\r\n        .filter((key) => {\r\n          return (\r\n            orderActivities[key].orderNumber === orderNumber &&\r\n            activities[orderActivities[key].activityNumber] &&\r\n            !hideInProgress.includes(orderActivities[key].activityNumber)\r\n          );\r\n        })\r\n        .map((key) => {\r\n          const activityNumber = orderActivities[key].activityNumber;\r\n          const {\r\n            confirmedDate,\r\n            leadingDate,\r\n            leadingStartDate,\r\n            leadingEndDate,\r\n            info,\r\n          } = orderActivities[key];\r\n          const { descriptionShort } = activities[activityNumber];\r\n\r\n          let authOrderActivities = {\r\n            auth,\r\n            orderActivities,\r\n          };\r\n\r\n          let ownprops = {\r\n            activityNumber,\r\n            orderNumber,\r\n          };\r\n\r\n          let isExecutable = publicFn.DatePermissionControl(\r\n            authOrderActivities,\r\n            ownprops\r\n          );\r\n\r\n          return {\r\n            activityNumber: activityNumber,\r\n            confirmedDate: confirmedDate\r\n              ? new Date(confirmedDate).toLocaleDateString()\r\n              : \"-\",\r\n            descriptionShort: descriptionShort,\r\n            leadingDate: leadingDate\r\n              ? new Date(leadingDate).toLocaleDateString()\r\n              : leadingStartDate && leadingEndDate\r\n              ? new Date(leadingEndDate).toLocaleDateString()\r\n              : \"-\",\r\n            info: info || \"-\",\r\n            orderNumber: orderNumber,\r\n            productFamily,\r\n            isExecutable,\r\n          };\r\n        }),\r\n      orderNumber: orderNumber,\r\n    };\r\n  },\r\n  mapDispatchToState\r\n)(OrderActivityListPage);\r\n","import {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  Typography,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  //   CancelOutlined,\r\n  //   CheckCircleOutlineOutlined,\r\n  //   DescriptionOutlined,\r\n  EventAvailableOutlined,\r\n  EventNoteOutlined,\r\n  //   LockOpenOutlined,\r\n  //   LockOutlined,\r\n  ScheduleOutlined,\r\n} from \"@material-ui/icons\";\r\nimport { LocalizeContext } from \"i18n\";\r\n// import { toDoOrDone } from \"../../js/util\";\r\nimport { isInstallationStep } from \"js/installationStep\";\r\nimport React from \"react\";\r\n// import { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst OrderActivityListMiniCard = withStyles(({ spacing }) => {\r\n  return {\r\n    button: {\r\n      borderRadius: spacing(2.5),\r\n      lineHeight: \"unset\",\r\n      fontSize: \"0.5rem\",\r\n      padding: \"2px 14px\",\r\n    },\r\n    card: {\r\n      marginTop: spacing(2),\r\n      // borderTopStyle: \"solid\",\r\n      // borderTopColor: \"#ff0000\",\r\n    },\r\n    cardActions: {\r\n      marginLeft: \"0px\",\r\n    },\r\n    label: {\r\n      whiteSpace: \"nowrap\",\r\n    },\r\n    content: {\r\n      padding: spacing(1, 2, 2, 2),\r\n    },\r\n  };\r\n})(({ classes, data, document, handleClickOpen, tabType }) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const history = useHistory();\r\n  const root = \"minCard\";\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardContent className={classes.content}>\r\n        <Box style={{ textAlign: \"right\" }}>\r\n          <Button\r\n            disabled={!data.isExecutable.canReadDoc}\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              history.push(\r\n                `/documents/${data.activityNumber}/${data.orderNumber}/${data.productFamily}/${root}`\r\n              );\r\n            }}\r\n          >\r\n             >\r\n          </Button>\r\n        </Box>\r\n        <Box>\r\n          <Box style={{ display: \"inline-flex\" }}>\r\n            <ScheduleOutlined color=\"action\" style={{ fontSize: \"1.4rem\" }} />\r\n            <Typography variant=\"body1\" fontWeight={500}>\r\n              {!isInstallationStep(data.activityNumber)\r\n                ? i18n.JOBLIST_ACTIVITY\r\n                : i18n.ISNTAPP_JOBLIST_INST_STEPS}\r\n              : {data.activityNumber + \" \" + data.description}\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n        <Box mt={1.5}>\r\n          <Grid container>\r\n            <Grid item xs={6} style={{ display: \"inline-flex\" }}>\r\n              <EventNoteOutlined\r\n                style={{ fontSize: \"1.05rem\" }}\r\n                color=\"action\"\r\n              />\r\n              <Typography variant=\"caption\">\r\n                {i18n.PROJECTLIST_PLANNED_FINISH}: {data.leadingDate}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                display: \"inline-flex\",\r\n                justifyContent: \"flex-start\",\r\n              }}\r\n            >\r\n              <EventAvailableOutlined\r\n                style={{ fontSize: \"1.05rem\" }}\r\n                color=\"action\"\r\n              />\r\n              <Typography variant=\"caption\">\r\n                {i18n.PROJECTLIST_CONFIRMED_FINISH}: {data.confirmedDate}\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n});\r\n\r\nexport default OrderActivityListMiniCard;\r\n","import {\r\n  Divider,\r\n  FormControl,\r\n  Grid,\r\n  MenuItem,\r\n  Select,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport * as action from \"actions\";\r\nimport React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst OrderInfo = withStyles(({ spacing }) => {\r\n  return {\r\n    box: {\r\n      padding: spacing(1.25),\r\n    },\r\n    progress: {\r\n      backgroundColor: \"red\",\r\n      padding: spacing(0, 0.5),\r\n    },\r\n    label: {\r\n      paddingLeft: spacing(1.25),\r\n      color: \"#747474\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"space-between\",\r\n    },\r\n    icon: {\r\n      paddingLeft: spacing(1.25),\r\n      paddingTop: spacing(0.65),\r\n    },\r\n    btn: {\r\n      paddingLeft: spacing(1),\r\n    },\r\n    navIcon: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n    },\r\n    select: {\r\n      display: \"flex\",\r\n    },\r\n    content: {\r\n      display: \"flex\",\r\n    },\r\n  };\r\n})(({ classes, fields, data, updateOrderInstallationsMethod, auth }) => {\r\n  const [currency, setCurrency] = React.useState();\r\n\r\n  useEffect(() => {\r\n    setCurrency(data?.defaultselectValue?.toString());\r\n  }, [data]);\r\n\r\n  const handleSubmit = (event) => {\r\n    setCurrency(event.target.value);\r\n    updateOrderInstallationsMethod({\r\n      orderNumbers: [data.orderNumber],\r\n      installationMethod: event.target.value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {fields.map((item, index) => {\r\n        return (\r\n          <div key={index}>\r\n            <Grid container alignItems=\"center\" className={classes.box}>\r\n              <Grid item className={classes.icon}>\r\n                {<item.icon />}\r\n              </Grid>\r\n              <Grid item xs className={classes.label}>\r\n                <Typography variant=\"body2\" style={{ width: \"40%\" }}>\r\n                  {item.label}\r\n                </Typography>\r\n                {item.name === \"installMethod\" ? (\r\n                  <FormControl disabled={auth.roles[0] !== \"PE\"}>\r\n                    <Select value={currency || \"\"} onChange={handleSubmit}>\r\n                      {data.installMethods?.map((item, index) => {\r\n                        return (\r\n                          <MenuItem value={item.value} key={index}>\r\n                            <Typography\r\n                              variant=\"body2\"\r\n                              align=\"center\"\r\n                              color=\"textSecondary\"\r\n                            >\r\n                              {item.label}\r\n                            </Typography>\r\n                          </MenuItem>\r\n                        );\r\n                      })}\r\n                    </Select>\r\n                  </FormControl>\r\n                ) : (\r\n                  <Typography variant=\"body2\" component=\"span\" align=\"right\">\r\n                    {item.component !== undefined ? (\r\n                      <item.component />\r\n                    ) : (\r\n                      <span>{data[item.name]}</span>\r\n                    )}\r\n                  </Typography>\r\n                )}\r\n              </Grid>\r\n            </Grid>\r\n            <Divider />\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n});\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return {\r\n    auth,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    updateOrderInstallationsMethod: (data) => {\r\n      dispatch(action.updateOrderInstallationsMethod(data));\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderInfo);\r\n","import { connect } from \"react-redux\";\r\nimport * as publicFN from \"js/publicFn\";\r\n\r\nconst ProjectSiteAddress = ({ siteAddress }) => {\r\n  return siteAddress;\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    siteAddress: publicFN.getProjectSiteAddress(state, ownProps),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ProjectSiteAddress);\r\n","import { Box, Button } from \"@material-ui/core\";\r\nimport * as action from \"actions\";\r\nimport FFTab from \"components/FFTab\";\r\nimport OrderActivityList from \"components/OrderActivityList\";\r\nimport OrderActivityListCard from \"components/OrderActivityListCard\";\r\nimport OrderActivityListMiniCard from \"components/OrderActivityListMiniCard\";\r\nimport OrderInfo from \"components/OrderInfo\";\r\nimport ProjectSiteAddress from \"components/ProjectSiteAddress\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport gpsIcon from \"img/gps.png\";\r\nimport installationIcon from \"img/installation.png\";\r\nimport nameIcon from \"img/name.png\";\r\nimport numberIcon from \"img/number.png\";\r\nimport orderIcon from \"img/order.png\";\r\nimport productlineIcon from \"img/productline.png\";\r\nimport progressIcon from \"img/progress.png\";\r\nimport subcontlIcon from \"img/subcontl.png\";\r\nimport teamLeader from \"img/teamLeader.png\";\r\nimport unitIcon from \"img/unit.png\";\r\nimport * as util from \"js/util\";\r\nimport { scrollToPosition } from \"js/util\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport moment from \"moment\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport * as publicFn from \"../../js/publicFn/index\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport listIcon from \"img/checkList.svg\";\r\nimport { getChecklistActivityNo } from \"js/util\";\r\n\r\n\r\nconst OrderDetailPage = ({\r\n  orderNumber,\r\n  data,\r\n  projectNumber,\r\n  showInstallations,\r\n  submit,\r\n  orderActivities,\r\n  orders,\r\n  whetherToShutDown,\r\n  defaultTab,\r\n  documentList,\r\n}) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const history = useHistory();\r\n\r\n  const fields = [\r\n    {\r\n      icon: () => <img src={numberIcon} width=\"20\" alt=\"\" />,\r\n      label: i18n.PROJECTLIST_PROJECT_NO,\r\n      name: \"projectNumber\",\r\n      title: i18n.PROJECTLIST_PROJECT,\r\n    },\r\n    {\r\n      icon: () => <img src={nameIcon} width=\"20\" alt=\"\" />,\r\n      label: i18n.PROJECTLIST_PROJECT_DESCRIPTION,\r\n      name: \"projectName\",\r\n    },\r\n    {\r\n      icon: () => <img src={gpsIcon} width=\"20\" alt=\"\" />,\r\n      label: i18n.PROJECTLIST_SITE_ADDRESS,\r\n      name: \"projectSite\",\r\n      component: () => (\r\n        <ProjectSiteAddress projectNumber={data.projectNumber} />\r\n      ),\r\n    },\r\n    {\r\n      icon: () => <img src={teamLeader} width=\"20\" alt=\"\" />,\r\n      label: i18n.INSTAPP_PROJECTLIST_PROJECT_LEADER,\r\n      name: \"PM\",\r\n    },\r\n    {\r\n      icon: () => <img src={subcontlIcon} width=\"20\" alt=\"\" />,\r\n      label: i18n.JOBLIST_SUBCON_TL,\r\n      name: \"teamLeader\",\r\n    },\r\n    {\r\n      icon: () => <img src={progressIcon} width=\"20\" alt=\"\" />,\r\n      label: i18n.ISNTAPP_DESIGNATION,\r\n      name: \"unitDesignation\",\r\n    },\r\n    {\r\n      icon: () => <img src={unitIcon} width=\"20\" alt=\"\" />,\r\n      label: i18n.INSTAPP_PROJECTLIST_UnitCount,\r\n      name: \"orderQuantity\",\r\n    },\r\n    {\r\n      icon: () => <img src={orderIcon} width=\"20\" alt=\"\" />,\r\n      label: i18n.JOBLIST_ORDER_NUMBER,\r\n      name: \"orderNumber\",\r\n      title: i18n.JOBLIST_ORDER,\r\n    },\r\n    {\r\n      icon: () => <img src={productlineIcon} width=\"20\" alt=\"\" />,\r\n      label: i18n.ORDERDETAILS_PRODUCT_FAMILY,\r\n      name: \"productFamilyName\",\r\n    },\r\n    {\r\n      icon: () => <img src={installationIcon} width=\"20\" alt=\"\" />,\r\n      label: i18n.INSTAPP_JOBLIST_INSTMETHOD,\r\n      name: \"installMethod\",\r\n    },\r\n    {\r\n      icon: () => <img src={progressIcon} width=\"20\" alt=\"\" />,\r\n      label: i18n.INSTAPP_JOBLIST_UNIT_PROGRESS,\r\n      name: \"elevatorProgress\",\r\n    },\r\n    {\r\n      icon: () => <img src={listIcon} alt=\"\" />,\r\n      label: i18n.VIEW_INSTALLATION_CHECKLIST,\r\n      name: \"installationChecklist\",\r\n      component: () => (\r\n        <Button\r\n          color=\"primary\"\r\n          style={{ padding: 0, minWidth: \" fit-content\" }}\r\n          onClick={() => {\r\n            history.push(\r\n              `/documents/${getChecklistActivityNo(data)}/${data.orderNumber}/${data.productFamily\r\n              }/${`installationChecklist`}`\r\n            );\r\n          }}\r\n        >\r\n          >>\r\n        </Button>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const [tab, setTab] = React.useState(defaultTab ? defaultTab : \"basic\");\r\n\r\n  const tabs = [\r\n    { title: i18n.ISNTAPP_BASIC, value: \"basic\" },\r\n    { title: i18n.ISNTAPP_PENDING, value: \"pending\" },\r\n    { title: i18n.ISNTAPP_ALL, value: \"all\" },\r\n  ];\r\n\r\n  const title = {\r\n    backgroundColor: \"red\",\r\n    padding: \"4px 0\",\r\n    textAlign: \"center\",\r\n    fontSize: \"16px\",\r\n    color: \"white\",\r\n  };\r\n\r\n  const scrollRef = useRef(null);\r\n\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      scrollToPosition(scrollRef, location.pathname);\r\n    }, 1000);\r\n  }, [location.pathname]);\r\n\r\n  !getChecklistActivityNo(data) && fields.splice(fields.length - 1, 1);\r\n\r\n  return (\r\n    <PrimaryLayout\r\n      title={i18n.INSTAPP_JOBLIST_UNIT_DETAIL + \": \" + data[\"orderNumber\"]}\r\n    >\r\n      <Box\r\n        style={{\r\n          position: \"fixed\",\r\n          top: \"52px\",\r\n          width: \"100%\",\r\n          zIndex: \"10000\",\r\n        }}\r\n      >\r\n        {whetherToShutDown && (\r\n          <div style={title}>\r\n            <span>{whetherToShutDown}</span>\r\n          </div>\r\n        )}\r\n        <FFTab\r\n          tabs={tabs}\r\n          selectedTabValue={tab}\r\n          onTabChange={(value) => {\r\n            setTab(value);\r\n          }}\r\n        />\r\n      </Box>\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          padding: \"16px\",\r\n          position: \"absolute\",\r\n          top: whetherToShutDown ? \"60px\" : \"32px\",\r\n          height: window.screen.height - 187 + \"px\",\r\n          overflow: \"hidden auto\",\r\n        }}\r\n        ref={scrollRef}\r\n      >\r\n        {tab === \"basic\" && <OrderInfo fields={fields} data={data} />}\r\n        {tab === \"pending\" && (\r\n          <OrderActivityList\r\n            data={data.filteredOrderActivities}\r\n            oneThousandPlannedDate={moment(\r\n              orderActivities[`${orderNumber}-1000`].leadingDate,\r\n              \"YYYY/MM/DD\"\r\n            ).format(\"YYYY-MM-DD\")}\r\n            nineThousandPlannedDate={moment(\r\n              orderActivities[`${orderNumber}-9000`].leadingDate,\r\n              \"YYYY/MM/DD\"\r\n            ).format(\"YYYY-MM-DD\")}\r\n            component={OrderActivityListCard}\r\n            tabType=\"activity\"\r\n            submit={(activityNumber, date, type) => {\r\n              submit(\r\n                activityNumber,\r\n                orderNumber,\r\n                projectNumber,\r\n                date,\r\n                type,\r\n                orderActivities,\r\n                orders\r\n              );\r\n            }}\r\n          ></OrderActivityList>\r\n        )}\r\n        {tab === \"all\" && (\r\n          <OrderActivityList\r\n            data={data.allOrderActivities}\r\n            component={OrderActivityListMiniCard}\r\n          ></OrderActivityList>\r\n        )}\r\n      </div>\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const {\r\n    orders,\r\n    projects,\r\n    orderInstallationMethods,\r\n    productFamilies,\r\n    partners,\r\n    orderActivities,\r\n    activities,\r\n    // installations,\r\n    auth,\r\n    documentList,\r\n    templates,\r\n    wayToInstallList,\r\n    settings: { defaultTab },\r\n  } = state;\r\n  const { match } = ownProps;\r\n  const { params } = match;\r\n  const { number: orderNumber } = params;\r\n  const projectNumber = orders[orderNumber]?.projectNumber;\r\n  const { description: projectName } = projects[projectNumber]\r\n    ? projects[projectNumber]\r\n    : \"\";\r\n  const { productFamily } = orders[orderNumber] || {};\r\n  const { name: productFamilyName } = productFamilies[productFamily]\r\n    ? productFamilies[productFamily]\r\n    : \"\";\r\n  const teamLeader = partners[`${orderNumber}-VW`]?.name1;\r\n  const PM = partners[`${orderNumber}-YI`]?.name1;\r\n  const getHint = (isExecutable) => {\r\n    const finishedDateEditable = isExecutable.finishedDateEditablePermission;\r\n    const finishedDateCancelable =\r\n      isExecutable.finishedDateCancelablePermission;\r\n\r\n    if (!finishedDateEditable && !finishedDateCancelable) {\r\n      return \"()\";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  };\r\n\r\n  const filteredOrderActivitiesData = [];\r\n\r\n  publicFn\r\n    .orderDetailSteps(\r\n      orderActivities,\r\n      orderNumber,\r\n      auth.activityAuth,\r\n      auth.roles[0]\r\n    )\r\n    .forEach((activityNo) => {\r\n      if (orderActivities[orderNumber + \"-\" + activityNo]) {\r\n        let {\r\n          confirmedDate,\r\n          leadingDate,\r\n          leadingEndDate,\r\n          leadingStartDate,\r\n          info,\r\n          originalStep,\r\n          activityNumber,\r\n          editable,\r\n          confPreStart,\r\n          confPast,\r\n          sort,\r\n        } = orderActivities[orderNumber + \"-\" + activityNo];\r\n\r\n        const { descriptionShort, descriptionShort14 } =\r\n          activities[activityNo] || {};\r\n\r\n        const description = orderActivities[orderNumber + \"-7030\"]\r\n          ? descriptionShort14\r\n            ? descriptionShort14\r\n            : descriptionShort\r\n          : descriptionShort;\r\n\r\n        let authOrderActivities = {\r\n          auth,\r\n          orderActivities,\r\n          documentList,\r\n          templates,\r\n        };\r\n\r\n        let ownprops = {\r\n          activityNumber,\r\n          orderNumber,\r\n          projectNumber,\r\n        };\r\n\r\n        const isExecutable = publicFn.DatePermissionControl(\r\n          authOrderActivities,\r\n          ownprops\r\n        );\r\n\r\n        if (\r\n          orderActivities[orderNumber + \"-\" + activityNo].editable !==\r\n          undefined &&\r\n          orderActivities[orderNumber + \"-\" + activityNo].editable === false\r\n        ) {\r\n          confirmedDate ? (info = \"\") : (info = \"\");\r\n        }\r\n\r\n        filteredOrderActivitiesData.push({\r\n          activityNumber: activityNo,\r\n          confirmedDate: confirmedDate\r\n            ? new Date(confirmedDate).toLocaleDateString()\r\n            : \"-\",\r\n          description: description,\r\n          leadingDate: leadingDate\r\n            ? new Date(leadingDate).toLocaleDateString()\r\n            : leadingStartDate && leadingEndDate\r\n              ? new Date(leadingEndDate).toLocaleDateString()\r\n              : \"-\",\r\n          info: info || \"-\",\r\n          orderNumber: orderNumber,\r\n          productFamily,\r\n          originalStep,\r\n          editable,\r\n          isExecutable,\r\n          hint: getHint(isExecutable),\r\n          confPreStart,\r\n          confPast,\r\n          sort,\r\n        });\r\n      }\r\n    });\r\n\r\n  const allOrderActivitiesData = [];\r\n\r\n  publicFn\r\n    .allOrderDetailSteps(\r\n      orderActivities,\r\n      orderNumber,\r\n      auth.activityAuth,\r\n      auth.roles[0]\r\n    )\r\n    .forEach((activityNo) => {\r\n      if (orderActivities[orderNumber + \"-\" + activityNo]) {\r\n        let {\r\n          confirmedDate,\r\n          leadingDate,\r\n          leadingEndDate,\r\n          leadingStartDate,\r\n          activityNumber,\r\n          info,\r\n          sort,\r\n        } = orderActivities[orderNumber + \"-\" + activityNo] || {};\r\n\r\n        const { descriptionShort, descriptionShort14 } =\r\n          activities[activityNo] || {};\r\n\r\n        const description = orderActivities[orderNumber + \"-7030\"]\r\n          ? descriptionShort14\r\n            ? descriptionShort14\r\n            : descriptionShort\r\n          : descriptionShort;\r\n\r\n        let authOrderActivities = {\r\n          auth,\r\n          orderActivities,\r\n          documentList,\r\n          templates,\r\n        };\r\n\r\n        let ownprops = {\r\n          activityNumber,\r\n          orderNumber,\r\n          projectNumber,\r\n        };\r\n\r\n        const isExecutable = publicFn.DatePermissionControl(\r\n          authOrderActivities,\r\n          ownprops\r\n        );\r\n\r\n        if (\r\n          orderActivities[orderNumber + \"-\" + activityNo].editable !==\r\n          undefined &&\r\n          orderActivities[orderNumber + \"-\" + activityNo].editable === false\r\n        ) {\r\n          confirmedDate ? (info = \"\") : (info = \"\");\r\n        }\r\n\r\n        allOrderActivitiesData.push({\r\n          activityNumber: activityNo,\r\n          confirmedDate: confirmedDate\r\n            ? new Date(confirmedDate).toLocaleDateString()\r\n            : \"-\",\r\n          description: description,\r\n          leadingDate: leadingDate\r\n            ? new Date(leadingDate).toLocaleDateString()\r\n            : leadingStartDate && leadingEndDate\r\n              ? new Date(leadingEndDate).toLocaleDateString()\r\n              : \"-\",\r\n          info: info || \"-\",\r\n          orderNumber: orderNumber,\r\n          productFamily,\r\n          isExecutable,\r\n          sort,\r\n        });\r\n      }\r\n    });\r\n\r\n  const progress = util.orderProgress(orderActivities, orderNumber);\r\n  const whetherToShutDown = util.whetherToShutDown(\r\n    orderActivities,\r\n    orderNumber\r\n  );\r\n\r\n  const methods =\r\n    wayToInstallList[\r\n    orders?.[orderNumber]?.productLine +\r\n    \"-\" +\r\n    orders?.[orderNumber]?.productFamily\r\n    ];\r\n\r\n  const methodsList =\r\n    methods &&\r\n    Object.keys(methods.installationMethods).map((item) => {\r\n      return { label: methods.installationMethods[item], value: item };\r\n    });\r\n\r\n  const defaultselectValue =\r\n    orderInstallationMethods?.[orderNumber]?.installationMethod;\r\n  const defaultSelectInstalltion = methodsList?.filter((item) => {\r\n    return item.value === defaultselectValue.toString();\r\n  })[0]?.label;\r\n\r\n  const unitDesignation = orders[orderNumber]?.unitDesignation;\r\n\r\n  return {\r\n    showInstallations: true,\r\n    orderNumber,\r\n    data: {\r\n      projectNumber,\r\n      fitterQuantity: 5,\r\n      orderQuantity: Object.keys(orders).filter((key) => {\r\n        return orders[key].projectNumber === projectNumber;\r\n      }).length,\r\n      projectName,\r\n      teamLeader,\r\n      PM,\r\n      orderNumber,\r\n      productFamily,\r\n      productFamilyName,\r\n      installMethod: defaultSelectInstalltion,\r\n      installMethods: methodsList,\r\n      defaultselectValue,\r\n      elevatorProgress: progress + \"%\",\r\n      filteredOrderActivities: filteredOrderActivitiesData,\r\n      allOrderActivities: allOrderActivitiesData,\r\n      unitDesignation,\r\n    },\r\n    projectNumber,\r\n    orderActivities,\r\n    confPreStart: orderActivities,\r\n    confPast: orderActivities,\r\n    orders,\r\n    whetherToShutDown,\r\n    defaultTab,\r\n    documentList,\r\n  };\r\n};\r\n\r\nconst mapDispatchToState = (dispatch) => {\r\n  return {\r\n    submit: (\r\n      activityNumber,\r\n      orderNumber,\r\n      projectNumber,\r\n      date,\r\n      type,\r\n      orderActivities,\r\n      orders\r\n    ) => {\r\n      if (\r\n        util.isInstallationStepEditable(\r\n          orderNumber,\r\n          activityNumber,\r\n          orderActivities\r\n        )\r\n      ) {\r\n        const data = util.setActivityStatusParams(\r\n          projectNumber,\r\n          orderNumber,\r\n          activityNumber,\r\n          date,\r\n          type,\r\n          orderActivities,\r\n          orders\r\n        );\r\n        dispatch(action.updateOrderActivityStatus(data));\r\n      } else {\r\n        const data = {\r\n          projectNo: projectNumber,\r\n          orderNo: orderNumber,\r\n          stepNo: activityNumber,\r\n          confirmedDate: date,\r\n        };\r\n        dispatch(action.updateLocalInstallationStepConfirmDate(data));\r\n      };\r\n\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToState)(OrderDetailPage);\r\n","import * as action from \"actions\";\r\nimport OrderActivityList from \"components/OrderActivityList\";\r\nimport OrderActivityListCard from \"components/OrderActivityListCard\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as publicFn from \"../../js/publicFn/index\";\r\n\r\nconst OrderInstallationListPage = ({ data, orderNumber, submit }) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  return (\r\n    <PrimaryLayout title={i18n.ISNTAPP_JOBLIST_INST_STEPS + \": \" + orderNumber}>\r\n      <OrderActivityList\r\n        data={data}\r\n        component={OrderActivityListCard}\r\n        tabType=\"\"\r\n        submit={(activityNumber, date, type) => {\r\n          submit(activityNumber, orderNumber, date, type);\r\n        }}\r\n      ></OrderActivityList>\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nconst mapDispatchToState = (dispatch) => {\r\n  return {\r\n    submit: (activityNumber, orderNumber, date, type) => {\r\n      let data = {\r\n        activityNo: activityNumber,\r\n        date: date ? date : \"\",\r\n        orderNo: orderNumber,\r\n        type: type,\r\n      };\r\n      dispatch(action.updateOrderActivityStatus(data));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  (\r\n    { auth, installations, orderActivities, orders },\r\n    {\r\n      match: {\r\n        params: { number: orderNumber },\r\n      },\r\n    }\r\n  ) => {\r\n    const { productFamily } = orders[orderNumber] || {};\r\n\r\n    return {\r\n      data: Object.keys(installations)\r\n        .filter((key) => {\r\n          return installations[key].orderNumber === orderNumber;\r\n        })\r\n        .map((key) => {\r\n          const stepNumber = installations[key].stepNumber;\r\n          const description = installations[key].description;\r\n          const {\r\n            confirmedDate,\r\n            leadingDate,\r\n            leadingEndDate,\r\n            leadingStartDate,\r\n            info,\r\n            originalStep,\r\n            activityNumber,\r\n            editable,\r\n          } = orderActivities[key] || {};\r\n\r\n          let authOrderActivities = {\r\n            auth,\r\n            orderActivities,\r\n          };\r\n\r\n          let ownprops = {\r\n            activityNumber,\r\n            orderNumber,\r\n          };\r\n\r\n          const isExecutable = publicFn.DatePermissionControl(\r\n            authOrderActivities,\r\n            ownprops\r\n          );\r\n          return {\r\n            activityNumber: activityNumber,\r\n            confirmedDate: confirmedDate\r\n              ? new Date(confirmedDate).toLocaleDateString()\r\n              : \"-\",\r\n            descriptionShort: description,\r\n            leadingDate: leadingDate\r\n              ? new Date(leadingDate).toLocaleDateString()\r\n              : leadingStartDate && leadingEndDate\r\n              ? new Date(leadingEndDate).toLocaleDateString()\r\n              : \"-\",\r\n            info: info || \"-\",\r\n            orderNumber: orderNumber,\r\n            stepNumber: stepNumber,\r\n            productFamily,\r\n            originalStep,\r\n            editable,\r\n            isExecutable,\r\n          };\r\n        }),\r\n      orderNumber: orderNumber,\r\n    };\r\n  },\r\n  mapDispatchToState\r\n)(OrderInstallationListPage);\r\n","import { Box, FormControl, FormLabel } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\r\nimport React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Steps from \"../../assets/img/nodeStatus.png\";\r\nimport OverView from \"../../assets/img/over_view.png\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    fontSize: \"0.75rem\",\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  box: {\r\n    borderBottomColor: theme.palette.grey[\"400\"],\r\n    borderBottomStyle: \"solid\",\r\n    borderBottomWidth: 1,\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  icon: {\r\n    fontSize: \"0.875rem\",\r\n  },\r\n  steps: {\r\n    width: \"22px\",\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  overView: {\r\n    height: \"20px\",\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  title: {\r\n    margin: theme.spacing(0, 0, 1, -1.5),\r\n    color: \" #3acad1\",\r\n    fontWeight: 600,\r\n  },\r\n}));\r\n\r\nconst UnitDetail = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const history = useHistory();\r\n\r\n  const { data, fields } = props;\r\n  return (\r\n    <FormControl fullWidth className={classes.form}>\r\n      {fields.map((item, key) => {\r\n        const Component = item.component;\r\n\r\n        return (\r\n          <Box className={classes.box} key={key}>\r\n            {item.to !== undefined ? (\r\n              <Box\r\n                style={{ display: \"flex\", alignItems: \"center\" }}\r\n                mb={1.75}\r\n                mt={0.75}\r\n                onClick={() => history.push(item.to)}\r\n              >\r\n                <img\r\n                  src={item.description === \"ACTIVITY\" ? Steps : OverView}\r\n                  className={\r\n                    item.description === \"ACTIVITY\"\r\n                      ? classes.overView\r\n                      : classes.steps\r\n                  }\r\n                  alt=\"\"\r\n                />\r\n                <Box fontSize=\"body2.fontSize\" style={{ flex: \"auto\" }}>\r\n                  {item.label}\r\n                </Box>\r\n                <ArrowForwardIosIcon classes={{ root: classes.icon }} />\r\n              </Box>\r\n            ) : (\r\n              <Box style={{ display: \"flex\" }}>\r\n                <Box style={{ flex: \"auto\" }}>\r\n                  <FormLabel\r\n                    component=\"legend\"\r\n                    classes={{ root: classes.root }}\r\n                  >\r\n                    {item.title && (\r\n                      <Box className={classes.title}>{item.title}</Box>\r\n                    )}\r\n                    {item.label}\r\n                  </FormLabel>\r\n                  <Box fontSize=\"body2.fontSize\" mb={0.5} mt={0.5}>\r\n                    <Box\r\n                      onClick={\r\n                        item.muito ? () => history.push(item.muito) : () => {}\r\n                      }\r\n                      style={{ minHeight: \"20px\" }}\r\n                    >\r\n                      {item.component !== undefined ? (\r\n                        <Component></Component>\r\n                      ) : (\r\n                        data[item.name]\r\n                      )}\r\n                    </Box>\r\n                  </Box>\r\n                </Box>\r\n                {item.muito !== undefined && (\r\n                  <Box mb={0.5} style={{ alignSelf: \"center\" }}>\r\n                    <ArrowForwardIosIcon\r\n                      classes={{ root: classes.icon }}\r\n                      onClick={() => history.push(item.muito)}\r\n                    />\r\n                  </Box>\r\n                )}\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        );\r\n      })}\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport default UnitDetail;\r\n","// import ProjectCard from \"components/ProjectCard\";\r\n// import ProjectOrderList from \"components/ProjectOrderList\";\r\n// import ProjectSearchBar from \"components/ProjectSearchBar\";\r\nimport ProjectSiteAddress from \"components/ProjectSiteAddress\";\r\nimport UnitDetail from \"components/UnitDetail\";\r\nimport { LocalizeContext } from \"i18n\";\r\n// import InstallMethodSelectDialog from \"components/InstallMethodSelectDialog\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst ProjectDetailPage = ({ data, projectNumber }) => {\r\n  // const [searchCriteria, setSearchCriteria] = useState(null);\r\n  // const [installationMethod, setInstallationMethod] = useState(null);\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  const fields = [\r\n    {\r\n      label: i18n.PROJECTLIST_PROJECT_NO,\r\n      name: \"projectNumber\",\r\n    },\r\n    {\r\n      label: i18n.PROJECTLIST_PROJECT_DESCRIPTION,\r\n      name: \"projectName\",\r\n    },\r\n    {\r\n      label: i18n.PROJECTLIST_SITE_ADDRESS,\r\n      name: \"projectSite\",\r\n      component: () => <ProjectSiteAddress projectNumber={projectNumber} />,\r\n    },\r\n    {\r\n      label: i18n.JOBLIST_SUBCON_TL,\r\n      name: \"teamLeader\",\r\n    },\r\n    {\r\n      label: i18n.INSTAPP_PROJECTLIST_UnitCount,\r\n      name: \"orderQuantity\",\r\n    },\r\n    {\r\n      label: i18n.INSTAPP_PROJECTLIST_FitterCount,\r\n      name: \"fitterQuantity\",\r\n      muito: `/fitters/${projectNumber}`,\r\n    },\r\n    // {\r\n    //   label: i18n.ISNTAPP_PROJECTLIST_PROJECT_PROGRESS,\r\n    //   to: `/projectprogress/${projectNumber}`,\r\n    // },\r\n    // {\r\n    //   label: i18n.ISNTAPP_PROJECTLIST_PROJECT_INSTALLATIONSTEPS,\r\n    //   to: `/projectInstallationSteps/${projectNumber}`,\r\n    // },\r\n    {\r\n      label: i18n.ISNTAPP_PROJECTLIST_PROJECT_PROGRESS,\r\n      to: `/projectProgressPage/${projectNumber}`,\r\n      description: \"ACTIVITY\",\r\n    },\r\n    {\r\n      label: i18n.ISNTAPP_PROJECTLIST_PROJECT_INSTALLATIONSTEPS,\r\n      to: `/projectInstallationSteps/${projectNumber}`,\r\n      description: \"STEPS\",\r\n    },\r\n  ];\r\n\r\n  // const handleClick = (method) => {\r\n  //   setInstallationMethod(method);\r\n  // };\r\n\r\n  return (\r\n    <PrimaryLayout title={i18n.PROJECTLIST_DETAILS}>\r\n      <UnitDetail fields={fields} data={data} />\r\n      {/* <ProjectSearchBar\r\n        submit={(value) => {\r\n          setSearchCriteria(value);\r\n        }}\r\n      />\r\n      <ProjectCard projectNumber={projectNumber} link=\"/subconTeam/\" />\r\n      <InstallMethodSelectDialog handleClick={handleClick} />\r\n      <ProjectOrderList\r\n        installationMethod={installationMethod}\r\n        searchCriteria={searchCriteria}\r\n      /> */}\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (\r\n  { fittersAssignmentTransfer, orders, projects, partners },\r\n  ownProps\r\n) => {\r\n  const { projectNumber } = ownProps.match.params;\r\n  const { description: projectName } = projects[projectNumber] || {}; //teamLeader\r\n\r\n  const OrderNos = Object.keys(orders).filter(\r\n    (item) => orders[item].projectNumber === projectNumber\r\n  );\r\n  const teamLeader = OrderNos.map((item) => {\r\n    return partners[`${item}-VW`]?.name1;\r\n  });\r\n\r\n  return {\r\n    projectNumber: projectNumber,\r\n    data: {\r\n      projectNumber,\r\n      fitterQuantity: fittersAssignmentTransfer[projectNumber]?.length,\r\n      orderQuantity: Object.keys(orders).filter((key) => {\r\n        return orders[key].projectNumber === projectNumber;\r\n      }).length,\r\n      projectName,\r\n      teamLeader: [...new Set(teamLeader)].join(\"/\"),\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ProjectDetailPage);\r\n","import { Box, Typography } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { DescriptionOutlined } from \"@material-ui/icons\";\r\nimport * as action from \"actions\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst ProjectItemList = withStyles(({ spacing }) => {\r\n  return {\r\n    box: {\r\n      display: \"flex\",\r\n      justifyContent: \"space-between\",\r\n      backgroundColor: \"#ffffff\",\r\n      padding: \"10px 20px\",\r\n      marginBottom: 10,\r\n    },\r\n    root: {\r\n      backgroundColor: \"#ffffff\",\r\n      padding: \"10px 20px\",\r\n      marginBottom: 10,\r\n    },\r\n    title: {\r\n      color: \"black\",\r\n      fontSize: 16,\r\n      fontWeight: \"bold\",\r\n      fontFamily: \"'Arial Negreta', 'Arial Normal', 'Arial'\",\r\n    },\r\n    content: {\r\n      color: \"#878787\",\r\n      fontSize: 14,\r\n      fontFamily: \"'Arial Negreta', 'Arial Normal', 'Arial'\",\r\n      marginTop: spacing(0.4),\r\n    },\r\n    contant: {\r\n      fontSize: 14,\r\n      fontFamily: \"'Arial Negreta', 'Arial Normal', 'Arial'\",\r\n      width: \"140px\",\r\n      borderRadius: \"10px\",\r\n      margin: \"1px 0 1px 2px\",\r\n      paddingLeft: \"7px\",\r\n    },\r\n    dueDate: {\r\n      backgroundColor: \"red!important\",\r\n      color: \"white\",\r\n    },\r\n    plannedDate: {\r\n      backgroundColor: \"#8bc34a!important\",\r\n      color: \"white\",\r\n    },\r\n    unConfirmDate: {\r\n      backgroundColor: \"rgb(224, 224, 224)\",\r\n      color: \"rgb(166, 166, 166)\",\r\n    },\r\n    date: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"flex-end\",\r\n    },\r\n    install: {\r\n      backgroundColor: \"#8bc34a !important\",\r\n      color: \"white\",\r\n      width: spacing(12),\r\n      height: spacing(4),\r\n      padding: spacing(0),\r\n    },\r\n    stopWork: {\r\n      backgroundColor: \"red !important\",\r\n      color: \"white\",\r\n      width: spacing(12),\r\n      height: spacing(4),\r\n      padding: spacing(0),\r\n    },\r\n    goodsAfloat: {\r\n      backgroundColor: \"#9c9c9c !important\",\r\n      color: \"white\",\r\n      width: spacing(12),\r\n      height: spacing(4),\r\n      padding: spacing(0),\r\n    },\r\n  };\r\n})(({ classes, data, toOrder }) => {\r\n  const history = useHistory();\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  return data.map((item, index) => {\r\n    if (item) {\r\n      return (\r\n        <Box\r\n          className={classes.box}\r\n          key={index}\r\n          onClick={() => toOrder(history, item.orderNumber)}\r\n        >\r\n          <Box>\r\n            <Typography className={classes.title}>\r\n              {item.orderNumber}\r\n            </Typography>\r\n            <Typography className={classes.content}>\r\n              {item.productFamily}\r\n            </Typography>\r\n            <Typography className={classes.content}>\r\n              {i18n.ISNTAPP_DESIGNATION}:{item.unitDesignation}\r\n            </Typography>\r\n            <Typography className={classes.content}>\r\n              {i18n.ISNTAPP_INSTALLATION_METHODS}:{item.installationMethod}\r\n            </Typography>\r\n            <Typography className={classes.content}>\r\n              {i18n.INSTALLATION_STOPS}:{item.stops}\r\n            </Typography>\r\n            <Typography className={classes.content}>\r\n              {i18n.INSTALLATION_HOIST_HEIGHT}:{item.hoistHeight}\r\n            </Typography>\r\n          </Box>\r\n          <Box>\r\n            <Button\r\n              className={\r\n                item.elevatorProgress === \"\"\r\n                  ? classes.install\r\n                  : item.elevatorProgress === \"\"\r\n                  ? classes.stopWork\r\n                  : item.elevatorProgress === \"\" && classes.goodsAfloat\r\n              }\r\n            >\r\n              {item.elevatorProgress}\r\n            </Button>\r\n            <Typography\r\n              style={{\r\n                marginTop: \"24px\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                color: \"#878787\",\r\n                justifyContent: \"space-between\",\r\n              }}\r\n            >\r\n              <DescriptionOutlined style={{ color: \"#949894\" }} />\r\n              {item.documentCompleteStatus}\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  });\r\n});\r\n\r\nexport default connect(\r\n  (state, { data }) => {\r\n    return {\r\n      data,\r\n    };\r\n  },\r\n  (dispatch) => {\r\n    return {\r\n      toOrder: (history, orderNumber) => {\r\n        history.push(`/order/${orderNumber}`);\r\n        dispatch(action.setOrderDetailPageDefaultTab(\"basic\"));\r\n      },\r\n    };\r\n  }\r\n)(ProjectItemList);\r\n","import { IconButton, InputBase, Paper } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Search } from \"@material-ui/icons\";\r\nimport React from \"react\";\r\n\r\nconst ProjectSearchBar = withStyles(({ spacing, typography }) => {\r\n  return {\r\n    root: {\r\n      alignItems: \"center\",\r\n      display: \"flex\",\r\n      maxWidth: \"100%\",\r\n      margin: spacing(2, 0),\r\n    },\r\n    input: {\r\n      marginLeft: spacing(1),\r\n      flex: 1,\r\n      fontSize: typography.caption.fontSize,\r\n    },\r\n    iconButton: {\r\n      padding: spacing(0.5),\r\n    },\r\n  };\r\n})(({ classes, onChange, placeholder }) => {\r\n  return (\r\n    <Paper className={classes.root}>\r\n      <InputBase\r\n        className={classes.input}\r\n        placeholder={placeholder}\r\n        onChange={(e) => {\r\n          onChange(e.target.value);\r\n        }}\r\n      />\r\n      <IconButton className={classes.iconButton}>\r\n        <Search fontSize=\"small\" />\r\n      </IconButton>\r\n    </Paper>\r\n  );\r\n});\r\n\r\nexport default ProjectSearchBar;\r\n","import { FormControl, MenuItem, Select } from \"@material-ui/core\"; //Button, Grid,\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst SwitchActivityNumber = withStyles((theme) => {\r\n  return {\r\n    root: {\r\n      flexGrow: 1,\r\n      display: \"flex\",\r\n      justifyContent: \"flex-end\",\r\n    },\r\n    text: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n    },\r\n  };\r\n})(\r\n  ({\r\n    classes,\r\n    activityNumberList,\r\n    activityNumberAndUnitDesignationMapping,\r\n    isInstallationStep,\r\n    initValue,\r\n    stepNumberList,\r\n    onChange,\r\n  }) => {\r\n    const [selectedValue, setSelectedValue] = useState(initValue);\r\n\r\n    const ActivityNumberDropDown = () => {\r\n      return (\r\n        <FormControl\r\n          style={{\r\n            marginLeft: \"20px\",\r\n            width: \"170px\",\r\n          }}\r\n        >\r\n          <Select\r\n            onChange={(e) => {\r\n              setSelectedValue(e.target.value);\r\n              onChange(e.target.value);\r\n            }}\r\n            value={selectedValue}\r\n          >\r\n            {activityNumberList.map((item, index) => {\r\n              return (\r\n                <MenuItem key={index} value={item}>{`${item} ${\r\n                  isInstallationStep\r\n                    ? \"\"\r\n                    : activityNumberAndUnitDesignationMapping[\r\n                        activityNumberList[index]\r\n                      ]\r\n                }`}</MenuItem>\r\n              );\r\n            })}\r\n          </Select>\r\n        </FormControl>\r\n      );\r\n    };\r\n    return (\r\n      <div className={classes.root}>\r\n        <ActivityNumberDropDown />\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return {\r\n    auth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(SwitchActivityNumber);\r\n","import { Box } from \"@material-ui/core\";\r\nimport ProjectItemList from \"components/ProjectItemList\";\r\nimport ProjectSearchBar from \"components/ProjectSearchBar\";\r\nimport SwitchActivityNumber from \"components/SwitchActivityNumber\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst ProjectInstallationStepsPage = ({\r\n  data,\r\n  projectNumber,\r\n  activityNumberList,\r\n  activityNumberAndUnitDesignationMapping,\r\n}) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [selectedActivityNumber, setSelectedActivityNumber] = useState(\"\");\r\n\r\n  data = data.filter((item) => {\r\n    return item.activityNumber === selectedActivityNumber;\r\n  });\r\n\r\n  data = searchValue\r\n    ? data.filter((item) => {\r\n        return (\r\n          item.orderNumber?.indexOf(searchValue) > -1 ||\r\n          item.installationMethod?.indexOf(searchValue) > -1\r\n        );\r\n      })\r\n    : data;\r\n\r\n  const useInitSelectedActivityNumber = () => {\r\n    useEffect(() => {\r\n      setSelectedActivityNumber(\r\n        activityNumberList.length > 0 ? activityNumberList[0] : \"7010\"\r\n      );\r\n    }, []);\r\n  };\r\n\r\n  useInitSelectedActivityNumber();\r\n\r\n  return (\r\n    <PrimaryLayout title={`${i18n.ISNTAPP_PROJECT_PROGRESS}: ${projectNumber}`}>\r\n      <Box style={{ padding: \"14px\" }}>\r\n        <ProjectSearchBar\r\n          placeholder={i18n.ISNTAPP_SEARCH_ORDER}\r\n          onChange={(value) => {\r\n            setSearchValue(value);\r\n          }}\r\n        />\r\n        <Box style={{ margin: \"10px 0\" }}>\r\n          <SwitchActivityNumber\r\n            projectNumber={projectNumber}\r\n            isInstallationStep={true}\r\n            initValue={\r\n              activityNumberList.length > 0 ? activityNumberList[0] : \"7010\"\r\n            }\r\n            activityNumberList={activityNumberList}\r\n            activityNumberAndUnitDesignationMapping={\r\n              activityNumberAndUnitDesignationMapping\r\n            }\r\n            onChange={(value) => {\r\n              setSelectedActivityNumber(value);\r\n            }}\r\n          />\r\n        </Box>\r\n        <ProjectItemList data={data} />\r\n      </Box>\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (\r\n  {\r\n    orderActivities,\r\n    orders,\r\n    orderInstallationMethods,\r\n    productFamilies,\r\n    activities,\r\n    wayToInstallList,\r\n  },\r\n  { match }\r\n) => {\r\n  const { projectNumber } = match.params;\r\n  const activityNumberAndUnitDesignationMapping = {};\r\n\r\n  const data = [];\r\n\r\n  const activityNumberList = [\r\n    \"7010\",\r\n    \"7020\",\r\n    \"7030\",\r\n    \"7040\",\r\n    \"7050\",\r\n    \"7060\",\r\n    \"7070\",\r\n    \"7080\",\r\n    \"7090\",\r\n    \"70A0\",\r\n    \"70B0\",\r\n    \"70C0\",\r\n    \"70D0\",\r\n    \"7600\",\r\n  ];\r\n\r\n  activityNumberList.forEach((number) => {\r\n    activityNumberAndUnitDesignationMapping[number] =\r\n      activities[number]?.descriptionShort;\r\n  });\r\n\r\n  const ordersOfThisProject = Object.keys(orders).filter((order) => {\r\n    return orders[order].projectNumber === projectNumber;\r\n  });\r\n\r\n  for (let i = 0; i < ordersOfThisProject.length; i++) {\r\n    const installationMethodCode =\r\n      orderInstallationMethods[ordersOfThisProject[i]].installationMethod;\r\n    const productLine = orders[ordersOfThisProject[i]].productLine;\r\n    const installationMethodName =\r\n      wayToInstallList[productLine]?.installationMethods?.[\r\n        installationMethodCode\r\n      ];\r\n\r\n    for (let j = 0; j < activityNumberList.length; j++) {\r\n      const orderActivity =\r\n        orderActivities[ordersOfThisProject[i] + \"-\" + activityNumberList[j]];\r\n\r\n      if (orderActivity) {\r\n        const confirmedDateFormatter = orderActivity.confirmedDate\r\n          ? new Date(orderActivity.confirmedDate).toLocaleDateString()\r\n          : \"-\";\r\n        const leadingDateFormatter = orderActivity.leadingDate\r\n          ? new Date(orderActivity.leadingDate).toLocaleDateString()\r\n          : orderActivity.leadingStartDate && orderActivity.leadingEndDate\r\n          ? new Date(orderActivity.leadingEndDate).toLocaleDateString()\r\n          : \"-\";\r\n\r\n        data.push({\r\n          unitDesignation: orders[ordersOfThisProject[i]].unitDesignation,\r\n          productFamily:\r\n            productFamilies[orders[ordersOfThisProject[i]].productFamily].name,\r\n          installationMethod: installationMethodName,\r\n          ConfirmDate: confirmedDateFormatter,\r\n          PlanDate: leadingDateFormatter,\r\n          orderNumber: ordersOfThisProject[i],\r\n          activityNumber: activityNumberList[j],\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    data,\r\n    projectNumber,\r\n    activityNumberList,\r\n    activityNumberAndUnitDesignationMapping,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ProjectInstallationStepsPage);\r\n","import Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ProjectSiteAddress from \"components/ProjectSiteAddress\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport gpsIcon from \"img/gps.png\";\r\nimport subcontlIcon from \"img/subcontl.png\";\r\nimport unitIcon from \"img/unit.png\";\r\nimport * as util from \"js/util\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  media: {\r\n    height: 0,\r\n    paddingTop: \"56.25%\", // 16:9\r\n  },\r\n  expand: {\r\n    transform: \"rotate(0deg)\",\r\n    marginLeft: \"auto\",\r\n    transition: theme.transitions.create(\"transform\", {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: \"rotate(180deg)\",\r\n  },\r\n  avatar: {\r\n    fontSize: theme.spacing(1.8),\r\n    backgroundColor: \"white\",\r\n    border: \" 2px solid #EEE\",\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n  },\r\n  link: {\r\n    textDecoration: \"blink\",\r\n    fontSize: 15,\r\n  },\r\n  content: {\r\n    padding: theme.spacing(0, 2),\r\n  },\r\n}));\r\n\r\nfunction ProjectSummary({\r\n  orderQuantity,\r\n  projectName,\r\n  projectNumber,\r\n  teamLeader,\r\n  progress,\r\n}) {\r\n  const classes = useStyles();\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <Card\r\n      className={classes.root}\r\n      onClick={() => {\r\n        history.push(`/projectProgressPage/${projectNumber}`);\r\n      }}\r\n    >\r\n      <CardHeader\r\n        avatar={\r\n          <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n            {progress}%\r\n          </Avatar>\r\n        }\r\n        title={projectNumber}\r\n        subheader={projectName}\r\n      />\r\n      <CardContent\r\n        classes={{ root: classes.content }}\r\n        style={{ paddingBottom: \"10px\" }}\r\n      >\r\n        <Grid container spacing={1}>\r\n          <Grid item style={{ display: \"inline-flex\" }}>\r\n            <img src={unitIcon} width=\"18\" height=\"18\" alt=\"\" />\r\n            <Box ml={0.5} fontSize=\"bady2\">\r\n              {i18n.ISNTAPP_UNITS}:\r\n            </Box>\r\n          </Grid>\r\n          <Grid item> {orderQuantity}</Grid>\r\n        </Grid>\r\n        <Grid container spacing={1}>\r\n          <Grid item style={{ display: \"inline-flex\" }}>\r\n            <img src={subcontlIcon} width=\"18\" height=\"18\" alt=\"\" />\r\n            <Box ml={0.5} fontSize=\"bady2\">\r\n              {i18n.JOBLIST_SUBCON_TL}:\r\n            </Box>\r\n          </Grid>\r\n          <Grid item> {teamLeader}</Grid>\r\n        </Grid>\r\n        <Grid container spacing={1}>\r\n          <Grid item style={{ display: \"inline-flex\" }}>\r\n            <img src={gpsIcon} width=\"18\" height=\"18\" alt=\"\" />\r\n            <Box ml={0.5} fontSize=\"bady2\">\r\n              {i18n.ISNTAPP_PROJECT_SITE_ADDRESS}:\r\n              <span style={{ marginLeft: \"5px\" }}>\r\n                <ProjectSiteAddress projectNumber={projectNumber} />\r\n              </span>\r\n            </Box>\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  (\r\n    { orders, projects, partners, orderActivities },\r\n    { link, projectNumber }\r\n  ) => {\r\n    const { description: projectName } = projects[projectNumber];\r\n    const OrderNos = Object.keys(orders).filter(\r\n      (item) => orders[item].projectNumber === projectNumber\r\n    );\r\n    const teamLeader = OrderNos.map((item) => {\r\n      return partners[`${item}-VW`]?.name1;\r\n    });\r\n\r\n    return {\r\n      link,\r\n      orderQuantity: Object.keys(orders).filter((key) => {\r\n        return orders[key].projectNumber === projectNumber;\r\n      }).length,\r\n      projectName,\r\n      projectNumber,\r\n      teamLeader: [...new Set(teamLeader)].join(\"/\"),\r\n      progress: util.projectProgress(projectNumber, orders, orderActivities),\r\n    };\r\n  }\r\n)(ProjectSummary);\r\n","import { withStyles } from \"@material-ui/core/styles\";\r\n// import ProjectCard from \"components/ProjectCard\";\r\nimport ProjectSummary from \"components/ProjectSummary\";\r\nimport React from \"react\";\r\n\r\nconst ProjectListItem = withStyles(({ palette, spacing }) => {\r\n  return {\r\n    root: {\r\n      backgroundColor: palette.background.default,\r\n      marginBottom: spacing(2),\r\n    },\r\n  };\r\n})(({ classes, projectNumber }) => {\r\n  return (\r\n    <div className={classes.root}>\r\n      <ProjectSummary projectNumber={projectNumber} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ProjectListItem;\r\n","import { List } from \"@material-ui/core\";\r\nimport ProjectListItem from \"components/ProjectListItem\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst ProjectList = ({ data }) => {\r\n  return (\r\n    <List>\r\n      {data.map((item, index) => {\r\n        return <ProjectListItem key={index} projectNumber={item} />;\r\n      })}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default connect(({ projects }, { searchCriteria }) => {\r\n  return {\r\n    data: !searchCriteria\r\n      ? Object.keys(projects)\r\n      : Object.keys(projects).filter((key) => {\r\n          return (\r\n            projects[key].number.indexOf(searchCriteria) > -1 ||\r\n            projects[key].description.indexOf(searchCriteria) > -1\r\n          );\r\n        }),\r\n  };\r\n})(ProjectList);\r\n","import { Box } from \"@material-ui/core\";\r\nimport ProjectList from \"components/ProjectList\";\r\nimport ProjectSearchBar from \"components/ProjectSearchBar\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst ProjectListPage = () => {\r\n  const [searchCriteria, setSearchCriteria] = useState(null);\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  return (\r\n    <PrimaryLayout\r\n      name=\"projects\"\r\n      title={i18n.LATERALMENU_PROJECT_LIST}\r\n      pageLevel={1}\r\n    >\r\n      <Box\r\n        style={{\r\n          width: \"92%\",\r\n          position: \"fixed\",\r\n          left: \"16px\",\r\n          zIndex: \"100\",\r\n          backgroundColor: \"#fafafa\",\r\n          height: \"48px\",\r\n        }}\r\n      >\r\n        <ProjectSearchBar\r\n          placeholder={i18n.ISNTAPP_SEARCH_PROJECT_LIST}\r\n          onChange={(value) => {\r\n            setSearchCriteria(value);\r\n          }}\r\n        />\r\n      </Box>\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          padding: \"16px\",\r\n          position: \"absolute\",\r\n          top: \"40px\",\r\n          height: window.screen.height - 165 + \"px\",\r\n          overflow: \"hidden auto\",\r\n        }}\r\n      >\r\n        <ProjectList searchCriteria={searchCriteria} />\r\n      </div>\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nexport default ProjectListPage;\r\n","import { Box } from \"@material-ui/core\";\r\nimport ProjectItemList from \"components/ProjectItemList\";\r\nimport ProjectSearchBar from \"components/ProjectSearchBar\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { allActivitiesNosInProjectProgress } from \"js/publicFn\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport {\r\n  getCurrentElevatorStatus,\r\n  getDocumentComplateStatus,\r\n  getStopsOrHoistHeight,\r\n  scrollToPosition,\r\n} from \"../../js/util\";\r\n\r\nconst ProjectProgressPage = ({ data, projectNumber, activityNumberList }) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [selectedActivityNumber, setSelectedActivityNumber] = useState(\"\");\r\n\r\n  data = data.filter((item) => {\r\n    return item.activityNumber === selectedActivityNumber;\r\n  });\r\n\r\n  data = searchValue\r\n    ? data.filter((item) => {\r\n        return (\r\n          item.orderNumber?.indexOf(searchValue) > -1 ||\r\n          item.installationMethod?.indexOf(searchValue) > -1\r\n        );\r\n      })\r\n    : data;\r\n\r\n  const useInitSelectedActivityNumber = () => {\r\n    useEffect(() => {\r\n      setSelectedActivityNumber(\r\n        activityNumberList.length > 0 ? activityNumberList[0] : \"1000\"\r\n      );\r\n    }, []);\r\n  };\r\n\r\n  useInitSelectedActivityNumber();\r\n\r\n  const scrollRef = useRef(null);\r\n\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      scrollToPosition(scrollRef, location.pathname);\r\n    }, 1000);\r\n  }, [location.pathname]);\r\n\r\n  return (\r\n    <PrimaryLayout title={`${i18n.ISNTAPP_PROJECT_PROGRESS}: ${projectNumber}`}>\r\n      <Box\r\n        style={{\r\n          width: \"90%\",\r\n          position: \"fixed\",\r\n          left: \"17px\",\r\n          zIndex: \"100\",\r\n          backgroundColor: \"#fafafa\",\r\n          height: \"48px\",\r\n        }}\r\n      >\r\n        <ProjectSearchBar\r\n          placeholder={i18n.ISNTAPP_SEARCH_ORDER}\r\n          onChange={(value) => {\r\n            setSearchValue(value);\r\n          }}\r\n        />\r\n      </Box>\r\n      <Box\r\n        mt={2}\r\n        style={{\r\n          width: \"100%\",\r\n          marginTop: \"8px\",\r\n          padding: \"16px\",\r\n          position: \"absolute\",\r\n          top: \"32px\",\r\n          height: window.screen.height - 168 + \"px\",\r\n          overflow: \"hidden auto\",\r\n        }}\r\n        ref={scrollRef}\r\n      >\r\n        <ProjectItemList data={data} />\r\n      </Box>\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  (\r\n    {\r\n      orderActivities,\r\n      orders,\r\n      orderInstallationMethods,\r\n      productFamilies,\r\n      activities,\r\n      auth,\r\n      wayToInstallList,\r\n      templates,\r\n      documentList,\r\n      chars,\r\n    },\r\n    { match }\r\n  ) => {\r\n    const { projectNumber } = match.params;\r\n    const data = [];\r\n    const ordersOfThisProject = Object.keys(orders).filter((order) => {\r\n      return orders[order].projectNumber === projectNumber;\r\n    });\r\n\r\n    const activityNumberAndUnitDesignationMapping = {};\r\n\r\n    const activityNumberList = allActivitiesNosInProjectProgress(\r\n      auth.activityAuth,\r\n      auth.roles[0]\r\n    );\r\n\r\n    activityNumberList.forEach((number) => {\r\n      activityNumberAndUnitDesignationMapping[number] =\r\n        activities[number]?.descriptionShort;\r\n    });\r\n\r\n    for (let i = 0; i < ordersOfThisProject.length; i++) {\r\n      const toDoOrDne = getDocumentComplateStatus(\r\n        auth,\r\n        projectNumber,\r\n        ordersOfThisProject[i],\r\n        orderActivities,\r\n        templates,\r\n        documentList\r\n      );\r\n\r\n      const elevatorProgress = getCurrentElevatorStatus(\r\n        orderActivities,\r\n        ordersOfThisProject[i]\r\n      );\r\n\r\n      const stops = getStopsOrHoistHeight(\r\n        chars,\r\n        ordersOfThisProject[i],\r\n        \"stops\"\r\n      );\r\n\r\n      const hoistHeight = getStopsOrHoistHeight(\r\n        chars,\r\n        ordersOfThisProject[i],\r\n        \"hoistHeight\"\r\n      );\r\n      const productLine = orders[ordersOfThisProject[i]].productLine;\r\n      const productFamily = orders[ordersOfThisProject[i]].productFamily;\r\n      const installationMethodCode =\r\n        orderInstallationMethods[ordersOfThisProject[i]].installationMethod;\r\n      const installationMethodName =\r\n        wayToInstallList[productLine + \"-\" + productFamily]\r\n          ?.installationMethods?.[installationMethodCode];\r\n\r\n      for (let j = 0; j < activityNumberList.length; j++) {\r\n        const orderActivity =\r\n          orderActivities[ordersOfThisProject[i] + \"-\" + activityNumberList[j]];\r\n        if (orderActivity) {\r\n          data.push({\r\n            unitDesignation: orders[ordersOfThisProject[i]].unitDesignation,\r\n            productFamily:\r\n              productFamilies[orders[ordersOfThisProject[i]].productFamily]\r\n                .name,\r\n            installationMethod: installationMethodName,\r\n            orderNumber: ordersOfThisProject[i],\r\n            activityNumber: activityNumberList[j],\r\n            documentCompleteStatus: toDoOrDne,\r\n            elevatorProgress: elevatorProgress,\r\n            stops: stops,\r\n            hoistHeight: hoistHeight,\r\n          });\r\n        }\r\n      }\r\n    }\r\n    return {\r\n      data,\r\n      projectNumber,\r\n      activityNumberList,\r\n    };\r\n  }\r\n)(ProjectProgressPage);\r\n","import PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React from \"react\";\r\n\r\nexport default () => {\r\n  return <PrimaryLayout name=\"subconTeam\" title=\"Subcon Team\"></PrimaryLayout>;\r\n};\r\n","import { Box, Button, makeStyles, Typography, TextField } from \"@material-ui/core\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Loading from \"assets/img/loading.gif\";\r\nimport Refresh from \"assets/img/refresh.png\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { recordRefreshTime, updateOrdersData } from \"js/util\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ConfirmModal from \"components/ConfirmModal\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { showUploadButton } from \"js/util\";\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    // color: \"#7e7a7a\",\r\n    fontWeight: \"500\",\r\n    marginBottom: spacing(2),\r\n  },\r\n  box: {\r\n    width: \"90%\",\r\n    margin: spacing(2, \"auto\", 0),\r\n    marginTop: spacing(2),\r\n  },\r\n  list: {\r\n    padding: 0,\r\n    backgroundColor: \"#fff\",\r\n  },\r\n  secondList: {\r\n    padding: 0,\r\n    backgroundColor: \"#fff\",\r\n    paddingLeft: spacing(2),\r\n  },\r\n  title: {\r\n    padding: \"0px 35px 0 16px\",\r\n    marginTop: spacing(2),\r\n    backgroundColor: \"#fff\",\r\n    color: \"#666\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  listItem: {\r\n    backgroundColor: \"#fff\",\r\n    paddingBottom: spacing(1),\r\n    position: \"relative\",\r\n  },\r\n  listItemText: {\r\n    padding: 0,\r\n  },\r\n\r\n  loadItem: {\r\n    fontSize: \"12px\",\r\n  },\r\n  loading: {\r\n    width: spacing(2),\r\n    position: \"absolute\",\r\n    right: spacing(1),\r\n  },\r\n  refreshTime: {\r\n    marginLeft: spacing(2),\r\n  },\r\n  fail: {\r\n    color: \"red\",\r\n  },\r\n}));\r\n\r\nconst SynchronizePage = ({\r\n  refresh,\r\n  refreshTime,\r\n  projects,\r\n  requestStatus: {\r\n    documentStatus,\r\n    masterDataStatus,\r\n    ordersDataStatus,\r\n    templateListStatus,\r\n    taskListStatus,\r\n  },\r\n  auth,\r\n  updateOrdersData\r\n}) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  const [SODialog, setSODialog] = useState(false);\r\n  const [userInfo, setUserInfo] = useState(null);\r\n  const [SONO, setSONO] = useState({ pNumber: auth.personalNumber });\r\n  const [moduleName, setModuleName] = useState({});\r\n\r\n  const status = [\r\n    documentStatus,\r\n    masterDataStatus,\r\n    ordersDataStatus,\r\n    templateListStatus,\r\n    taskListStatus,\r\n  ];\r\n  const data = [\r\n    {\r\n      label: i18n.ISNTAPP_SYNCHRONIZE_ORDER,\r\n      value: \"orders\",\r\n      list: [\r\n        {\r\n          label: i18n.ISNTAPP_SYNCHRONIZE_MASTER_DATA,\r\n          date: refreshTime.masterDataRefreshTime,\r\n          loading: masterDataStatus,\r\n        },\r\n        {\r\n          label: i18n.ISNTAPP_SYNCHRONIZE_ORDER_DATA,\r\n          date: refreshTime.orderDataRefreshTime,\r\n          loading: ordersDataStatus,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      label: i18n.ISNTAPP_SYNCHRONIZE_DOCUMENTS,\r\n      value: \"documents\",\r\n      list: [\r\n        {\r\n          label: i18n.ISNTAPP_SYNCHRONIZE_DOCUMENTS,\r\n          date: refreshTime.templateListDataRefreshTime,\r\n          loading: templateListStatus,\r\n        },\r\n        {\r\n          label: i18n.ISNTAPP_SYNCHRONIZE_DOCUMENT_LIST,\r\n          date: refreshTime.documentListDataRefreshTime,\r\n          loading: documentStatus,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      label: i18n.ISNTAPP_SYNCHRONIZE_TASK,\r\n      value: \"task\",\r\n      list: [\r\n        {\r\n          label: i18n.ISNTAPP_SYNCHRONIZE_TASK_LIST,\r\n          date: refreshTime.taskListDataRefreshTime,\r\n          loading: taskListStatus,\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  const synchroData = (name, projects) => {\r\n    // if (auth?.roles[0] === \"SL\") {\r\n    //     setOpen(true)\r\n    // } else {\r\n      refresh(name, projects, userInfo)\r\n    // }\r\n  }\r\n\r\n  const confirmRefresh = () => {\r\n    if (!userInfo?.pNumber) {\r\n      return false;\r\n    }\r\n    window.localStorage.setItem(\"peInfo\", JSON.stringify({ pNumber: userInfo?.pNumber }));\r\n    refresh(moduleName.name, moduleName.projects, userInfo)\r\n    setOpen(false)\r\n  }\r\n\r\n  const confirmSO = () => {\r\n    setSODialog(false);\r\n    updateOrdersData(SONO);\r\n    setSONO(null);\r\n  }\r\n\r\n  return (\r\n    <PrimaryLayout\r\n      name=\"synchronize\"\r\n      title={i18n.ISNTAPP_SYNC_PAGE}\r\n      isShowRefreshButton={false}\r\n      isFetchAll={false}\r\n    >\r\n      <Box className={classes.root}>\r\n        <Box className={classes.title}>\r\n          <Typography variant=\"h6\">{i18n.ISNTAPP_SYNCHRONIZE_PAGE}</Typography>\r\n          <Box>\r\n            {showUploadButton() &&\r\n              <Button\r\n                onClick={() => setSODialog(true)}\r\n              >\r\n                <AddIcon color=\"error\" />\r\n              </Button>\r\n            }\r\n            <Button\r\n              onClick={() => {\r\n                synchroData(\"all\", projects);\r\n                setModuleName({ name: \"all\", projects: projects })\r\n              }}\r\n              disabled={status.indexOf(\"loading\") > -1 ? true : false}\r\n            >\r\n              <img src={Refresh} width=\"32\" alt=\"\" />\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n\r\n        {data.map((item, index) => {\r\n          return (\r\n            <Box key={index} className={classes.box}>\r\n              <List className={classes.list}>\r\n                <ListItem>\r\n                  <ListItemText\r\n                    primary={\r\n                      <Typography variant=\"subtitle2\">{item.label}</Typography>\r\n                    }\r\n                  />\r\n                  <Button\r\n                    onClick={() => {\r\n                      synchroData(item.value, projects);\r\n                      setModuleName({ name: item.value, projects: projects })\r\n                    }}\r\n                    disabled={status.indexOf(\"loading\") > -1 ? true : false}\r\n                  >\r\n                    <img src={Refresh} width=\"32\" alt=\"\" />\r\n                  </Button>\r\n                </ListItem>\r\n              </List>\r\n              <Divider />\r\n              <List className={classes.secondList}>\r\n                {item.list.map((item, index) => {\r\n                  return (\r\n                    <Box key={index}>\r\n                      <ListItem className={classes.listItem}>\r\n                        <ListItemText\r\n                          primary={\r\n                            <Typography variant=\"body2\">\r\n                              {item.label}\r\n                            </Typography>\r\n                          }\r\n                        />\r\n                        <ListItemText\r\n                          primary={\r\n                            <Typography\r\n                              className={classes.loadItem}\r\n                              color=\"textSecondary\"\r\n                            >\r\n                              <span\r\n                                className={\r\n                                  item.loading === \"failToLoad\"\r\n                                    ? classes.fail\r\n                                    : \"\"\r\n                                }\r\n                              >\r\n                                {item.loading === \"loading\"\r\n                                  ? i18n.ISNTAPP_LOADING\r\n                                  : item.loading === \"loaded\"\r\n                                  ? i18n.ISNTAPP_LOADED\r\n                                  : i18n.ISNTAPP_FEIL_TO_LOAD}\r\n                              </span>\r\n\r\n                              <span className={classes.refreshTime}>\r\n                                {item.loading !== \"loading\" && item.date}\r\n                              </span>\r\n                            </Typography>\r\n                          }\r\n                        />\r\n                        {item.loading === \"loading\" && (\r\n                          <img\r\n                            src={Loading}\r\n                            className={classes.loading}\r\n                            alt=\"\"\r\n                          />\r\n                        )}\r\n                      </ListItem>\r\n                      {index === 0 &&\r\n                        item.label !== \"Synchronize Task list\" && <Divider />}\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </List>\r\n            </Box>\r\n          );\r\n        })}\r\n      </Box>\r\n\r\n      <ConfirmModal\r\n        open={open}\r\n        onClose={()=>setOpen(false)}\r\n        handleClick={() => confirmRefresh()}\r\n        children={<TextField\r\n          label={i18n.ISNTAPP_INPUT_PE_JOB_NO}\r\n          style={{ margin: 8 }}\r\n          fullWidth\r\n          margin=\"normal\"\r\n          onChange={(event) => setUserInfo({pNumber:event.target.value})}\r\n        />}\r\n      />\r\n\r\n      <ConfirmModal\r\n        open={SODialog}\r\n        onClose={() => setSODialog(false)}\r\n        handleClick={() => SONO?.orderNo && confirmSO()}\r\n        children={<TextField\r\n          label={i18n.ISNTAPP_INPUT_ORDER_NO}\r\n          style={{ margin: 8 }}\r\n          value={SONO?.orderNo||\"\"}\r\n          fullWidth\r\n          margin=\"normal\"\r\n          onChange={(event) => setSONO({ ...SONO,orderNo: event.target.value})}\r\n        />}\r\n      />\r\n      </PrimaryLayout>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  ({ projects, refreshTime, requestStatus,auth }) => {\r\n    return { projects, refreshTime, requestStatus,auth };\r\n  },\r\n  (dispatch) => {\r\n    return {\r\n      refresh: (name, projects, userInfo) => {\r\n        recordRefreshTime(dispatch, name, projects, userInfo);\r\n      },\r\n      updateOrdersData: (soNo) => {\r\n        updateOrdersData(soNo, dispatch)\r\n      }\r\n    };\r\n  }\r\n)(SynchronizePage);\r\n","import {\r\n  Box,\r\n  Button,\r\n  MenuItem,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { DatePicker } from \"@material-ui/pickers\";\r\nimport * as action from \"actions\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport * as repo from \"js/fetch\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport lodash from \"lodash\";\r\nimport moment from \"moment\";\r\nimport React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst TaskCreatePage = withStyles(({ spacing }) => {\r\n  return {\r\n    root: {\r\n      width: `calc(100% - 16px)`,\r\n      height: `calc(100% - 16px)`,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      margin: \"8px\",\r\n      color: \"rgb(220,0,0)\",\r\n    },\r\n    itemBox: {\r\n      width: \"100%\",\r\n      padding: \"4px\",\r\n      margin: \"4px\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      // backgroundColor: \"white\",\r\n    },\r\n    projectNo: {\r\n      // marginLeft: spacing(6),\r\n      display: \"flex\",\r\n      justifyContent: \"space-between\",\r\n    },\r\n  };\r\n})(\r\n  ({\r\n    classes,\r\n    assignerList,\r\n    orderList,\r\n    projectList,\r\n    partnerNo,\r\n    fetchCreateTask,\r\n    orders,\r\n  }) => {\r\n    const i18n = React.useContext(LocalizeContext);\r\n\r\n    const [description, setDescription] = useState(\"\");\r\n    const [details, setDetails] = useState(\"\");\r\n    const [projectNo, setProjectNo] = useState(\"\");\r\n    const [orderNo, setOrderNo] = useState(\"\");\r\n    const [dueDate, setDueDate] = useState(\r\n      moment(new Date()).format(\"YYYY-MM-DD\")\r\n    );\r\n    const [assigneeID, setAssigneeID] = useState(\"\");\r\n\r\n    const createTaskFn = () => {\r\n      if (description.length === 0) {\r\n        alert(\"\");\r\n        return;\r\n      } else if (details.length === 0) {\r\n        alert(\"\");\r\n        return;\r\n      } else if (projectNo.length === 0 && orderNo?.length === 0) {\r\n        alert(\"\");\r\n        return;\r\n      } else if (orderNo?.length === 0 && projectNo.length === 0) {\r\n        alert(\"\");\r\n        return;\r\n      } else if (dueDate.length === 0) {\r\n        alert(\"\");\r\n        return;\r\n      } else if (assigneeID.length === 0) {\r\n        alert(\"\");\r\n        return;\r\n      }\r\n      const data = [\r\n        {\r\n          partnerNo: partnerNo,\r\n          projectNo: projectNo,\r\n          orderNo: orderNo,\r\n          dueDate: dueDate,\r\n          status: \"A\",\r\n          description: description,\r\n          details: details,\r\n          assigneeID: assigneeID,\r\n          cplDate: \"\",\r\n          assigneeCMNT: \"\",\r\n        },\r\n      ];\r\n      fetchCreateTask(data);\r\n      repo.fetchTasks();\r\n      window.history.back(-1);\r\n    };\r\n    return (\r\n      <PrimaryLayout name=\"task\" title={i18n.ISNTAPP_TASK_CREATED}>\r\n        <form className={classes.root} autoComplete=\"off\">\r\n          <Box className={classes.itemBox}>\r\n            <TextField\r\n              fullWidth\r\n              required={true}\r\n              color={\"secondary\"}\r\n              label={i18n.ISNTAPP_TASK}\r\n              value={description}\r\n              onChange={(e) => {\r\n                setDescription(e.target.value);\r\n              }}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n            />\r\n          </Box>\r\n          <Box className={classes.itemBox}>\r\n            <TextField\r\n              fullWidth\r\n              multiline\r\n              required={true}\r\n              color={\"secondary\"}\r\n              label={i18n.ISNTAPP_TASK_DESCRIPTION}\r\n              value={details}\r\n              onChange={(e) => {\r\n                setDetails(e.target.value);\r\n              }}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n            />\r\n          </Box>\r\n          {!orderNo && (\r\n            <Box className={classes.itemBox}>\r\n              <TextField\r\n                fullWidth\r\n                select\r\n                required={orderNo ? false : true}\r\n                color={\"secondary\"}\r\n                label={i18n.PROJECTLIST_PROJECT_NO}\r\n                value={projectNo}\r\n                onChange={(e) => {\r\n                  setProjectNo(e.target.value);\r\n                }}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              >\r\n                {projectList.map((option, index) => (\r\n                  <MenuItem\r\n                    key={index}\r\n                    value={option.label}\r\n                    className={classes.projectNo}\r\n                  >\r\n                    <Typography variant=\"body2\">\r\n                      {option.projectName}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">{option.value}</Typography>\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n            </Box>\r\n          )}\r\n          {!projectNo && (\r\n            <Box className={classes.itemBox}>\r\n              <TextField\r\n                fullWidth\r\n                select\r\n                required={projectNo ? false : true}\r\n                color={\"secondary\"}\r\n                label={i18n.JOBLIST_ORDER_NUMBER}\r\n                value={orderNo}\r\n                onChange={(e) => {\r\n                  setOrderNo(e.target.value);\r\n                  setAssigneeID(\"\");\r\n                }}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              >\r\n                {orderList.map((option, index) => (\r\n                  <MenuItem\r\n                    key={index}\r\n                    value={option.value}\r\n                    className={classes.projectNo}\r\n                  >\r\n                    <Typography variant=\"body2\">\r\n                      {option.unitDesignation}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">{option.label}</Typography>\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n            </Box>\r\n          )}\r\n          <Box className={classes.itemBox}>\r\n            {/* <TextField\r\n              required\r\n              fullWidth\r\n              color={\"secondary\"}\r\n              label={i18n.ISNTAPP_DUE_DATE}\r\n              type={\"date\"}\r\n              value={dueDate}\r\n              onChange={(e) => {\r\n                setDueDate(e.target.value);\r\n              }}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              InputProps={{\r\n                inputProps: { min: moment().format(\"YYYY-MM-DD\") },\r\n              }}\r\n            /> */}\r\n            <DatePicker\r\n              autoOk\r\n              fullWidth\r\n              required\r\n              label={i18n.ISNTAPP_DUE_DATE}\r\n              disableToolbar={true}\r\n              variant=\"inline\"\r\n              value={dueDate ? new Date(dueDate) : null}\r\n              minDate={new Date()}\r\n              format=\"YYYY/MM/DD\"\r\n              onChange={(d) => {\r\n                setDueDate(moment(d).format(\"YYYY-MM-DD\"));\r\n              }}\r\n            />\r\n          </Box>\r\n          <Box className={classes.itemBox}>\r\n            <TextField\r\n              required\r\n              fullWidth\r\n              select\r\n              color={\"secondary\"}\r\n              label={i18n.ISNTAPP_ASSIGNEE}\r\n              value={assigneeID}\r\n              onChange={(e) => {\r\n                setAssigneeID(e.target.value);\r\n              }}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n            >\r\n              {projectNo\r\n                ? lodash\r\n                    .unionBy(\r\n                      assignerList.filter((item) => {\r\n                        return (\r\n                          Object.keys(orders)\r\n                            .filter((item) => {\r\n                              return orders[item].projectNumber === projectNo;\r\n                            })\r\n                            .indexOf(item.orderNum) > -1\r\n                        );\r\n                      }),\r\n                      \"label\"\r\n                    )\r\n                    .map((option, index) => (\r\n                      <MenuItem key={index} value={option.value}>\r\n                        {option.label}\r\n                      </MenuItem>\r\n                    ))\r\n                : assignerList\r\n                    .filter((item) => {\r\n                      return item.orderNum === orderNo;\r\n                    })\r\n                    .map((option, index) => (\r\n                      <MenuItem key={index} value={option.value}>\r\n                        {option.label}\r\n                      </MenuItem>\r\n                    ))}\r\n            </TextField>\r\n          </Box>\r\n          <Button\r\n            style={{\r\n              backgroundColor: \"rgb(220,0,0)\",\r\n              color: \"white\",\r\n              marginTop: \"20px\",\r\n            }}\r\n            onClick={() => {\r\n              createTaskFn();\r\n            }}\r\n          >\r\n            {i18n.ISNTAPP_SUBMIT}\r\n          </Button>\r\n        </form>\r\n      </PrimaryLayout>\r\n    );\r\n  }\r\n);\r\n\r\nconst mapStateToProps = ({ partners, orders, projects, auth }) => {\r\n  // const filterList = new Set();\r\n  const orderList = Object.keys(orders)\r\n    .map((order) => {\r\n      return {\r\n        label: order,\r\n        value: order,\r\n        unitDesignation: orders[order].unitDesignation,\r\n      };\r\n    })\r\n    .sort((a, b) => (a.label ? (a.label > b.label ? 1 : -1) : 1));\r\n  orderList.unshift({ label: \"\", value: \"\", unitDesignation: \"\" });\r\n  const projectList = Object.keys(projects)\r\n    .map((project) => {\r\n      return {\r\n        label: project,\r\n        value: project,\r\n        projectName: projects[project].description,\r\n      };\r\n    })\r\n    .sort((a, b) => (a.label ? (a.label > b.label ? 1 : -1) : 1));\r\n  projectList.unshift({ label: \"\", value: \"\", projectName: \"\" });\r\n\r\n  return {\r\n    assignerList: Array.from(\r\n      new Set(\r\n        Object.keys(partners)\r\n          .filter((partner) => {\r\n            return (\r\n              partners[partner].functionNumber === \"Z(\" ||\r\n              partners[partner].functionNumber === \"VW\" ||\r\n              partners[partner].functionNumber === \"YI\"\r\n            );\r\n          })\r\n          .map((item) => {\r\n            let lable;\r\n            if (partners[item].functionNumber === \"Z(\") {\r\n              lable = `PE-${partners[item].name1}`;\r\n            } else if (partners[item].functionNumber === \"VW\") {\r\n              lable = `TL-${partners[item].name1}`;\r\n            } else {\r\n              lable = `PM-${partners[item].name1}`;\r\n            }\r\n\r\n            return {\r\n              label: lable,\r\n              value: partners[item].number,\r\n              orderNum: partners[item].orderNumber,\r\n            };\r\n          })\r\n      )\r\n    )\r\n      .sort((a, b) => (a.label ? (a.label > b.label ? 1 : -1) : 1))\r\n      .filter((items) => {\r\n        return items;\r\n      }),\r\n    orderList: orderList,\r\n    projectList: projectList,\r\n    partnerNo: auth.personalNumber,\r\n    orders,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchCreateTask: (data) => {\r\n      dispatch(action.fetchCreateTask(data)).then((response) => {\r\n        repo.fetchTasks().then((data) => {\r\n          dispatch(action.setTasks(data));\r\n        });\r\n      });\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TaskCreatePage);\r\n","import { Box } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { AssignmentOutlined, ChevronRight } from \"@material-ui/icons\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { getTaskCount } from \"js/util\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst TaskManagermentPage = withStyles(({ spacing }) => {\r\n  return {\r\n    root: {\r\n      width: `calc(100% - 16px)`,\r\n      height: `calc(100% - 16px)`,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      margin: \"8px\",\r\n    },\r\n    itemBox: {\r\n      width: \"100%\",\r\n      padding: \"4px\",\r\n      margin: \"4px\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      borderBottom: \"1px solid darkgray\",\r\n    },\r\n    itemIcon: {\r\n      width: `24px`,\r\n      color: \"rgb(220,0,0)\",\r\n      paddingTop: \"4px\",\r\n      margin: \"0 4px\",\r\n    },\r\n    discriptionBox: {\r\n      width: `calc(100% - 54px)`,\r\n    },\r\n    iconBox: {\r\n      paddingTop: \"6px\",\r\n      width: \"6px\",\r\n      color: \"rgb(220,0,0)\",\r\n    },\r\n    discription: {\r\n      padding: spacing(0.5, 1),\r\n      backgroundColor: \"red\",\r\n      borderRadius: \"30px\",\r\n      color: \"white\",\r\n      marginLeft: spacing(1),\r\n    },\r\n  };\r\n})(({ classes, taskNum: { awaitCloseNum, awaitComplateNum } }) => {\r\n  const history = useHistory();\r\n  const i18n = React.useContext(LocalizeContext);\r\n  return (\r\n    <PrimaryLayout\r\n      name=\"taskManagerment\"\r\n      title={i18n.INSTAPP_JOBLIST_TASKS}\r\n      pageLevel={1}\r\n    >\r\n      <Box className={classes.root}>\r\n        <Box\r\n          className={classes.itemBox}\r\n          onClick={() => {\r\n            history.push(`/tasks/assigner`);\r\n          }}\r\n        >\r\n          <Box className={classes.itemIcon}>\r\n            <AssignmentOutlined />\r\n          </Box>\r\n          <Box className={classes.discriptionBox}>\r\n            {i18n.ISNTAPP_TASKS_CREATED_BY_ME}\r\n            {awaitCloseNum > 0 && (\r\n              <span className={classes.discription}>{awaitCloseNum}</span>\r\n            )}\r\n          </Box>\r\n          <Box className={classes.iconBox}>\r\n            <ChevronRight />\r\n          </Box>\r\n        </Box>\r\n        <Box\r\n          className={classes.itemBox}\r\n          onClick={() => {\r\n            history.push(`/tasks/assignee`);\r\n          }}\r\n        >\r\n          <Box className={classes.itemIcon}>\r\n            <AssignmentOutlined />\r\n          </Box>\r\n          <Box className={classes.discriptionBox}>\r\n            {i18n.ISNTAPP_TASKS_ASSIGUED_TO_ME}\r\n            {awaitComplateNum > 0 && (\r\n              <span className={classes.discription}>{awaitComplateNum}</span>\r\n            )}\r\n          </Box>\r\n          <Box className={classes.iconBox}>\r\n            <ChevronRight />\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </PrimaryLayout>\r\n  );\r\n});\r\nexport default connect((state, props) => {\r\n  const taskNum = getTaskCount();\r\n  return {\r\n    taskNum,\r\n  };\r\n})(TaskManagermentPage);\r\n","import {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  Grid,\r\n  Typography,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  AssignmentTurnedInOutlined,\r\n  CancelOutlined,\r\n  CheckCircleOutlineOutlined,\r\n  DeleteForeverOutlined,\r\n  EventAvailableOutlined,\r\n  EventNoteOutlined,\r\n  ForwardOutlined,\r\n} from \"@material-ui/icons\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst TaskListCard = withStyles(({ spacing }) => {\r\n  return {\r\n    button: {\r\n      borderRadius: spacing(2.5),\r\n      lineHeight: \"unset\",\r\n      fontSize: \"0.5rem\",\r\n      padding: \"2px 14px\",\r\n    },\r\n    card: {\r\n      marginTop: spacing(2),\r\n    },\r\n    cardActions: {\r\n      marginLeft: \"0px\",\r\n    },\r\n    contentColor: {\r\n      color: \"#999999\",\r\n      wordBreak: \"break-word\",\r\n    },\r\n    fontColor: {\r\n      color: \"#e54141\",\r\n      // color: \"rgba(0, 0, 0, 0.54)\",\r\n    },\r\n    iconColor: {\r\n      color: \"rgba(0, 0, 0, 0.54)\",\r\n    },\r\n  };\r\n})(\r\n  ({\r\n    classes,\r\n    data,\r\n    AssignerName,\r\n    AssigneeName,\r\n    type,\r\n    status,\r\n    handleClickOpen,\r\n    description,\r\n  }) => {\r\n    const i18n = React.useContext(LocalizeContext);\r\n\r\n    return (\r\n      <Card className={classes.card}>\r\n        <CardContent>\r\n          <Grid container>\r\n            <Grid\r\n              item\r\n              xs={8}\r\n              style={{\r\n                display: \"inline-flex\",\r\n              }}\r\n            >\r\n              <AssignmentTurnedInOutlined\r\n                classes={{ root: classes.iconColor }}\r\n                style={{\r\n                  fontSize: \"1.4rem\",\r\n                  marginRight: \"4px\",\r\n                }}\r\n              />\r\n              <Typography variant=\"body1\" fontWeight={500}>\r\n                {data.Description}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={4}\r\n              style={{\r\n                display: \"inline-flex\",\r\n              }}\r\n            >\r\n              <EventNoteOutlined\r\n                classes={{ root: classes.iconColor }}\r\n                style={{\r\n                  fontSize: \"1.05rem\",\r\n                  marginRight: \"4px\",\r\n                }}\r\n              />\r\n              <Typography\r\n                classes={{\r\n                  root:\r\n                    status === \"open\" &&\r\n                    new Date().toLocaleDateString() >\r\n                      new Date(data.DueDate).toLocaleDateString()\r\n                      ? classes.fontColor\r\n                      : \"\",\r\n                }}\r\n                variant=\"body2\"\r\n              >\r\n                {data.DueDate}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={8}>\r\n              <Box mt={0.5}>\r\n                <Typography\r\n                  variant=\"body2\"\r\n                  classes={{ root: classes.contentColor }}\r\n                >\r\n                  {data.Details}\r\n                </Typography>\r\n              </Box>\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={4}\r\n              style={{\r\n                display: \"inline-flex\",\r\n                marginTop: \"4px\",\r\n              }}\r\n            >\r\n              <EventAvailableOutlined\r\n                classes={{ root: classes.iconColor }}\r\n                style={{\r\n                  fontSize: \"1.05rem\",\r\n                  marginRight: \"4px\",\r\n                }}\r\n              />\r\n              <Typography variant=\"body2\">{data.CPLDate}</Typography>\r\n            </Grid>\r\n            {data.ProjectNo && (\r\n              <Grid item xs={12}>\r\n                <Box mt={0.5} style={{ display: \"inline-flex\" }}>\r\n                  <Typography variant=\"body2\" style={{ marginRight: \"4px\" }}>\r\n                    {i18n.PROJECTLIST_PROJECT}:\r\n                  </Typography>\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    classes={{ root: classes.contentColor }}\r\n                  >\r\n                    {/* {<ProjectSiteAddress projectNumber={data.ProjectNo} />} */}\r\n                    {description}\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n            )}\r\n            {data.OrderNo && (\r\n              <Grid item xs={12}>\r\n                <Box mt={0.5} style={{ display: \"inline-flex\" }}>\r\n                  <Typography variant=\"body2\" style={{ marginRight: \"4px\" }}>\r\n                    :\r\n                  </Typography>\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    classes={{ root: classes.contentColor }}\r\n                  >\r\n                    {data.OrderNo}\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n            )}\r\n            {(status === \"pending\" || status === \"close\") && (\r\n              <Grid item xs={12}>\r\n                <Box mt={0.5}>\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    component=\"span\"\r\n                    style={{ marginRight: \"4px\" }}\r\n                  >\r\n                    {i18n.ISNTAPP_COMPLETE_COMMENT}:\r\n                  </Typography>\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    component=\"span\"\r\n                    classes={{ root: classes.contentColor }}\r\n                  >\r\n                    {data.AssigneeCMNT}\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n            )}\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              style={{ display: \"inline-flex\", marginTop: \"8px\" }}\r\n            >\r\n              <Typography\r\n                variant=\"body2\"\r\n                style={{ marginRight: \"4px\" }}\r\n                classes={{ root: classes.contentColor }}\r\n              >\r\n                {AssignerName}\r\n              </Typography>\r\n              <ForwardOutlined\r\n                classes={{ root: classes.fontColor }}\r\n                style={{ fontSize: \"1.2rem\" }}\r\n              />\r\n              <Typography\r\n                variant=\"body2\"\r\n                style={{ marginLeft: \"4px\" }}\r\n                classes={{ root: classes.contentColor }}\r\n              >\r\n                {AssigneeName}\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n        <CardActions\r\n          style={{\r\n            backgroundColor: \"#f5f5f5\",\r\n            overflow: \"auto\",\r\n            display:\r\n              (type === \"assignee\" && status === \"pending\") ||\r\n              status === \"close\"\r\n                ? \"none\"\r\n                : \"flex\",\r\n            padding: \"2px\",\r\n          }}\r\n        >\r\n          {type === \"assignee\" && status === \"open\" && (\r\n            <Button\r\n              size=\"small\"\r\n              style={{\r\n                display: \"inline-grid\",\r\n              }}\r\n              onClick={() => {\r\n                handleClickOpen(\"done\", data.Description, data);\r\n              }}\r\n            >\r\n              <CheckCircleOutlineOutlined\r\n                classes={{ root: classes.iconColor }}\r\n              />\r\n              <Typography variant=\"caption\">{i18n.ISNTAPP_COMPLETE}</Typography>\r\n            </Button>\r\n          )}\r\n          {type === \"assigner\" && status === \"open\" && (\r\n            <Button\r\n              size=\"small\"\r\n              style={{\r\n                display: \"inline-grid\",\r\n              }}\r\n              onClick={() => {\r\n                handleClickOpen(\"delete\", data.Description, data);\r\n              }}\r\n            >\r\n              <DeleteForeverOutlined classes={{ root: classes.iconColor }} />\r\n              <Typography variant=\"caption\">{i18n.ISNTAPP_DELETE}</Typography>\r\n            </Button>\r\n          )}\r\n          {type === \"assigner\" && status === \"pending\" && (\r\n            <Button\r\n              size=\"small\"\r\n              style={{\r\n                display: \"inline-grid\",\r\n              }}\r\n              onClick={() => {\r\n                handleClickOpen(\"close\", data.Description, data);\r\n              }}\r\n            >\r\n              <CancelOutlined classes={{ root: classes.iconColor }} />\r\n              <Typography variant=\"caption\">{i18n.ISNTAPP_CLOSE}</Typography>\r\n            </Button>\r\n          )}\r\n        </CardActions>\r\n      </Card>\r\n    );\r\n  }\r\n);\r\nexport default connect(({ partners, projects }, { data }) => {\r\n  const Assigner = Object.keys(partners).filter((key) => {\r\n    return (\r\n      partners[key].number === data.PartnerNo &&\r\n      (partners[key].functionNumber === \"Z(\" ||\r\n        partners[key].functionNumber === \"VW\" ||\r\n        partners[key].functionNumber === \"YI\")\r\n    );\r\n  });\r\n\r\n  const Assignee = Object.keys(partners).filter((key) => {\r\n    return (\r\n      partners[key].number === data.AssigneeID &&\r\n      (partners[key].functionNumber === \"Z(\" ||\r\n        partners[key].functionNumber === \"VW\" ||\r\n        partners[key].functionNumber === \"YI\")\r\n    );\r\n  });\r\n\r\n  return {\r\n    AssignerName: partners[Assigner[0]]?.name1,\r\n    AssigneeName: partners[Assignee[0]]?.name1,\r\n    description: projects?.[data?.ProjectNo]?.description,\r\n  };\r\n})(TaskListCard);\r\n","import { Box, Typography } from \"@material-ui/core\";\r\nimport { DatePicker } from \"@material-ui/pickers\";\r\nimport ConfirmModal from \"components/ConfirmModal\";\r\nimport TaskListCard from \"components/TaskListCard\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport moment from \"moment\";\r\nimport React from \"react\";\r\n\r\nconst TaskList = ({ data, status, type, submit }) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  const [open, setOpen] = React.useState(null);\r\n\r\n  const [currentTask, setCurrentTask] = React.useState(\"\");\r\n  const [cplDate, setCplDate] = React.useState(\r\n    moment(new Date()).format(\"YYYY-MM-DD\")\r\n  );\r\n  const [description, setDescription] = React.useState(\"\");\r\n  const [submitData, setSubmitData] = React.useState(null);\r\n\r\n  const handleClickOpen = (action, taskName, currentTaskData) => {\r\n    setOpen(action);\r\n    setCurrentTask(taskName);\r\n    setSubmitData(currentTaskData);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setCplDate(moment(new Date()).format(\"YYYY-MM-DD\"));\r\n    setDescription(\"\");\r\n  };\r\n\r\n  const handleClick = () => {\r\n    const submitDatas = submitData;\r\n\r\n    if (open === \"done\" && cplDate && description) {\r\n      submitDatas.CPLDate = cplDate;\r\n      submitDatas.AssigneeCMNT = description;\r\n      submitDatas.Status = \"D\";\r\n      submit(submitDatas);\r\n      setOpen(false);\r\n      setCplDate(\"\");\r\n      setDescription(\"\");\r\n    }\r\n    if (open === \"delete\") {\r\n      submitDatas.Status = \"DL\";\r\n      submit(submitDatas);\r\n      setOpen(false);\r\n    }\r\n    if (open === \"close\") {\r\n      submitDatas.Status = \"CL\";\r\n      submit(submitDatas);\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      {data.map((item, index) => {\r\n        return (\r\n          <TaskListCard\r\n            data={item}\r\n            type={type}\r\n            status={status}\r\n            handleClickOpen={(action, taskName, currentTaskData) =>\r\n              handleClickOpen(action, taskName, currentTaskData)\r\n            }\r\n            key={index}\r\n          />\r\n        );\r\n      })}\r\n      <ConfirmModal\r\n        open={open === \"done\" || open === \"delete\" || open === \"close\"}\r\n        handleClick={handleClick}\r\n        onClose={handleClose}\r\n        title={currentTask}\r\n      >\r\n        <Box mb={1}>\r\n          <Typography\r\n            variant=\"body2\"\r\n            color={\r\n              open === \"done\" ? (cplDate ? \"initial\" : \"error\") : \"initial\"\r\n            }\r\n          >\r\n            {open === \"done\" && `*` + i18n.ISNTAPP_PLEASE_SELECT_COnFIRM_DATE}\r\n            {open === \"delete\" && i18n.ISNTAPP_CONFIRM_TO_DELETE_THIS_TASK}\r\n            {open === \"close\" && i18n.ISNTAPP_CONFIRM_TO_CLOSE_THIS_TASK}\r\n          </Typography>\r\n        </Box>\r\n        {open === \"done\" && (\r\n          <Box>\r\n            <Box mb={1}>\r\n              {/* <input\r\n                type=\"date\"\r\n                style={{ width: \"100%\" }}\r\n                onChange={(e) => {\r\n                  setCplDate(e.target.value);\r\n                }}\r\n                value={cplDate}\r\n              /> */}\r\n              <DatePicker\r\n                autoOk\r\n                fullWidth\r\n                required\r\n                disableToolbar={true}\r\n                variant=\"inline\"\r\n                value={cplDate ? new Date(cplDate) : null}\r\n                format=\"YYYY/MM/DD\"\r\n                maxDate={new Date()}\r\n                onChange={(d) => {\r\n                  setCplDate(moment(d).format(\"YYYY-MM-DD\"));\r\n                }}\r\n              />\r\n            </Box>\r\n            <Box mb={1}>\r\n              {open === \"done\" && (\r\n                <Typography\r\n                  variant=\"body2\"\r\n                  color={\r\n                    open === \"done\"\r\n                      ? description\r\n                        ? \"initial\"\r\n                        : \"error\"\r\n                      : \"initial\"\r\n                  }\r\n                >\r\n                  *{i18n.ISNTAPP_COMPLETE_COMMENT}\r\n                </Typography>\r\n              )}\r\n            </Box>\r\n            <Box mb={1}>\r\n              <textarea\r\n                rows=\"6\"\r\n                placeholder={i18n.ISNTAPP_COMPLETE_COMMENT}\r\n                style={{ width: \"100%\", resize: \"none\" }}\r\n                onChange={(e) => {\r\n                  setDescription(e.target.value);\r\n                }}\r\n                value={description}\r\n              ></textarea>\r\n            </Box>\r\n          </Box>\r\n        )}\r\n      </ConfirmModal>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default TaskList;\r\n","import { Box } from \"@material-ui/core\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport * as action from \"actions\";\r\nimport FFTab from \"components/FFTab\";\r\nimport TaskList from \"components/TaskList\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport * as repo from \"js/fetch\";\r\nimport { getTaskCount } from \"js/util\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { taskCleaner } from \"js/publicFn\";\r\n\r\nconst Tasks = ({ type, tasksData, submit }) => {\r\n  const history = useHistory();\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const [status, setStatus] = React.useState(\"open\");\r\n\r\n  const tabs = [\r\n    { title: i18n.ISNTAPP_TO_COMPLETE, value: \"open\" },\r\n    { title: i18n.ISNTAPP_TO_CLOSE, value: \"pending\" },\r\n    { title: i18n.ISNTAPP_CLOSED, value: \"close\" },\r\n  ];\r\n\r\n  let currentStatusTasks = [];\r\n\r\n  if (status === \"open\") {\r\n    tasksData.forEach((item) => {\r\n      if (item.Status === \"A\") {\r\n        currentStatusTasks.push(item);\r\n      }\r\n    });\r\n  }\r\n\r\n  if (status === \"pending\") {\r\n    tasksData.forEach((item) => {\r\n      if (item.Status === \"D\") {\r\n        currentStatusTasks.push(item);\r\n      }\r\n    });\r\n  }\r\n\r\n  if (status === \"close\") {\r\n    tasksData.forEach((item) => {\r\n      if (item.Status === \"CL\") {\r\n        currentStatusTasks.push(item);\r\n      }\r\n    });\r\n  }\r\n\r\n  currentStatusTasks.sort((a, b) =>\r\n    a.DueDate ? (a.DueDate > b.DueDate ? 1 : -1) : 1\r\n  );\r\n\r\n  const pending = getTaskCount().awaitCloseNum;\r\n  const open = getTaskCount().awaitComplateNum;\r\n  return (\r\n    <PrimaryLayout name=\"tasks\" title={i18n.INSTAPP_JOBLIST_TASKS}>\r\n      <Box\r\n        style={{\r\n          position: \"fixed\",\r\n          top: \"52px\",\r\n          width: \"100%\",\r\n          zIndex: \"10000\",\r\n        }}\r\n      >\r\n        <FFTab\r\n          tabs={tabs}\r\n          selectedTabValue={\"open\"}\r\n          onTabChange={(value) => setStatus(value)}\r\n        />\r\n        {type === \"assigner\"\r\n          ? pending > 0 && (\r\n              <span\r\n                style={{\r\n                  position: \"absolute\",\r\n                  top: \"0\",\r\n                  left: \"55%\",\r\n                  padding: \"2px 8px\",\r\n                  backgroundColor: \"red\",\r\n                  borderRadius: \"40px\",\r\n                  color: \"white\",\r\n                }}\r\n              >\r\n                {pending}\r\n              </span>\r\n            )\r\n          : open > 0 && (\r\n              <span\r\n                style={{\r\n                  position: \"absolute\",\r\n                  top: \"0\",\r\n                  left: \"21%\",\r\n                  padding: \"2px 8px\",\r\n                  backgroundColor: \"red\",\r\n                  borderRadius: \"40px\",\r\n                  color: \"white\",\r\n                }}\r\n              >\r\n                {open}\r\n              </span>\r\n            )}\r\n      </Box>\r\n\r\n      <Box\r\n        style={{\r\n          width: \"100%\",\r\n          padding: \"16px\",\r\n          position: \"absolute\",\r\n          top: \"32px\",\r\n          height: window.screen.height - 157 + \"px\",\r\n          overflow: \"hidden auto\",\r\n        }}\r\n      >\r\n        <TaskList\r\n          data={currentStatusTasks}\r\n          status={status}\r\n          type={type}\r\n          submit={(submitDatas) => {\r\n            submit(submitDatas);\r\n          }}\r\n        ></TaskList>\r\n      </Box>\r\n\r\n      {type === \"assigner\" && (\r\n        <Box\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          style={{\r\n            position: \"fixed\",\r\n            bottom: \"90px\",\r\n            right: \"16px\",\r\n          }}\r\n          onClick={() => {\r\n            history.push(\"/taskcreate\");\r\n          }}\r\n        >\r\n          <Fab style={{ backgroundColor: \"#cb0c33a8\", color: \"white\" }}>\r\n            <AddIcon />\r\n          </Fab>\r\n        </Box>\r\n      )}\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const { match } = ownProps;\r\n  const { params } = match;\r\n  const { type } = params;\r\n\r\n  const { tasks, orders, projects } = state;\r\n\r\n  return {\r\n    type,\r\n    tasksData:\r\n      type === \"assigner\"\r\n        ? taskCleaner(tasks.assigner, orders, projects) || []\r\n        : type === \"assignee\"\r\n        ? taskCleaner(tasks.assignee, orders, projects) || []\r\n        : [],\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    submit: (submitDatas) => {\r\n      dispatch(action.fetchCreateTask([submitDatas])).then((response) => {\r\n        repo.fetchTasks().then((data) => {\r\n          dispatch(action.setTasks(data));\r\n        });\r\n      });\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Tasks);\r\n","import { Box } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { AssignmentOutlined, ChevronRight } from \"@material-ui/icons\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { getAwaitComplateAwaitCloseCount } from \"js/util\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst TaskManagermentPage = withStyles(({ spacing }) => {\r\n  return {\r\n    root: {\r\n      width: `calc(100% - 16px)`,\r\n      height: `calc(100% - 16px)`,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      margin: \"8px\",\r\n    },\r\n    itemBox: {\r\n      width: \"100%\",\r\n      padding: \"4px\",\r\n      margin: \"4px\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      borderBottom: \"1px solid darkgray\",\r\n    },\r\n    itemIcon: {\r\n      width: `24px`,\r\n      color: \"rgb(220,0,0)\",\r\n      paddingTop: \"4px\",\r\n      margin: \"0 4px\",\r\n    },\r\n    discriptionBox: {\r\n      width: `calc(100% - 54px)`,\r\n    },\r\n    iconBox: {\r\n      paddingTop: \"6px\",\r\n      width: \"6px\",\r\n      color: \"rgb(220,0,0)\",\r\n    },\r\n    discription: {\r\n      padding: spacing(0.5, 1),\r\n      backgroundColor: \"red\",\r\n      borderRadius: \"30px\",\r\n      color: \"white\",\r\n      marginLeft: spacing(1),\r\n    },\r\n  };\r\n})(({ classes, taskDataGroup }) => {\r\n  const history = useHistory();\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const tasks = taskDataGroup.filter((task, index, self) =>\r\n    index === self.findIndex(t => t.taskType === task.taskType)\r\n  );\r\n\r\n  return (\r\n    <PrimaryLayout\r\n      name=\"TasksGroupPage\"\r\n      title={i18n.INSTAPP_JOBLIST_TASKS}\r\n      pageLevel={1}\r\n    >\r\n      <Box className={classes.root}>\r\n        {tasks.map((item,index) => {\r\n          return <Box\r\n            key={index}\r\n            className={classes.itemBox}\r\n            onClick={() => {\r\n              history.push(`/taskList/${item.taskType}`);\r\n            }}\r\n          >\r\n            <Box className={classes.itemIcon}>\r\n              <AssignmentOutlined />\r\n            </Box>\r\n            <Box className={classes.discriptionBox}>\r\n              {item.taskType}\r\n              {(item.awaitStartNum +item.awaitCloseNum + item.awaitComplateNum) > 0 && (\r\n                <span className={classes.discription}>{item.awaitStartNum +item.awaitCloseNum + item.awaitComplateNum}</span>\r\n              )}\r\n            </Box>\r\n            <Box className={classes.iconBox}>\r\n              <ChevronRight />\r\n            </Box>\r\n          </Box>\r\n        })}\r\n      \r\n      </Box>\r\n    </PrimaryLayout>\r\n  );\r\n});\r\nexport default connect((state, props) => {\r\n  let tasks = Object.keys(state?.tasks).length > 0 ? state?.tasks : [];\r\n  const taskList = getAwaitComplateAwaitCloseCount(tasks);\r\n  return {\r\n    taskDataGroup: taskList\r\n  };\r\n})(TaskManagermentPage);\r\n","import React from \"react\";\r\nimport { Button, Typography, Dialog, DialogContent, DialogTitle, AppBar, Divider, IconButton, Toolbar, Checkbox, List, ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nconst CheckboxListSecondary = ({ templateForm, handleToggle, checked }) => {\r\n    return (\r\n        <List >\r\n            {templateForm?.form[\"settings\"][\"tagUniverse\"].map((item, idx) => {\r\n                const labelId = `checkbox-list-secondary-label-${item}`;\r\n                return (\r\n                    <div key={idx}>\r\n                        <ListItem style={{ margin: \"6px 0\" }} button onClick={handleToggle(item)}>\r\n                            <ListItemText primary={`\r\n                             ${item.name === \"Tag_Triangle\" ?\r\n                                    \"\" :\r\n                                    item.name === \"Tag_Square\" ?\r\n                                        \"\" :\r\n                                        item.name}`} />\r\n                            <ListItemIcon>\r\n                                <Checkbox\r\n                                    edge=\"start\"\r\n                                    checked={checked.indexOf(item) !== -1}\r\n                                    tabIndex={-1}\r\n                                    disableRipple\r\n                                    inputProps={{ 'aria-labelledby': labelId }}\r\n                                />\r\n                            </ListItemIcon>\r\n                        </ListItem>\r\n                        <Divider component=\"p\" />\r\n                    </div>\r\n                );\r\n            })}\r\n        </List>\r\n    );\r\n}\r\n\r\nconst Index = ({ open, setOpen, templateForm, handleToggle, checked, confirmFilter }) => {\r\n    return (\r\n        <div>\r\n            <Dialog\r\n                fullScreen\r\n                open={open}\r\n                keepMounted\r\n                onClose={() => setOpen(false)}\r\n                aria-labelledby=\"alert-dialog-slide-title\"\r\n                aria-describedby=\"alert-dialog-slide-description\"\r\n            >\r\n                <AppBar style={{ backgroundColor: \"rgb(220, 2, 2)\" }}>\r\n                    <Toolbar style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                        <IconButton onClick={() => setOpen(false)} edge=\"start\" color=\"inherit\" aria-label=\"close\">\r\n                            <CloseIcon />\r\n                        </IconButton>\r\n                        <Typography variant=\"h6\" component=\"h2\">\r\n                            Filter\r\n                        </Typography>\r\n                        <Button autoFocus color=\"inherit\" onClick={() => confirmFilter()} >\r\n                            save\r\n                        </Button>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <DialogTitle id=\"alert-dialog-slide-title\">{\"Use Google's location service?\"}</DialogTitle>\r\n                <DialogContent>\r\n                    <CheckboxListSecondary templateForm={templateForm} handleToggle={handleToggle} checked={checked} />\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Index","import { Box, Button } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport * as action from \"actions\";\r\nimport ConfirmModal from \"components/ConfirmModal\";\r\nimport { TitlePage } from \"components/TemplateForm/TitlePage\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { Base64 } from \"js-base64\";\r\nimport { deserialize, serialize } from \"js/sfdl\";\r\nimport {\r\n  componentGenerator,\r\n  initProps,\r\n  isVisible,\r\n  tmplLangMapper,\r\n} from \"js/templateFormUtil\";\r\nimport {\r\n  deleteDraftFromLocal,\r\n  isFormUpdated,\r\n  verify,\r\n  removeNotVisibleFields,\r\n} from \"js/util\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport * as repo from \"js/fetch\";\r\nimport FilterIcon from \"../../assets/img/filter.png\";\r\nimport TemplateFilter from \"../../components/TemplateFilter\"\r\n\r\nconst TemplatePage = withStyles(({ spacing }) => {\r\n  return {\r\n    root: {\r\n      width: \"100%\",\r\n      fontWeight: 500,\r\n      position: \"fixed\",\r\n      top: \"54px\",\r\n      display: \"flex\",\r\n      justifyContent: \"space-between\",\r\n      backgroundColor: \" #efe9e9\",\r\n      borderBottom: \"1px solid #eae9e9\",\r\n      zIndex: \"1\",\r\n    },\r\n    btn: {\r\n      color: \"#123db5\",\r\n      textTransform: \"capitalize\",\r\n      marginRight: spacing(2),\r\n    },\r\n    container: {\r\n      margin: spacing(7, 2, 0, 2),\r\n    },\r\n  };\r\n})(\r\n  ({\r\n    description,\r\n    savePDF,\r\n    classes,\r\n    formState,\r\n    fieldsState,\r\n    getTemplateForm,\r\n    templateFormData,\r\n    initTemplateForm,\r\n    storeCurrentParams,\r\n    activityNo,\r\n    orderNo,\r\n    projectNumber,\r\n    fo: foe,\r\n    region,\r\n    prctr: branch,\r\n    saveAndReturn,\r\n    removeTemplateState,\r\n    productFamily,\r\n    productLine,\r\n    language,\r\n  }) => {\r\n    const i18n = React.useContext(LocalizeContext);\r\n    let { documentNo, documentPart } = useParams();\r\n    const [initData, setInitData] = useState(null);\r\n    const [dialog, setDialog] = React.useState(false);\r\n    const [checked, setChecked] = React.useState([1]);\r\n    const [templateForm, setTemplateForm] = useState({ fields:[]});\r\n\r\n    const useInitForm = () => {\r\n      useEffect(() => {\r\n        getTemplateForm(\r\n          {\r\n            documentNo,\r\n            documentPart,\r\n          },\r\n          {\r\n            ProjectNo: projectNumber,\r\n            orderNo,\r\n            activityNo,\r\n            description,\r\n            branch,\r\n            foe,\r\n            region,\r\n          },\r\n          {\r\n            activityNo,\r\n            productFamily,\r\n            productLine,\r\n            language,\r\n          }\r\n        ).then((res) => {\r\n          initTemplateForm(\r\n            documentNo,\r\n            documentPart,\r\n            activityNo,\r\n            productFamily,\r\n            productLine,\r\n            language,\r\n            res.value,\r\n            { orderNo }\r\n          ).then((data) => {\r\n            setInitData(data);\r\n          });\r\n          if (res.code === 2) {\r\n            alert(\"\");\r\n            deleteDraftFromLocal({\r\n              documentNo,\r\n              documentPart,\r\n            });\r\n          }\r\n        });\r\n\r\n        storeCurrentParams({\r\n          documentNo,\r\n          documentPart,\r\n          activityNo,\r\n          productFamily,\r\n          productLine,\r\n          language,\r\n        });\r\n      }, []);\r\n    };\r\n\r\n    useInitForm();\r\n\r\n    const history = useHistory();\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const closeMenu = () => {\r\n      removeTemplateState(\r\n        documentNo,\r\n        documentPart,\r\n        activityNo,\r\n        productFamily,\r\n        productLine,\r\n        language\r\n      );\r\n      history.goBack();\r\n      setOpen(false);\r\n    };\r\n\r\n    const submit = (e) => {\r\n      const result = verify(templateFormData.fields);\r\n      if (result) {\r\n        let data = {\r\n          projectNo: projectNumber,\r\n          orderNo: orderNo,\r\n          activityNo: activityNo,\r\n          description: description,\r\n          branch,\r\n          foe,\r\n          region,\r\n          override: true,\r\n          form: Base64.encode(\r\n            serialize(removeNotVisibleFields(templateFormData))\r\n          ),\r\n        };\r\n        let draftData = {\r\n          projectNo: projectNumber,\r\n          orderNo: orderNo,\r\n          activityNo: activityNo,\r\n          description: description,\r\n          branch: branch,\r\n          foe: foe,\r\n          region: region,\r\n          form: Base64.encode(serialize(templateFormData)),\r\n        };\r\n        savePDF(data, draftData, {\r\n          documentNo,\r\n          documentPart,\r\n          activityNo,\r\n          productFamily,\r\n          productLine,\r\n          language,\r\n        });\r\n      }\r\n    };\r\n\r\n    const goBack = () => {\r\n      if (\r\n        isFormUpdated(templateFormData, deserialize(Base64.decode(initData)))\r\n      ) {\r\n        setOpen(true);\r\n      } else {\r\n        removeTemplateState(\r\n          documentNo,\r\n          documentPart,\r\n          activityNo,\r\n          productFamily,\r\n          productLine,\r\n          language\r\n        );\r\n        history.goBack();\r\n      }\r\n    };\r\n\r\n    const saveDraft = (type) => {\r\n      setOpen(false);\r\n      let data = {\r\n        projectNo: projectNumber,\r\n        orderNo: orderNo,\r\n        activityNo: activityNo,\r\n        description: description,\r\n        branch: branch,\r\n        foe: foe,\r\n        region: region,\r\n        form: Base64.encode(serialize(templateFormData)),\r\n      };\r\n\r\n      const currentParams = {\r\n        documentNo,\r\n        documentPart,\r\n      };\r\n\r\n      if (type === \"save\") {\r\n        saveAndReturn(data, currentParams, {\r\n          productFamily,\r\n          productLine,\r\n          language,\r\n        }).then(() => {\r\n          setInitData(data.form);\r\n          alert(\"\");\r\n        });\r\n      } else {\r\n        saveAndReturn(data, currentParams, {\r\n          productFamily,\r\n          productLine,\r\n          language,\r\n        }).then(() => {\r\n          history.goBack();\r\n          removeTemplateState(\r\n            documentNo,\r\n            documentPart,\r\n            activityNo,\r\n            productFamily,\r\n            productLine,\r\n            language\r\n          );\r\n        });\r\n      }\r\n    };\r\n\r\n    const handleToggle = (value) => () => {\r\n      const currentIndex = checked.indexOf(value);\r\n      const newChecked = [...checked];\r\n      if (currentIndex === -1) {\r\n        newChecked.push(value);\r\n      } else {\r\n        newChecked.splice(currentIndex, 1);\r\n      }\r\n      setChecked(newChecked);\r\n    };\r\n\r\n    const confirmFilter = () => {      \r\n      if (checked.length > 1) {\r\n        const checkedId = [];\r\n        checked.forEach((item) => item?.id && checkedId.push(item.id))\r\n        const fields = []\r\n        checkedId.forEach(item => {\r\n          templateFormData[\"fields\"].forEach((field) => {\r\n            field.settings.tagRules.forEach((tagRule) => {\r\n              item === tagRule.tagId && fields.push(field)\r\n            })\r\n          })\r\n        });\r\n        console.log(fields)\r\n        setTemplateForm({ ...templateFormData, fields: fields })\r\n      } else {\r\n        setTemplateForm(templateFormData)\r\n      }\r\n      setDialog(false)\r\n    }\r\n\r\n    return (\r\n      <PrimaryLayout\r\n        title={i18n.ISNTAPP_TEMPLATE}\r\n        isDirectReturn={false}\r\n        isFetchAll={false}\r\n        goBack={goBack}\r\n      >\r\n        <Box className={classes.root}>\r\n          {templateFormData?.form[\"settings\"][\"tagUniverse\"].length > 0 ? <Button\r\n            onClick={() => setDialog(true)}\r\n          >\r\n            <img src={FilterIcon} alt=\"\" />\r\n          </Button>:<Box></Box>}\r\n          <Box>\r\n            <Button className={classes.btn} onClick={() => saveDraft(\"save\")}>\r\n              {i18n.ISNTAPP_SAVE_AS_PDF}\r\n            </Button>\r\n            <Button className={classes.btn} onClick={() => submit()}>\r\n              {i18n.ISNTAPP_TEMPLATE_UPLOAD}\r\n            </Button>\r\n            </Box>\r\n        </Box>\r\n        <Box className={classes.container}>\r\n          <TitlePage {...formState} />\r\n          {(checked.length > 1 ? templateForm[\"fields\"] : fieldsState).map((field) => {\r\n            return isVisible(field)\r\n              ? componentGenerator(field, initProps(field, language))\r\n              : null;\r\n          })}\r\n        </Box>\r\n        <ConfirmModal\r\n          open={open}\r\n          onClose={closeMenu}\r\n          handleClick={() => saveDraft()}\r\n        >\r\n          {i18n.INSTALLATION_DO_YOU_WANGT_TO_SAVE_THE_DRAFT}\r\n        </ConfirmModal>\r\n        <TemplateFilter\r\n          templateForm={templateFormData}\r\n          open={dialog}\r\n          setOpen={setDialog}\r\n          handleToggle={handleToggle}\r\n          checked={checked}\r\n          confirmFilter={confirmFilter}\r\n        />\r\n      </PrimaryLayout>\r\n    );\r\n  }\r\n);\r\n\r\nconst mapStateToProps = ({ templateForm, templates, orders }, ownProps) => {\r\n  let {\r\n    activityNo,\r\n    documentPart,\r\n    orderNo,\r\n    projectNumber,\r\n    documentNo,\r\n    productFamily,\r\n    productLine,\r\n    language,\r\n  } = ownProps.match.params;\r\n\r\n  const key =\r\n    documentNo +\r\n    \"-\" +\r\n    documentPart +\r\n    \"-\" +\r\n    activityNo +\r\n    \"-\" +\r\n    productFamily +\r\n    \"-\" +\r\n    productLine +\r\n    \"-\" +\r\n    language;\r\n\r\n  let formState = {};\r\n  let fieldsState = [];\r\n  if (templateForm[key]) {\r\n    formState = {\r\n      title: templateForm[key].form?.settings.titleI18n[\r\n        tmplLangMapper[language]\r\n      ]\r\n        ? templateForm[key].form?.settings.titleI18n[tmplLangMapper[language]]\r\n        : templateForm[key].form?.settings.titleI18n.English,\r\n      description: templateForm[key].form?.settings.descriptionI18n[\r\n        tmplLangMapper[language]\r\n      ]\r\n        ? templateForm[key].form?.settings.descriptionI18n[\r\n            tmplLangMapper[language]\r\n          ]\r\n        : templateForm[key].form?.settings.descriptionI18n.English,\r\n      logos: templateForm[key].form?.settings.logos,\r\n      identifier: templateForm[key].form?.settings.identifier,\r\n    };\r\n    fieldsState = templateForm[key].fields;\r\n  }\r\n\r\n  let templateFormData = templateForm[key];\r\n\r\n  let description = templates[activityNo]?.find(\r\n    (item) =>\r\n      item.documentPart === documentPart &&\r\n      item.documentNo === documentNo &&\r\n      item.productFamily ===\r\n        (productFamily === \"null\" ? null : productFamily) &&\r\n      item.productLine === (productLine === \"null\" ? null : productLine) &&\r\n      item.language === language\r\n  ).documentDescription;\r\n  let order = orders?.[orderNo];\r\n  return {\r\n    formState,\r\n    fieldsState,\r\n    templateFormData,\r\n    activityNo,\r\n    orderNo,\r\n    projectNumber,\r\n    description,\r\n    fo: order?.fo,\r\n    region: order?.region,\r\n    prctr: order?.prctr,\r\n    productFamily,\r\n    productLine,\r\n    language,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    storeCurrentParams: (param) => {\r\n      dispatch(action.storeCurrentParams(param));\r\n    },\r\n    getTemplateForm: (param, draftParam, expendParam) => {\r\n      dispatch(action.fetchAll(repo.type.CACHE));\r\n      return dispatch(action.fetchTemplateForm(param, draftParam, expendParam));\r\n    },\r\n    initTemplateForm: (\r\n      documentNo,\r\n      documentPart,\r\n      activityNo,\r\n      productFamily,\r\n      productLine,\r\n      language,\r\n      data,\r\n      routeParams\r\n    ) => {\r\n      return dispatch(\r\n        action.initTemplateForm(\r\n          documentNo,\r\n          documentPart,\r\n          activityNo,\r\n          productFamily,\r\n          productLine,\r\n          language,\r\n          data,\r\n          routeParams\r\n        )\r\n      );\r\n    },\r\n    savePDF: (data, draftData, param) => {\r\n      dispatch(action.uploadDocumentForm(data, draftData, param));\r\n    },\r\n    saveAndReturn: (data, currentParams, extendParam) => {\r\n      return dispatch(action.saveDraft(data, currentParams, extendParam));\r\n    },\r\n    removeTemplateState: (\r\n      documentNo,\r\n      documentPart,\r\n      activityNo,\r\n      productFamily,\r\n      productLine,\r\n      language\r\n    ) => {\r\n      dispatch(\r\n        action.removeTemplateFormState({\r\n          documentNo,\r\n          documentPart,\r\n          activityNo,\r\n          productFamily,\r\n          productLine,\r\n          language,\r\n        })\r\n      );\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TemplatePage);\r\n","import {\r\n  Accordion,\r\n  AccordionSummary,\r\n  Box,\r\n  Button,\r\n  Typography,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\nimport * as action from \"actions\";\r\nimport Model from \"components/Model\";\r\nimport Pdf from \"components/Pdf\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport { default as React, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport FFTab from \"components/FFTab\";\r\n\r\nconst Template = withStyles(({ spacing }) => ({\r\n  root: {\r\n    padding: 0,\r\n  },\r\n  box: {\r\n    width: \"90%\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    margin: \"0 auto\",\r\n  },\r\n}))(({ classes, preview, name, id }) => {\r\n  const [expanded] = React.useState(true);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [pdfurl, setPdfurl] = React.useState(null);\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleClickOpen = (id) => {\r\n    preview(id).then((url) => {\r\n      setPdfurl(url);\r\n      setOpen(true);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Accordion expanded={expanded}>\r\n      <AccordionSummary className={classes.root}>\r\n        <Box className={classes.box}>\r\n          <Typography style={{ lineHeight: \"36px\" }} color=\"error\">\r\n            {name}\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            style={{ height: \"fit-content\" }}\r\n            onClick={() => handleClickOpen(id)}\r\n          >\r\n            \r\n          </Button>\r\n        </Box>\r\n      </AccordionSummary>\r\n      <Model open={open} title={name} handleClose={handleClose}>\r\n        <Pdf filePath={pdfurl} />\r\n      </Model>\r\n    </Accordion>\r\n  );\r\n});\r\n\r\nconst UserManualPage = withStyles(({ spacing }) => ({\r\n  root: {\r\n    width: \"90%\",\r\n    fontWeight: \"500\",\r\n    margin: spacing(2, \"auto\"),\r\n  },\r\n  list: {\r\n    padding: 0,\r\n  },\r\n  listItem: {\r\n    marginBottom: spacing(3),\r\n    backgroundColor: \"#fff\",\r\n  },\r\n}))(({ preview, classes, getUserManual }) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const [data, setData] = React.useState([]);\r\n  const [tabs, setTabs] = React.useState([]);\r\n  const [tabItem, setTabItem] = React.useState();\r\n\r\n  const getData = () => {\r\n    getUserManual().then((res) => {\r\n      const tabName = [\r\n        ...new Set(\r\n          res.map((item) => {\r\n            return item.type;\r\n          })\r\n        ),\r\n      ].map((item) => {\r\n        return { title: item, value: item };\r\n      });\r\n\r\n      setTabItem(tabName?.[0]?.title);\r\n      setTabs(tabName);\r\n      setData(res);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <PrimaryLayout\r\n      name=\"activity Document\"\r\n      title={i18n.INSTALLATION_USER_MANUAL}\r\n    >\r\n      {tabItem && (\r\n        <FFTab\r\n          tabs={tabs}\r\n          selectedTabValue={tabItem}\r\n          onTabChange={(value) => {\r\n            setTabItem(value);\r\n          }}\r\n        />\r\n      )}\r\n\r\n      <Box className={classes.root}>\r\n        {data?.length > 0 &&\r\n          data\r\n            .filter((item) => item.type === tabItem)\r\n            .map((item, index) => {\r\n              return (\r\n                <Template\r\n                  key={index}\r\n                  preview={preview}\r\n                  name={item.name}\r\n                  id={item.id}\r\n                />\r\n              );\r\n            })}\r\n      </Box>\r\n    </PrimaryLayout>\r\n  );\r\n});\r\n\r\nexport default connect(\r\n  ({ state }, { ownProps }) => {\r\n    return {};\r\n  },\r\n  (dispatch) => {\r\n    return {\r\n      getUserManual: () => {\r\n        return dispatch(action.getUserManual());\r\n      },\r\n      preview: (id) => {\r\n        return dispatch(action.getPdfData(id));\r\n      },\r\n    };\r\n  }\r\n)(UserManualPage);\r\n","import {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  Grid,\r\n  Typography,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  CheckCircleOutlineOutlined,\r\n  DescriptionOutlined\r\n} from \"@material-ui/icons\";\r\nimport HourglassEmptySharpIcon from '@material-ui/icons/HourglassEmptySharp';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport React from \"react\";\r\n\r\nconst TaskListCard = withStyles(({ spacing }) => {\r\n  return {\r\n    button: {\r\n      borderRadius: spacing(2.5),\r\n      lineHeight: \"unset\",\r\n      fontSize: \"2.5rem\",\r\n      padding: \"2px 14px\",\r\n    },\r\n    card: {\r\n      marginTop: spacing(2),\r\n    },\r\n    cardActions: {\r\n      marginLeft: \"0px\",\r\n    },\r\n    contentColor: {\r\n      color: \"#999999\",\r\n      wordBreak: \"break-word\",\r\n    },\r\n    fontColor: {\r\n      color: \"#e54141\",\r\n      // color: \"rgba(0, 0, 0, 0.54)\",\r\n    },\r\n    iconColor: {\r\n      color: \"rgba(0, 0, 0, 0.54)\",\r\n    },\r\n  };\r\n})(\r\n  ({\r\n    classes,\r\n    data,\r\n    submit,\r\n  }) => {\r\n    const i18n = React.useContext(LocalizeContext);\r\n    const history = useHistory();\r\n\r\n    const document = data.documentStatus === \"Done\"\r\n      ? i18n.ISNTAPP_UPLOADED\r\n      : data.documentStatus === \"ToDo\"\r\n        ? i18n.ISNTAPP_JOBLIST_DOC_TODO\r\n        : i18n.ISNTAPP_WITHOUT_TEMPLATES;\r\n\r\n    return (\r\n      <Card className={classes.card}>\r\n        <CardContent onClick={() => history.push(`/order/${data.orderNo}`)}>\r\n          <Grid container>\r\n            <Grid item xs={12}>\r\n              <Box mt={1} style={{ display: \"inline-flex\" }}>\r\n                <Typography variant=\"body2\" style={{ marginRight: \"4px\" }}>\r\n                  {i18n.JOBLIST_ORDER}:\r\n                </Typography>\r\n                <Typography\r\n                  variant=\"caption\"\r\n                >\r\n                  {data.orderNo}\r\n                </Typography>\r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Box mt={1} style={{ display: \"inline-flex\" }}>\r\n                <Typography variant=\"body2\" style={{ marginRight: \"4px\" }}>\r\n                  {i18n.PROJECTLIST_PROJECT}:\r\n                </Typography>\r\n                <Typography\r\n                  variant=\"caption\"\r\n                >\r\n                  {data.projectName}\r\n                </Typography>\r\n              </Box>\r\n            </Grid>\r\n            <Grid item style={{ display: \"flex\", justifyContent: 'space-between', marginTop: 6 }} xs={12}>\r\n              <Grid item xs={6}>\r\n                <Typography variant=\"caption\">\r\n                  {i18n.ISNTAPP_PLAN_START_DATE}:\r\n                  {data.planStartDate}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <Typography variant=\"caption\">\r\n                  {i18n.ISNTAPP_ACTUAL_START_DATE}:\r\n                  {data.actualStartDate}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item style={{ display: \"flex\", justifyContent: 'space-between',marginTop:6 }} xs={12}>\r\n              <Grid item xs={6}>\r\n                <Typography variant=\"caption\">\r\n                  {i18n.ISNTAPP_PLAN_END_DATE}:\r\n                  {data.planEndDate}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <Typography variant=\"caption\">\r\n                  {i18n.ISNTAPP_ACTUAL_END_DATE}:\r\n                  {data.actualEndDate}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item style={{ display: \"flex\", justifyContent: 'space-between', marginTop: 6 }} xs={12}>\r\n              <Grid item xs={6}>\r\n              </Grid>\r\n              {data.status === 'closed' &&\r\n                <Grid item xs={6}>\r\n                  <Typography variant=\"caption\">\r\n                    {i18n.ISNTAPP_ACTUAL_CLOSED_DATE}:{data.actualCloseDate}\r\n                  </Typography>\r\n                </Grid>\r\n              }\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n        <CardActions\r\n          style={{\r\n            backgroundColor: \"#f5f5f5\",\r\n            padding: \"2px\",\r\n            justifyContent: \"space-around\"\r\n          }}\r\n        >\r\n          <Button\r\n            size=\"small\"\r\n            disabled={!data.actualStartDate?false:true}\r\n            style={{\r\n              display:\r\n                data.status === \"awaitComplate\" || data.status === \"awaitStart\" ? \"inline-grid\" : \"none\",\r\n            }}\r\n            onClick={() => {\r\n              submit(\"start\", data);\r\n            }}\r\n          >\r\n            <HourglassEmptySharpIcon\r\n              color={!data.actualStartDate ? 'action' : 'disabled' }\r\n            />\r\n            <Typography variant=\"caption\">{i18n.ISNTAPP_START}</Typography>\r\n          </Button>\r\n\r\n          <Button\r\n            size=\"small\"\r\n            style={{\r\n              display: \"inline-grid\",\r\n              textAlign: \"center\"\r\n            }}\r\n            onClick={() => {\r\n              history.push(\r\n                `/documents/${data.activityNo}/${data.orderNo}/${data?.productFamily}/listCard`\r\n              );\r\n            }}\r\n          >\r\n            <DescriptionOutlined style={{ margin: \"auto\" }} classes={{ root: classes.iconColor }} />\r\n            <Typography variant=\"caption\">{document}</Typography>\r\n          </Button>\r\n          <Button\r\n            disabled={\r\n              data.status === \"awaitComplate\" ? (data.actualStartDate && !data.actualEndDate ? false : true) :\r\n                data.status === \"awaitClose\"? false: true\r\n            }\r\n            size=\"small\"\r\n            style={{\r\n              display: data.status === \"closed\" ? \"none\" : \"inline-grid\",\r\n            }}\r\n            onClick={() => {\r\n              submit(data.status === \"awaitComplate\" ? \"finish\" : \"close\", data);\r\n            }}\r\n          >\r\n            <CheckCircleOutlineOutlined\r\n              color={data.status === \"awaitComplate\" ?\r\n                (data.actualStartDate && !data.actualEndDate ? 'action' : 'disabled') :\r\n                data.status === \"awaitClose\" ? 'action' : 'disabled'\r\n              }\r\n            />\r\n            <Typography variant=\"caption\">{data.status === \"awaitComplate\" || data.status === \"awaitStart\" ? i18n.ISNTAPP_COMPLETE : i18n.ISNTAPP_CLOSE}</Typography>\r\n          </Button>\r\n        </CardActions>\r\n      </Card>\r\n    );\r\n  }\r\n);\r\nexport default TaskListCard;\r\n","import React from \"react\";\r\nimport { Box } from \"@material-ui/core\";\r\nimport TaskItemCard from \"components/TaskItemCard\";\r\n\r\nconst TaskList = ({ data, status, type, submit }) => {\r\n  return (\r\n    <Box>\r\n      {data.map((item, index) => {\r\n        return (\r\n          <TaskItemCard\r\n            data={item}\r\n            type={type}\r\n            status={status}\r\n            submit={(action,data) =>\r\n              submit(action,data)\r\n            }\r\n            key={index}\r\n          />\r\n        );\r\n      })}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default TaskList;\r\n","import { Box } from \"@material-ui/core\";\r\nimport FFTab from \"components/FFTab\";\r\nimport TaskListItem from \"components/TaskListItem\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { toDoOrDone } from \"js/util\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport * as action from \"actions\";\r\nimport * as util from \"js/util\";\r\n\r\nconst Tasks = ({ type, tasksData, getTaskCount, submit, orders, orderActivities }) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const [status, setStatus] = React.useState(\"open\");\r\n  const params = useParams()\r\n  const awaitStart = getTaskCount(tasksData, 'awaitStart');\r\n  const awaitComplate = getTaskCount(tasksData,'awaitComplate');\r\n  const awaitClose = getTaskCount(tasksData, 'awaitClose');\r\n  const tabs = [\r\n    { title: i18n.ISNTAPP_TO_COMPLETE, value: \"open\" },\r\n    { title: i18n.ISNTAPP_TO_CLOSE, value: \"pending\" },\r\n    { title: i18n.ISNTAPP_CLOSED, value: \"close\" },\r\n  ];\r\n\r\n  let currentStatusTasks = [];\r\n\r\n  if (status === \"open\") {\r\n    tasksData.forEach((item) => {\r\n      if (item.status === \"awaitComplate\" || item.status === \"awaitStart\") {\r\n        currentStatusTasks.push(item);\r\n      }\r\n    });\r\n  }\r\n\r\n  if (status === \"pending\") {\r\n    tasksData.forEach((item) => {\r\n      if (item.status === \"awaitClose\") {\r\n        currentStatusTasks.push(item);\r\n      }\r\n    });\r\n  }\r\n\r\n  if (status === \"close\") {\r\n    tasksData.forEach((item) => {\r\n      if (item.status === \"closed\") {\r\n        currentStatusTasks.push(item);\r\n      }\r\n    });\r\n  }\r\n  \r\n  return (\r\n    <PrimaryLayout name=\"tasks\" title={params.type}>\r\n      <Box\r\n        style={{\r\n          position: \"fixed\",\r\n          top: \"52px\",\r\n          width: \"100%\",\r\n          zIndex: \"10000\",\r\n        }}\r\n      >\r\n        <FFTab\r\n          tabs={tabs}\r\n          selectedTabValue={\"open\"}\r\n          onTabChange={(value) => setStatus(value)}\r\n        />\r\n        <span\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"0\",\r\n            left: \"22%\",\r\n            padding: \"2px 8px\",\r\n            backgroundColor: \"red\",\r\n            borderRadius: \"40px\",\r\n            color: \"white\",\r\n            display: (awaitComplate + awaitStart) >0?'block':'none'\r\n          }}\r\n        >\r\n          {awaitComplate + awaitStart}\r\n        </span>\r\n            <span\r\n              style={{\r\n                position: \"absolute\",\r\n                top: \"0\",\r\n                left: \"55%\",\r\n                padding: \"2px 8px\",\r\n                backgroundColor: \"red\",\r\n                borderRadius: \"40px\",\r\n                color: \"white\",\r\n                display: awaitClose > 0 ? 'block' : 'none'\r\n              }}\r\n            >\r\n          {awaitClose}\r\n        </span>\r\n      </Box>\r\n\r\n      <Box\r\n        style={{\r\n          width: \"100%\",\r\n          padding: \"16px\",\r\n          position: \"absolute\",\r\n          top: \"32px\",\r\n          height: window.screen.height - 157 + \"px\",\r\n          overflow: \"hidden auto\",\r\n        }}\r\n      >\r\n        <TaskListItem\r\n          data={currentStatusTasks}\r\n          status={status}\r\n          type={type}\r\n          submit={(type, data) => { \r\n              const activityParams = util.setActivityStatusParams(\r\n                                    data.projectNo,\r\n                                    data.orderNo,\r\n                                    data.activityNo,\r\n                                    util.formatDateToYMD(new Date()),\r\n                                    1,\r\n                                    orderActivities,\r\n                                    orders\r\n            );\r\n            submit(type, data,activityParams)\r\n          }}\r\n        ></TaskListItem>\r\n      </Box>\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const { match } = ownProps;\r\n  const { params } = match;\r\n  const { type } = params;\r\n  const { tasks, orders, templates, documentList, orderActivities } = state;\r\n  let data = Object.keys(tasks).length > 0 ? tasks : [];\r\n  let taskList = data.filter((item) => item.taskType === type);\r\n\r\n  taskList.forEach((item) =>\r\n  {\r\n    item['productFamily'] = orders[item?.orderNo]?.productFamily;\r\n    item['documentStatus'] = toDoOrDone(\r\n      orders[item?.orderNo]?.projectNumber,\r\n      item.orderNo,\r\n      item.activityNo,\r\n      templates,\r\n      documentList\r\n      );\r\n    }\r\n  )\r\n\r\n  return {\r\n    type,\r\n    tasksData: taskList,\r\n    orders,\r\n    orderActivities\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    submit: (type, data, activityParams) => {\r\n      dispatch(action.processingTasks(type, data,activityParams,dispatch))\r\n    },\r\n    getTaskCount: (task, status) => {\r\n      let count = task.filter((item) => item.status === status).length\r\n      return count\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Tasks);\r\n","import MomentUtils from \"@date-io/moment\";\r\nimport { CssBaseline } from \"@material-ui/core\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport PrivateRoute from \"components/PrivateRoute\";\r\nimport { createBrowserHistory } from \"history\";\r\nimport { LocalizeContext, localizedStrings } from \"i18n\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/zh-cn\";\r\nimport AboutPage from \"pages/AboutPage\";\r\nimport ActivityDetailPage from \"pages/ActivityDetailPage\";\r\nimport ActivityListPage from \"pages/ActivityListPage\";\r\nimport ChangePasswordPage from \"pages/ChangePasswordPage\";\r\nimport DocumentsPage from \"pages/DocumentsPage\";\r\nimport FittersAssignmentPage from \"pages/FittersAssignmentPage\";\r\nimport LoginPage from \"pages/LoginPage\";\r\nimport MePage from \"pages/MePage\";\r\nimport NewUserResetPasswordPage from \"pages/NewUserResetPasswordPage\";\r\nimport OrderActivityListPage from \"pages/OrderActivityListPage\";\r\nimport OrderDetailPage from \"pages/OrderDetailPage\";\r\nimport OrderInstallationListPage from \"pages/OrderInstallationListPage\";\r\nimport ProjectDetailPage from \"pages/ProjectDetailPage\";\r\nimport ProjectInstallationStepsPage from \"pages/ProjectInstallationStepsPage\";\r\nimport ProjectListPage from \"pages/ProjectListPage\";\r\nimport ProjectProgressPage from \"pages/ProjectProgressPage\";\r\nimport SubconTeamPage from \"pages/SubconTeamPage\";\r\nimport SynchronizePage from \"pages/SynchronizePage\";\r\nimport TaskCreatePage from \"pages/TaskCreatePage\";\r\nimport TaskManagermentPage from \"pages/TaskManagermentPage\";\r\nimport TasksPage from \"pages/TasksPage\";\r\nimport TasksGroupPage from \"pages/TaskGroupPage\";\r\nimport TemplatePage from \"pages/TemplatePage\";\r\nimport UserManualPage from \"pages/UserManualPage\";\r\nimport React, { Fragment, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, Route, Router, Switch } from \"react-router-dom\";\r\nimport TaskListPage from \"pages/TaskListPage\";\r\n\r\nconst history = createBrowserHistory();\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    // primary: {\r\n    //   main: \"#dc0000\",\r\n    // },\r\n  },\r\n});\r\n\r\nconst App = ({ settings }) => {\r\n  const auth = JSON.parse(window.localStorage.getItem(\"auth\"));\r\n  let roles = auth?.roles||[];\r\n  const isEISV = roles.indexOf('SL') > -1;\r\n\r\n  useEffect(() => {\r\n    const script = document.createElement('script');\r\n    script.src = process.env.REACT_APP_BAIDU_MAP_CDN + process.env.REACT_APP_BAIDU_MAP_AK + '&callback=initMap'; \r\n    script.async = true;\r\n\r\n    document.body.appendChild(script);\r\n\r\n    return () => {\r\n      document.body.removeChild(script); \r\n    };\r\n  }, []);\r\n\r\n  \r\n  return (\r\n    <Fragment>\r\n      <CssBaseline />\r\n      <LocalizeContext.Provider value={localizedStrings[settings.language]}>\r\n        <MuiPickersUtilsProvider\r\n          libInstance={moment}\r\n          utils={MomentUtils}\r\n          locale={settings.language}\r\n        >\r\n          <ThemeProvider theme={theme}>\r\n            <Router history={history}>\r\n              <Switch>\r\n                <PrivateRoute exact path=\"/\" component={!isEISV ? ActivityListPage : TasksGroupPage} />\r\n                <PrivateRoute\r\n                  path=\"/activity/:number\"\r\n                  component={ActivityDetailPage}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/documents/:activityNo/:orderNo/:productFamily/:root\"\r\n                  component={DocumentsPage}\r\n                />\r\n                <Route path=\"/login\" component={LoginPage} />\r\n                <PrivateRoute\r\n                  path=\"/fitters/:number\"\r\n                  component={FittersAssignmentPage}\r\n                />\r\n                <Route\r\n                  path=\"/orderInstallations/:number\"\r\n                  component={OrderInstallationListPage}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/orderActivities/:number\"\r\n                  component={OrderActivityListPage}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/template/:documentNo/:documentPart/:activityNo/:orderNo/:projectNumber/:productFamily/:productLine/:language\"\r\n                  component={TemplatePage}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/order/:number\"\r\n                  component={OrderDetailPage}\r\n                />\r\n                <PrivateRoute path=\"/projects\" component={ProjectListPage} />\r\n                <PrivateRoute path=\"/subconTeam\" component={SubconTeamPage} />\r\n                <PrivateRoute path=\"/tasks/:type\" component={TasksPage} />\r\n                <PrivateRoute path=\"/me\" component={MePage} />\r\n                <PrivateRoute path=\"/about\" component={AboutPage} />\r\n                <PrivateRoute path=\"/synchronize\" component={SynchronizePage} />\r\n                <PrivateRoute path=\"/userManual\" component={UserManualPage} />\r\n                <PrivateRoute\r\n                  path=\"/ChangePassword\"\r\n                  component={ChangePasswordPage}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/newUserResetPassword/:firstLogin/:firstLoginPassword\"\r\n                  component={NewUserResetPasswordPage}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/taskManagerment\"\r\n                  component={TaskManagermentPage}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/TasksGroupPage\"\r\n                  component={TasksGroupPage}\r\n                />\r\n                <PrivateRoute path=\"/taskcreate\" component={TaskCreatePage} />\r\n                <PrivateRoute\r\n                  path=\"/projectProgressPage/:projectNumber\"\r\n                  component={ProjectProgressPage}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/projectInstallationSteps/:projectNumber\"\r\n                  component={ProjectInstallationStepsPage}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/project/:projectNumber\"\r\n                  component={ProjectDetailPage}\r\n                />\r\n                <PrivateRoute\r\n                  path=\"/taskList/:type\"\r\n                  component={TaskListPage}\r\n                />\r\n                <Redirect from=\"/\" to=\"/\" />\r\n              </Switch>\r\n            </Router>\r\n          </ThemeProvider>\r\n        </MuiPickersUtilsProvider>\r\n      </LocalizeContext.Provider>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ settings }) => {\r\n  return {\r\n    settings,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n              );\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import App from \"App\";\r\nimport \"index.css\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport * as serviceWorker from \"serviceWorker\";\r\nimport store from \"js/store\";\r\nimport * as action from \"actions\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register({\r\n  onUpdate: (registration) => {\r\n    store.dispatch(action.setSwUpdate(registration));\r\n  },\r\n});\r\n","import {\r\n  Checkbox,\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormGroup,\r\n  FormHelperText,\r\n  FormLabel,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { disableForm } from \"js/util\";\r\nimport { useParams } from 'react-router-dom';\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  lable: {\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n  },\r\n}));\r\n\r\nexport const Checkboxes = (props) => {\r\n  const classes = useStyles();\r\n  const params = useParams()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <FormControl component=\"fieldset\">\r\n        <FormLabel component=\"legend\" required={props.required}>\r\n          <Typography\r\n            component=\"span\"\r\n            variant=\"subtitle2\"\r\n            className={classes.lable}\r\n          >\r\n            {props.label}\r\n          </Typography>\r\n        </FormLabel>\r\n        <FormGroup>\r\n          {props.options.map((item, index) => {\r\n            return (\r\n              <FormControlLabel\r\n                key={index}\r\n                control={\r\n                  <Checkbox\r\n                    disabled={disableForm(params)}\r\n                    checked={props.value.some((propsChecked) => {\r\n                      return propsChecked === item.value;\r\n                    })}\r\n                    onChange={() => props.onChange(item.value)}\r\n                    id={item.id}\r\n                    value={item.value}\r\n                  />\r\n                }\r\n                label={item.nameI18n.English}\r\n              />\r\n            );\r\n          })}\r\n        </FormGroup>\r\n        <FormHelperText>{props.descriptionI18n}</FormHelperText>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  FormLabel,\r\n  makeStyles,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { disableForm } from \"js/util\";\r\nimport { useParams } from 'react-router-dom';\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  lable: {\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    fontSize: \" 1.2rem\",\r\n  },\r\n  textField: {\r\n    margin: theme.spacing(1, 0),\r\n  },\r\n}));\r\nexport const DateTime = (props) => {\r\n  const classes = useStyles();\r\n  const params = useParams()\r\n\r\n  return (\r\n    <TextField\r\n      disabled={disableForm(params)}\r\n      fullWidth\r\n      id={props.id}\r\n      label={\r\n        <FormLabel required={props.required}>\r\n          <Typography\r\n            component=\"span\"\r\n            variant=\"subtitle2\"\r\n            className={classes.lable}\r\n          >\r\n            {props.label}\r\n          </Typography>\r\n        </FormLabel>\r\n      }\r\n      type={props.includeTime ? `datetime-local` : `date`}\r\n      value={props.value || \"\"}\r\n      className={classes.textField}\r\n      onChange={props.onChange}\r\n    />\r\n  );\r\n};\r\n","import { Box, FormHelperText, makeStyles } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { disableForm } from \"js/util\";\r\nimport { useParams } from 'react-router-dom';\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  box: {\r\n    borderTop: \"1px solid #e0e0e0\",\r\n    borderBottom: \"1px solid #e0e0e0\",\r\n    padding: spacing(1, 0),\r\n  },\r\n  ListItemText: {\r\n    borderBottom: \"1px #eae8e8 dashed\",\r\n    padding: spacing(1, 0, 2, 0),\r\n  },\r\n  button: {\r\n    textTransform: \"capitalize\",\r\n    padding: \" 0\",\r\n  },\r\n  listItem: {\r\n    paddingTop: 0,\r\n    paddingBottom: 0,\r\n  },\r\n}));\r\n\r\nexport const Dropdown = (props) => {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useState({\r\n    open: false,\r\n  });\r\n  const params = useParams()\r\n\r\n\r\n  const toggleDrawer = (open) => (event) => {\r\n    setState({ open: open });\r\n  };\r\n\r\n  const lable = props.options\r\n    .map((item) => {\r\n      return { name: item.nameI18n.English, value: item.value };\r\n    })\r\n    .find((item) => item.value === props.value);\r\n\r\n  return (\r\n    <Box className={classes.box}>\r\n      <Button onClick={toggleDrawer(true)} className={classes.button}>\r\n        {lable ? lable.name : props.label}\r\n      </Button>\r\n      <Drawer\r\n        anchor=\"bottom\"\r\n        open={state[\"open\"]}\r\n        onClose={toggleDrawer(false)}\r\n        disabled={disableForm(params)}\r\n      >\r\n        <List role=\"presentation\" onClick={toggleDrawer(false)}>\r\n          {props.options.map((item, index) => (\r\n            <ListItem\r\n              className={classes.listItem}\r\n              button\r\n              key={index}\r\n              onClick={() => props.onChange(item.value)}\r\n            >\r\n              <ListItemText\r\n                primary={item.nameI18n.English}\r\n                className={classes.ListItemText}\r\n              />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Drawer>\r\n      <FormHelperText>{props.helperText}</FormHelperText>\r\n    </Box>\r\n  );\r\n};\r\n","import { Box, FormLabel, makeStyles, Typography } from \"@material-ui/core/\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ButtomGroup from \"@material-ui/core/ButtonGroup\";\r\nimport { disableForm } from \"js/util\";\r\nimport { useParams } from 'react-router-dom';\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  box: {\r\n    margin: spacing(1, 0, 2, 0),\r\n    borderBottom: \" 1px solid #e0e0e0\",\r\n    paddingBottom: spacing(1),\r\n    textAlign: \"right\",\r\n  },\r\n  ButtomGroup: {\r\n    textAlign: \"right\",\r\n    margin: spacing(2, 0),\r\n  },\r\n  root: {\r\n    marginTop: spacing(1),\r\n    marginBottom: spacing(1),\r\n  },\r\n  button: {\r\n    textTransform: \"none\",\r\n  },\r\n  lable: {\r\n    padding: spacing(0, 0, 1, 0),\r\n    textAlign: \"left\",\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n  },\r\n  description: {\r\n    display: \"block\",\r\n    textAlign: \"left\",\r\n  },\r\n  descriptionImg: {\r\n    width: \"50%\",\r\n  },\r\n}));\r\n\r\nexport const NaYesNo = (props) => {\r\n  const classes = useStyles();\r\n  const params = useParams()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <FormLabel required={props.required}>\r\n        <Typography\r\n          component=\"span\"\r\n          variant=\"subtitle2\"\r\n          className={classes.lable}\r\n        >\r\n          {props.label}\r\n        </Typography>\r\n      </FormLabel>\r\n      {props.images.map((item, index) => {\r\n        return (\r\n          <div key={index} className={classes.descriptionImg}>\r\n            <img src={item.url} width=\"100%\" alt=\"\" />;\r\n          </div>\r\n        );\r\n      })}\r\n      <Box className={classes.box}>\r\n        <ButtomGroup size=\"small\" className={classes.ButtomGroup}>\r\n          {props.itemValues.map((v, i) => {\r\n            const color = props.value === v ? { color: \"primary\" } : {};\r\n            return (\r\n              <Button\r\n                key={i}\r\n                variant=\"contained\"\r\n                className={`${classes.button}`}\r\n                value={v}\r\n                {...color}\r\n                onClick={(event) => {\r\n                  if (disableForm(params)) {\r\n                    return false\r\n                  }\r\n                  props.onClick(event)\r\n                }\r\n                }\r\n              >\r\n                {props.itemTexts[i]}\r\n              </Button>\r\n            );\r\n          })}\r\n        </ButtomGroup>\r\n        <Typography variant=\"body2\" className={classes.lable}>\r\n          {props.description}\r\n        </Typography>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n","import { FormLabel, makeStyles, Typography } from \"@material-ui/core\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport clsx from \"clsx\";\r\nimport { disableForm } from \"js/util\";\r\nimport { showNumberText } from \"js/util\";\r\nimport { useParams } from 'react-router-dom';\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  lable: {\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    fontSize: \" 1rem\",\r\n  },\r\n  textField: {\r\n    margin: spacing(1, 0),\r\n  },\r\n}));\r\n\r\nexport const NumberText = (props) => {\r\n  const classes = useStyles();\r\n  const maxMin = showNumberText(props.min, props.max);\r\n  const params = useParams()\r\n\r\n  const description = props.helperText ? props.helperText + maxMin : maxMin;\r\n\r\n  const onBlur = (value) => {\r\n    if (props.min || props.max) {\r\n      if (value < props.min || value > props.max) {\r\n        alert(`${props?.label}: ${description}`);\r\n      }\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <TextField\r\n      onBlur={(event) => onBlur(event.target.value)}\r\n      value={props.value}\r\n      onChange={(event) => props.onChange(event, props)}\r\n      fullWidth\r\n      type={props.type}\r\n      disabled={disableForm(params) ? disableForm(params): props?.prefilledAnswer=== \"%%!LoginUserNo!%%\"}\r\n      label={\r\n        <FormLabel required={props.required}>\r\n          <Typography\r\n            component=\"span\"\r\n            variant=\"subtitle2\"\r\n            className={classes.lable}\r\n          >\r\n            {props.label}\r\n          </Typography>\r\n        </FormLabel>\r\n      }\r\n      id={props.id}\r\n      className={clsx(classes.margin, classes.textField)}\r\n      InputProps={\r\n        props.unitFront\r\n          ? {\r\n              startAdornment: <InputAdornment>{props.unit}</InputAdornment>,\r\n            }\r\n          : {\r\n              endAdornment: <InputAdornment>{props.unit}</InputAdornment>,\r\n            }\r\n      }\r\n      helperText={description}\r\n    />\r\n  );\r\n};\r\n// props.helperText\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  hr: {\r\n    borderTop: \"dotted 1px\",\r\n  },\r\n}));\r\n\r\nexport const PageBreak = () => {\r\n  const classes = useStyles();\r\n\r\n  return <hr className={classes.hr} />;\r\n};\r\n","import {\r\n  FormLabel,\r\n  makeStyles,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { disableForm } from \"js/util\";\r\nimport { useParams } from 'react-router-dom';\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  lable: {\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    fontSize: \"1.2rem\",\r\n  },\r\n}));\r\n\r\nexport const Paragraph = (props) => {\r\n  const classes = useStyles();\r\n  const params = useParams()\r\n\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      id={props.id}\r\n      onChange={props.onChange}\r\n      disabled={disableForm(params)}\r\n      label={\r\n        <FormLabel required={props.required}>\r\n          <Typography\r\n            component=\"span\"\r\n            variant=\"subtitle2\"\r\n            className={classes.lable}\r\n          >\r\n            {props.label}\r\n          </Typography>\r\n        </FormLabel>\r\n      }\r\n      value={props.value}\r\n      helperText={props.helperText}\r\n      multiline\r\n      rows={4}\r\n    />\r\n  );\r\n};\r\n","import { Box, Button, IconButton } from '@material-ui/core';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport List from '@material-ui/core/List';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { LocalizeContext } from \"i18n\";\r\nimport React, { useRef, useState } from 'react';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function FullScreenDialog(props) {\r\n    const [open, setOpen] = React.useState(false);\r\n    const videoRef = useRef(null);\r\n    const canvasRef = useRef(null);\r\n    const [isCameraOn, setIsCameraOn] = useState(false);\r\n    const [photo, setPhoto] = useState(null);\r\n    const i18n = React.useContext(LocalizeContext);\r\n\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n        toggleCamera();\r\n    };\r\n\r\n    const handleClose = async () => {\r\n        setOpen(false);\r\n        setPhoto(null);\r\n        const stream = videoRef.current.srcObject;\r\n        if (stream) {\r\n            stream.getTracks().forEach(track => track.stop());\r\n            videoRef.current.srcObject = null;\r\n        }\r\n        setIsCameraOn(false);\r\n    };\r\n\r\n    const toggleCamera = async () => {\r\n        if (isCameraOn) {\r\n            // \r\n            const stream = videoRef.current.srcObject;\r\n            if (stream) {\r\n                stream.getTracks().forEach(track => track.stop());\r\n                videoRef.current.srcObject = null;\r\n            }\r\n            setIsCameraOn(false);\r\n        } else {\r\n            // \r\n            try {\r\n                const stream = await navigator.mediaDevices.getUserMedia({\r\n                    video: { facingMode: { exact: 'environment' } }\r\n                });\r\n                // const stream = await navigator.mediaDevices.getUserMedia({\r\n                //     video: true\r\n                // });\r\n                videoRef.current.srcObject = stream;\r\n                setIsCameraOn(true);\r\n            } catch (error) {\r\n                console.error(\"Error accessing the camera:\", error);\r\n            }\r\n        }\r\n    };\r\n\r\n    const takePhoto = () => {\r\n        const canvas = canvasRef.current;\r\n        const video = videoRef.current;\r\n\r\n        if (video && canvas) {\r\n            const context = canvas.getContext('2d');\r\n            canvas.width = video.videoWidth;\r\n            canvas.height = video.videoHeight;\r\n            context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n\r\n            //  base64 \r\n            const base64Image = canvas.toDataURL('image/png');\r\n            setPhoto(base64Image);\r\n            console.log(base64Image); // \r\n            setIsCameraOn(false)\r\n            toggleCamera()\r\n        }\r\n    };\r\n    var viewportHeight = window.innerHeight;\r\n\r\n    return (\r\n        <div>\r\n            <Typography onClick={handleClickOpen} color=\"secondary\" variant=\"body2\">\r\n                {i18n.ISNTAPP_TAKE_PICTURE}\r\n            </Typography>\r\n            <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n                <AppBar style={{ backgroundColor: \"black\" }}>\r\n                    <Toolbar>\r\n                        <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n                            <CloseIcon />\r\n                        </IconButton>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <List style={{ backgroundColor: \"black\", padding: 0, margin: 0, height: \"100%\" }}>\r\n                    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', height: \"100%\" }}>\r\n                        <div style={{ width: '100%', height: '100%', position: 'relative', top: 0, left: 0 }}>\r\n                            <video\r\n                                ref={videoRef}\r\n                                playsInline\r\n                                autoPlay\r\n                                style={{\r\n                                    display: isCameraOn ? 'block' : 'none', width: '100%', height: '100%', zIndex: 1,\r\n                                    marginTop: \"-5%\"\r\n                                }}\r\n                            />\r\n                            <img src={photo} alt=\"\" style={{\r\n                                maxWidth: '100%', height: 'auto', display: photo ? 'block' : 'none', position: 'absolute',\r\n                                top: 56\r\n                            }} />\r\n                            <canvas ref={canvasRef} style={{ display: 'none' }} />\r\n\r\n                            {isCameraOn && (\r\n                                <div style={{\r\n                                    position: \"absolute\",\r\n                                    width: \"35%\",\r\n                                    height: \"5%\",\r\n                                    border: \"1px dashed red\",\r\n                                    top: \"40%\",\r\n                                    left: \"5%\",\r\n                                    borderRadius: \"10%\",\r\n                                    pointerEvents: 'none',\r\n                                    zIndex: 100\r\n                                }}></div>\r\n                            )}\r\n                            {isCameraOn && (\r\n                                <div style={{\r\n                                    position: \"absolute\",\r\n                                    width: \"30%\",\r\n                                    height: viewportHeight / 1.5,\r\n                                    border: \"1px dashed red\",\r\n                                    top: viewportHeight / 7,\r\n                                    right: \"15%\",\r\n                                    borderRadius: \"5%\",\r\n                                    pointerEvents: 'none',\r\n                                    zIndex: 100\r\n                                }}></div>\r\n                            )}\r\n                            <Box style={{\r\n                                position: \"fixed\",\r\n                                bottom: 0,\r\n                                left: 0,\r\n                                right: 0,\r\n                                fontWeight: 600,\r\n                                display: \"flex\",\r\n                                justifyContent: \"space-around\",\r\n                                zIndex: 100\r\n\r\n                            }}>\r\n                                <Button\r\n                                    onClick={() => {\r\n                                        toggleCamera();\r\n                                        setIsCameraOn(true)\r\n                                        setPhoto(null)\r\n                                    }}\r\n                                    disabled={isCameraOn}\r\n                                    style={{\r\n                                        color: 'white',\r\n                                    }}>\r\n                                    {i18n.ISNTAPP_RESHOOT}\r\n                                </Button>\r\n                                <Box style={{\r\n                                    border: \" 5px solid white\",\r\n                                    borderRadius: \"50%\",\r\n                                    padding: \"2px\"\r\n                                }}>\r\n                                    <Button\r\n                                        onClick={() => takePhoto()}\r\n                                        disabled={!isCameraOn}\r\n                                        style={{\r\n                                            color: 'black',\r\n                                            width: \"60px\",\r\n                                            height: \"60px\",\r\n                                            backgroundColor: \"white\",\r\n                                            borderRadius: \" 50%\",\r\n\r\n                                        }}>\r\n                                        {i18n.ISNTAPP_TAKE_PICTURE}\r\n                                    </Button>\r\n                                </Box>\r\n                                <Button\r\n                                    onClick={() => {\r\n                                        props.onChange(photo);\r\n                                        setOpen(false);\r\n                                        setPhoto(null);\r\n                                    }}\r\n                                    disabled={isCameraOn}\r\n                                    style={{\r\n                                        color: 'white',\r\n                                    }}>\r\n                                    {i18n.ISNTAPP_USE_PHOTOS}\r\n                                </Button>\r\n                            </Box>\r\n                        </div>\r\n                    </div>\r\n                </List>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n","import { Box, FormLabel, makeStyles, Typography } from \"@material-ui/core\";\r\nimport Compressor from \"compressorjs\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { fillTextToImg } from \"js/util\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport { useParams } from 'react-router-dom';\r\nimport Camera from \"../../Camera\"\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  btm: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    margin: spacing(1, 1, 0, 1),\r\n  },\r\n  root: {\r\n    display: \"grid\",\r\n    padding: spacing(1, 0),\r\n    borderBottom: \" 1px solid #e0e0e0\",\r\n    backgroundColor: \"#FFF\",\r\n  },\r\n  lable: {\r\n    margin: spacing(0, 0, 1, 0),\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n  },\r\n  inputFile: {\r\n    width: \"0.1px\",\r\n    height: \"0.1px\",\r\n    opacity: 0,\r\n    overflow: \"hidden\",\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    zIndex: -1,\r\n  },\r\n  file: {\r\n    height: \"160px\",\r\n    position: \"relative\",\r\n    overflow: \"hidden\",\r\n    textAlign: \"center\",\r\n  },\r\n}));\r\n\r\nexport const Photo = (props) => {\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const classes = useStyles();\r\n  const [photoStyle, setPhotoStyle] = useState({\r\n    width: \"auto\",\r\n    height: \"100%\",\r\n  });\r\n  const photoEl = useRef(null);\r\n  const iptRef = useRef(null);\r\n  const projectData = useParams();\r\n  const showWatermark = projectData?.activityNo === \"7030\" && (props?.identifier === \"photoJ\" || props?.identifier === \"photoP\")\r\n  const onPhotoChange = (e, type) => {\r\n    const fileReader = new FileReader();\r\n    const file = e?.target?.files?.[0];\r\n\r\n    if (type === \"camera\") {\r\n      if (showWatermark) {\r\n        fillTextToImg(e, projectData).then((res) => {\r\n          props.onChange(res);\r\n        })\r\n      } else {\r\n        props.onChange(e);\r\n      }\r\n    } else {\r\n      fileReader.onloadend = (e) => {\r\n        const photo = e.target.result;\r\n        if (showWatermark) {\r\n          fillTextToImg(photo, projectData).then((res) => {\r\n            props.onChange(res);\r\n          })\r\n        } else {\r\n          props.onChange(photo);\r\n        }\r\n\r\n        const i = new Image();\r\n        i.onload = () => {\r\n          setPhotoStyle({\r\n            // width: photoEl.current.clientWidth,\r\n            // height: (photoEl.current.clientWidth / i.width) * i.height,\r\n            width: \"auto\",\r\n            height: \"100%\",\r\n          });\r\n        };\r\n        i.src = photo;\r\n      };\r\n\r\n    }\r\n\r\n \r\n    if (file||e) {\r\n      new Compressor(file, {\r\n        quality: 0.2,\r\n        convertSize: 400000,\r\n        success(result) {\r\n          fileReader.readAsDataURL(result);\r\n        },\r\n        error(err) {\r\n          console.log(err.message);\r\n        },\r\n      });\r\n    } else {\r\n      props.onChange(\"#\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography variant=\"subtitle2\" className={classes.lable}>\r\n        {props.label}\r\n      </Typography>\r\n      <div>\r\n        <input\r\n          className={classes.inputFile}\r\n          type=\"file\"\r\n          accept=\"image/x-png,image/jpeg,image/gif\"\r\n          // accept=\"image/*\"\r\n          // capture=\"user\"\r\n          id={props.id}\r\n          ref={iptRef}\r\n          onChange={onPhotoChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        {/* <Typography variant=\"body2\">{props.description}</Typography> */}\r\n        <FormLabel required={props.required}>\r\n          <Typography\r\n            component=\"span\"\r\n            variant=\"subtitle2\"\r\n            className={classes.lable}\r\n          >\r\n            {props.description}\r\n          </Typography>\r\n        </FormLabel>\r\n      </div>\r\n      <Box border={1} className={classes.file}>\r\n        <img src={props.value} style={photoStyle} ref={photoEl} alt=\"\" />\r\n      </Box>\r\n      <Box className={classes.btm}>\r\n        <Typography\r\n          color=\"secondary\"\r\n          variant=\"body2\"\r\n          onClick={() => {\r\n            props.onChange(\"#\");\r\n            iptRef.current.value = \"\";\r\n          }}\r\n        >\r\n          {i18n.ISNTAPP_DELETE}\r\n        </Typography>\r\n        <label htmlFor={props.id}>\r\n          {!showWatermark && <Typography color=\"secondary\" variant=\"body2\">\r\n            {i18n.ISNTAPP_IMPORT_PICTURES}\r\n          </Typography>\r\n          }  \r\n        </label>\r\n        {showWatermark && (\r\n          <Camera onChange={(photo) => onPhotoChange(photo, 'camera')}\r\n            showCameraFrame={showWatermark}\r\n          />\r\n        )}\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const SectionBreak = (props) => {\r\n  return (\r\n    <div>\r\n      <h2>{props.label}</h2>\r\n      <hr />\r\n      <i>{props.description}</i>\r\n    </div>\r\n  );\r\n};\r\n","import { makeStyles, Typography } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport CreateIcon from \"@material-ui/icons/Create\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport SignaturePad from \"react-signature-canvas\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { disableForm } from \"js/util\";\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginTop: theme.spacing(1),\r\n    userSelect: \"none\",\r\n    marginBottom: \"400px\",\r\n  },\r\n  sigContainer: {\r\n    width: \"100%\",\r\n    height: \"250px\",\r\n    // border: \"1px solid gray\",\r\n    // backgroundColor: \"white\",\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  sigPad: {\r\n    width: \"100%\",\r\n    height: \"200px\",\r\n  },\r\n  modal: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  icon: {\r\n    width: \"100%\",\r\n    height: \"100px\",\r\n    marginTop: \"8px\",\r\n    borderRadius: \"5px\",\r\n    backgroundColor: \"#eee\",\r\n    margin: theme.spacing(1, 0, 3, 0),\r\n  },\r\n}));\r\n\r\nexport const Signature = (props) => {\r\n  const classes = useStyles();\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const params = useParams()\r\n\r\n  const [signModalOpen, setSignModalOpen] = useState(false);\r\n  const [sPhotoStyle, setSPhotoStyle] = useState({\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  });\r\n\r\n  const sPadEl = useRef(null);\r\n  const sPhotoEl = useRef(null);\r\n\r\n  const clear = () => {\r\n    sPadEl.current.clear();\r\n  };\r\n\r\n  const save = () => {\r\n    const signPhoto = sPadEl.current.getTrimmedCanvas().toDataURL(\"image/png\");\r\n    props.onChange(signPhoto);\r\n    const i = new Image();\r\n    i.onload = () => {\r\n      setSPhotoStyle({\r\n        // width: sPhotoEl.current.clientWidth,\r\n        // height: (sPhotoEl.current.clientWidth / i.width) * i.height,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        marginBottom: \"24px\",\r\n      });\r\n    };\r\n    i.src = signPhoto;\r\n    setSignModalOpen(false);\r\n  };\r\n\r\n  const signClick = () => {\r\n    setSignModalOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setSignModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div classes={classes.root}>\r\n      <Typography variant=\"subtitle2\">{props.label}</Typography>\r\n      <IconButton\r\n        disabled={disableForm(params)}\r\n        aria-label=\"sign\"\r\n        onClick={signClick}\r\n        className={classes.icon}\r\n      >\r\n        <CreateIcon />\r\n      </IconButton>\r\n      <Modal\r\n        className={classes.modal}\r\n        open={signModalOpen}\r\n        onClose={handleClose}\r\n      >\r\n        <div className={classes.sigContainer}>\r\n          <div>\r\n            <SignaturePad\r\n              canvasProps={{ className: classes.sigPad }}\r\n              ref={sPadEl}\r\n            />\r\n            <Button onClick={clear}>{i18n.INSTALLATION_CLEAR}</Button>\r\n            <Button onClick={save}>{i18n.INSTALLATION_SAVE}</Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n      {/* <CardMedia style={sPhotoStyle} image={props.value} ref={sPhotoEl} />\r\n       */}\r\n      <img src={props.value} style={sPhotoStyle} ref={sPhotoEl} alt=\"\" />\r\n      <i>{props.description}</i>\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  Box,\r\n  FormHelperText,\r\n  FormLabel,\r\n  makeStyles,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport { disableForm } from \"js/util\";\r\nimport { useParams } from 'react-router-dom';\r\nimport React from \"react\";\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  box: {\r\n    borderTop: \" 1px solid #e0e0e0\",\r\n    borderBottom: \" 1px solid #e0e0e0\",\r\n    margin: spacing(1, 0),\r\n    paddingTop: spacing(1),\r\n  },\r\n  lable: {\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n  },\r\n}));\r\n\r\nexport const SingleChoice = (props) => {\r\n  const classes = useStyles();\r\n  const params = useParams()\r\n\r\n  return (\r\n    <Box className={classes.box}>\r\n      <FormLabel required={props.required}>\r\n        <Typography\r\n          component=\"span\"\r\n          variant=\"subtitle2\"\r\n          className={classes.lable}\r\n        >\r\n          {props.label}\r\n        </Typography>\r\n      </FormLabel>\r\n      <RadioGroup\r\n        aria-label={props.label}\r\n        value={props.value}\r\n        onChange={props.onChange}\r\n        disabled={disableForm(params)}\r\n      >\r\n        {props.options.map((item, index) => {\r\n          return (\r\n            <FormControlLabel\r\n              key={index}\r\n              value={item.value}\r\n              control={<Radio />}\r\n              label={\r\n                item.nameI18n.Chinese\r\n                  ? item.nameI18n.Chinese\r\n                  : item.nameI18n.English\r\n              }\r\n              id={item.id}\r\n            />\r\n          );\r\n        })}\r\n      </RadioGroup>\r\n      <FormHelperText>{props.helperText}</FormHelperText>\r\n    </Box>\r\n  );\r\n};\r\n","import {\r\n  Box,\r\n  FormLabel,\r\n  makeStyles,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { disableForm } from \"js/util\";\r\nimport { useParams } from 'react-router-dom';\r\nimport React from \"react\";\r\n\r\nconst setDisabled = (identifier) => {\r\n  const identifierArr = [\r\n    \"orderno\",\r\n    \"liftno\",\r\n    \"projectname\",\r\n    \"instcustname\",\r\n    \"instbranch\",\r\n    \"pl\",\r\n    \"pe\",\r\n    \"subconcompany\",\r\n    \"tl\",\r\n    \"CurrentDate\",\r\n    \"LoginUserName\"\r\n  ];\r\n  return identifierArr.indexOf(identifier) > -1 ? true : false;\r\n};\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  box: {\r\n    padding: spacing(2, 0, 1, 0),\r\n    // borderBottom: \" 1px solid #e0e0e0\",\r\n    marginBottom: spacing(2),\r\n  },\r\n  lable: {\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n  },\r\n}));\r\n\r\nexport const SingleLine = (props) => {\r\n  const classes = useStyles();\r\n  const params = useParams()\r\n\r\n\r\n  return (\r\n    <Box className={classes.box}>\r\n      <FormLabel required={props.required}>\r\n        <Typography\r\n          component=\"span\"\r\n          variant=\"subtitle2\"\r\n          className={classes.lable}\r\n        >\r\n          {props.label}\r\n        </Typography>\r\n      </FormLabel>\r\n      <TextField\r\n        className={classes.TextField}\r\n        fullWidth\r\n        required={props.required}\r\n        id={props.id}\r\n        onChange={props.onChange}\r\n        value={props.value}\r\n        helperText={props.helperText}\r\n        disabled={disableForm(params) ? disableForm(params) :  setDisabled(props.identifier)}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n","import { Box, makeStyles, Slider as MUISlicder } from \"@material-ui/core\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  box: {\r\n    borderBottom: \" 1px solid #e0e0e0\",\r\n    borderTop: \" 1px solid #e0e0e0\",\r\n    margin: spacing(1, 0),\r\n    padding: spacing(1, 0),\r\n  },\r\n}));\r\n\r\nexport const Slider = (props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box className={classes.box}>\r\n      <Typography variant=\"subtitle2\">{props.label}</Typography>\r\n      <MUISlicder\r\n        min={props.min}\r\n        max={props.max}\r\n        step={props.step}\r\n        value={props.value}\r\n        onChange={props.onChange}\r\n        valueLabelDisplay=\"auto\"\r\n      />\r\n      <i>{props.description}</i>\r\n    </Box>\r\n  );\r\n};\r\n","import { Box, makeStyles, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  value: {\r\n    padding: spacing(1, 0),\r\n    borderTop: \" 1px solid #e0e0e0\",\r\n    borderBottom: \" 1px solid #e0e0e0\",\r\n    margin: \"0\",\r\n  },\r\n}));\r\n\r\nexport const StaticText = (props) => {\r\n  const classes = useStyles();\r\n  const formattedText = props.value?.replace(/\\n/g, '<br />'); \r\n  return (\r\n    <Box>\r\n      <Typography variant=\"subtitle2\" className={classes.value}>\r\n        <div dangerouslySetInnerHTML={{ __html: formattedText }}></div>\r\n      </Typography>\r\n      {props.images.map((item, index) => {\r\n        return (\r\n          <div key={index}>\r\n            <img src={item.url} alt=\"\" style={{ maxWidth: \"100%\" }} />;\r\n          </div>\r\n        );\r\n      })}\r\n    </Box>\r\n  );\r\n};\r\n","import {\r\n  Box,\r\n  FormControlLabel,\r\n  makeStyles,\r\n  Typography,\r\n} from \"@material-ui/core/\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport { disableForm } from \"js/util\";\r\nimport { useParams } from 'react-router-dom';\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  box: {\r\n    borderBottom: \" 1px solid #e0e0e0\",\r\n  },\r\n  lable: {\r\n    width: \"100%\",\r\n    margin: 0,\r\n  },\r\n}));\r\n\r\nexport const YesNo = (props) => {\r\n  const classes = useStyles();\r\n  const params = useParams()\r\n\r\n  return (\r\n    <Box className={classes.box}>\r\n      <Typography variant=\"subtitle2\" style={{ margin: \"8px 0\" }}>\r\n        {props.label}\r\n      </Typography>\r\n      <FormControlLabel\r\n        className={classes.lable}\r\n        control={\r\n          <Switch\r\n            color=\"primary\"\r\n            checked={props.value}\r\n            onChange={(event)=>\r\n            {\r\n              if (disableForm(params)) {\r\n                return false\r\n              }\r\n              props.onChange(event)\r\n              }\r\n            }\r\n          />\r\n        }\r\n        labelPlacement=\"start\"\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n","import * as action from \"actions\";\r\nimport * as api from \"api\";\r\nimport { db } from \"js/db\";\r\nimport * as publicFn from \"js/publicFn/index\";\r\nimport store from \"js/store\";\r\nimport _ from \"lodash\";\r\nimport { isVisible } from \"./templateFormUtil/index\";\r\nimport * as schema from \"js/schema\";\r\nimport * as repo from \"js/fetch\";\r\nimport { normalize } from \"normalizr\";\r\nimport { documentAuthorizationC } from \"js/publicFn\";\r\n\r\nexport const sleep = (ms) => {\r\n  return new Promise((resolve) => {\r\n    setTimeout(resolve, ms);\r\n  });\r\n};\r\n\r\nexport const timeHorizonFilter = (date, today, timeHorizon) => {\r\n  const leadingDate = new Date(date);\r\n  switch (timeHorizon) {\r\n    case \"thisWeek\": {\r\n      const start = today - new Date(today).getDay() * 86400000;\r\n      const end = start + 7 * 86400000;\r\n      return leadingDate.getTime() <= end;\r\n    }\r\n    case \"twoWeeks\": {\r\n      const start = today - new Date(today).getDay() * 86400000;\r\n      const end = start + 14 * 86400000;\r\n\r\n      return leadingDate.getTime() <= end;\r\n    }\r\n    case \"fourWeeks\": {\r\n      const start = today - new Date(today).getDay() * 86400000;\r\n      const end = start + 28 * 86400000;\r\n\r\n      return leadingDate.getTime() <= end;\r\n    }\r\n    case \"eightWeeks\": {\r\n      const start = today - new Date(today).getDay() * 86400000;\r\n      const end = start + 56 * 86400000;\r\n\r\n      return leadingDate.getTime() <= end;\r\n    }\r\n    case \"all\":\r\n    default: {\r\n      return true;\r\n    }\r\n  }\r\n};\r\n\r\nexport const orderActivitiesSort = (data) => {\r\n  return data.sort(function (a, b) {\r\n    if (a.sort < b.sort) {\r\n      return -1;\r\n    } else {\r\n      return 1;\r\n    }\r\n  });\r\n};\r\n\r\nexport const templatesConverter = (data) => {\r\n  let res = {};\r\n\r\n  data.forEach((elem) => {\r\n    if (!res[elem.activityNo]) {\r\n      res[elem.activityNo] = [];\r\n    }\r\n\r\n    res[elem.activityNo].push(elem);\r\n  });\r\n\r\n  return res;\r\n};\r\n\r\nexport const groupInfoProc = (data) => {\r\n  const res = {};\r\n\r\n  data.forEach((value) => {\r\n    res[value.projectNo] = JSON.parse(value.projectGroupInfo);\r\n  });\r\n\r\n  return res;\r\n};\r\n\r\nexport const groupInfoDeproc = (data) => {\r\n  const res = [];\r\n\r\n  Object.keys(data).forEach((key) => {\r\n    const elem = {};\r\n\r\n    elem.projectNo = key;\r\n    elem.projectGroupInfo = JSON.stringify(data[key]);\r\n\r\n    res.push(elem);\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const fittersAssignmentTransferProc = (data) => {\r\n  const res = {};\r\n\r\n  data.forEach((value) => {\r\n    if (!res[value.projectNo]) {\r\n      res[value.projectNo] = [];\r\n    }\r\n    res[value.projectNo].push(value);\r\n  });\r\n\r\n  return res;\r\n};\r\n\r\nexport const verify = (fields) => {\r\n  const verifyType = [\r\n    \"singleLine\",\r\n    \"paragraph\",\r\n    \"number\",\r\n    \"multipleChoice\",\r\n    \"dropdown\",\r\n    \"dropdown\",\r\n    \"signature\",\r\n    \"photo\",\r\n    \"naYesNo\",\r\n  ];\r\n\r\n  const defaultPhotoValue =\r\n    \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\r\n\r\n  for (let i = 0; i < fields.length; i++) {\r\n    const result = isVisible(fields[i]);\r\n    if (result) {\r\n      for (let k = 0; k < verifyType.length; k++) {\r\n        if (fields[i].type === verifyType[k] && fields[i].settings.required) {\r\n          let alertInfo;\r\n          if (fields[i].settings.labelI18n.Chinese) {\r\n            alertInfo = fields[i].settings.labelI18n.Chinese;\r\n          } else if (fields[i].settings.labelI18n.English) {\r\n            alertInfo = fields[i].settings.labelI18n.English;\r\n          } else if (fields[i].settings.descriptionI18n.Chinese) {\r\n            alertInfo = fields[i].settings.descriptionI18n.Chinese;\r\n          } else {\r\n            alertInfo = fields[i].settings.descriptionI18n.English;\r\n          }\r\n\r\n          if (\r\n            fields[i].settings.value === defaultPhotoValue ||\r\n            fields[i].settings.value === \"\" ||\r\n            fields[i].settings.value === \"-\"\r\n          ) {\r\n            alert(alertInfo);\r\n\r\n            return false;\r\n          } else if (fields[i].settings.value === \"#\") {\r\n            alert(alertInfo);\r\n            return false;\r\n          } else if (fields[i].type === \"number\") {\r\n            if (fields[i].settings.min || fields[i].settings.max) {\r\n              if (fields[i].settings.value < fields[i].settings.min || fields[i].settings.value > fields[i].settings.max) {\r\n                const maxMin = showNumberText(fields[i].settings.min, fields[i].settings.max);\r\n                alert(`${alertInfo}: ${maxMin}`)\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n};\r\n\r\nexport const toDoOrDone = (\r\n  projectNumber,\r\n  orderNumber,\r\n  activityNo,\r\n  templates,\r\n  documentList\r\n) => {\r\n  const orders = store.getState().orders;\r\n  const productLine = orders[orderNumber]?.productLine;\r\n  const productFamily = orders[orderNumber]?.productFamily;\r\n  const productCategory = orders[orderNumber]?.productCategory;\r\n  const templateParms = templates[activityNo] ? templates[activityNo] : [];\r\n  const templateDataList = getTemplateList(\r\n    templateParms,\r\n    productLine,\r\n    productFamily,\r\n    productCategory\r\n  );\r\n\r\n  if (templateDataList.length > 0) {\r\n    const requiredData = templateDataList.filter(\r\n      (item) => item.mandDoc === \"X\"\r\n    );\r\n    if (requiredData.length > 0) {\r\n      const documents =\r\n        documentList?.[projectNumber]?.[orderNumber]?.[activityNo];\r\n\r\n      let count = 0;\r\n      if (documents) {\r\n        for (let i = 0; i < requiredData.length; i++) {\r\n          const discription = `${requiredData[i].documentDescription}`;\r\n          for (let k = 0; k < documents.length; k++) {\r\n            documents[k]?.name.includes(discription) && count++;\r\n          }\r\n        }\r\n\r\n        if (requiredData.length <= count) {\r\n          return \"Done\";\r\n        } else {\r\n          return \"ToDo\";\r\n        }\r\n      } else {\r\n        return \"ToDo\";\r\n      }\r\n    } else {\r\n      return \"Done\"; //\r\n    }\r\n  } else {\r\n    return \"WithoutTemplates\";\r\n  }\r\n};\r\n\r\nexport const timeSort = (property, bol) => {\r\n  return function (a, b) {\r\n    var value1 = a[property];\r\n    var value2 = b[property];\r\n\r\n    if (bol) {\r\n      // \r\n      return Date.parse(value1) - Date.parse(value2);\r\n    } else {\r\n      // \r\n      return Date.parse(value2) - Date.parse(value1);\r\n    }\r\n  };\r\n};\r\n\r\nexport const whetherToShutDown = (orderActivities, orderNumber) => {\r\n  if (\r\n    orderActivities[orderNumber + \"-7720\"] &&\r\n    !orderActivities[orderNumber + \"-7720\"].confirmedDate\r\n  ) {\r\n    return \"\";\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const getCurrentElevatorStatus = (orderActivities, orderNumber) => {\r\n  if (\r\n    orderActivities[orderNumber + \"-7720\"] &&\r\n    !orderActivities[orderNumber + \"-7720\"].confirmedDate\r\n  ) {\r\n    return \"\";\r\n  } else if (orderActivities[orderNumber + \"-7350\"]?.confirmedDate) {\r\n    return \"\";\r\n  } else {\r\n    return \"\";\r\n  }\r\n};\r\n\r\nexport const orderProgress = (orderActivities, orderNumber) => {\r\n  //\r\n\r\n  if (orderActivities[orderNumber + \"-7800\"]?.confirmedDate) {\r\n    return 100;\r\n  }\r\n  if (orderActivities[orderNumber + \"-70D0\"]?.confirmedDate) {\r\n    return 60;\r\n  }\r\n  if (\r\n    orderActivities[orderNumber + \"-7020\"]?.confirmedDate &&\r\n    !orderActivities[orderNumber + \"-70D0\"]\r\n  ) {\r\n    return 60;\r\n  }\r\n  if (orderActivities[orderNumber + \"-8010\"]?.confirmedDate) {\r\n    return 30;\r\n  } else {\r\n    return 0;\r\n  }\r\n};\r\n\r\n//\r\nexport const elevatorInstallationProgress = (\r\n  projectNumber,\r\n  orderActivities,\r\n  orderNo,\r\n  documentList\r\n) => {\r\n  if (!orderActivities[orderNo + \"-7040\"]) {\r\n    // \r\n    const threeStep = [\"7010\", \"7020\", \"7600\"];\r\n    const orderActivitie = Object.keys(orderActivities).filter((item) => {\r\n      return (\r\n        orderActivities[item].orderNumber === orderNo &&\r\n        threeStep.indexOf(orderActivities[item].activityNumber) > -1\r\n      );\r\n    });\r\n\r\n    const progress = orderActivitie.filter((item) => {\r\n      return orderActivities[item].confirmedDate !== null;\r\n    });\r\n\r\n    return Math.round((progress.length * 100) / 3) + \"%\";\r\n  } else {\r\n    // \r\n    let elevatorInstallationProgress = 0;\r\n    const steps14 = [\r\n      \"7010\",\r\n      \"7020\",\r\n      \"7030\",\r\n      \"7040\",\r\n      \"7050\",\r\n      \"7060\",\r\n      \"7070\",\r\n      \"7080\",\r\n      \"7090\",\r\n      \"70A0\",\r\n      \"70B0\",\r\n      \"70C0\",\r\n      \"70D0\",\r\n      \"7600\",\r\n    ];\r\n\r\n    steps14.forEach((step) => {\r\n      if (\r\n        orderActivities[orderNo + \"-\" + step].editable &&\r\n        orderActivities[orderNo + \"-\" + step].confirmedDate\r\n      ) {\r\n        elevatorInstallationProgress += 1;\r\n      } else if (!orderActivities[orderNo + \"-\" + step].editable) {\r\n        const documentActivity = documentList[projectNumber]?.[orderNo]?.[step];\r\n        const activityModified = documentActivity\r\n          ? documentActivity.sort(timeSort(\"modified\", false))\r\n          : null;\r\n        const confirmedTime = activityModified\r\n          ? activityModified?.[0].modified\r\n          : null;\r\n        confirmedTime && (elevatorInstallationProgress += 1);\r\n      }\r\n    });\r\n\r\n    const result = (elevatorInstallationProgress / 14) * 100;\r\n    return Math.round(result) + \"%\";\r\n  }\r\n};\r\n\r\nexport const projectProgress = (projectNumber, orders, orderActivities) => {\r\n  const projectOrders = [];\r\n  Object.keys(orders).forEach((item) => {\r\n    orders[item].projectNumber === projectNumber && projectOrders.push(item);\r\n  });\r\n  const progressArray = [];\r\n  projectOrders.forEach((item) => {\r\n    let progress = orderProgress(orderActivities, item);\r\n\r\n    progressArray.push(progress);\r\n  });\r\n\r\n  let sum = 0;\r\n\r\n  progressArray.forEach((item) => {\r\n    sum += item === \"\" ? 0 : item;\r\n  });\r\n  const projectProgress = Math.ceil(sum / projectOrders.length);\r\n  return projectProgress;\r\n};\r\n\r\n/**\r\n    {\r\n      \"projectNo\": \"string\",\r\n      \"orderNo\": \"string\",\r\n      \"activityNo\": \"string\",\r\n      \"type\": 0,\r\n      \"date\": \"string\",\r\n      \"combinePdf\": true\r\n    }\r\n */\r\nexport const setActivityStatusParams = (\r\n  projectNo,\r\n  orderNo,\r\n  activityNo,\r\n  date,\r\n  type,\r\n  orderActivities,\r\n  orders\r\n) => {\r\n  const result = {};\r\n  result.projectNo = projectNo;\r\n  result.orderNo = orderNo;\r\n  result.activityNo = activityNo;\r\n  result.date = date;\r\n  result.type = type;\r\n  result.combinePdf = false;\r\n  result.foe = orders?.[orderNo]?.fo;\r\n  result.region = orders?.[orderNo]?.region;\r\n  result.branch = orders?.[orderNo]?.prctr;\r\n\r\n  if (orderActivities[orderNo + \"-7030\"]) {\r\n    // 14 steps (or 9 steps)\r\n    if (activityNo === \"70C0\") {\r\n      result.combinePdf = true;\r\n    }\r\n\r\n    if (orderActivities[orderNo + \"-\" + activityNo].originalStep) {\r\n      result.activityNo =\r\n        orderActivities[orderNo + \"-\" + activityNo].originalStep;\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const isInstallationStepEditable = (\r\n  orderNo,\r\n  activityNo,\r\n  orderActivities\r\n) => {\r\n  if (\r\n    orderActivities[orderNo + \"-\" + activityNo].editable === undefined ||\r\n    orderActivities[orderNo + \"-\" + activityNo].editable\r\n  ) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const calculationOfInstallationSteps = (orderActivities, orders) => {\r\n  let handedOverToMaintenance = 0; //\r\n  let debugQuantity = 0; // \r\n  let guideDoorInstallation = 0; //\r\n  let startTheInstallation = 0; //\r\n  let installationNotStarted = 0; //\r\n  const orderNos = Object.keys(orders);\r\n  for (let i = 0; i < orderNos.length; i++) {\r\n    if (\r\n      orderActivities[orderNos[i] + \"-7800\"] &&\r\n      orderActivities[orderNos[i] + \"-7800\"]?.confirmedDate\r\n    ) {\r\n      handedOverToMaintenance++;\r\n    } else if (\r\n      orderActivities[orderNos[i] + \"-70C0\"] &&\r\n      orderActivities[orderNos[i] + \"-70C0\"]?.confirmedDate\r\n    ) {\r\n      debugQuantity++;\r\n    } else if (\r\n      orderActivities[orderNos[i] + \"-7020\"] &&\r\n      orderActivities[orderNos[i] + \"-7020\"]?.confirmedDate\r\n    ) {\r\n      debugQuantity++;\r\n    } else if (\r\n      orderActivities[orderNos[i] + \"-8010\"] &&\r\n      orderActivities[orderNos[i] + \"-8010\"]?.confirmedDate\r\n    ) {\r\n      guideDoorInstallation++;\r\n    } else if (\r\n      orderActivities[orderNos[i] + \"-7700\"] &&\r\n      orderActivities[orderNos[i] + \"-7700\"]?.confirmedDate\r\n    ) {\r\n      startTheInstallation++;\r\n    } else {\r\n      installationNotStarted++;\r\n    }\r\n  }\r\n\r\n  let theOverallProgress = 0;\r\n  const data = [\r\n    handedOverToMaintenance,\r\n    debugQuantity,\r\n    guideDoorInstallation,\r\n    startTheInstallation,\r\n    installationNotStarted,\r\n  ];\r\n  data.forEach((item) => {\r\n    theOverallProgress += item;\r\n  });\r\n\r\n  return {\r\n    handedOverToMaintenance,\r\n    debugQuantity,\r\n    guideDoorInstallation,\r\n    startTheInstallation,\r\n    installationNotStarted,\r\n    theOverallProgress,\r\n  };\r\n};\r\n\r\nexport const currentRefreshTime = () => {\r\n  return `${new Date().getMonth() + 1\r\n    }/${new Date().getDate()} ${new Date().getHours()}:${new Date().getMinutes() < 10\r\n      ? \"0\" + new Date().getMinutes()\r\n      : new Date().getMinutes()\r\n    }`;\r\n};\r\n\r\nexport const saveTheFirstRefreshTime = (dispatch) => {\r\n  db.cache.get(\"dataRefreshTime\").then((cache) => {\r\n    const datatime = {\r\n      allDataRefreshTime: currentRefreshTime(),\r\n      masterDataRefreshTime: currentRefreshTime(),\r\n      orderDataRefreshTime: currentRefreshTime(),\r\n      templateListDataRefreshTime: currentRefreshTime(),\r\n      documentListDataRefreshTime: currentRefreshTime(),\r\n      taskListDataRefreshTime: currentRefreshTime(),\r\n    };\r\n    dispatch(action.setAllDataRefreshTime(datatime));\r\n\r\n    !cache?.data &&\r\n      db.cache\r\n        .put({\r\n          id: \"dataRefreshTime\",\r\n          data: datatime,\r\n        })\r\n        .then(() => {\r\n          dispatch(action.setAllDataRefreshTime(datatime));\r\n        });\r\n  });\r\n\r\n  db.cache.get(\"settings\").then((cache) => {\r\n    const language = \"zh-cn\";\r\n    !cache?.data &&\r\n      db.cache\r\n        .put({\r\n          id: \"settings\",\r\n          data: { language: \"zh-cn\" },\r\n        })\r\n        .then(() => {\r\n          dispatch(action.setAllDataRefreshTime(language));\r\n        });\r\n  });\r\n};\r\n\r\nexport const recordRefreshTime = (dispatch, name, projects, userInfo) => {\r\n  if (name) {\r\n    const parmas = {\r\n      projectNos: Object.keys(projects),\r\n    };\r\n\r\n    const auth = JSON.parse(window.localStorage.getItem(\"auth\"));\r\n    let roles = auth?.roles;\r\n    const isSubconTLOrPE = roles.indexOf('Subcon TL') > -1 || roles.indexOf('PE') > -1;\r\n    const isEISV = roles.indexOf('SL') > -1;\r\n\r\n    const request = getDocumentListParmas(parmas.projectNos);\r\n    switch (name) {\r\n      case \"all\":\r\n        if (isSubconTLOrPE || isEISV) {\r\n          dispatch(action.fetchOrders(request, \"all\", userInfo, dispatch));\r\n        } else {\r\n          dispatch(action.fetchOrders(request, \"all\", userInfo, dispatch));\r\n          // dispatch(action.fetchDocuments(request, dispatch));\r\n          dispatch(action.fetchTasksList(userInfo, dispatch));\r\n        }\r\n        break;\r\n      case \"orders\":\r\n        dispatch(action.fetchOrders(parmas, \"\", userInfo, dispatch));\r\n        break;\r\n      case \"documents\":\r\n        dispatch(action.fetchDocuments(request, userInfo, dispatch));\r\n        break;\r\n      case \"task\":\r\n        dispatch(action.fetchTasksList(request,userInfo,\"\", dispatch));\r\n        break;\r\n      default:\r\n        return (\r\n          dispatch(action.fetchOrders(request, \"all\", userInfo, dispatch)),\r\n          // dispatch(action.fetchDocuments(dispatch)),\r\n          dispatch(action.fetchTasksList(userInfo, dispatch))\r\n        );\r\n    }\r\n  } else {\r\n    db.cache.get(\"dataRefreshTime\").then((cache) => {\r\n      cache?.data && dispatch(action.setAllDataRefreshTime(cache.data));\r\n    });\r\n  }\r\n};\r\n\r\nexport const getDocumentListParmas = (projectNos, orderNos) => {\r\n  const orders = orderNos ? orderNos:  store.getState().orders;\r\n  let data = [];\r\n  for (let i = 0; i < projectNos.length; i++) {\r\n    Object.keys(orders).find((item) => {\r\n      return (\r\n        orders[item].projectNumber === projectNos[i] &&\r\n        data.push({\r\n          foe: orders[item].fo,\r\n          region: orders[item].region,\r\n          branch: orders[item].prctr,\r\n          projectNo: orders[item].projectNumber,\r\n          orders: Object.keys(orders).filter((order) => {\r\n            return orders[order].projectNumber === orders[item].projectNumber;\r\n          }),\r\n        })\r\n      );\r\n    });\r\n  }\r\n\r\n  return data;\r\n};\r\n\r\nexport const isFormUpdated = (currentForm, initForm) => {\r\n  if (currentForm.fields.length !== initForm.fields.length) {\r\n    return false;\r\n  }\r\n\r\n  for (let i = 0; i < currentForm.fields.length; i++) {\r\n    if (Array.isArray(currentForm.fields[i].settings.value)) {\r\n      if (\r\n        !_.isEqual(\r\n          currentForm.fields[i].settings.value.sort(),\r\n          initForm.fields[i].settings.value.sort()\r\n        )\r\n      ) {\r\n        return true;\r\n      }\r\n    } else {\r\n      if (\r\n        currentForm.fields[i].settings.value !==\r\n        initForm.fields[i].settings.value\r\n      ) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nexport const localInstallationStepsConfirmDateProc = (data) => {\r\n  const res = {};\r\n\r\n  data.forEach((value) => {\r\n    res[value.orderNo + \"-\" + value.stepNo] = value;\r\n  });\r\n\r\n  return res;\r\n};\r\n\r\nexport const verifyWhenConfirm7020or70C0 = (\r\n  orderActivities,\r\n  orderNumber,\r\n  activityNumber\r\n) => {\r\n  // 14 steps\r\n  if (orderActivities[orderNumber + \"-7030\"]) {\r\n    if (activityNumber === \"70C0\") {\r\n      const checkSteps = [\r\n        \"7010\",\r\n        \"7020\",\r\n        \"7030\",\r\n        \"7040\",\r\n        \"7050\",\r\n        \"7060\",\r\n        \"7070\",\r\n        \"7080\",\r\n        \"7090\",\r\n        \"70A0\",\r\n        \"70B0\",\r\n      ];\r\n\r\n      const result = checkSteps.find(\r\n        (step) => !orderActivities[orderNumber + \"-\" + step].confirmedDate\r\n      );\r\n\r\n      if (result) {\r\n        return {\r\n          stepNo: result,\r\n          message: \",\",\r\n        };\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n *  code: 1: template\r\n *        2template,\r\n *        3template,\r\n */\r\nexport const checkTemplateForm = (documentNo, documentPart, value) => {\r\n  const key = documentNo + \"-\" + documentPart;\r\n  return db.cache.get(\"rawTemplateForm\").then((cache) => {\r\n    if (cache?.data) {\r\n      const existData = cache.data;\r\n      if (!existData[key]) {\r\n        existData[key] = value;\r\n\r\n        return db.cache\r\n          .put({ id: \"rawTemplateForm\", data: existData })\r\n          .then(() => {\r\n            return Promise.resolve({ code: 1, value });\r\n          });\r\n      }\r\n\r\n      if (existData[key] !== value) {\r\n        existData[key] = value;\r\n\r\n        return db.cache\r\n          .put({ id: \"rawTemplateForm\", data: existData })\r\n          .then(() => {\r\n            return Promise.resolve({ code: 2, value });\r\n          });\r\n      }\r\n\r\n      return Promise.resolve({ code: 3, value });\r\n    } else {\r\n      const data = {};\r\n      data[key] = value;\r\n\r\n      return db.cache.put({ id: \"rawTemplateForm\", data }).then(() => {\r\n        return Promise.resolve({ code: 1, value });\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\nexport const getRawTemplate = (documentNo, documentPart) => {\r\n  const key = documentNo + \"-\" + documentPart;\r\n  return db.cache.get(\"rawTemplateForm\").then((cache) => {\r\n    // TODO: \r\n    if (cache?.data) {\r\n      return Promise.resolve(cache.data[key]);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * code: 1: draft\r\n *      2 draft\r\n */\r\nexport const getDraftFromLocal = (\r\n  documentNo,\r\n  documentPart,\r\n  activityNo,\r\n  productFamily,\r\n  productLine,\r\n  language,\r\n  draftParam\r\n) => {\r\n  const { orderNo } = draftParam;\r\n  const key =\r\n    orderNo +\r\n    \"-\" +\r\n    activityNo +\r\n    \"-\" +\r\n    documentNo +\r\n    \"-\" +\r\n    documentPart +\r\n    \"-\" +\r\n    productFamily +\r\n    \"-\" +\r\n    productLine +\r\n    \"-\" +\r\n    language;\r\n  return db.cache.get(\"templateDraft\").then((cache) => {\r\n    if (cache?.data) {\r\n      const existData = cache.data;\r\n      if (existData[key]) {\r\n        return Promise.resolve({ code: 1, value: existData[key] });\r\n      }\r\n\r\n      return Promise.resolve({ code: 2 });\r\n    } else {\r\n      return Promise.resolve({ code: 2 });\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * code 1draft \r\n *        2draft \r\n */\r\nexport const getDraft = (param, draftParam, expendParam) => {\r\n  const { documentNo, documentPart } = param;\r\n  const { activityNo, productFamily, productLine, language } = expendParam;\r\n  return getDraftFromLocal(\r\n    documentNo,\r\n    documentPart,\r\n    activityNo,\r\n    productFamily,\r\n    productLine,\r\n    language,\r\n    draftParam\r\n  ).then((data) => {\r\n    if (data.code === 1) {\r\n      return Promise.resolve(data);\r\n    } else\r\n      return getDraftFromApi(draftParam).then((data) => {\r\n        return Promise.resolve(data);\r\n      });\r\n  });\r\n};\r\n\r\n/**\r\n * code: 1 draft \r\n *       2 draft \r\n */\r\nexport const getDraftFromApi = (draftParam) => {\r\n  return api.getDraft(draftParam).then((res) => {\r\n    if (res.data.form) {\r\n      return Promise.resolve({ code: 1, value: res.data.form });\r\n    } else {\r\n      return Promise.resolve({ code: 2 });\r\n    }\r\n  });\r\n};\r\n\r\nexport const saveDraftToLocal = (data, currentParam, draftParams) => {\r\n  const { documentNo, documentPart } = currentParam;\r\n  const { orderNo, activityNo, productFamily, productLine, language } =\r\n    draftParams;\r\n  const key =\r\n    orderNo +\r\n    \"-\" +\r\n    activityNo +\r\n    \"-\" +\r\n    documentNo +\r\n    \"-\" +\r\n    documentPart +\r\n    \"-\" +\r\n    productFamily +\r\n    \"-\" +\r\n    productLine +\r\n    \"-\" +\r\n    language;\r\n  db.cache.get(\"templateDraft\").then((cache) => {\r\n    if (cache?.data) {\r\n      const existData = cache.data;\r\n      existData[key] = data;\r\n      db.cache.put({ id: \"templateDraft\", data: existData });\r\n    } else {\r\n      const storeData = {};\r\n      storeData[key] = data;\r\n      db.cache.put({ id: \"templateDraft\", data: storeData });\r\n    }\r\n  });\r\n};\r\n\r\nexport const deleteDraftFromLocal = (currentParam) => {\r\n  const { documentNo, documentPart } = currentParam;\r\n  db.cache.get(\"templateDraft\").then((cache) => {\r\n    if (cache?.data) {\r\n      const existData = cache.data;\r\n      const deleteKeys = Object.keys(existData).filter((key) => {\r\n        return key.includes(documentNo + \"-\" + documentPart);\r\n      });\r\n\r\n      deleteKeys.forEach((key) => {\r\n        delete existData[key];\r\n      });\r\n\r\n      db.cache.put({ id: \"templateDraft\", data: existData });\r\n    }\r\n  });\r\n};\r\n\r\nexport const getTemplateList = (templatesData, productLine, productFamily, productCategory) => {\r\n  const condition1 = templatesData.filter(\r\n    (item) =>\r\n      item.productCategory === productCategory && item.productLine === productLine && item.productFamily === productFamily\r\n  );\r\n\r\n  const condition2 = templatesData.filter(\r\n    (item) =>\r\n      item.productCategory === productCategory && item.productLine === productLine && item.productFamily === null\r\n  );\r\n\r\n  const condition3 = templatesData.filter(\r\n    (item) =>\r\n      item.productCategory === productCategory && item.productFamily === productFamily && item.productLine === null\r\n  );\r\n\r\n  const condition4 = templatesData.filter(\r\n    (item) =>\r\n      item.productCategory === productCategory && item.productLine === null && item.productFamily === null\r\n  );\r\n\r\n  const condition5 = templatesData.filter(\r\n    (item) =>\r\n      item.productLine === productLine && item.productFamily === productFamily && item.productCategory === null\r\n  );\r\n\r\n  const condition6 = templatesData.filter(\r\n    (item) =>\r\n      item.productLine === productLine && item.productCategory === null && item.productFamily === null\r\n  );\r\n\r\n  const condition7 = templatesData.filter(\r\n    (item) =>\r\n      item.productFamily === productFamily && item.productCategory === null && item.productLine === null\r\n  );\r\n\r\n  const condition8 = templatesData.filter(\r\n    (item) =>\r\n      item.productCategory === null && item.productLine === null && item.productFamily === null\r\n  );\r\n\r\n  const result = [\r\n    condition1,\r\n    condition2,\r\n    condition3,\r\n    condition4,\r\n    condition5,\r\n    condition6,\r\n    condition7,\r\n    condition8\r\n  ].find(array => array.length > 0)\r\n\r\n  return result ? result : [];\r\n};\r\n\r\nexport const getDocumentComplateStatus = (\r\n  auth,\r\n  projectNumber,\r\n  orderNo,\r\n  orderActivities,\r\n  templates,\r\n  documentList\r\n) => {\r\n  const activityList = publicFn.orderDetailSteps(\r\n    orderActivities,\r\n    orderNo,\r\n    auth.activityAuth,\r\n    auth.roles[0]\r\n  );\r\n\r\n  const documentCompleteStatus = [];\r\n  for (let i = 0; i < activityList.length; i++) {\r\n    if (orderActivities?.[orderNo + '-' + activityList[i]]) {\r\n      const status = toDoOrDone(\r\n        projectNumber,\r\n        orderNo,\r\n        activityList[i],\r\n        templates,\r\n        documentList\r\n      );\r\n      documentCompleteStatus.push(status);\r\n    }\r\n\r\n  }\r\n\r\n  const completeSum = [];\r\n  const completed = [];\r\n  for (let i = 0; i < documentCompleteStatus.length; i++) {\r\n    if (documentCompleteStatus[i] === \"ToDo\") {\r\n      completeSum.push(documentCompleteStatus[i]);\r\n    } else if (documentCompleteStatus[i] === \"Done\") {\r\n      completeSum.push(documentCompleteStatus[i]);\r\n      completed.push(documentCompleteStatus[i]);\r\n    }\r\n  }\r\n\r\n  return `${completed.length}/${completeSum.length}`;\r\n};\r\n\r\n// export const getStopsOrHoistHeight = (chars, orderNo, type) => {\r\n//   const condition = type === \"stops\" ? \"GRP_NUMBER_OF_STOPS\" : \"GRP_HQ\";\r\n\r\n//   const data = [];\r\n//   Object.keys(chars).filter((item) => {\r\n//     return (\r\n//       chars[item].orderNo === orderNo &&\r\n//       chars[item].charID === condition &&\r\n//       data.push(chars[item])\r\n//     );\r\n//   });\r\n//   console.log(data, type, orderNo);\r\n\r\n//   return data.length > 0 ? data[0].value : 0;\r\n// };\r\n\r\nexport const getStopsOrHoistHeight = (chars, orderNo, type) => {\r\n  const data = [];\r\n  Object.keys(chars).filter((item) => {\r\n    return chars[item].orderNo === orderNo && data.push(chars[item]);\r\n  });\r\n\r\n  if (type === \"stops\") {\r\n    const stops = data.filter((item) => {\r\n      return (\r\n        item.name.indexOf(\"\") > -1 ||\r\n        item.name.indexOf(\"Number of stops\") > -1\r\n      );\r\n    });\r\n    return stops.length > 0 ? stops[0].value : 0;\r\n  } else {\r\n    const hoistHeight = data.filter((item) => {\r\n      return (\r\n        item.name.indexOf(\"\") > -1 ||\r\n        item.name.indexOf(\"Travel height\") > -1 ||\r\n        item.name.indexOf(\"Vertical rise\") > -1\r\n      );\r\n    });\r\n\r\n    return hoistHeight.length > 0 ? hoistHeight[0].value : 0;\r\n  }\r\n};\r\n\r\nexport const scrollToPosition = (element, pathname) => {\r\n  const position = store.getState().scrollPosition[pathname];\r\n  element.current.scrollTop = position ? position : 0;\r\n};\r\n\r\nexport const removeNotVisibleFields = (templateForm) => {\r\n  const result = _.cloneDeep(templateForm);\r\n  _.remove(result.fields, (field) => {\r\n    return !isVisible(field);\r\n  });\r\n  return result;\r\n};\r\n\r\nexport const getTaskCount = () => {\r\n  const tasks = store.getState().tasks;\r\n  const orders = store.getState().orders;\r\n  const projects = store.getState().projects;\r\n\r\n  const awaitCloseNum =\r\n    publicFn.taskCleaner(tasks.assigner, orders, projects) &&\r\n    publicFn.taskCleaner(tasks.assigner, orders, projects).filter((item) => {\r\n      return item.Status === \"D\";\r\n    }).length;\r\n\r\n  const awaitComplateNum =\r\n    publicFn.taskCleaner(tasks.assignee, orders, projects) &&\r\n    publicFn.taskCleaner(tasks.assignee, orders, projects).filter((item) => {\r\n      return item.Status === \"A\";\r\n    }).length;\r\n\r\n  return {\r\n    awaitCloseNum,\r\n    awaitComplateNum,\r\n  };\r\n};\r\n\r\nexport const getAwaitComplateAwaitCloseCount = (tasks) => {\r\n  const countTaskStatuses = (tasks) => {\r\n    const statusCount = {};\r\n    tasks.forEach(task => {\r\n      const { taskType, status } = task;\r\n      if (!statusCount[taskType]) {\r\n        statusCount[taskType] = { 'awaitStartNum': 0, \"awaitCloseNum\": 0, \"awaitComplateNum\": 0 };\r\n      }\r\n      if (status === \"awaitClose\") {\r\n        statusCount[taskType][\"awaitCloseNum\"] += 1;\r\n      } else if (status === \"awaitComplate\") {\r\n        statusCount[taskType][\"awaitComplateNum\"] += 1;\r\n      } else if (status === \"awaitStart\") {\r\n        statusCount[taskType][\"awaitStartNum\"] += 1;\r\n      }\r\n    });\r\n\r\n    return statusCount;\r\n  };\r\n\r\n  const taskStatusCount = countTaskStatuses(tasks);\r\n\r\n  const updatedTasks = tasks.map(task => {\r\n    const { taskType } = task;\r\n    const { \"awaitCloseNum\": pendingCloseCount, \"awaitComplateNum\": pendingCompleteCount, 'awaitStartNum': pendingStartCoun } = taskStatusCount[taskType] || { \"awaitCloseNum\": 0, \"awaitComplateNum\": 0, 'awaitStartNum': 0 };\r\n\r\n    return {\r\n      ...task,\r\n      \"awaitCloseNum\": pendingCloseCount,\r\n      \"awaitComplateNum\": pendingCompleteCount,\r\n      'awaitStartNum': pendingStartCoun\r\n    };\r\n  });\r\n  return updatedTasks;\r\n}\r\n\r\nexport const showNumberText = (min, max) => {\r\n  const a = min === 0 ? min.toString() : min;\r\n  const b = max === 0 ? max.toString() : max;\r\n\r\n  if (a || b) {\r\n    if (a && !b) {\r\n      return `(${a}...)`;\r\n    } else if (!a && b) {\r\n      return `(...${b})`;\r\n    } else {\r\n      return `(${a}-${b})`;\r\n    }\r\n  } else {\r\n    return \"\";\r\n  }\r\n};\r\n\r\nexport const checkFileIsExisting = (template, data, orders) => {\r\n  const templateDataList = getTemplateList(\r\n    template[data.activityNumber] || [],\r\n    orders[data.orderNumber].productLine,\r\n    orders[data.orderNumber].productFamily,\r\n    orders[data.orderNumber].productCategory\r\n  );\r\n\r\n  const param = templateDataList.map((item) => {\r\n    return {\r\n      foe: orders[data.orderNumber].fo,\r\n      region: orders[data.orderNumber].region,\r\n      branch: orders[data.orderNumber].prctr,\r\n      projectNo: orders[data.orderNumber].projectNumber,\r\n      orderNo: data.orderNumber,\r\n      activityNo: data.activityNumber,\r\n      documentName: item.documentDescription + \".eform2\",\r\n    };\r\n  });\r\n\r\n  return api.checkFileIsExisting(param).then((res) => {\r\n    let message = [];\r\n    res.data.forEach((item, index) => {\r\n      !item && message.push(templateDataList[index].documentDescription);\r\n    });\r\n\r\n    return message;\r\n  });\r\n};\r\n\r\nexport const getChecklistActivityNo = (data) => {\r\n  const activtyNo = \"V001\";\r\n\r\n  const listData =\r\n    store.getState()?.documentList?.[data.projectNumber]?.[data.orderNumber]?.[\r\n    activtyNo\r\n    ];\r\n\r\n  return listData ? activtyNo : false;\r\n};\r\n\r\n\r\nexport const getNonConformityConfig = () => {\r\n  return {\r\n    \"7010\": {\r\n      activityNo: \"7010\",\r\n      allowreupload: true,\r\n      closeEnabledInOILScreen: false\r\n    },\r\n    \"7020\": {\r\n      activityNo: \"7020\",\r\n      allowreupload: true,\r\n      closeEnabledInOILScreen: false\r\n    },\r\n    \"7030\": {\r\n      activityNo: \"7030\",\r\n      allowreupload: true,\r\n      closeEnabledInOILScreen: false\r\n    },\r\n    \"7040\": {\r\n      activityNo: \"7040\",\r\n      allowreupload: true,\r\n      closeEnabledInOILScreen: false\r\n    },\r\n    \"7050\": {\r\n      activityNo: \"7050\",\r\n      allowreupload: true,\r\n      closeEnabledInOILScreen: false\r\n    },\r\n    \"7060\": {\r\n      activityNo: \"7060\",\r\n      allowreupload: true,\r\n      closeEnabledInOILScreen: false\r\n    },\r\n    \"7070\": {\r\n      activityNo: \"7070\",\r\n      allowreupload: true,\r\n      closeEnabledInOILScreen: false\r\n    },\r\n    \"7080\": {\r\n      activityNo: \"7080\",\r\n      allowreupload: true,\r\n      closeEnabledInOILScreen: false\r\n    },\r\n    \"7090\": {\r\n      activityNo: \"7090\",\r\n      allowreupload: true,\r\n      closeEnabledInOILScreen: false\r\n    },\r\n    \"70A0\": {\r\n      activityNo: \"70A0\",\r\n      allowreupload: true,\r\n      closeEnabledInOILScreen: false\r\n    },\r\n    \"70B0\": {\r\n      activityNo: \"70B0\",\r\n      allowreupload: true,\r\n      closeEnabledInOILScreen: false\r\n    },\r\n    \"70C0\": {\r\n      activityNo: \"70C0\",\r\n      allowreupload: true,\r\n      closeEnabledInOILScreen: false\r\n    },\r\n    \"70D0\": {\r\n      activityNo: \"70D0\",\r\n      allowreupload: false,\r\n      closeEnabledInOILScreen: true\r\n    },\r\n    \"7350\": {\r\n      activityNo: \"7350\",\r\n      allowreupload: false,\r\n      closeEnabledInOILScreen: true\r\n    },\r\n    \"7360\": {\r\n      activityNo: \"7360\",\r\n      allowreupload: false,\r\n      closeEnabledInOILScreen: true\r\n    },\r\n    \"7400\": {\r\n      activityNo: \"7400\",\r\n      allowreupload: false,\r\n      closeEnabledInOILScreen: true\r\n    },\r\n    \"7500\": {\r\n      activityNo: \"7500\",\r\n      allowreupload: false,\r\n      closeEnabledInOILScreen: true\r\n    },\r\n    \"7600\": {\r\n      activityNo: \"7600\",\r\n      allowreupload: false,\r\n      closeEnabledInOILScreen: true\r\n    },\r\n    \"7620\": {\r\n      activityNo: \"7620\",\r\n      allowreupload: false,\r\n      closeEnabledInOILScreen: true\r\n    },\r\n    \"7700\": {\r\n      activityNo: \"7700\",\r\n      allowreupload: false,\r\n      closeEnabledInOILScreen: true\r\n    },\r\n    \"7800\": {\r\n      activityNo: \"7800\",\r\n      allowreupload: false,\r\n      closeEnabledInOILScreen: true\r\n    },\r\n    \"7950\": {\r\n      activityNo: \"7950\",\r\n      allowreupload: false,\r\n      closeEnabledInOILScreen: true\r\n    },\r\n    \"8010\": {\r\n      activityNo: \"8010\",\r\n      allowreupload: false,\r\n      closeEnabledInOILScreen: true\r\n    },\r\n    \"9200\": {\r\n      activityNo: \"9200\",\r\n      allowreupload: false,\r\n      closeEnabledInOILScreen: true\r\n    }\r\n  }\r\n}\r\n\r\nconst customizer = (objValue, srcValue) => {\r\n  if (Array.isArray(objValue) && Array.isArray(srcValue)) {\r\n    return objValue.concat(srcValue);\r\n  }\r\n};\r\n\r\nexport const updateOrdersData = (soNo, dispatch) => {\r\n  dispatch(action.showLoading());\r\n  api.fetchOrdersDataByProjects(soNo).then((response) => {\r\n    const { entities } = normalize(response.data, schema.ordersData);\r\n    db.cache.get(\"ordersData\").then((cache) => {\r\n      const result = _.mergeWith(cache.data, entities, customizer);\r\n      let projects = result.projects\r\n        ? Object.keys(result.projects)\r\n        : [];\r\n      db.cache.put({ id: \"ordersData\", data: result }).then(() => {\r\n        const param = { projectNos: projects }\r\n        repo\r\n          .fetchLocalInstallationStepsConfirmDate(param)\r\n\r\n        const request= getDocumentListParmas(param.projectNos, result?.orders)\r\n        dispatch(action.fetchDocuments(request, {}, dispatch));\r\n      });\r\n    });\r\n\r\n\r\n  }).catch((error) => {\r\n    dispatch(action.setError(error.message));\r\n  }).finally(() => {\r\n    dispatch(action.hideLoading());\r\n  });\r\n}\r\n\r\nexport const disableForm = (params = {}) => {\r\n  if (!showUploadButton()) {\r\n    return false\r\n  }\r\n\r\n  const { orderActivities, documentList, templates, orders, auth, nonConformityConfig } = store.getState();\r\n  const { activityNo, orderNo, productFamily, productLine, projectNumber, root } = params;\r\n  const productCategory = orders[orderNo]?.productCategory;\r\n  const templatesData = templates[activityNo] || [];\r\n  const documents = [];\r\n  const documentsItem = documentList[projectNumber]?.[orderNo]?.[activityNo];\r\n  const allowreupload = nonConformityConfig[activityNo]?.allowreupload;\r\n  const disableTheEntranceroot = root === \"listCard\";\r\n\r\n\r\n  const data = getTemplateList(templatesData, productLine, productFamily, productCategory);\r\n  const description = data.map((item) => {\r\n    return item.documentDescription;\r\n  });\r\n\r\n\r\n  description.forEach((item) => {\r\n    return (\r\n      (documentsItem &&\r\n        documentsItem.filter(\r\n          (ele) => ele.name.indexOf(item) > -1 && documents.push(ele)\r\n        )) ||\r\n      []\r\n    );\r\n  });\r\n\r\n  const docAuthActivityNos = documentAuthorizationC(\r\n    orderActivities,\r\n    orderNo,\r\n    auth.activityAuth,\r\n    auth.roles[0]\r\n  );\r\n\r\n  const canUploadDoc = docAuthActivityNos.includes(activityNo);\r\n\r\n  if (root === \"installationChecklist\") {\r\n    const template = {\r\n      mandDoc: \"Y\",\r\n      documentDescription: ``,\r\n    };\r\n\r\n    data.push(template);\r\n\r\n    documents.push(documentList?.[projectNumber]?.[orderNo]?.[activityNo][0]);\r\n  }\r\n\r\n  if (disableTheEntranceroot && canUploadDoc) {\r\n    return false\r\n  }\r\n\r\n  if (documents.length > 0) {\r\n    if (!allowreupload) {\r\n      return true\r\n    } else {\r\n      if (getChecklistActivityNo({ projectNumber: projectNumber, orderNumber: orderNo })) {\r\n        return true\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\nexport const showUploadButton = () => {\r\n  const {  auth } = store.getState();\r\n\r\n  return auth?.isEnableCorrectImage\r\n}\r\n\r\nconst getTime = () => {\r\n  const now = new Date();\r\n  const year = now.getFullYear();\r\n  const month = String(now.getMonth() + 1).padStart(2, '0');\r\n  const day = String(now.getDate()).padStart(2, '0');\r\n  const hours = String(now.getHours()).padStart(2, '0');\r\n  const minutes = String(now.getMinutes()).padStart(2, '0');\r\n  const seconds = String(now.getSeconds()).padStart(2, '0');\r\n\r\n  return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\r\n}\r\n\r\nconst getCurrentPosition =  () => {\r\n  return new Promise((resolve) => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          const latitude = position.coords.latitude;\r\n          const longitude = position.coords.longitude;\r\n          resolve({ status: 'success', data: { latitude, longitude } });\r\n        },\r\n        (error) => {\r\n          resolve({ status: 'error', message: error.message });\r\n        }\r\n      );\r\n    } else {\r\n      resolve({ status: 'error', message: 'Geolocation is not supported by this browser.' });\r\n    }\r\n  });\r\n\r\n};\r\n\r\n// \r\nconst getLocationFromCoordinates = (latitude, longitude) => {\r\n  return new Promise((resolve, reject) => {\r\n    if (window.BMap) {\r\n      const geocoder = new window.BMap.Geocoder(); //  Geocoder \r\n      const point = new window.BMap.Point(longitude, latitude); // \r\n\r\n      geocoder.getLocation(point, (result) => {\r\n        if (result) {\r\n          resolve(result.address);\r\n        } else {\r\n          resolve('');\r\n        }\r\n      });\r\n    } else {\r\n      reject(' API ');\r\n    }\r\n  });\r\n};\r\n\r\nexport const fillTextToImg = async (base64,projectParams) => {\r\n  let data = store.getState();\r\n  // let location = { longitude: \"121.197237\", latitude: \"31.449172\" }\r\n  const location = await getCurrentPosition();\r\n  let address = await getLocationFromCoordinates(location?.data?.latitude, location?.data?.longitude);\r\n  let projectName = data.projects[projectParams.projectNumber]?.description;\r\n  let time = getTime();\r\n\r\n  let watermarkText = [`${address}`, `${time}`, `${projectParams.orderNo}`, `${projectName}`];\r\n\r\n  const img = new Image();\r\n  img.src = base64;\r\n  img.setAttribute(\"crossOrigin\", \"Anonymous\");\r\n\r\n  return new Promise((resolve) => {\r\n\r\n    img.onload = () => {\r\n\r\n      const canvas = document.createElement(\"canvas\");\r\n      const ctx = canvas.getContext(\"2d\");\r\n\r\n      canvas.width = img.width;\r\n      canvas.height = img.height;\r\n\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n      ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n\r\n      ctx.font = '15px Arial';\r\n      ctx.textAlign = \"left\";\r\n      ctx.fillStyle = \"#ffffff\";\r\n\r\n      let lineHeight = 0;\r\n\r\n      watermarkText.forEach(item => {\r\n        lineHeight += 30\r\n        ctx.fillText(item, 20, canvas.height - lineHeight + 20);\r\n      })\r\n\r\n      resolve(canvas.toDataURL(\"image/jpg\"));\r\n    };\r\n  });\r\n}\r\n\r\nexport const formatDateToYMD = (dateString) => {\r\n  console.log(dateString)\r\n  const date = new Date(dateString);  //  Date \r\n\r\n  const year = date.getFullYear();  // \r\n  const month = String(date.getMonth() + 1).padStart(2, '0');  // 01\r\n  const day = String(date.getDate()).padStart(2, '0');  // \r\n\r\n  return dateString? `${year}-${month}-${day}`: null;  // YYYYMMDD\r\n}\r\n\r\nexport const taskDataConversion = (item) => {\r\n  let status;\r\n  switch (item.status) {\r\n    case 1:\r\n      status = \"awaitStart\"\r\n      break;\r\n    case 2:\r\n      status = \"awaitComplate\";\r\n      break;\r\n    case 3:\r\n      status = \"awaitClose\";\r\n      break;\r\n    case 4:\r\n      status = 'closed';\r\n      break;\r\n    case 5:\r\n      status = 'closed';\r\n      break;\r\n    default:\r\n      status = 'closed';\r\n      break;\r\n  };\r\n\r\n  return {\r\n    taskId: item.id,\r\n    taskType: item.type,\r\n    projectNo: item.projectNo,\r\n    orderNo: item.salesOrderNo,\r\n    activityNo: item.activityNo,\r\n    projectName: item.projectName,\r\n    planStartDate: formatDateToYMD(item.planStartDate),\r\n    planEndDate: formatDateToYMD(item.planEndDate),\r\n    actualStartDate: formatDateToYMD(item.actualStartDate),\r\n    actualEndDate: formatDateToYMD(item.actualEndDate),\r\n    actualCloseDate: formatDateToYMD(item.actualClosedDate),\r\n    statusDesc: item.statusDesc,\r\n    status: status\r\n  };\r\n\r\n}","import * as action from \"actions\";\r\nimport {\r\n  Checkboxes,\r\n  DateTime,\r\n  Dropdown,\r\n  NaYesNo,\r\n  NumberText,\r\n  PageBreak,\r\n  Paragraph,\r\n  Photo,\r\n  SectionBreak,\r\n  Signature,\r\n  SingleChoice,\r\n  SingleLine,\r\n  Slider,\r\n  StaticText,\r\n  YesNo,\r\n} from \"components/TemplateForm\";\r\nimport store from \"js/store\";\r\nimport Moment from \"moment\";\r\nimport React from \"react\";\r\nimport { getListOfInstallationBranches } from \"js/publicFn\";\r\n\r\nconst defaultNaYesNoValues = {\r\n  na: \"N/A\",\r\n  fixed: \"Fixed\",\r\n  yes: \"Yes\",\r\n  no: \"No\",\r\n};\r\n\r\nconst customizeNaYesNoValues = {\r\n  yes: \"YES\",\r\n  no: \"NO\",\r\n  na: \"N/A\",\r\n  notok: \"Not OK\",\r\n  ok: \"OK\",\r\n  square: \"\",\r\n  triangle: \"\",\r\n  fixed: \"Fixed\",\r\n};\r\n\r\nconst verifyNumber = (value, props) => {\r\n  // if (value > props.max) {\r\n  //   return props.max;\r\n  // } else {\r\n  //   if (value === \"\") {\r\n  //     return \"\";\r\n  //   }\r\n  //   console.log(value)\r\n    return value;\r\n  // }\r\n};\r\n\r\nexport const initFormState = (state, routeParams) => {\r\n  state.fields.forEach((field) => {\r\n    switch (field.type) {\r\n      case \"singleLine\":\r\n        if (!field.settings.value) {\r\n          field.settings.value = field.settings.prefilledAnswer;\r\n        }\r\n        if (field.settings.value.indexOf(\"%%!\") > -1) {\r\n          const { orders, projects, partners, auth } = store.getState();\r\n          const orderData = orders[routeParams.orderNo];\r\n          const textFieldText = field.settings.value.slice(3, -3);\r\n          const { description: projectName } =\r\n            projects[orderData.projectNumber];\r\n          const PM = partners[`${orderData[\"number\"]}-YI`]?.name1;\r\n          const PE = partners[`${orderData[\"number\"]}-Z(`]?.name1;\r\n          const InstallationClientName =\r\n            partners[`${orderData[\"number\"]}-Z&`]?.name1;\r\n          const installationTeamLeader = partners[`${orderData[\"number\"]}-SC`]\r\n            ?.name1\r\n            ? partners[`${orderData[\"number\"]}-SC`]?.name1\r\n            : partners[`${orderData[\"number\"]}-VW`]?.name1;\r\n\r\n          const branchName = getListOfInstallationBranches(orderData[\"prctr\"]);\r\n          field.settings.value =\r\n            textFieldText === \"orderno\"\r\n              ? orderData[\"number\"]\r\n              : textFieldText === \"liftno\"\r\n              ? orderData[\"unitDesignation\"]\r\n              : textFieldText === \"projectname\"\r\n              ? projectName\r\n              : textFieldText === \"instbranch\"\r\n              ? branchName\r\n              : textFieldText === \"pl\"\r\n              ? PM\r\n              : textFieldText === \"instcustname\"\r\n              ? InstallationClientName\r\n              : textFieldText === \"pe\"\r\n              ? PE\r\n              : textFieldText === \"tl\"\r\n              ? installationTeamLeader\r\n              : textFieldText === \"CurrentDate\"\r\n              ? auth?.CurrentDate\r\n              : textFieldText === \"LoginUserName\"\r\n              ? auth?.name\r\n              : \"\";\r\n        }\r\n        break;\r\n      case \"yesNo\":\r\n        if (!field.settings.value) {\r\n          field.settings.value = field.settings.initialValue;\r\n        }\r\n        break;\r\n      case \"slider\":\r\n        if (!field.settings.value) {\r\n          field.settings.value = field.settings.initialValue;\r\n        }\r\n        break;\r\n      case \"paragraph\":\r\n        if (!field.settings.value) {\r\n          field.settings.value = field.settings.prefilledAnswer;\r\n        }\r\n        break;\r\n      case \"naYesNo\":\r\n        if (\r\n          (!field.settings.itemTexts && !field.settings.itemValues) ||\r\n          (field.settings.itemTexts.length === 0 &&\r\n            field.settings.itemValues.length === 0)\r\n        ) {\r\n          field.settings.itemTexts = [];\r\n          field.settings.itemValues = [];\r\n\r\n          field.settings.itemTexts.push(\"-\");\r\n          field.settings.itemValues.push(\"-\");\r\n\r\n          if (field.settings.notApplicableOption) {\r\n            field.settings.itemValues.push(\"na\");\r\n            field.settings.itemTexts.push(defaultNaYesNoValues[\"na\"]);\r\n          }\r\n\r\n          if (field.settings.fixedOption) {\r\n            field.settings.itemValues.push(\"fixed\");\r\n            field.settings.itemTexts.push(defaultNaYesNoValues[\"fixed\"]);\r\n          }\r\n\r\n          field.settings.itemValues.push(\"yes\");\r\n          field.settings.itemTexts.push(defaultNaYesNoValues[\"yes\"]);\r\n\r\n          field.settings.itemValues.push(\"no\");\r\n          field.settings.itemTexts.push(defaultNaYesNoValues[\"no\"]);\r\n\r\n          field.settings.buttonDescriptions.forEach((desc) => {\r\n            for (let i = 0; i < field.settings.itemValues.length; i++) {\r\n              if (desc.selectedButtonId === field.settings.itemValues[i]) {\r\n                // field.settings.itemValues[i] = desc.selectedDescriptionId;\r\n                field.settings.itemTexts[i] =\r\n                  customizeNaYesNoValues[desc.selectedDescriptionId];\r\n                break;\r\n              }\r\n            }\r\n          });\r\n        }\r\n\r\n        if (!field.settings.value) {\r\n          field.settings.value = \"-\";\r\n        }\r\n        break;\r\n      case \"photo\":\r\n        if (!field.settings.value) {\r\n          field.settings.value =\r\n            \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\r\n        }\r\n        break;\r\n      case \"date\":\r\n        if (!field.settings.value) {\r\n          field.settings.value = Moment();\r\n          if (field.settings.includeTime) {\r\n            field.settings.value = Moment().format(\"YYYY-MM-DDTHH:mm\");\r\n          } else {\r\n            field.settings.value = Moment().format(\"YYYY-MM-DD\");\r\n          }\r\n        }\r\n        break;\r\n      case \"number\":\r\n        // if (!field.settings.value) {\r\n        //   field.settings.value = Number(\r\n        //     field.settings.prefilledAnswer\r\n        //       ? field.settings.prefilledAnswer\r\n        //       : 0 || field.settings.prefilledAnswer === \"\"\r\n        //       ? 0\r\n        //       : field.settings.prefilledAnswer\r\n        //   );\r\n        // }\r\n        if (!field.settings.value) {\r\n          if (!field.settings.prefilledAnswer) {\r\n            if (\r\n              field.settings.prefilledAnswer === 0 ||\r\n              field.settings.prefilledAnswer === \"0\" ||\r\n              field.settings.prefilledAnswer\r\n            ) {\r\n              field.settings.value = field.settings.prefilledAnswer;\r\n            } else {\r\n              field.settings.value = \"\";\r\n            }\r\n          } else {\r\n            const { auth } = store.getState();\r\n            if (field.settings.prefilledAnswer === \"%%!LoginUserNo!%%\") {\r\n              field.settings.value =auth?.personalNumber\r\n            } else {\r\n              field.settings.value = field.settings.prefilledAnswer;\r\n            }\r\n          }\r\n        }\r\n        break;\r\n      case \"multipleChoice\":\r\n        if (!field.settings.value) {\r\n          // field.settings.value = field.settings.value\r\n          //   ? field.settings.value\r\n          //   : \"\";\r\n          field.settings.value = \"\";\r\n        }\r\n\r\n        break;\r\n      case \"checkboxes\":\r\n        if (!field.settings.value) {\r\n          field.settings.value = field.settings.value\r\n            ? field.settings.value\r\n            : [];\r\n        }\r\n        break;\r\n      case \"signature\":\r\n        if (!field.settings.value) {\r\n          field.settings.value =\r\n            \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\r\n        }\r\n        break;\r\n      case \"dropdown\":\r\n        if (!field.settings.value) {\r\n          field.settings.value = field.settings.value\r\n            ? field.settings.value\r\n            : \"\";\r\n        }\r\n        break;\r\n      default:\r\n    }\r\n  });\r\n\r\n  return state;\r\n};\r\n\r\nexport const initProps = (field, language) => {\r\n  const lang = tmplLangMapper[language];\r\n\r\n  const props = Object();\r\n  props.id = field.id;\r\n  props.key = field.id;\r\n  switch (field.type) {\r\n    case \"checkboxes\":\r\n      props.value = field.settings.value;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.descriptionI18n = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.options = field.settings.options;\r\n      props.required = field.settings.required;\r\n      props.onChange = (value) => {\r\n        props.value.indexOf(value) > -1\r\n          ? props.value.splice(props.value.indexOf(value), 1)\r\n          : props.value.push(value);\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: props.value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"date\":\r\n      props.value = field.settings.value;\r\n      props.required = field.settings.required;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.descriptionI18n = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.includeTime = field.settings.includeTime;\r\n      props.onChange = (e) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: e.target.value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"dropdown\":\r\n      props.value = field.settings.value;\r\n      props.required = field.settings.required;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.helperText = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.options = field.settings.options;\r\n      props.onChange = (e) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: e,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"number\":\r\n      props.prefilledAnswer = field.settings.prefilledAnswer;\r\n      props.value = field.settings.value;\r\n      props.required = field.settings.required;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.helperText = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.unit = field.settings.unit;\r\n      props.type = field.type;\r\n      props.unitFront = field.settings.unitFront;\r\n      props.min = field.settings.min;\r\n      props.max = field.settings.max;\r\n      props.onChange = (e, props) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value:\r\n              props.max || props.min\r\n                ? verifyNumber(e.target.value, props).toString()\r\n                : e.target.value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"multipleChoice\":\r\n      props.value = field.settings.value;\r\n      props.required = field.settings.required;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.helperText = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.options = field.settings.options;\r\n      props.onChange = (e) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: e.target.value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"singleLine\":\r\n      props.identifier = field.settings.identifier;\r\n      props.value = field.settings.value;\r\n      props.required = field.settings.required;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.helperText = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.onChange = (e) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: e.target.value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"yesNo\":\r\n      props.value = field.settings.value;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.onChange = (e) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: e.target.checked,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"staticText\":\r\n      props.value = field.settings.textI18n[lang]\r\n        ? field.settings.textI18n[lang]\r\n        : field.settings.textI18n.English;\r\n      props.images = field.settings.images;\r\n      props.required = field.settings.required;\r\n      return props;\r\n    case \"pageBreak\":\r\n      return props;\r\n    case \"sectionBreak\":\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.description = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      return props;\r\n    case \"photo\":\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.description = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.value = field.settings.value;\r\n      props.required = field.settings.required;\r\n      props.identifier = field?.settings?.identifier\r\n      props.onChange = (photoURL) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: photoURL === \"#\" ? \"#\" : photoURL,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"slider\":\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.description = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.min = field.settings.min;\r\n      props.max = field.settings.max;\r\n      props.step = field.settings.step;\r\n      props.value = field.settings.value;\r\n      props.onChange = (e, value) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"paragraph\":\r\n      props.value = field.settings.value;\r\n      props.required = field.settings.required;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.helperText = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.onChange = (e) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: e.target.value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"naYesNo\":\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.description = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.images = field.settings.images;\r\n      props.value = field.settings.value;\r\n      props.itemTexts = field.settings.itemTexts;\r\n      props.itemValues = field.settings.itemValues;\r\n      props.required = field.settings.required;\r\n      props.onClick = (e) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: e.currentTarget.value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"signature\":\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.description = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.value = field.settings.value;\r\n      props.onChange = (value) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    default:\r\n  }\r\n  return props;\r\n};\r\n\r\nconst componentMapper = {\r\n  checkboxes: Checkboxes,\r\n  date: DateTime,\r\n  dropdown: Dropdown,\r\n  number: NumberText,\r\n  multipleChoice: SingleChoice,\r\n  singleLine: SingleLine,\r\n  yesNo: YesNo,\r\n  staticText: StaticText,\r\n  pageBreak: PageBreak,\r\n  sectionBreak: SectionBreak,\r\n  photo: Photo,\r\n  slider: Slider,\r\n  paragraph: Paragraph,\r\n  naYesNo: NaYesNo,\r\n  signature: Signature,\r\n};\r\n\r\nexport const componentGenerator = (field, props) => {\r\n  if (typeof componentMapper[field.type] !== \"undefined\") {\r\n    return React.createElement(componentMapper[field.type], props);\r\n  }\r\n\r\n  return React.createElement(\r\n    () => <div>The component {field.type} has not been created yet.</div>,\r\n    props\r\n  );\r\n};\r\n\r\nexport const changeValue = (state, data) => {\r\n  const param = state.currentTemplateParams;\r\n\r\n  // documentNo +\r\n  //   \"-\" +\r\n  //   documentPart +\r\n  //   \"-\" +\r\n  //   activityNo +\r\n  //   \"-\" +\r\n  //   productFamily +\r\n  //   \"-\" +\r\n  //   productLine +\r\n  //   \"-\" +\r\n  //   language;\r\n\r\n  const fields =\r\n    state[\r\n      param.documentNo +\r\n        \"-\" +\r\n        param.documentPart +\r\n        \"-\" +\r\n        param.activityNo +\r\n        \"-\" +\r\n        param.productFamily +\r\n        \"-\" +\r\n        param.productLine +\r\n        \"-\" +\r\n        param.language\r\n    ].fields;\r\n\r\n  for (let i = 0; i < fields.length; i++) {\r\n    if (data.id === fields[i].id) {\r\n      switch (fields[i].type) {\r\n        case \"singleLine\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"yesNo\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"photo\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"slider\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"paragraph\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"naYesNo\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"date\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"number\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"signature\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"multipleChoice\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"checkboxes\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"dropdown\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        default:\r\n      }\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nconst ops = {\r\n  isString: \"==\",\r\n  isNotString: \"!=\",\r\n  isNumber: \"==\",\r\n  isNotNumber: \"!=\",\r\n  isOption: \"==\",\r\n  isNotOption: \"!=\",\r\n  isBool: \"==\",\r\n  isExtBool: \"==\",\r\n  isNotExtBool: \"!=\",\r\n  isDate: \"==\",\r\n  isNotDate: \"!=\",\r\n  before: \"==\", // TODO: below need handle\r\n  after: \"==\",\r\n  startsWith: \"==\",\r\n  endsWith: \"==\",\r\n  greaterThan: \"==\",\r\n  lessThan: \"==\",\r\n  containsString: \"!=\",\r\n  containsOption: \"==\",\r\n  doesNotContainString: \"!=\",\r\n  doesNotContainOption: \"==\",\r\n  and: \"&&\",\r\n  or: \"||\",\r\n};\r\n\r\nexport const isVisible = (field) => {\r\n  let res = true;\r\n\r\n  const param = store.getState().templateForm?.currentTemplateParams;\r\n  if (!param) return res;\r\n  const templateForm =\r\n    store.getState().templateForm[\r\n      param.documentNo +\r\n        \"-\" +\r\n        param.documentPart +\r\n        \"-\" +\r\n        param.activityNo +\r\n        \"-\" +\r\n        param.productFamily +\r\n        \"-\" +\r\n        param.productLine +\r\n        \"-\" +\r\n        param.language\r\n    ];\r\n\r\n  const fields = templateForm?.fields;\r\n\r\n  for (\r\n    let rulesIndex = 0;\r\n    rulesIndex < field.settings.visRules.length;\r\n    rulesIndex++\r\n  ) {\r\n    for (let fieldIndex = 0; fieldIndex < fields.length; fieldIndex++) {\r\n      if (\r\n        fields[fieldIndex].id === field.settings.visRules[rulesIndex].fieldId\r\n      ) {\r\n        /*eslint no-eval: 0*/\r\n        let result;\r\n        if (fields[fieldIndex].type === \"naYesNo\") {\r\n          let value;\r\n          if (fields[fieldIndex].settings.value === \"yes\") {\r\n            value = \"true\";\r\n          } else if (fields[fieldIndex].settings.value === \"no\") {\r\n            value = \"false\";\r\n          } else {\r\n            value = fields[fieldIndex].settings.value;\r\n          }\r\n          result = JSON.stringify(value);\r\n        } else {\r\n          result = JSON.stringify(fields[fieldIndex].settings.value);\r\n        }\r\n\r\n        const cond = eval(\r\n          result +\r\n            ops[field.settings.visRules[rulesIndex].operatorId] +\r\n            JSON.stringify(field.settings.visRules[rulesIndex].argument)\r\n        );\r\n\r\n        /*eslint no-eval: 0*/\r\n        res = eval(\r\n          JSON.stringify(res) +\r\n            ops[field.settings.visRules[rulesIndex].conjunctionOperator] +\r\n            JSON.stringify(cond)\r\n        );\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  return res;\r\n};\r\n\r\nexport const tmplLangMapper = {\r\n  EN: \"English\",\r\n  ZH: \"Chinese\",\r\n};\r\n","import { schema } from \"normalizr\";\r\n\r\nexport const activity = new schema.Entity(\r\n  \"activities\",\r\n  {},\r\n  { idAttribute: \"number\" }\r\n);\r\n\r\nexport const workCenter = new schema.Entity(\r\n  \"workCenters\",\r\n  {},\r\n  {\r\n    idAttribute: \"projectNo\",\r\n  }\r\n);\r\n\r\nexport const installation = new schema.Entity(\r\n  \"installations\",\r\n  {},\r\n  {\r\n    idAttribute: (value) => {\r\n      return `${value.orderNumber}-${value.stepNumber}`;\r\n    },\r\n  }\r\n);\r\n\r\nexport const orderInstallationMethod = new schema.Entity(\r\n  \"orderInstallationMethods\",\r\n  {},\r\n  {\r\n    idAttribute: \"orderNumber\",\r\n  }\r\n);\r\n\r\nexport const order = new schema.Entity(\r\n  \"orders\",\r\n  {\r\n    installationMethod: orderInstallationMethod,\r\n  },\r\n  { idAttribute: \"number\" }\r\n);\r\n\r\nexport const char = new schema.Entity(\r\n  \"chars\",\r\n  {},\r\n  {\r\n    idAttribute: (value) => {\r\n      return `${value.orderNo}-${value.itemNo}-${value.charID}`;\r\n    },\r\n  }\r\n);\r\n\r\nexport const orderActivity = new schema.Entity(\r\n  \"orderActivities\",\r\n  {},\r\n  {\r\n    idAttribute: (value) => {\r\n      return `${value.orderNumber}-${value.activityNumber}`;\r\n    },\r\n  }\r\n);\r\n\r\nexport const partnerFunction = new schema.Entity(\r\n  \"partnerFunctions\",\r\n  {},\r\n  { idAttribute: \"number\" }\r\n);\r\n\r\nexport const partner = new schema.Entity(\r\n  \"partners\",\r\n  {},\r\n  {\r\n    idAttribute: (value) => {\r\n      return `${value.orderNumber}-${value.functionNumber}`;\r\n    },\r\n  }\r\n);\r\n\r\nexport const productFamily = new schema.Entity(\r\n  \"productFamilies\",\r\n  {},\r\n  { idAttribute: \"productFamily\" }\r\n);\r\n\r\nexport const project = new schema.Entity(\r\n  \"projects\",\r\n  {},\r\n  { idAttribute: \"number\" }\r\n);\r\n\r\nexport const fittersDemand = new schema.Entity(\r\n  \"fittersDemand\",\r\n  {},\r\n  { idAttribute: \"productFamily\" }\r\n);\r\n\r\nexport const fittersDemands = [fittersDemand];\r\n\r\nexport const fittersCertification = new schema.Entity(\r\n  \"fittersCertification\",\r\n  {},\r\n  { idAttribute: \"sqmNr\" }\r\n);\r\n\r\nexport const fittersCertifications = [fittersCertification];\r\n\r\nexport const fittersAssignmentTransfer = new schema.Entity(\r\n  \"fittersAssignmentTransfer\",\r\n  {},\r\n  { idAttribute: \"projectNo\" }\r\n);\r\n\r\nexport const fittersAssignmentTransfers = [fittersAssignmentTransfer];\r\n\r\nexport const masterData = {\r\n  activities: [activity],\r\n  partnerFunctions: [partnerFunction],\r\n  productFamilies: [productFamily],\r\n  workCenters: [workCenter],\r\n};\r\n\r\nexport const ordersData = {\r\n  installations: [installation],\r\n  orders: [order],\r\n  orderActivities: [orderActivity],\r\n  partners: [partner],\r\n  projects: [project],\r\n  chars: [char],\r\n};\r\n","export const hideAlert = () => {\r\n  return { type: \"SET_ALERT\", payload: {} };\r\n};\r\n\r\nexport const setAlert = (alert) => {\r\n  return { type: \"SET_ALERT\", payload: alert };\r\n};\r\n\r\nexport const setError = (message) => ({\r\n  type: \"SET_ALERT\",\r\n  payload: { message, severity: \"error\" },\r\n});\r\n\r\nexport const setInfo = (message) => ({\r\n  type: \"SET_ALERT\",\r\n  payload: { message, severity: \"info\" },\r\n});\r\n\r\nexport const setSuccess = (message) => ({\r\n  type: \"SET_ALERT\",\r\n  payload: { message, severity: \"success\" },\r\n});\r\n\r\nexport const setWarning = (message) => ({\r\n  type: \"SET_ALERT\",\r\n  payload: { message, severity: \"warning\" },\r\n});\r\n","import * as action from \"actions\";\r\nimport * as api from \"api\";\r\nimport * as repo from \"js/fetch\";\r\nimport { saveTheFirstRefreshTime } from \"js/util\";\r\n\r\nexport const setAuth = (auth) => {\r\n  return { type: \"SET_AUTH\", payload: auth };\r\n};\r\n\r\nexport const clearState = () => {\r\n  return { type: \"USER_LOGOUT\" };\r\n};\r\n\r\nexport const login = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api\r\n    .login(data)\r\n    .then((response) => {\r\n      const { result } = response.data;\r\n      if (result === 2) {\r\n        return Promise.reject({ message: \"\" });\r\n      }\r\n      return repo.fetchProfile();\r\n    })\r\n    .then((data) => {\r\n      if (data.isPwdInit) {\r\n        return data;\r\n      } else {\r\n        dispatch(action.setAuth(data));\r\n        window.localStorage.setItem(\"auth\", JSON.stringify(data));\r\n        saveTheFirstRefreshTime(dispatch);\r\n        dispatch(action.setHistoryPage(\"loginPage\"));\r\n        return repo.fetchInstMethods();\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      window.localStorage.removeItem(\"auth\");\r\n      dispatch(action.setAuth(null));\r\n      dispatch(action.setError(error.message));\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n    });\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api\r\n    .logout()\r\n    .then(() => {\r\n      window.localStorage.removeItem(\"auth\");\r\n      dispatch(setAuth(null));\r\n      dispatch(clearState());\r\n    })\r\n    .catch((error) => {\r\n      dispatch(action.setError(error));\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n    });\r\n};\r\n","import * as action from \"actions\";\r\nimport * as api from \"api\";\r\nimport * as repo from \"js/fetch\";\r\nimport { saveDraftToLocal } from \"js/util\";\r\n\r\nexport const updateDocumentList = (data) => ({\r\n  type: \"UPDATE_DOCUMENT_LIST\",\r\n  payload: data,\r\n});\r\n\r\nexport const uploadDocumentForm = (data, draftData, param) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return savePdf(data, draftData)\r\n    .then((response) => {\r\n      repo.updateDocumentList(response.data).then(() => {\r\n        dispatch(action.updateDocumentList(response.data));\r\n      });\r\n      const { orderNo, form } = draftData;\r\n      const {\r\n        documentNo,\r\n        documentPart,\r\n        activityNo,\r\n        productFamily,\r\n        productLine,\r\n        language,\r\n      } = param;\r\n\r\n      saveDraftToLocal(\r\n        form,\r\n        { documentNo, documentPart },\r\n        { orderNo, activityNo, productFamily, productLine, language }\r\n      );\r\n      dispatch(action.removeTemplateFormState(param));\r\n    })\r\n    .catch((error) => {\r\n      if (error.code === 401) {\r\n        window.localStorage.removeItem(\"auth\");\r\n        dispatch(action.setAuth(null));\r\n      }\r\n      dispatch(action.setError(error.message));\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n      window.history.back(-1);\r\n    });\r\n};\r\n\r\nconst savePdf = (data, dataDraft) => {\r\n  let promises = [];\r\n\r\n  promises.push(api.uploadDocumentForm(data));\r\n\r\n  return Promise.all(promises).then((response) => {\r\n    return Promise.resolve(response[0]);\r\n  });\r\n};\r\n","export const setEntities = (entities) => ({\r\n  type: \"SET_ENTITIES\",\r\n  payload: entities,\r\n});\r\n","import * as action from \"actions\";\r\nimport * as api from \"api\";\r\nimport * as repo from \"js/fetch\";\r\n\r\nexport const setFittersDemand = (data) => ({\r\n  type: \"SET_FITTERS_DEMAND\",\r\n  payload: data,\r\n});\r\n\r\nexport const setFittersCertification = (data) => ({\r\n  type: \"SET_FITTERS_CERTIFICATION\",\r\n  payload: data,\r\n});\r\n\r\nexport const setFittersAssignmentTransfer = (data) => ({\r\n  type: \"SET_FITTERS_ASSIGNMENT_TRANSFER\",\r\n  payload: data,\r\n});\r\n\r\nexport const updateFittersAssignmentTransfer = (data) => ({\r\n  type: \"UPDATE_FITTERS_ASSIGNMENT_TRANSFER\",\r\n  payload: data,\r\n});\r\n\r\nexport const confirmFittersAssignmentList = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api\r\n    .postFittersAssignmentTransfer(data)\r\n    .then((response) => {\r\n      repo.updateFittersAssignmentTransfer(response.data).then(() => {\r\n        dispatch(action.updateFittersAssignmentTransfer(response.data));\r\n      });\r\n    })\r\n    .catch((error) => {\r\n      if (error.code === 401) {\r\n        window.localStorage.removeItem(\"auth\");\r\n        dispatch(action.setAuth(null));\r\n      }\r\n      dispatch(action.setError(error.message));\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n    });\r\n};\r\n","export const resetFormData = () => ({ type: \"RESET_FORM_DATA\" });\r\n\r\nexport const setFormData = (data) => ({\r\n  type: \"SET_FORM_DATA\",\r\n  payload: data,\r\n});\r\n","import * as action from \"actions\";\r\nimport * as api from \"api\";\r\nimport { groupInfoProc, groupInfoDeproc } from \"js/util\";\r\nimport { db } from \"js/db\";\r\n\r\n//{projrctNumber, groupName, checkList}\r\nexport const initGroupInfo = (value) => ({\r\n  type: \"INIT_GROUPINFO\",\r\n  payload: value,\r\n});\r\n\r\nexport const setGroupInfo = (value) => ({\r\n  type: \"SET_GROUPINFO\",\r\n  payload: value,\r\n});\r\n\r\nexport const createGroupInfo = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  const req = groupInfoDeproc(data);\r\n  return api\r\n    .postGroupInfo(req)\r\n    .then((response) => {\r\n      const data = groupInfoProc(response.data);\r\n      db.cache.put({ id: \"groupInfo\", data: data }).then(() => {\r\n        dispatch(action.setGroupInfo(data));\r\n      });\r\n    })\r\n    .catch((error) => {\r\n      if (error.code === 401) {\r\n        window.localStorage.removeItem(\"auth\");\r\n        dispatch(action.setAuth(null));\r\n      }\r\n      dispatch(action.setError(error.message));\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n    });\r\n};\r\n","import * as action from \"actions\";\r\nimport * as repo from \"js/fetch\";\r\nimport * as installationStep from \"js/installationStep\";\r\nimport { getDocumentListParmas } from \"js/util\";\r\nimport { db } from \"js/db\";\r\n\r\nlet projectNos = [];\r\n\r\nexport const fetchAll = (type) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return repo\r\n    .fetchMasterData(type)\r\n    .then((data) => {\r\n      let projects = data.workCenters ? Object.keys(data.workCenters) : [];\r\n      data = installationStep.updateInstallationStepDesc(data);\r\n      dispatch(action.setEntities(data));\r\n\r\n      return repo.fetchOrdersDataByProjects(type, projects, 1);\r\n      // return repo.fetchOrdersData(type);\r\n    })\r\n    .then((data) => {\r\n      data = installationStep.addActivityStepEditable(data);\r\n      data = installationStep.nineStepsToFourteen(data);\r\n      dispatch(action.setEntities(data));\r\n\r\n      projectNos = Object.keys(data.projects);\r\n\r\n      return repo.fetchLocalInstallationStepsConfirmDate({ projectNos }, type);\r\n    })\r\n    .then((data) => {\r\n      dispatch(action.setAllLocalInstallationStepConfirmDate(data));\r\n      const result = getDocumentListParmas(projectNos);\r\n      return repo.fetchDocumentList(result, type);\r\n    })\r\n    .then((data) => {\r\n      dispatch(action.setDocuments(data));\r\n      return repo.fetchTemplatesData(type);\r\n    })\r\n    .then((data) => {\r\n      dispatch(action.setTemplates(data));\r\n      return repo.fetchTasks(type);\r\n    })\r\n    .then((data) => {\r\n      dispatch(action.setTasks(data));\r\n    })\r\n    .then(() => {\r\n      return repo.fetchInstMethods(type);\r\n    })\r\n    .then((data) => {\r\n      dispatch(action.setMethods(data));\r\n    })\r\n    .catch((error) => {\r\n      if (error.code === 401) {\r\n        window.localStorage.removeItem(\"auth\");\r\n        dispatch(action.setAuth(null));\r\n      }\r\n      dispatch(action.setError(error.message));\r\n    })\r\n    .finally(() => {\r\n      db.cache.get(\"dataVersion\").then(cache => {\r\n        if (cache?.data === \"lastVersion\") {\r\n          db.cache.put({ id: \"dataVersion\", data: \"initVersion\" })\r\n          window.location.reload()\r\n        }\r\n        dispatch(action.hideLoading());\r\n      })\r\n    });\r\n};\r\n","const setLoading = (loading) => {\r\n  return { type: \"SET_LOADING\", payload: loading };\r\n};\r\n\r\nexport const hideLoading = () => setLoading(false);\r\n\r\nexport const showLoading = () => setLoading(true);\r\n","import * as action from \"actions\";\r\nimport * as api from \"api\";\r\nimport { db } from \"js/db\";\r\nimport * as repo from \"js/fetch\";\r\nimport * as installationStep from \"js/installationStep\";\r\nimport * as schema from \"js/schema\";\r\nimport { normalize } from \"normalizr\";\r\n\r\nexport const updateOrderInstallationsMethod = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api\r\n    .updateOrderInstallationsMethod(data)\r\n    .then((response) => {\r\n      const { entities } = normalize(response.data, [\r\n        schema.orderInstallationMethod,\r\n      ]);\r\n      dispatch(action.setEntities(entities));\r\n\r\n      db.cache.get(\"ordersData\").then((cache) => {\r\n        const selectValue = {};\r\n        selectValue[data.orderNumbers] = {\r\n          orderNumbers: data.orderNumbers[0],\r\n          installationMethod: Number(data.installationMethod),\r\n        };\r\n        const datas = {\r\n          ...cache.data.orderInstallationMethods,\r\n          ...selectValue,\r\n        };\r\n        db.cache.put({\r\n          id: \"ordersData\",\r\n          data: { ...cache.data, ...{ orderInstallationMethods: datas } },\r\n        });\r\n      });\r\n    })\r\n    .catch((error) => {\r\n      if (error.code === 401) {\r\n        window.localStorage.removeItem(\"auth\");\r\n        dispatch(action.setAuth(null));\r\n      }\r\n      dispatch(action.setError(error.message));\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n    });\r\n};\r\n\r\n/* data = {\r\n    \"projectNo\": \"string\",\r\n    \"orderNo\": \"string\",\r\n    \"activityNo\": \"string\",\r\n    \"type\": 1,      // 1  actual date   2  planned date\r\n    \"date\": \"string\",  // don't required or set it to \"\" when unlock or cancel     otherwise set this like \"2020-11-23\" \r\n    \"combinePdf\": true    \r\n  }\r\n*/\r\nexport const updateOrderActivityStatus = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api\r\n    .updateOrderActivityStatus(data)\r\n    .then((response) => {\r\n      const { entities } = normalize(response.data, [schema.orderActivity]);\r\n\r\n      repo.updateOrderActivities(entities).then(() => {\r\n        let newEntities = installationStep.addActivityStepEditable(entities);\r\n        newEntities = installationStep.activityStatusSetNineStepsToFourteen(\r\n          newEntities\r\n        );\r\n        dispatch(action.setEntities(newEntities));\r\n        db.cache.get(\"localInstallationStepsConfirmDate\").then((cache) => {\r\n          if (cache?.data) {\r\n            dispatch(action.setAllLocalInstallationStepConfirmDate(cache.data));\r\n          }\r\n        });\r\n      });\r\n\r\n      if (data.type === 1 && data.combinePdf && data.date !== \"\") {\r\n        db.cache.get(\"documentList\").then((cache) => {\r\n          let V001 = [{ name: `${data.orderNo}_.pdf`, modified: new Date().toISOString().substring(0, 16) }];\r\n          cache.data[data.projectNo][data.orderNo][\"V001\"] = V001\r\n          db.cache.put({ id: \"documentList\", data: cache.data })\r\n        });\r\n      }\r\n\r\n    })\r\n    .catch((error) => {\r\n      if (error.code === 401) {\r\n        window.localStorage.removeItem(\"auth\");\r\n        dispatch(action.setAuth(null));\r\n      }\r\n      dispatch(action.setError(error.message));\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n    });\r\n};\r\n\r\nexport const setMethods = (data) => ({\r\n  type: \"SET_METHODS\",\r\n  payload: data,\r\n});\r\n\r\nexport const updateLocalInstallationStepConfirmDate = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api\r\n    .updateLocalInstallationStepConfirmDate(data)\r\n    .then((response) => {\r\n      const data = response.data;\r\n      if (data.confirmedDate === \"0001-01-01T00:00:00\") {\r\n        data.confirmedDate = null;\r\n      }\r\n\r\n      repo.updateLocalInstallationStepConfirmDate(data).then(() => {\r\n        dispatch(action.setLocalInstallationStepConfirmDate(data));\r\n      });\r\n    })\r\n    .catch((error) => {\r\n      if (error.code === 401) {\r\n        window.localStorage.removeItem(\"auth\");\r\n        dispatch(action.setAuth(null));\r\n      }\r\n      dispatch(action.setError(error.message));\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n    });\r\n};\r\n\r\nexport const setLocalInstallationStepConfirmDate = (data) => ({\r\n  type: \"SET_LOCAL_INSTALLATION_STEP_CONFIRMDATE\",\r\n  payload: data,\r\n});\r\n\r\nexport const setAllLocalInstallationStepConfirmDate = (data) => ({\r\n  type: \"SET_ALL_LOCAL_INSTALLATION_STEP_CONFIRMDATE\",\r\n  payload: data,\r\n});\r\n","export const setOverdueActivities = (value) => ({\r\n  type: \"SET_OVERDUE_ACTIVITIES\",\r\n  payload: value,\r\n});\r\n","import * as action from \"actions\";\r\nimport * as api from \"api\";\r\nimport { db } from \"js/db\";\r\nimport * as schema from \"js/schema\";\r\nimport {\r\n  currentRefreshTime,\r\n  orderActivitiesSort,\r\n  templatesConverter,\r\n  getNonConformityConfig\r\n} from \"js/util\";\r\nimport { normalize } from \"normalizr\";\r\nimport * as repo from \"js/fetch\";\r\nimport store from \"js/store\";\r\nimport { taskDataConversion } from \"js/util\";\r\n\r\nexport const setAllDataRefreshTime = (data) => ({\r\n  type: \"SET_ALL_DATA_REFRESH_TIME\",\r\n  payload: data,\r\n});\r\n\r\nconst setRequestStatus = (name, loading) => {\r\n  return { type: \"SET_REQUEST_STATUS\", payload: { name, loading } };\r\n};\r\n\r\nexport const closeLoading = (name) => setRequestStatus(name, \"loaded\");\r\n\r\nexport const openLoading = (name) => setRequestStatus(name, \"loading\");\r\n\r\nexport const closeLoadingShowFailInfo = (name) =>\r\n  setRequestStatus(name, \"failToLoad\");\r\n\r\nexport const fetchOrders = (request, type, userInfo) => (dispatch) => {\r\n  const auth = JSON.parse(window.localStorage.getItem(\"auth\"));\r\n  let roles = auth?.roles;\r\n  const isSubconTLOrPE = roles.indexOf('Subcon TL') > -1 || roles.indexOf('PE') > -1;\r\n  const isEISV = roles.indexOf('SL') > -1;\r\n\r\n  dispatch(action.openLoading(\"masterData\")); //loading\r\n  api\r\n    .fetchMasterData(userInfo?.pNumber ? userInfo : {})\r\n    .then((response) => {\r\n      const { entities } = normalize(response.data, schema.masterData);\r\n      entities[\"nonConformityConfig\"] = getNonConformityConfig()\r\n      db.cache.put({ id: \"masterData\", data: entities }).then(() => {\r\n        db.cache.get(\"dataRefreshTime\").then((cache) => {\r\n          const datatime = cache.data;\r\n          datatime[\"masterDataRefreshTime\"] = currentRefreshTime();\r\n          db.cache.put({ id: \"dataRefreshTime\", data: datatime }).then(() => {\r\n            dispatch(action.setAllDataRefreshTime(datatime));\r\n          });\r\n        });\r\n      });\r\n\r\n      let loaded = true;\r\n      isEISV && dispatch(action.fetchTasksList(request, userInfo, loaded, dispatch)).then((res) => {\r\n        let orders = [...new Set(res.map(item => item.orderNo))]\r\n        fetchOrdersData(request, type, userInfo, entities, orders)\r\n      }) \r\n\r\n      isSubconTLOrPE && fetchOrdersData(request, type, userInfo, entities);\r\n\r\n      isSubconTLOrPE && dispatch(action.fetchTasksList(request,userInfo, dispatch));\r\n\r\n    })\r\n    .finally(() => {\r\n      db.cache.put({ id: \"dataVersion\", data: \"lastVersion\" })\r\n      dispatch(action.closeLoading(\"masterData\"));\r\n    })\r\n    .catch((error) => {\r\n      dispatch(action.closeLoadingShowFailInfo(\"masterData\"));\r\n      dispatch(action.setError(error.message));\r\n      return false;\r\n    });\r\n};\r\n\r\nexport const fetchDocuments = (request, userInfo) => (dispatch) => {\r\n  dispatch(action.openLoading(\"document\")); //loading\r\n  api\r\n    .getDocumentList(request)\r\n    .then((response) => {\r\n      return db.cache\r\n        .put({ id: \"documentList\", data: response.data })\r\n        .then(() => {\r\n          db.cache.get(\"dataRefreshTime\").then((cache) => {\r\n            const datatime = cache.data;\r\n            datatime[\"documentListDataRefreshTime\"] = currentRefreshTime();\r\n            db.cache.put({ id: \"dataRefreshTime\", data: datatime }).then(() => {\r\n              dispatch(action.setAllDataRefreshTime(datatime));\r\n            });\r\n          });\r\n        });\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.closeLoading(\"document\"));\r\n    })\r\n    .catch((error) => {\r\n      dispatch(action.closeLoadingShowFailInfo(\"document\"));\r\n      dispatch(action.setError(error.message));\r\n      return false;\r\n    });\r\n\r\n  dispatch(action.openLoading(\"templateList\")); //loading\r\n  api\r\n    .fetchTemplatesData(userInfo?.pNumber ? userInfo : {})\r\n    .then((response) => {\r\n      const data = templatesConverter(response.data);\r\n      db.cache.put({ id: \"templatesData\", data: data }).then(() => {\r\n        db.cache.get(\"dataRefreshTime\").then((cache) => {\r\n          const datatime = cache.data;\r\n          datatime[\"templateListDataRefreshTime\"] = currentRefreshTime();\r\n          db.cache.put({ id: \"dataRefreshTime\", data: datatime }).then(() => {\r\n            dispatch(action.setAllDataRefreshTime(datatime));\r\n          });\r\n        });\r\n      });\r\n    })\r\n\r\n    .finally(() => {\r\n      dispatch(action.closeLoading(\"templateList\"));\r\n    })\r\n    .catch((error) => {\r\n      dispatch(action.closeLoadingShowFailInfo(\"templateList\"));\r\n      dispatch(action.setError(error.message));\r\n      return false;\r\n    });\r\n};\r\n\r\nexport const fetchTasksList = (request, userInfo, loaded) => (dispatch) => {\r\n  dispatch(action.openLoading(\"taskList\")); //loading\r\n  const auth = JSON.parse(window.localStorage.getItem(\"auth\"));\r\n  return api\r\n   .fetchIDPTTasks(auth?.userName)\r\n    .then((response) => {\r\n      let resp = response.data?.data.map((item) => {\r\n        return taskDataConversion(item)\r\n     })\r\n      if (auth?.roles.indexOf('SL') > -1 && !loaded) {\r\n        db.cache.get(\"masterData\").then((cache) => {\r\n          let orders = [...new Set(resp.map(item => item.orderNo))]\r\n          fetchOrdersData(request, '', userInfo, cache?.data, orders)\r\n        })\r\n      }\r\n\r\n     return db.cache.put({ id: \"tasks\", data: resp }).then(() => {\r\n       return  db.cache.get(\"dataRefreshTime\").then((cache) => {\r\n          const datatime = cache.data;\r\n          datatime[\"taskListDataRefreshTime\"] = currentRefreshTime();\r\n          db.cache.put({ id: \"dataRefreshTime\", data: datatime }).then(() => {\r\n            dispatch(action.setAllDataRefreshTime(datatime));\r\n          });\r\n         return resp\r\n        });\r\n      });\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.closeLoading(\"taskList\"));\r\n    })\r\n    .catch((error) => {\r\n      dispatch(action.closeLoadingShowFailInfo(\"taskList\"));\r\n      dispatch(action.setError(error.message));\r\n      return false;\r\n    });\r\n};\r\n\r\n\r\nexport const fetchOrdersData = (request, type, userInfo, entities, orders) => {\r\n  const auth = JSON.parse(window.localStorage.getItem(\"auth\"));\r\n  let roles = auth?.roles;\r\n  const isEISV = roles.indexOf('SL') > -1;\r\n  let projects = entities.workCenters\r\n    ? Object.keys(entities.workCenters)\r\n    : [];\r\n  const dispatch = store.dispatch;\r\n  dispatch(action.openLoading(\"ordersData\"));\r\n  if (isEISV) {\r\n    return api.fetchEISVOrdersData(orders).then((response) => {\r\n      const data = response.data;\r\n      data.orderActivities = orderActivitiesSort(data.orderActivities);\r\n      const { entities } = normalize(data, schema.ordersData);\r\n      return db.cache.put({ id: \"ordersData\", data: entities }).then(() => { \r\n        type === \"all\" &&\r\n          dispatch(action.fetchDocuments(request, userInfo, dispatch));\r\n        return entities     \r\n      })\r\n    }).finally(() => {\r\n        dispatch(action.closeLoading(\"ordersData\"));\r\n    }).catch((error) => {\r\n      dispatch(action.closeLoadingShowFailInfo(\"ordersData\"));\r\n      dispatch(action.setError(error.message));\r\n      return false;\r\n    })\r\n    \r\n  } else {\r\n    api\r\n      .fetchOrdersDataByProjectsAndMerge(projects, 1, userInfo)\r\n      .then((response) => {\r\n        const data = response;\r\n        data.orderActivities = orderActivitiesSort(data.orderActivities);\r\n        const { entities } = normalize(response, schema.ordersData);\r\n        db.cache.put({ id: \"ordersData\", data: entities }).then(() => {\r\n          const param = { projectNos: projects }\r\n          if (userInfo?.pNumber) {\r\n            param[\"pNumber\"] = userInfo.pNumber\r\n          }\r\n          repo\r\n            .fetchLocalInstallationStepsConfirmDate(param)\r\n            .then(() => {\r\n              db.cache.get(\"dataRefreshTime\").then((cache) => {\r\n                const datatime = cache.data;\r\n                datatime[\"orderDataRefreshTime\"] = currentRefreshTime();\r\n                db.cache\r\n                  .put({ id: \"dataRefreshTime\", data: datatime })\r\n                  .then(() => {\r\n                    dispatch(action.setAllDataRefreshTime(datatime));\r\n                    type === \"all\" &&\r\n                      dispatch(action.fetchDocuments(request, userInfo, dispatch));\r\n                  });\r\n              });\r\n            });\r\n        });\r\n      })\r\n      .finally(() => {\r\n        dispatch(action.closeLoading(\"ordersData\"));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(action.closeLoadingShowFailInfo(\"ordersData\"));\r\n        dispatch(action.setError(error.message));\r\n        return false;\r\n      });\r\n  }\r\n\r\n}\r\n\r\n\r\n  \r\n\r\n","export const setLanguage = (value) => ({\r\n  type: \"SET_LANGUAGE\",\r\n  payload: value,\r\n});\r\n\r\nexport const setOrderDetailPageDefaultTab = (value) => ({\r\n  type: \"SET_DEFAULT_TAB\",\r\n  payload: value,\r\n});\r\n\r\nexport const setHistoryPage = (value) => ({\r\n  type: \"SET_HISTORY_PAGE\",\r\n  payload: value,\r\n});\r\n","import * as action from \"actions\";\r\nimport * as api from \"api\";\r\nimport { Base64 } from \"js-base64\";\r\nimport { serialize, deserialize } from \"js/sfdl\";\r\nimport { checkTemplateForm, getDraft, getRawTemplate } from \"js/util\";\r\nimport { initFormState } from \"js/templateFormUtil\";\r\nimport store from \"js/store\";\r\nimport moment from \"moment\";\r\n\r\nexport const setTemplateFormState = (state) => ({\r\n  type: \"SET_TEMPLATE_FORM_STATE\",\r\n  payload: state,\r\n});\r\n\r\nexport const removeTemplateFormState = (data) => ({\r\n  type: \"REMOVE_TEMPLATE_FORM_STATE\",\r\n  payload: data,\r\n});\r\n\r\nexport const handleOnChange = (data) => ({\r\n  type: \"HANDLE_COMPONENT_VALUE_ONCHANGE\",\r\n  payload: data,\r\n});\r\n\r\nexport const storeCurrentParams = (data) => ({\r\n  type: \"STORE_CURRENT_PARAMS\",\r\n  payload: data,\r\n});\r\n\r\nexport const initTemplateForm =\r\n  (\r\n    documentNo,\r\n    documentPart,\r\n    activityNo,\r\n    productFamily,\r\n    productLine,\r\n    language,\r\n    data,\r\n    routeParams\r\n  ) =>\r\n  (dispatch) => {\r\n    const templateForm = {};\r\n    templateForm[\r\n      documentNo +\r\n        \"-\" +\r\n        documentPart +\r\n        \"-\" +\r\n        activityNo +\r\n        \"-\" +\r\n        productFamily +\r\n        \"-\" +\r\n        productLine +\r\n        \"-\" +\r\n        language\r\n    ] = initFormState(deserialize(Base64.decode(data)), routeParams);\r\n    dispatch(action.setTemplateFormState(templateForm));\r\n    return Promise.resolve(\r\n      Base64.encode(\r\n        serialize(\r\n          templateForm[\r\n            documentNo +\r\n              \"-\" +\r\n              documentPart +\r\n              \"-\" +\r\n              activityNo +\r\n              \"-\" +\r\n              productFamily +\r\n              \"-\" +\r\n              productLine +\r\n              \"-\" +\r\n              language\r\n          ]\r\n        )\r\n      )\r\n    );\r\n  };\r\n\r\n/**\r\n * code: 1:  xml base64\r\n *       2: draft \r\n *       3draft \r\n */\r\nexport const fetchTemplateForm =\r\n  (param, draftParam, expendParam) => (dispatch) => {\r\n    dispatch(action.showLoading());\r\n    const { documentNo, documentPart } = param;\r\n\r\n    return api\r\n      .fetchTemplateFormData(param)\r\n      .then((response) => {\r\n        const date = moment(response[\"headers\"][\"date\"]).format(\"YYYY-MM-DD\")\r\n        dispatch(action.setAuth({ ...store.getState().auth, CurrentDate: date }));\r\n        // 1. check raw base64 string\r\n        return checkTemplateForm(\r\n          documentNo,\r\n          documentPart,\r\n          response.data.value\r\n        ).then((data) => {\r\n          if (data.code === 3 || data.code === 1) {\r\n            // templatetemplate \r\n            // 2. get draft\r\n            return getDraft(param, draftParam, expendParam).then((data) => {\r\n              if (data.code === 2) {\r\n                // \r\n                return getRawTemplate(documentNo, documentPart).then((data) => {\r\n                  return Promise.resolve({ code: 1, value: data });\r\n                });\r\n              } else {\r\n                return Promise.resolve(data);\r\n              }\r\n            });\r\n          } else {\r\n            return Promise.resolve(data);\r\n          }\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        if (error.code === 401) {\r\n          window.localStorage.removeItem(\"auth\");\r\n          dispatch(action.setAuth(null));\r\n        }\r\n        dispatch(action.setError(error.message));\r\n      })\r\n      .finally(() => {\r\n        dispatch(action.hideLoading());\r\n      });\r\n  };\r\n","import * as action from \"actions\";\r\nimport { saveDraftToLocal } from \"js/util\";\r\nimport * as api from \"../api/index\";\r\n\r\nexport const setTemplates = (data) => ({\r\n  type: \"SET_TEMPLATES\",\r\n  payload: data,\r\n});\r\n\r\nexport const setDocuments = (data) => ({\r\n  type: \"SET_DOCUMENT_LIST\",\r\n  payload: data,\r\n});\r\n\r\nexport const setPdfList = (data) => ({\r\n  type: \"SET_PDF_LIST\",\r\n  payload: [data],\r\n});\r\n\r\nexport const saveDraft = (data, currentParams, extendParams) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api\r\n    .saveDraft(data)\r\n    .then(() => {\r\n      const result = data.form;\r\n\r\n      const { orderNo, activityNo } = data;\r\n\r\n      saveDraftToLocal(result, currentParams, {\r\n        ...extendParams,\r\n        orderNo,\r\n        activityNo,\r\n      });\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n    });\r\n};\r\n\r\nexport const fetchPdf = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api\r\n    .pdfDownLoad(data)\r\n    .then((response) => {\r\n      dispatch(action.hideLoading());\r\n      const pdfurl = `data:application/pdf;base64,${response.data.blob}`;\r\n      return Promise.resolve(pdfurl);\r\n    })\r\n    .catch((error) => {\r\n      if (error.code === 401) {\r\n        dispatch(action.setAuth(null));\r\n        dispatch(action.hideLoading());\r\n      }\r\n    });\r\n};\r\n\r\nexport const getNoConformityList = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api.getNoConformityList(data).then((response) => {\r\n    dispatch(action.hideLoading());\r\n    return response;\r\n  });\r\n};\r\n\r\nexport const getDocumentList = (data) => (dispatch) => {\r\n  api.getDocumentList(data).then((response) => {\r\n    dispatch(action.setDocuments(response.data));\r\n  });\r\n};\r\n\r\nexport const getHistoryList = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api.getHistoryList(data).then((response) => {\r\n    dispatch(action.hideLoading());\r\n    return response;\r\n  });\r\n};\r\n\r\nexport const closeNonConfirmityItems = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api.closeNonConfirmityItems(data).then((response) => {\r\n    dispatch(action.hideLoading());\r\n    return response;\r\n  });\r\n};\r\n\r\n","export const setTimeHorizon = (timeHorizon) => ({\r\n  type: \"SET_TIME_HORIZON\",\r\n  payload: timeHorizon,\r\n});\r\n","export const setSwInIt = () => ({\r\n  type: \"SW_INIT\",\r\n});\r\n\r\nexport const setSwUpdate = (data) => ({\r\n  type: \"SW_UPDATE\",\r\n  payload: data,\r\n});\r\n","import * as api from \"api\";\r\nimport * as action from \"actions\";\r\nimport { db } from \"js/db\";\r\nimport { taskDataConversion } from \"js/util\";\r\n\r\nexport const setTasks = (data) => ({\r\n  type: \"SET_TASKS\",\r\n  payload: data,\r\n});\r\n\r\nexport const fetchCreateTask = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api\r\n    .createTask(data)\r\n    .then((response) => {\r\n      //get task\r\n      dispatch(action.hideLoading());\r\n    })\r\n    .catch((error) => {\r\n      if (error.code === 401) {\r\n        dispatch(action.setAuth(null));\r\n      }\r\n      dispatch(action.setError(error.message));\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n    });\r\n};\r\n\r\n\r\nexport const processingTasks = (type, data, activityParams) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  const auth = JSON.parse(window.localStorage.getItem(\"auth\"));\r\n\r\n  const userInfo = {\r\n    userId: auth.userName\r\n  };\r\n\r\n  return api\r\n    .processingTasks(type.toLocaleUpperCase(), data.taskId, userInfo)\r\n    .then((response) => {\r\n      if (response.data?.code !== 200) {\r\n        dispatch(action.setError(response.data?.message));\r\n        return false;\r\n      }\r\n      dispatch(action.hideLoading());\r\n      db.cache.get(\"tasks\").then((cache) => {\r\n        const resp = response.data.data;\r\n        const result = taskDataConversion(resp)\r\n        const lastData = cache.data.map(task =>\r\n          task.taskId === data.taskId\r\n            ? { ...task, ...result } \r\n            : task\r\n        );\r\n        db.cache.put({ id: \"tasks\", data: lastData }).then(() => {\r\n          dispatch(action.setTasks(lastData));\r\n        });\r\n      });      \r\n      if (data.taskType === \"COMMISSIONING\" && type === \"finish\") {\r\n        dispatch(action.updateOrderActivityStatus(activityParams));\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      dispatch(action.setError(error.message));\r\n    })  \r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n    });\r\n}","import * as api from \"api\";\r\nimport * as action from \"actions\";\r\n\r\nexport const changePassword = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api\r\n    .changePassword(data)\r\n    .then((response) => {\r\n      //get task\r\n      dispatch(action.hideLoading());\r\n      window.localStorage.removeItem(\"auth\");\r\n      dispatch(action.setAuth(null));\r\n    })\r\n    .catch((error) => {\r\n      if (error.code === 401) {\r\n        window.localStorage.removeItem(\"auth\");\r\n        dispatch(action.setAuth(null));\r\n      }\r\n      dispatch(action.setError(error.message));\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n    });\r\n};\r\n\r\nexport const firstLoginRestPassword = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api.changePassword(data).then((res) => {\r\n    return api.restNewUserStatus().then(() => {\r\n      dispatch(action.hideLoading());\r\n      window.localStorage.removeItem(\"auth\");\r\n      dispatch(action.setAuth(null));\r\n    });\r\n  });\r\n};\r\n","export const setScrollPosition = (data) => ({\r\n  type: \"SET_SCROLL_POSITION\",\r\n  payload: data,\r\n});\r\n","import * as action from \"actions\";\r\nimport * as api from \"api\";\r\nimport { db } from \"js/db\";\r\n\r\nexport const setUserManual = (data) => ({\r\n  type: \"SET_USER_MANUAL_LIST\",\r\n  payload: data,\r\n});\r\n\r\nexport const getUserManual = () => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api\r\n    .getUserManual()\r\n    .then((res) => {\r\n      return Promise.resolve(res.data);\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n    });\r\n};\r\n\r\nexport const getPdfData = (id) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n\r\n  return db.cache.get(\"userManualData\").then((cache) => {\r\n    if (cache?.data[id]) {\r\n      const pdfurl = `data:application/pdf;base64,${cache?.data[id].blob}`;\r\n      dispatch(action.hideLoading());\r\n      return Promise.resolve(pdfurl);\r\n    } else {\r\n      return api\r\n        .downLoadPdf(id)\r\n        .then((res) => {\r\n          const userManualData = cache?.data || {};\r\n          userManualData[id] = { name: res.data.name, blob: res.data.blob };\r\n\r\n          if (cache?.data) {\r\n            return db.cache\r\n              .put({\r\n                id: \"userManualData\",\r\n                data: userManualData,\r\n              })\r\n              .then(() => {\r\n                const pdfurl = `data:application/pdf;base64,${res.data.blob}`;\r\n                return Promise.resolve(pdfurl);\r\n              });\r\n          } else {\r\n            return db.cache\r\n              .put({\r\n                id: \"userManualData\",\r\n                data: userManualData,\r\n              })\r\n              .then(() => {\r\n                const pdfurl = `data:application/pdf;base64,${res.data.blob}`;\r\n                return Promise.resolve(pdfurl);\r\n              });\r\n          }\r\n        })\r\n        .finally(() => {\r\n          dispatch(action.hideLoading());\r\n        });\r\n    }\r\n  });\r\n};\r\n","export const stepDescription = {\r\n  7010: \"\",\r\n  7020: \"\",\r\n  7030: \"\",\r\n  7040: \"\",\r\n  7050: \"\",\r\n  7060: \"\",\r\n  7070: \"\",\r\n  7080: \"\",\r\n  7090: \"\",\r\n  \"70A0\": \"\",\r\n  \"70B0\": \"\",\r\n  \"70C0\": \"\",\r\n  \"70D0\": \"\",\r\n  7600: \"SAIS\",\r\n};\r\n\r\nexport const nineStepsToFourteen = (data) => {\r\n  if (Object.keys(data).length === 0) {\r\n    return data;\r\n  }\r\n  const orders = new Set(\r\n    Object.values(data.installations).map((v) => {\r\n      return v.orderNumber;\r\n    })\r\n  );\r\n  orders.forEach((order) => {\r\n    // check 9 step\r\n    if (\r\n      data.installations[order + \"-7080\"] &&\r\n      !data.installations[order + \"-7090\"]\r\n    ) {\r\n      // 7600 -> 7600\r\n      data.installations[order + \"-7600\"] = {\r\n        orderNumber: order,\r\n        stepNumber: \"7600\",\r\n        description: stepDescription[\"7600\"],\r\n      };\r\n\r\n      // 7080 -> 70C0 & 70D0\r\n      data.installations[order + \"-70C0\"] = {\r\n        orderNumber: order,\r\n        stepNumber: \"70C0\",\r\n        description: stepDescription[\"70C0\"],\r\n      };\r\n      data.installations[order + \"-70D0\"] = {\r\n        orderNumber: order,\r\n        stepNumber: \"70D0\",\r\n        description: stepDescription[\"70D0\"],\r\n      };\r\n\r\n      // 7070 -> 70B0\r\n      data.installations[order + \"-70B0\"] = {\r\n        orderNumber: order,\r\n        stepNumber: \"70B0\",\r\n        description: stepDescription[\"70B0\"],\r\n      };\r\n\r\n      // 7060 -> 70A0\r\n      data.installations[order + \"-70A0\"] = {\r\n        orderNumber: order,\r\n        stepNumber: \"70A0\",\r\n        description: stepDescription[\"70A0\"],\r\n      };\r\n\r\n      // 7050 -> 7080 & 7090\r\n      data.installations[order + \"-7080\"] = {\r\n        orderNumber: order,\r\n        stepNumber: \"7080\",\r\n        description: stepDescription[\"7080\"],\r\n      };\r\n      data.installations[order + \"-7090\"] = {\r\n        orderNumber: order,\r\n        stepNumber: \"7090\",\r\n        description: stepDescription[\"7090\"],\r\n      };\r\n\r\n      data.installations[order + \"-7070\"] = {\r\n        orderNumber: order,\r\n        stepNumber: \"7070\",\r\n        description: stepDescription[\"7070\"],\r\n      };\r\n\r\n      // 7030 -> 7040 & 7050 & 7060\r\n      data.installations[order + \"-7040\"] = {\r\n        orderNumber: order,\r\n        stepNumber: \"7040\",\r\n        description: stepDescription[\"7040\"],\r\n      };\r\n      data.installations[order + \"-7050\"] = {\r\n        orderNumber: order,\r\n        stepNumber: \"7050\",\r\n        description: stepDescription[\"7050\"],\r\n      };\r\n      data.installations[order + \"-7060\"] = {\r\n        orderNumber: order,\r\n        stepNumber: \"7060\",\r\n        description: stepDescription[\"7060\"],\r\n      };\r\n\r\n      // 7020 -> 7030\r\n      data.installations[order + \"-7030\"] = {\r\n        orderNumber: order,\r\n        stepNumber: \"7030\",\r\n        description: stepDescription[\"7030\"],\r\n      };\r\n\r\n      // 7010 -> 7010 & 7020\r\n      data.installations[order + \"-7010\"] = {\r\n        orderNumber: order,\r\n        stepNumber: \"7010\",\r\n        description: stepDescription[\"7010\"],\r\n      };\r\n      data.installations[order + \"-7020\"] = {\r\n        orderNumber: order,\r\n        stepNumber: \"7020\",\r\n        description: stepDescription[\"7020\"],\r\n      };\r\n\r\n      updateActivitiesData(data, order);\r\n    }\r\n  });\r\n\r\n  return data;\r\n};\r\n\r\nexport const activityStatusSetNineStepsToFourteen = (data) => {\r\n  if (Object.keys(data).length === 0) {\r\n    return data;\r\n  }\r\n  const orders = new Set(\r\n    Object.values(data.orderActivities).map((v) => {\r\n      return v.orderNumber;\r\n    })\r\n  );\r\n\r\n  orders.forEach((order) => {\r\n    if (\r\n      data.orderActivities[order + \"-7080\"] &&\r\n      !data.orderActivities[order + \"-7090\"]\r\n    ) {\r\n      updateActivitiesData(data, order);\r\n    }\r\n  });\r\n\r\n  return data;\r\n};\r\n\r\nconst updateActivitiesData = (data, order) => {\r\n  // 7600 -> 7600\r\n  data.orderActivities[order + \"-7600\"].originalStep = \"7600\";\r\n  data.orderActivities[order + \"-7600\"].editable = true;\r\n\r\n  // 7080 -> 70D0\r\n  const activity7080 = data.orderActivities[order + \"-7080\"];\r\n  data.orderActivities[order + \"-70D0\"] = { ...activity7080 };\r\n  data.orderActivities[order + \"-70D0\"].activityNumber = \"70D0\";\r\n  data.orderActivities[order + \"-70D0\"].originalStep = \"7080\";\r\n  data.orderActivities[order + \"-70D0\"].editable = true;\r\n  data.orderActivities[order + \"-70D0\"].sort = 253;\r\n\r\n  // 7070 -> 70C0\r\n  const activity7070 = data.orderActivities[order + \"-7070\"];\r\n  data.orderActivities[order + \"-70C0\"] = { ...activity7070 };\r\n  data.orderActivities[order + \"-70C0\"].activityNumber = \"70C0\";\r\n  data.orderActivities[order + \"-70C0\"].originalStep = \"7070\";\r\n  data.orderActivities[order + \"-70C0\"].editable = true;\r\n  data.orderActivities[order + \"-70C0\"].sort = 252;\r\n\r\n  // 7060 -> 70A0 & 70B0\r\n  const activity7060 = data.orderActivities[order + \"-7060\"];\r\n  data.orderActivities[order + \"-70A0\"] = { ...activity7060 };\r\n  data.orderActivities[order + \"-70A0\"].activityNumber = \"70A0\";\r\n  data.orderActivities[order + \"-70A0\"].confirmedDate = null;\r\n  data.orderActivities[order + \"-70A0\"].sort = 250;\r\n  data.orderActivities[order + \"-70B0\"] = { ...activity7060 };\r\n  data.orderActivities[order + \"-70B0\"].activityNumber = \"70B0\";\r\n  data.orderActivities[order + \"-70B0\"].originalStep = \"7060\";\r\n  data.orderActivities[order + \"-70B0\"].editable = true;\r\n  data.orderActivities[order + \"-70B0\"].sort = 251;\r\n\r\n  // 7050 -> 7080 & 7090\r\n  const activity7050 = data.orderActivities[order + \"-7050\"];\r\n  data.orderActivities[order + \"-7080\"] = { ...activity7050 };\r\n  data.orderActivities[order + \"-7080\"].activityNumber = \"7080\";\r\n  data.orderActivities[order + \"-7080\"].confirmedDate = null;\r\n  data.orderActivities[order + \"-7080\"].sort = 248;\r\n  data.orderActivities[order + \"-7090\"] = { ...activity7050 };\r\n  data.orderActivities[order + \"-7090\"].activityNumber = \"7090\";\r\n  data.orderActivities[order + \"-7090\"].originalStep = \"7050\";\r\n  data.orderActivities[order + \"-7090\"].editable = true;\r\n  data.orderActivities[order + \"-7090\"].sort = 249;\r\n\r\n  // 7040 -> 7070\r\n  const activity7040 = data.orderActivities[order + \"-7040\"];\r\n  data.orderActivities[order + \"-7070\"] = { ...activity7040 };\r\n  data.orderActivities[order + \"-7070\"].activityNumber = \"7070\";\r\n  data.orderActivities[order + \"-7070\"].originalStep = \"7040\";\r\n  data.orderActivities[order + \"-7070\"].editable = true;\r\n  data.orderActivities[order + \"-7070\"].sort = 247;\r\n\r\n  // 7030 -> 7040 & 7050 & 7060\r\n  const activity7030 = data.orderActivities[order + \"-7030\"];\r\n  data.orderActivities[order + \"-7040\"] = { ...activity7030 };\r\n  data.orderActivities[order + \"-7040\"].activityNumber = \"7040\";\r\n  data.orderActivities[order + \"-7040\"].confirmedDate = null;\r\n  data.orderActivities[order + \"-7040\"].sort = 244;\r\n  data.orderActivities[order + \"-7050\"] = { ...activity7030 };\r\n  data.orderActivities[order + \"-7050\"].activityNumber = \"7050\";\r\n  data.orderActivities[order + \"-7050\"].confirmedDate = null;\r\n  data.orderActivities[order + \"-7050\"].sort = 245;\r\n  data.orderActivities[order + \"-7060\"] = { ...activity7030 };\r\n  data.orderActivities[order + \"-7060\"].activityNumber = \"7060\";\r\n  data.orderActivities[order + \"-7060\"].originalStep = \"7030\";\r\n  data.orderActivities[order + \"-7060\"].editable = true;\r\n  data.orderActivities[order + \"-7060\"].sort = 246;\r\n\r\n  // 7020 -> 7030\r\n  const activity7020 = data.orderActivities[order + \"-7020\"];\r\n  data.orderActivities[order + \"-7030\"] = { ...activity7020 };\r\n  data.orderActivities[order + \"-7030\"].activityNumber = \"7030\";\r\n  data.orderActivities[order + \"-7030\"].originalStep = \"7020\";\r\n  data.orderActivities[order + \"-7030\"].editable = true;\r\n  data.orderActivities[order + \"-7030\"].sort = 243;\r\n\r\n  // 7010 -> 7010 & 7020\r\n  const activity7010 = data.orderActivities[order + \"-7010\"];\r\n  data.orderActivities[order + \"-7010\"] = { ...activity7010 };\r\n  data.orderActivities[order + \"-7010\"].activityNumber = \"7010\";\r\n  data.orderActivities[order + \"-7010\"].confirmedDate = null;\r\n  data.orderActivities[order + \"-7010\"].sort = 241;\r\n  data.orderActivities[order + \"-7020\"] = { ...activity7010 };\r\n  data.orderActivities[order + \"-7020\"].activityNumber = \"7020\";\r\n  data.orderActivities[order + \"-7020\"].originalStep = \"7010\";\r\n  data.orderActivities[order + \"-7020\"].editable = true;\r\n  data.orderActivities[order + \"-7020\"].sort = 242;\r\n};\r\n\r\nexport const addActivityStepEditable = (data) => {\r\n  if (Object.keys(data).length === 0) {\r\n    return data;\r\n  }\r\n  const orders = new Set(\r\n    Object.values(data.orderActivities).map((v) => {\r\n      return v.orderNumber;\r\n    })\r\n  );\r\n\r\n  orders.forEach((order) => {\r\n    if (\r\n      data.orderActivities[order + \"-7080\"] &&\r\n      !data.orderActivities[order + \"-7090\"]\r\n    ) {\r\n      // 9 steps\r\n      const steps9 = [\r\n        \"7010\",\r\n        \"7020\",\r\n        \"7030\",\r\n        \"7040\",\r\n        \"7050\",\r\n        \"7060\",\r\n        \"7070\",\r\n        \"7080\",\r\n        \"7600\",\r\n      ];\r\n      steps9.forEach(r=>{\r\n        if(Object.keys(data.orderActivities).indexOf(order+'-'+r)<0){\r\n          alert(\"\"+order+\"\"+r+\"\");\r\n        }\r\n      })\r\n      steps9.forEach((step) => {\r\n        data.orderActivities[order + \"-\" + step].editable = false;\r\n      });\r\n    } else if (\r\n      data.orderActivities[order + \"-7020\"] &&\r\n      !data.orderActivities[order + \"-7030\"]\r\n    ) {\r\n      // 3 steps\r\n      const steps3 = [\"7010\", \"7020\", \"7600\"];\r\n      steps3.forEach(r=>{\r\n        if(Object.keys(data.orderActivities).indexOf(order+'-'+r)<0){\r\n          alert(\"\"+order+\"\"+r+\"\");\r\n        }\r\n      })\r\n      steps3.forEach((step) => {\r\n        data.orderActivities[order + \"-\" + step].editable = true;\r\n      });\r\n    } else if (\r\n      data.orderActivities[order + \"-7010\"] &&\r\n      data.orderActivities[order + \"-7020\"] &&\r\n      data.orderActivities[order + \"-7030\"] &&\r\n      data.orderActivities[order + \"-7040\"] &&\r\n      data.orderActivities[order + \"-7050\"] &&\r\n      data.orderActivities[order + \"-7060\"] &&\r\n      data.orderActivities[order + \"-7070\"] &&\r\n      data.orderActivities[order + \"-7080\"] &&\r\n      data.orderActivities[order + \"-7090\"] &&\r\n      data.orderActivities[order + \"-70A0\"] &&\r\n      data.orderActivities[order + \"-70B0\"] &&\r\n      data.orderActivities[order + \"-70C0\"] &&\r\n      data.orderActivities[order + \"-70D0\"] &&\r\n      data.orderActivities[order + \"-7600\"]\r\n    ) {\r\n      // 14 steps\r\n      const steps14 = [\r\n        \"7010\",\r\n        \"7020\",\r\n        \"7030\",\r\n        \"7040\",\r\n        \"7050\",\r\n        \"7060\",\r\n        \"7070\",\r\n        \"7080\",\r\n        \"7090\",\r\n        \"70A0\",\r\n        \"70B0\",\r\n        \"70C0\",\r\n        \"70D0\",\r\n        \"7600\",\r\n      ];\r\n      steps14.forEach(r=>{\r\n        if(Object.keys(data.orderActivities).indexOf(order+'-'+r)<0){\r\n          alert(\"\"+order+\"\"+r+\"\");\r\n        }\r\n      })\r\n      steps14.forEach((step) => {\r\n        data.orderActivities[order + \"-\" + step].editable = true;\r\n      });\r\n    }\r\n  });\r\n\r\n  return data;\r\n};\r\n\r\nexport const updateInstallationStepDesc = (data) => {\r\n  data.activities[\"7010\"].descriptionShort3 =\r\n    data.activities[\"7010\"].descriptionShort;\r\n  data.activities[\"7010\"].descriptionShort14 = stepDescription[\"7010\"];\r\n\r\n  data.activities[\"7020\"].descriptionShort3 =\r\n    data.activities[\"7020\"].descriptionShort;\r\n  data.activities[\"7020\"].descriptionShort14 = stepDescription[\"7020\"];\r\n\r\n  const steps = [\r\n    \"7030\",\r\n    \"7040\",\r\n    \"7050\",\r\n    \"7060\",\r\n    \"7070\",\r\n    \"7080\",\r\n    \"7090\",\r\n    \"70A0\",\r\n    \"70B0\",\r\n    \"70C0\",\r\n    \"70D0\",\r\n    \"7600\",\r\n  ];\r\n\r\n  steps.forEach((step) => {\r\n    if (!data.activities[step]) {\r\n      data.activities[step] = { number: step };\r\n    }\r\n  });\r\n\r\n  data.activities[\"7030\"].descriptionShort = stepDescription[\"7030\"];\r\n  data.activities[\"7030\"].sort = 243;\r\n  data.activities[\"7040\"].descriptionShort = stepDescription[\"7040\"];\r\n  data.activities[\"7040\"].sort = 244;\r\n  data.activities[\"7050\"].descriptionShort = stepDescription[\"7050\"];\r\n  data.activities[\"7050\"].sort = 245;\r\n  data.activities[\"7060\"].descriptionShort = stepDescription[\"7060\"];\r\n  data.activities[\"7060\"].sort = 246;\r\n  data.activities[\"7070\"].descriptionShort = stepDescription[\"7070\"];\r\n  data.activities[\"7070\"].sort = 247;\r\n  data.activities[\"7080\"].descriptionShort = stepDescription[\"7080\"];\r\n  data.activities[\"7080\"].sort = 248;\r\n  data.activities[\"7090\"].descriptionShort = stepDescription[\"7090\"];\r\n  data.activities[\"7090\"].sort = 249;\r\n  data.activities[\"70A0\"].descriptionShort = stepDescription[\"70A0\"];\r\n  data.activities[\"70A0\"].sort = 250;\r\n  data.activities[\"70B0\"].descriptionShort = stepDescription[\"70B0\"];\r\n  data.activities[\"70B0\"].sort = 251;\r\n  data.activities[\"70C0\"].descriptionShort = stepDescription[\"70C0\"];\r\n  data.activities[\"70C0\"].sort = 252;\r\n  data.activities[\"70D0\"].descriptionShort = stepDescription[\"70D0\"];\r\n  data.activities[\"70D0\"].sort = 253;\r\n  data.activities[\"7600\"].descriptionShort = stepDescription[\"7600\"];\r\n  data.activities[\"7600\"].sort = 278;\r\n\r\n  return data;\r\n};\r\n\r\nexport const isInstallationStep = (activityNo) => {\r\n  const steps = [\r\n    \"7010\",\r\n    \"7020\",\r\n    \"7030\",\r\n    \"7040\",\r\n    \"7050\",\r\n    \"7060\",\r\n    \"7070\",\r\n    \"7080\",\r\n    \"7090\",\r\n    \"70A0\",\r\n    \"70B0\",\r\n    \"70C0\",\r\n    \"70D0\",\r\n    \"7600\",\r\n  ];\r\n\r\n  return steps.includes(activityNo);\r\n};\r\n"],"sourceRoot":""}