"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,n=require("react"),t=require("@react-pdf-viewer/core"),l=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:"M10.515,9.514h3c0.552,0,1,0.448,1,1v3c0,0.552-0.448,1-1,1h-3c-0.552,0-1-0.448-1-1v-3\n                C9.515,9.962,9.963,9.514,10.515,9.514z\n                M0.531,23.499l6.984-6.985\n                M16.515,7.514L23.5,0.529\n                M21.515,7.514h-5v-5\n                M7.515,21.514v-5 h-5\n                M0.523,0.521l6.992,6.993\n                M16.515,16.514l6.985,6.985\n                M16.515,21.514v-5h5\n                M2.515,7.514h5v-5"}))},r=function(){return(r=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},u=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:"M15.5,8.499l8-8\n                M0.5,23.499l8-8\n                M5.5,23.499h-5v-5\n                M23.5,5.499v-5h-5\n                M15.5,15.499l8,8\n                M0.5,0.499l8,8\n                M0.5,5.499v-5h5\n                M18.5,23.499h5v-5"}))},c={left:0,top:8},o=function(e){var l=e.onClick,r=n.useContext(t.LocalizationContext),o=r&&r.fullScreen?r.fullScreen.enterFullScreen:"Full screen";return n.createElement(t.Tooltip,{position:t.Position.BottomCenter,target:n.createElement(t.Button,{onClick:l},n.createElement(u,null)),content:function(){return o},offset:c})};!function(e){e[e.ExitFullScreen=0]="ExitFullScreen",e[e.FullScreenChange=1]="FullScreenChange",e[e.FullScreenElement=2]="FullScreenElement",e[e.FullScreenEnabled=3]="FullScreenEnabled",e[e.RequestFullScreen=4]="RequestFullScreen"}(e||(e={}));var i={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},a={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},s={ExitFullScreen:"msExitFullscreen",FullScreenChange:"MSFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},F="undefined"!=typeof window,E=F&&(e.FullScreenEnabled in document&&i||a.FullScreenEnabled in document&&a||s.FullScreenEnabled in document&&s)||i,f=function(e){return F?e[E.ExitFullScreen]():Promise.resolve({})},S=function(){return F?document[E.FullScreenElement]:null},m=function(e){var t=e.children,l=e.store,r=e.onEnterFullScreen,u=e.onExitFullScreen,c=n.useRef(l.get("getPagesContainer")?l.get("getPagesContainer")():null),i=function(){var e=S()===c.current;l.update("isFullScreen",e);var n=l.get("zoom");n&&(e?r(n):u(n))},a=function(e){var n;c.current=e(),n=i,F&&document.addEventListener(E.FullScreenChange,n)};n.useEffect((function(){return l.subscribe("getPagesContainer",a),function(){l.unsubscribe("getPagesContainer",a)}}),[]);return(t||function(e){return n.createElement(o,{onClick:e.onClick})})({onClick:function(){var e=c.current;e&&function(){var e=c.current;if(!e)return Promise.resolve();var n=S();return n&&n!==e?f(n):Promise.resolve()}().then((function(){var n;n=e,F&&n[E.RequestFullScreen]()}))}})},v=function(e){var r=e.store,u=n.useState(!1),c=u[0],o=u[1],i=function(e){o(e)};return n.useEffect((function(){return r.subscribe("isFullScreen",i),function(){r.unsubscribe("isFullScreen",i)}}),[]),n.createElement(n.Fragment,null,c&&n.createElement("div",{className:"rpv-full-screen-exit-button"},n.createElement("div",{className:"rpv-full-screen-exit-button-inner"},n.createElement(t.Button,{onClick:function(){o(!1);var e=r.get("getPagesContainer");if(e){var n=e();if(n){var t=S();t&&t===n&&f(document)}}}},n.createElement(l,null)))))};exports.ExitFullScreenIcon=l,exports.FullScreenIcon=u,exports.fullScreenPlugin=function(e){var l=n.useMemo((function(){return t.createStore({})}),[]),u=e&&e.onEnterFullScreen?e.onEnterFullScreen:function(){},c=e&&e.onExitFullScreen?e.onExitFullScreen:function(){},i=function(e){return n.createElement(m,r({},e,{store:l,onEnterFullScreen:u,onExitFullScreen:c}))},a=function(){return n.createElement(v,{store:l})};return{install:function(e){l.update("getPagesContainer",e.getPagesContainer),l.update("zoom",e.zoom)},renderViewer:function(e){var t=e.slot;return t.subSlot&&(t.subSlot.children=n.createElement(n.Fragment,null,n.createElement(a,null),t.subSlot.children)),t},EnterFullScreen:i,EnterFullScreenButton:function(){return n.createElement(i,null,(function(e){return n.createElement(o,r({},e))}))}}};
