"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@react-pdf-viewer/core"),n=require("@react-pdf-viewer/attachment"),a=require("@react-pdf-viewer/bookmark"),r=require("@react-pdf-viewer/thumbnail"),o=require("@react-pdf-viewer/toolbar"),c=function(){return e.createElement(t.Icon,{size:16},e.createElement("path",{d:"M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3\n                M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5\n                c0.552,0,1,0.448,1,1L11.5,10.5z\n                M14.5,6.499h6\n                M14.5,10.499h6\n                M3.5,14.499h17\n                M3.5,18.499h16.497"}))},l=function(){return(l=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},u=function(){return e.createElement(t.Icon,{size:16},e.createElement("path",{d:"M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883\n                c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0\n                L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9"}))},i=function(){return e.createElement(t.Icon,{size:16},e.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n                M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n                M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n                M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}))},s={left:8,top:0},m=function(n){var a=n.attachmentTabContent,r=n.bookmarkTabContent,o=n.store,l=n.thumbnailTabContent,m=n.tabs,f=e.useContext(t.LocalizationContext),d=e.useState(!1),b=d[0],h=d[1],v=e.useState(o.get("currentTab")||0),p=v[0],E=v[1],y=[{content:l,icon:e.createElement(i,null),title:e.createElement(e.Fragment,null,f&&f.defaultLayout?f.defaultLayout.thumbnail:"Thumbnail")},{content:r,icon:e.createElement(c,null),title:e.createElement(e.Fragment,null,f&&f.defaultLayout?f.defaultLayout.bookmark:"Bookmark")},{content:a,icon:e.createElement(u,null),title:e.createElement(e.Fragment,null,f&&f.defaultLayout?f.defaultLayout.attachment:"Attachment")}],T=m?m(y):y,g=function(e){p===e?h((function(e){return!e})):(h(!0),E(e))};return e.useEffect((function(){return o.subscribe("currentTab",g),function(){o.unsubscribe("currentTab",g)}}),[]),e.createElement("div",{className:"rpv-default-layout-sidebar "+(b?"rpv-default-layout-sidebar-opened":"")},e.createElement("div",{className:"rpv-default-layout-sidebar-tabs"},e.createElement("div",{className:"rpv-default-layout-sidebar-headers"},T.map((function(n,a){return e.createElement("div",{key:a,className:"rpv-default-layout-sidebar-header"},e.createElement(t.Tooltip,{position:t.Position.RightCenter,target:e.createElement(t.Button,{onClick:function(){return g(a)},isSelected:p===a},n.icon),content:function(){return n.title},offset:s}))}))),e.createElement("div",{className:"rpv-default-layout-sidebar-content "+(b?"rpv-default-layout-sidebar-content-opened":"")},T[p].content)))};exports.BookmarkIcon=c,exports.FileIcon=u,exports.ThumbnailIcon=i,exports.defaultLayoutPlugin=function(c){var u=e.useMemo((function(){return t.createStore({currentTab:0})}),[]),i=n.attachmentPlugin(),s=a.bookmarkPlugin(),f=r.thumbnailPlugin(),d=o.toolbarPlugin(c?c.toolbarPlugin:{}),b=i.Attachments,h=s.Bookmarks,v=f.Thumbnails,p=d.Toolbar,E=c?c.sidebarTabs:function(e){return e},y=[i,s,f,d];return{attachmentPluginInstance:i,bookmarkPluginInstance:s,thumbnailPluginInstance:f,toolbarPluginInstance:d,activateTab:function(e){u.update("currentTab",e)},install:function(e){y.forEach((function(t){t.install&&t.install(e)}))},renderViewer:function(t){var n=t.slot;y.forEach((function(e){e.renderViewer&&(n=e.renderViewer(l(l({},t),{slot:n})))}));var a=n.subSlot&&n.subSlot.attrs?{ref:n.subSlot.attrs.ref,style:n.subSlot.attrs.style}:{};return n.children=e.createElement("div",{className:"rpv-default-layout-container"},e.createElement("div",{className:"rpv-default-layout-toolbar"},c&&c.renderToolbar?c.renderToolbar(p):e.createElement(p,null)),e.createElement("div",{className:"rpv-default-layout-main"},e.createElement(m,{attachmentTabContent:e.createElement(b,null),bookmarkTabContent:e.createElement(h,null),store:u,thumbnailTabContent:e.createElement(v,null),tabs:E}),e.createElement("div",l({className:"rpv-default-layout-body"},a),n.subSlot.children)),n.children),n.subSlot.attrs={},n.subSlot.children=e.createElement(e.Fragment,null),n},uninstall:function(e){y.forEach((function(t){t.uninstall&&t.uninstall(e)}))},onDocumentLoad:function(e){y.forEach((function(t){t.onDocumentLoad&&t.onDocumentLoad(e)}))},onTextLayerRender:function(e){y.forEach((function(t){t.onTextLayerRender&&t.onTextLayerRender(e)}))},onViewerStateChange:function(e){var t=e;return y.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),t}}};
