"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("@react-pdf-viewer/core"),t=function(){return(t=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var a in r=arguments[t])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e}).apply(this,arguments)},n=function(t){var n=t.containerRef,a=t.openFile,i=function(r,t){var n=e.useRef(0),a=e.useState(!1),i=a[0],o=a[1],u=function(e){e.preventDefault(),o(!1),n.current=0,e.dataTransfer&&t(e.dataTransfer.files)},c=function(e){e.preventDefault()},s=function(e){e.preventDefault(),n.current+=1,n.current<=1&&o(!0)},l=function(e){e.preventDefault(),n.current-=1,n.current<=0&&o(!1)};return e.useEffect((function(){var e=r.current;if(e)return e.addEventListener("drop",u),e.addEventListener("dragover",c),e.addEventListener("dragenter",s),e.addEventListener("dragleave",l),function(){e.removeEventListener("drop",u),e.removeEventListener("dragover",c),e.removeEventListener("dragenter",s),e.removeEventListener("dragleave",l)}}),[r.current]),{isDragging:i}}(n,(function(e){0!==e.length&&a(e[0])})).isDragging,o=e.useContext(r.LocalizationContext);return e.createElement(e.Fragment,null,i&&e.createElement("div",{className:"rpv-drop-area"},o&&o.drop?o.drop.dragDropFile:"Drag and drop a PDF document here"))};exports.dropPlugin=function(){return{renderViewer:function(r){var a=r.slot;if(a.attrs){var i=a.attrs&&a.attrs.style?a.attrs.style:{},o=t(t({},i),{height:"100%",position:"relative",width:"100%"});a.attrs.style=o}return a.children=e.createElement(e.Fragment,null,e.createElement(n,{containerRef:r.containerRef,openFile:r.openFile}),a.children),a}}};
