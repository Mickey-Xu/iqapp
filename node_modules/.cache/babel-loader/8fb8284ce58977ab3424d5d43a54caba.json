{"ast":null,"code":"import*as action from\"actions\";import*as api from\"api\";import{groupInfoProc,groupInfoDeproc}from\"js/util\";import{db}from\"js/db\";//{projrctNumber, groupName, checkList}\nexport var initGroupInfo=function initGroupInfo(value){return{type:\"INIT_GROUPINFO\",payload:value};};export var setGroupInfo=function setGroupInfo(value){return{type:\"SET_GROUPINFO\",payload:value};};export var createGroupInfo=function createGroupInfo(data){return function(dispatch){dispatch(action.showLoading());var req=groupInfoDeproc(data);return api.postGroupInfo(req).then(function(response){var data=groupInfoProc(response.data);db.cache.put({id:\"groupInfo\",data:data}).then(function(){dispatch(action.setGroupInfo(data));});}).catch(function(error){if(error.code===401){window.localStorage.removeItem(\"auth\");dispatch(action.setAuth(null));}dispatch(action.setError(error.message));}).finally(function(){dispatch(action.hideLoading());});};};","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/src/actions/groupInfo.js"],"names":["action","api","groupInfoProc","groupInfoDeproc","db","initGroupInfo","value","type","payload","setGroupInfo","createGroupInfo","data","dispatch","showLoading","req","postGroupInfo","then","response","cache","put","id","catch","error","code","window","localStorage","removeItem","setAuth","setError","message","finally","hideLoading"],"mappings":"AAAA,MAAO,GAAKA,CAAAA,MAAZ,KAAwB,SAAxB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,KAArB,CACA,OAASC,aAAT,CAAwBC,eAAxB,KAA+C,SAA/C,CACA,OAASC,EAAT,KAAmB,OAAnB,CAEA;AACA,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,QAAY,CACvCC,IAAI,CAAE,gBADiC,CAEvCC,OAAO,CAAEF,KAF8B,CAAZ,EAAtB,CAKP,MAAO,IAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACH,KAAD,QAAY,CACtCC,IAAI,CAAE,eADgC,CAEtCC,OAAO,CAAEF,KAF6B,CAAZ,EAArB,CAKP,MAAO,IAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,IAAD,QAAU,UAACC,QAAD,CAAc,CACrDA,QAAQ,CAACZ,MAAM,CAACa,WAAP,EAAD,CAAR,CACA,GAAMC,CAAAA,GAAG,CAAGX,eAAe,CAACQ,IAAD,CAA3B,CACA,MAAOV,CAAAA,GAAG,CACPc,aADI,CACUD,GADV,EAEJE,IAFI,CAEC,SAACC,QAAD,CAAc,CAClB,GAAMN,CAAAA,IAAI,CAAGT,aAAa,CAACe,QAAQ,CAACN,IAAV,CAA1B,CACAP,EAAE,CAACc,KAAH,CAASC,GAAT,CAAa,CAAEC,EAAE,CAAE,WAAN,CAAmBT,IAAI,CAAEA,IAAzB,CAAb,EAA8CK,IAA9C,CAAmD,UAAM,CACvDJ,QAAQ,CAACZ,MAAM,CAACS,YAAP,CAAoBE,IAApB,CAAD,CAAR,CACD,CAFD,EAGD,CAPI,EAQJU,KARI,CAQE,SAACC,KAAD,CAAW,CAChB,GAAIA,KAAK,CAACC,IAAN,GAAe,GAAnB,CAAwB,CACtBC,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,MAA/B,EACAd,QAAQ,CAACZ,MAAM,CAAC2B,OAAP,CAAe,IAAf,CAAD,CAAR,CACD,CACDf,QAAQ,CAACZ,MAAM,CAAC4B,QAAP,CAAgBN,KAAK,CAACO,OAAtB,CAAD,CAAR,CACD,CAdI,EAeJC,OAfI,CAeI,UAAM,CACblB,QAAQ,CAACZ,MAAM,CAAC+B,WAAP,EAAD,CAAR,CACD,CAjBI,CAAP,CAkBD,CArB8B,EAAxB","sourcesContent":["import * as action from \"actions\";\r\nimport * as api from \"api\";\r\nimport { groupInfoProc, groupInfoDeproc } from \"js/util\";\r\nimport { db } from \"js/db\";\r\n\r\n//{projrctNumber, groupName, checkList}\r\nexport const initGroupInfo = (value) => ({\r\n  type: \"INIT_GROUPINFO\",\r\n  payload: value,\r\n});\r\n\r\nexport const setGroupInfo = (value) => ({\r\n  type: \"SET_GROUPINFO\",\r\n  payload: value,\r\n});\r\n\r\nexport const createGroupInfo = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  const req = groupInfoDeproc(data);\r\n  return api\r\n    .postGroupInfo(req)\r\n    .then((response) => {\r\n      const data = groupInfoProc(response.data);\r\n      db.cache.put({ id: \"groupInfo\", data: data }).then(() => {\r\n        dispatch(action.setGroupInfo(data));\r\n      });\r\n    })\r\n    .catch((error) => {\r\n      if (error.code === 401) {\r\n        window.localStorage.removeItem(\"auth\");\r\n        dispatch(action.setAuth(null));\r\n      }\r\n      dispatch(action.setError(error.message));\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n    });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}