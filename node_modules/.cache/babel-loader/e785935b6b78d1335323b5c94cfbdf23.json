{"ast":null,"code":"import * as action from \"actions\";\nimport * as api from \"api\";\nimport { groupInfoProc, groupInfoDeproc } from \"js/util\";\nimport { db } from \"js/db\"; //{projrctNumber, groupName, checkList}\n\nexport const initGroupInfo = value => ({\n  type: \"INIT_GROUPINFO\",\n  payload: value\n});\nexport const setGroupInfo = value => ({\n  type: \"SET_GROUPINFO\",\n  payload: value\n});\nexport const createGroupInfo = data => dispatch => {\n  dispatch(action.showLoading());\n  const req = groupInfoDeproc(data);\n  return api.postGroupInfo(req).then(response => {\n    const data = groupInfoProc(response.data);\n    db.cache.put({\n      id: \"groupInfo\",\n      data: data\n    }).then(() => {\n      dispatch(action.setGroupInfo(data));\n    });\n  }).catch(error => {\n    if (error.code === 401) {\n      window.localStorage.removeItem(\"auth\");\n      dispatch(action.setAuth(null));\n    }\n\n    dispatch(action.setError(error.message));\n  }).finally(() => {\n    dispatch(action.hideLoading());\n  });\n};","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/src/actions/groupInfo.js"],"names":["action","api","groupInfoProc","groupInfoDeproc","db","initGroupInfo","value","type","payload","setGroupInfo","createGroupInfo","data","dispatch","showLoading","req","postGroupInfo","then","response","cache","put","id","catch","error","code","window","localStorage","removeItem","setAuth","setError","message","finally","hideLoading"],"mappings":"AAAA,OAAO,KAAKA,MAAZ,MAAwB,SAAxB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAASC,aAAT,EAAwBC,eAAxB,QAA+C,SAA/C;AACA,SAASC,EAAT,QAAmB,OAAnB,C,CAEA;;AACA,OAAO,MAAMC,aAAa,GAAIC,KAAD,KAAY;AACvCC,EAAAA,IAAI,EAAE,gBADiC;AAEvCC,EAAAA,OAAO,EAAEF;AAF8B,CAAZ,CAAtB;AAKP,OAAO,MAAMG,YAAY,GAAIH,KAAD,KAAY;AACtCC,EAAAA,IAAI,EAAE,eADgC;AAEtCC,EAAAA,OAAO,EAAEF;AAF6B,CAAZ,CAArB;AAKP,OAAO,MAAMI,eAAe,GAAIC,IAAD,IAAWC,QAAD,IAAc;AACrDA,EAAAA,QAAQ,CAACZ,MAAM,CAACa,WAAP,EAAD,CAAR;AACA,QAAMC,GAAG,GAAGX,eAAe,CAACQ,IAAD,CAA3B;AACA,SAAOV,GAAG,CACPc,aADI,CACUD,GADV,EAEJE,IAFI,CAEEC,QAAD,IAAc;AAClB,UAAMN,IAAI,GAAGT,aAAa,CAACe,QAAQ,CAACN,IAAV,CAA1B;AACAP,IAAAA,EAAE,CAACc,KAAH,CAASC,GAAT,CAAa;AAAEC,MAAAA,EAAE,EAAE,WAAN;AAAmBT,MAAAA,IAAI,EAAEA;AAAzB,KAAb,EAA8CK,IAA9C,CAAmD,MAAM;AACvDJ,MAAAA,QAAQ,CAACZ,MAAM,CAACS,YAAP,CAAoBE,IAApB,CAAD,CAAR;AACD,KAFD;AAGD,GAPI,EAQJU,KARI,CAQGC,KAAD,IAAW;AAChB,QAAIA,KAAK,CAACC,IAAN,KAAe,GAAnB,EAAwB;AACtBC,MAAAA,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,MAA/B;AACAd,MAAAA,QAAQ,CAACZ,MAAM,CAAC2B,OAAP,CAAe,IAAf,CAAD,CAAR;AACD;;AACDf,IAAAA,QAAQ,CAACZ,MAAM,CAAC4B,QAAP,CAAgBN,KAAK,CAACO,OAAtB,CAAD,CAAR;AACD,GAdI,EAeJC,OAfI,CAeI,MAAM;AACblB,IAAAA,QAAQ,CAACZ,MAAM,CAAC+B,WAAP,EAAD,CAAR;AACD,GAjBI,CAAP;AAkBD,CArBM","sourcesContent":["import * as action from \"actions\";\r\nimport * as api from \"api\";\r\nimport { groupInfoProc, groupInfoDeproc } from \"js/util\";\r\nimport { db } from \"js/db\";\r\n\r\n//{projrctNumber, groupName, checkList}\r\nexport const initGroupInfo = (value) => ({\r\n  type: \"INIT_GROUPINFO\",\r\n  payload: value,\r\n});\r\n\r\nexport const setGroupInfo = (value) => ({\r\n  type: \"SET_GROUPINFO\",\r\n  payload: value,\r\n});\r\n\r\nexport const createGroupInfo = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  const req = groupInfoDeproc(data);\r\n  return api\r\n    .postGroupInfo(req)\r\n    .then((response) => {\r\n      const data = groupInfoProc(response.data);\r\n      db.cache.put({ id: \"groupInfo\", data: data }).then(() => {\r\n        dispatch(action.setGroupInfo(data));\r\n      });\r\n    })\r\n    .catch((error) => {\r\n      if (error.code === 401) {\r\n        window.localStorage.removeItem(\"auth\");\r\n        dispatch(action.setAuth(null));\r\n      }\r\n      dispatch(action.setError(error.message));\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n    });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}