{"ast":null,"code":"import _toConsumableArray from\"C:\\\\project\\\\SCF-NI_PM_App\\\\SCF.InstallationQuality\\\\react-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import Avatar from\"@material-ui/core/Avatar\";import Box from\"@material-ui/core/Box\";import Card from\"@material-ui/core/Card\";import CardContent from\"@material-ui/core/CardContent\";import CardHeader from\"@material-ui/core/CardHeader\";import Grid from\"@material-ui/core/Grid\";import{makeStyles}from\"@material-ui/core/styles\";import ProjectSiteAddress from\"components/ProjectSiteAddress\";import{LocalizeContext}from\"i18n\";import gpsIcon from\"img/gps.png\";import subcontlIcon from\"img/subcontl.png\";import unitIcon from\"img/unit.png\";import*as util from\"js/util\";import React from\"react\";import{connect}from\"react-redux\";import{useHistory}from\"react-router-dom\";var useStyles=makeStyles(function(theme){return{root:{},media:{height:0,paddingTop:\"56.25%\"// 16:9\n},expand:{transform:\"rotate(0deg)\",marginLeft:\"auto\",transition:theme.transitions.create(\"transform\",{duration:theme.transitions.duration.shortest})},expandOpen:{transform:\"rotate(180deg)\"},avatar:{fontSize:theme.spacing(1.8),backgroundColor:\"white\",border:\" 2px solid #EEE\",color:\"rgba(0, 0, 0, 0.87)\"},link:{textDecoration:\"blink\",fontSize:15},content:{padding:theme.spacing(0,2)}};});function ProjectSummary(_ref){var orderQuantity=_ref.orderQuantity,projectName=_ref.projectName,projectNumber=_ref.projectNumber,teamLeader=_ref.teamLeader,progress=_ref.progress;var classes=useStyles();var i18n=React.useContext(LocalizeContext);var history=useHistory();return/*#__PURE__*/React.createElement(Card,{className:classes.root,onClick:function onClick(){history.push(\"/projectProgressPage/\".concat(projectNumber));}},/*#__PURE__*/React.createElement(CardHeader,{avatar:/*#__PURE__*/React.createElement(Avatar,{\"aria-label\":\"recipe\",className:classes.avatar},progress,\"%\"),title:projectNumber,subheader:projectName}),/*#__PURE__*/React.createElement(CardContent,{classes:{root:classes.content},style:{paddingBottom:\"10px\"}},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1},/*#__PURE__*/React.createElement(Grid,{item:true,style:{display:\"inline-flex\"}},/*#__PURE__*/React.createElement(\"img\",{src:unitIcon,width:\"18\",height:\"18\",alt:\"\"}),/*#__PURE__*/React.createElement(Box,{ml:0.5,fontSize:\"bady2\"},i18n.ISNTAPP_UNITS,\":\")),/*#__PURE__*/React.createElement(Grid,{item:true},\" \",orderQuantity)),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1},/*#__PURE__*/React.createElement(Grid,{item:true,style:{display:\"inline-flex\"}},/*#__PURE__*/React.createElement(\"img\",{src:subcontlIcon,width:\"18\",height:\"18\",alt:\"\"}),/*#__PURE__*/React.createElement(Box,{ml:0.5,fontSize:\"bady2\"},i18n.JOBLIST_SUBCON_TL,\":\")),/*#__PURE__*/React.createElement(Grid,{item:true},\" \",teamLeader)),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1},/*#__PURE__*/React.createElement(Grid,{item:true,style:{display:\"inline-flex\"}},/*#__PURE__*/React.createElement(\"img\",{src:gpsIcon,width:\"18\",height:\"18\",alt:\"\"}),/*#__PURE__*/React.createElement(Box,{ml:0.5,fontSize:\"bady2\"},i18n.ISNTAPP_PROJECT_SITE_ADDRESS,\":\",/*#__PURE__*/React.createElement(\"span\",{style:{marginLeft:\"5px\"}},/*#__PURE__*/React.createElement(ProjectSiteAddress,{projectNumber:projectNumber})))))));}export default connect(function(_ref2,_ref3){var orders=_ref2.orders,projects=_ref2.projects,partners=_ref2.partners,orderActivities=_ref2.orderActivities;var link=_ref3.link,projectNumber=_ref3.projectNumber;var projectName=projects[projectNumber].description;var OrderNos=Object.keys(orders).filter(function(item){return orders[item].projectNumber===projectNumber;});var teamLeader=OrderNos.map(function(item){var _partners$;return(_partners$=partners[\"\".concat(item,\"-VW\")])===null||_partners$===void 0?void 0:_partners$.name1;});return{link:link,orderQuantity:Object.keys(orders).filter(function(key){return orders[key].projectNumber===projectNumber;}).length,projectName:projectName,projectNumber:projectNumber,teamLeader:_toConsumableArray(new Set(teamLeader)).join(\"/\"),progress:util.projectProgress(projectNumber,orders,orderActivities)};})(ProjectSummary);","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/src/components/ProjectSummary/index.js"],"names":["Avatar","Box","Card","CardContent","CardHeader","Grid","makeStyles","ProjectSiteAddress","LocalizeContext","gpsIcon","subcontlIcon","unitIcon","util","React","connect","useHistory","useStyles","theme","root","media","height","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","fontSize","spacing","backgroundColor","border","color","link","textDecoration","content","padding","ProjectSummary","orderQuantity","projectName","projectNumber","teamLeader","progress","classes","i18n","useContext","history","push","paddingBottom","display","ISNTAPP_UNITS","JOBLIST_SUBCON_TL","ISNTAPP_PROJECT_SITE_ADDRESS","orders","projects","partners","orderActivities","description","OrderNos","Object","keys","filter","item","map","name1","key","length","Set","join","projectProgress"],"mappings":"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","sourcesContent":["import Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ProjectSiteAddress from \"components/ProjectSiteAddress\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport gpsIcon from \"img/gps.png\";\r\nimport subcontlIcon from \"img/subcontl.png\";\r\nimport unitIcon from \"img/unit.png\";\r\nimport * as util from \"js/util\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  media: {\r\n    height: 0,\r\n    paddingTop: \"56.25%\", // 16:9\r\n  },\r\n  expand: {\r\n    transform: \"rotate(0deg)\",\r\n    marginLeft: \"auto\",\r\n    transition: theme.transitions.create(\"transform\", {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: \"rotate(180deg)\",\r\n  },\r\n  avatar: {\r\n    fontSize: theme.spacing(1.8),\r\n    backgroundColor: \"white\",\r\n    border: \" 2px solid #EEE\",\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n  },\r\n  link: {\r\n    textDecoration: \"blink\",\r\n    fontSize: 15,\r\n  },\r\n  content: {\r\n    padding: theme.spacing(0, 2),\r\n  },\r\n}));\r\n\r\nfunction ProjectSummary({\r\n  orderQuantity,\r\n  projectName,\r\n  projectNumber,\r\n  teamLeader,\r\n  progress,\r\n}) {\r\n  const classes = useStyles();\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <Card\r\n      className={classes.root}\r\n      onClick={() => {\r\n        history.push(`/projectProgressPage/${projectNumber}`);\r\n      }}\r\n    >\r\n      <CardHeader\r\n        avatar={\r\n          <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n            {progress}%\r\n          </Avatar>\r\n        }\r\n        title={projectNumber}\r\n        subheader={projectName}\r\n      />\r\n      <CardContent\r\n        classes={{ root: classes.content }}\r\n        style={{ paddingBottom: \"10px\" }}\r\n      >\r\n        <Grid container spacing={1}>\r\n          <Grid item style={{ display: \"inline-flex\" }}>\r\n            <img src={unitIcon} width=\"18\" height=\"18\" alt=\"\" />\r\n            <Box ml={0.5} fontSize=\"bady2\">\r\n              {i18n.ISNTAPP_UNITS}:\r\n            </Box>\r\n          </Grid>\r\n          <Grid item> {orderQuantity}</Grid>\r\n        </Grid>\r\n        <Grid container spacing={1}>\r\n          <Grid item style={{ display: \"inline-flex\" }}>\r\n            <img src={subcontlIcon} width=\"18\" height=\"18\" alt=\"\" />\r\n            <Box ml={0.5} fontSize=\"bady2\">\r\n              {i18n.JOBLIST_SUBCON_TL}:\r\n            </Box>\r\n          </Grid>\r\n          <Grid item> {teamLeader}</Grid>\r\n        </Grid>\r\n        <Grid container spacing={1}>\r\n          <Grid item style={{ display: \"inline-flex\" }}>\r\n            <img src={gpsIcon} width=\"18\" height=\"18\" alt=\"\" />\r\n            <Box ml={0.5} fontSize=\"bady2\">\r\n              {i18n.ISNTAPP_PROJECT_SITE_ADDRESS}:\r\n              <span style={{ marginLeft: \"5px\" }}>\r\n                <ProjectSiteAddress projectNumber={projectNumber} />\r\n              </span>\r\n            </Box>\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  (\r\n    { orders, projects, partners, orderActivities },\r\n    { link, projectNumber }\r\n  ) => {\r\n    const { description: projectName } = projects[projectNumber];\r\n    const OrderNos = Object.keys(orders).filter(\r\n      (item) => orders[item].projectNumber === projectNumber\r\n    );\r\n    const teamLeader = OrderNos.map((item) => {\r\n      return partners[`${item}-VW`]?.name1;\r\n    });\r\n\r\n    return {\r\n      link,\r\n      orderQuantity: Object.keys(orders).filter((key) => {\r\n        return orders[key].projectNumber === projectNumber;\r\n      }).length,\r\n      projectName,\r\n      projectNumber,\r\n      teamLeader: [...new Set(teamLeader)].join(\"/\"),\r\n      progress: util.projectProgress(projectNumber, orders, orderActivities),\r\n    };\r\n  }\r\n)(ProjectSummary);\r\n"]},"metadata":{},"sourceType":"module"}