{"ast":null,"code":"import*as api from\"api\";import*as action from\"actions\";export var changePassword=function changePassword(data){return function(dispatch){dispatch(action.showLoading());return api.changePassword(data).then(function(response){//get task\ndispatch(action.hideLoading());window.localStorage.removeItem(\"auth\");dispatch(action.setAuth(null));}).catch(function(error){if(error.code===401){window.localStorage.removeItem(\"auth\");dispatch(action.setAuth(null));}dispatch(action.setError(error.message));}).finally(function(){dispatch(action.hideLoading());});};};export var firstLoginRestPassword=function firstLoginRestPassword(data){return function(dispatch){dispatch(action.showLoading());return api.changePassword(data).then(function(res){return api.restNewUserStatus().then(function(){dispatch(action.hideLoading());window.localStorage.removeItem(\"auth\");dispatch(action.setAuth(null));});});};};","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/src/actions/changePassword.js"],"names":["api","action","changePassword","data","dispatch","showLoading","then","response","hideLoading","window","localStorage","removeItem","setAuth","catch","error","code","setError","message","finally","firstLoginRestPassword","res","restNewUserStatus"],"mappings":"AAAA,MAAO,GAAKA,CAAAA,GAAZ,KAAqB,KAArB,CACA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,SAAxB,CAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,IAAD,QAAU,UAACC,QAAD,CAAc,CACpDA,QAAQ,CAACH,MAAM,CAACI,WAAP,EAAD,CAAR,CACA,MAAOL,CAAAA,GAAG,CACPE,cADI,CACWC,IADX,EAEJG,IAFI,CAEC,SAACC,QAAD,CAAc,CAClB;AACAH,QAAQ,CAACH,MAAM,CAACO,WAAP,EAAD,CAAR,CACAC,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,MAA/B,EACAP,QAAQ,CAACH,MAAM,CAACW,OAAP,CAAe,IAAf,CAAD,CAAR,CACD,CAPI,EAQJC,KARI,CAQE,SAACC,KAAD,CAAW,CAChB,GAAIA,KAAK,CAACC,IAAN,GAAe,GAAnB,CAAwB,CACtBN,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,MAA/B,EACAP,QAAQ,CAACH,MAAM,CAACW,OAAP,CAAe,IAAf,CAAD,CAAR,CACD,CACDR,QAAQ,CAACH,MAAM,CAACe,QAAP,CAAgBF,KAAK,CAACG,OAAtB,CAAD,CAAR,CACD,CAdI,EAeJC,OAfI,CAeI,UAAM,CACbd,QAAQ,CAACH,MAAM,CAACO,WAAP,EAAD,CAAR,CACD,CAjBI,CAAP,CAkBD,CApB6B,EAAvB,CAsBP,MAAO,IAAMW,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAAChB,IAAD,QAAU,UAACC,QAAD,CAAc,CAC5DA,QAAQ,CAACH,MAAM,CAACI,WAAP,EAAD,CAAR,CACA,MAAOL,CAAAA,GAAG,CAACE,cAAJ,CAAmBC,IAAnB,EAAyBG,IAAzB,CAA8B,SAACc,GAAD,CAAS,CAC5C,MAAOpB,CAAAA,GAAG,CAACqB,iBAAJ,GAAwBf,IAAxB,CAA6B,UAAM,CACxCF,QAAQ,CAACH,MAAM,CAACO,WAAP,EAAD,CAAR,CACAC,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,MAA/B,EACAP,QAAQ,CAACH,MAAM,CAACW,OAAP,CAAe,IAAf,CAAD,CAAR,CACD,CAJM,CAAP,CAKD,CANM,CAAP,CAOD,CATqC,EAA/B","sourcesContent":["import * as api from \"api\";\r\nimport * as action from \"actions\";\r\n\r\nexport const changePassword = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api\r\n    .changePassword(data)\r\n    .then((response) => {\r\n      //get task\r\n      dispatch(action.hideLoading());\r\n      window.localStorage.removeItem(\"auth\");\r\n      dispatch(action.setAuth(null));\r\n    })\r\n    .catch((error) => {\r\n      if (error.code === 401) {\r\n        window.localStorage.removeItem(\"auth\");\r\n        dispatch(action.setAuth(null));\r\n      }\r\n      dispatch(action.setError(error.message));\r\n    })\r\n    .finally(() => {\r\n      dispatch(action.hideLoading());\r\n    });\r\n};\r\n\r\nexport const firstLoginRestPassword = (data) => (dispatch) => {\r\n  dispatch(action.showLoading());\r\n  return api.changePassword(data).then((res) => {\r\n    return api.restNewUserStatus().then(() => {\r\n      dispatch(action.hideLoading());\r\n      window.localStorage.removeItem(\"auth\");\r\n      dispatch(action.setAuth(null));\r\n    });\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}