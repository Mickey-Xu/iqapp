{"ast":null,"code":"var _jsxFileName = \"C:\\\\project\\\\SCF-NI_PM_App\\\\SCF.InstallationQuality\\\\react-client\\\\src\\\\components\\\\TemplateForm\\\\Signature\\\\index.js\";\nimport { makeStyles, Typography } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Modal from \"@material-ui/core/Modal\";\nimport CreateIcon from \"@material-ui/icons/Create\";\nimport React, { useRef, useState } from \"react\";\nimport SignaturePad from \"react-signature-canvas\";\nimport { LocalizeContext } from \"i18n\";\nimport { disableForm } from \"js/util\";\nimport { useParams } from 'react-router-dom';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginTop: theme.spacing(1),\n    userSelect: \"none\",\n    marginBottom: \"400px\"\n  },\n  sigContainer: {\n    width: \"100%\",\n    height: \"250px\",\n    // border: \"1px solid gray\",\n    // backgroundColor: \"white\",\n    backgroundColor: theme.palette.background.paper\n  },\n  sigPad: {\n    width: \"100%\",\n    height: \"200px\"\n  },\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  icon: {\n    width: \"100%\",\n    height: \"100px\",\n    marginTop: \"8px\",\n    borderRadius: \"5px\",\n    backgroundColor: \"#eee\",\n    margin: theme.spacing(1, 0, 3, 0)\n  }\n}));\nexport const Signature = props => {\n  const classes = useStyles();\n  const i18n = React.useContext(LocalizeContext);\n  const params = useParams();\n  const [signModalOpen, setSignModalOpen] = useState(false);\n  const [sPhotoStyle, setSPhotoStyle] = useState({\n    width: \"100%\",\n    height: \"100%\"\n  });\n  const sPadEl = useRef(null);\n  const sPhotoEl = useRef(null);\n\n  const clear = () => {\n    sPadEl.current.clear();\n  };\n\n  const save = () => {\n    const signPhoto = sPadEl.current.getTrimmedCanvas().toDataURL(\"image/png\");\n    props.onChange(signPhoto);\n    const i = new Image();\n\n    i.onload = () => {\n      setSPhotoStyle({\n        // width: sPhotoEl.current.clientWidth,\n        // height: (sPhotoEl.current.clientWidth / i.width) * i.height,\n        width: \"100%\",\n        height: \"100%\",\n        marginBottom: \"24px\"\n      });\n    };\n\n    i.src = signPhoto;\n    setSignModalOpen(false);\n  };\n\n  const signClick = () => {\n    setSignModalOpen(true);\n  };\n\n  const handleClose = () => {\n    setSignModalOpen(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    classes: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, props.label), /*#__PURE__*/React.createElement(IconButton, {\n    disabled: disableForm(params),\n    \"aria-label\": \"sign\",\n    onClick: signClick,\n    className: classes.icon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CreateIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    className: classes.modal,\n    open: signModalOpen,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.sigContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SignaturePad, {\n    canvasProps: {\n      className: classes.sigPad\n    },\n    ref: sPadEl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: clear,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, i18n.INSTALLATION_CLEAR), /*#__PURE__*/React.createElement(Button, {\n    onClick: save,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, i18n.INSTALLATION_SAVE)))), /*#__PURE__*/React.createElement(\"img\", {\n    src: props.value,\n    style: sPhotoStyle,\n    ref: sPhotoEl,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, props.description));\n};","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/src/components/TemplateForm/Signature/index.js"],"names":["makeStyles","Typography","Button","IconButton","Modal","CreateIcon","React","useRef","useState","SignaturePad","LocalizeContext","disableForm","useParams","useStyles","theme","root","marginTop","spacing","userSelect","marginBottom","sigContainer","width","height","backgroundColor","palette","background","paper","sigPad","modal","display","alignItems","justifyContent","icon","borderRadius","margin","Signature","props","classes","i18n","useContext","params","signModalOpen","setSignModalOpen","sPhotoStyle","setSPhotoStyle","sPadEl","sPhotoEl","clear","current","save","signPhoto","getTrimmedCanvas","toDataURL","onChange","i","Image","onload","src","signClick","handleClose","label","className","INSTALLATION_CLEAR","INSTALLATION_SAVE","value","description"],"mappings":"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","sourcesContent":["import { makeStyles, Typography } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport CreateIcon from \"@material-ui/icons/Create\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport SignaturePad from \"react-signature-canvas\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { disableForm } from \"js/util\";\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginTop: theme.spacing(1),\r\n    userSelect: \"none\",\r\n    marginBottom: \"400px\",\r\n  },\r\n  sigContainer: {\r\n    width: \"100%\",\r\n    height: \"250px\",\r\n    // border: \"1px solid gray\",\r\n    // backgroundColor: \"white\",\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  sigPad: {\r\n    width: \"100%\",\r\n    height: \"200px\",\r\n  },\r\n  modal: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  icon: {\r\n    width: \"100%\",\r\n    height: \"100px\",\r\n    marginTop: \"8px\",\r\n    borderRadius: \"5px\",\r\n    backgroundColor: \"#eee\",\r\n    margin: theme.spacing(1, 0, 3, 0),\r\n  },\r\n}));\r\n\r\nexport const Signature = (props) => {\r\n  const classes = useStyles();\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const params = useParams()\r\n\r\n  const [signModalOpen, setSignModalOpen] = useState(false);\r\n  const [sPhotoStyle, setSPhotoStyle] = useState({\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  });\r\n\r\n  const sPadEl = useRef(null);\r\n  const sPhotoEl = useRef(null);\r\n\r\n  const clear = () => {\r\n    sPadEl.current.clear();\r\n  };\r\n\r\n  const save = () => {\r\n    const signPhoto = sPadEl.current.getTrimmedCanvas().toDataURL(\"image/png\");\r\n    props.onChange(signPhoto);\r\n    const i = new Image();\r\n    i.onload = () => {\r\n      setSPhotoStyle({\r\n        // width: sPhotoEl.current.clientWidth,\r\n        // height: (sPhotoEl.current.clientWidth / i.width) * i.height,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        marginBottom: \"24px\",\r\n      });\r\n    };\r\n    i.src = signPhoto;\r\n    setSignModalOpen(false);\r\n  };\r\n\r\n  const signClick = () => {\r\n    setSignModalOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setSignModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div classes={classes.root}>\r\n      <Typography variant=\"subtitle2\">{props.label}</Typography>\r\n      <IconButton\r\n        disabled={disableForm(params)}\r\n        aria-label=\"sign\"\r\n        onClick={signClick}\r\n        className={classes.icon}\r\n      >\r\n        <CreateIcon />\r\n      </IconButton>\r\n      <Modal\r\n        className={classes.modal}\r\n        open={signModalOpen}\r\n        onClose={handleClose}\r\n      >\r\n        <div className={classes.sigContainer}>\r\n          <div>\r\n            <SignaturePad\r\n              canvasProps={{ className: classes.sigPad }}\r\n              ref={sPadEl}\r\n            />\r\n            <Button onClick={clear}>{i18n.INSTALLATION_CLEAR}</Button>\r\n            <Button onClick={save}>{i18n.INSTALLATION_SAVE}</Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n      {/* <CardMedia style={sPhotoStyle} image={props.value} ref={sPhotoEl} />\r\n       */}\r\n      <img src={props.value} style={sPhotoStyle} ref={sPhotoEl} alt=\"\" />\r\n      <i>{props.description}</i>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}