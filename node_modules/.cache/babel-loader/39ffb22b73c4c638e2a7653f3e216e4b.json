{"ast":null,"code":"import _toConsumableArray from\"C:\\\\project\\\\SCF-NI_PM_App\\\\SCF.InstallationQuality\\\\react-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _ from\"lodash\";export var showInActivityListSteps=function showInActivityListSteps(activityAuth,role){var rolesMapper={PE:\"pe\",\"Subcon TL\":\"subconTL\",\"SL\":\"sl\"};var result=[];if(role===\"admin\"){Object.keys(rolesMapper).forEach(function(key){var tmp=showInActivityListSteps(activityAuth,key);result.push.apply(result,_toConsumableArray(tmp));});return Array.from(new Set([].concat(result)));}var authDesc=activityAuth[rolesMapper[role]];var steps=Array.from(new Set([].concat(_toConsumableArray(authDesc.authorization.c),_toConsumableArray(authDesc.documentAuthorization.c))));steps.forEach(function(step){result.push.apply(result,_toConsumableArray(step.split(\"/\")));});return result;};export var orderDetailSteps=function orderDetailSteps(orderActivities,orderNumber,activityAuth,role){var rolesMapper={PE:\"pe\",\"Subcon TL\":\"subconTL\",\"SL\":\"sl\"};var result=[];if(role===\"admin\"){Object.keys(rolesMapper).forEach(function(key){var tmp=orderDetailSteps(orderActivities,orderNumber,activityAuth,key);result.push.apply(result,_toConsumableArray(tmp));});return Array.from(new Set([].concat(result)));}var authDesc=activityAuth[rolesMapper[role]];var steps=Array.from(new Set([].concat(_toConsumableArray(authDesc.authorization.c),_toConsumableArray(authDesc.documentAuthorization.c))));var filteredSteps=steps.filter(function(value){return value.length===4;});if(role===\"PE\"){// 3 steps\nif(orderActivities[orderNumber+\"-7020\"]&&!orderActivities[orderNumber+\"-7030\"]){filteredSteps.push(\"7020\");}else{// 14 steps\nfilteredSteps.push(\"70D0\");}}else if(role===\"SL\"){filteredSteps.push(\"7800\");}else{// 3 steps\n// subcon tl:  remove 7020 when this order contains 3 steps\nif(orderActivities[orderNumber+\"-7020\"]&&!orderActivities[orderNumber+\"-7030\"]){var removeSteps=[\"7020\",\"7030\",\"7040\",\"7050\",\"7060\",\"7070\",\"7080\",\"7090\",\"70A0\",\"70B0\",\"70C0\",\"70D0\"];_.remove(filteredSteps,function(number){return removeSteps.includes(number);});}}return _toConsumableArray(new Set(filteredSteps));};export var allActivitiesNosInProjectProgress=function allActivitiesNosInProjectProgress(activityAuth,role){var rolesMapper={PE:\"pe\",\"Subcon TL\":\"subconTL\",SL:\"sl\"};var result=[];if(role===\"admin\"){Object.keys(rolesMapper).forEach(function(key){var tmp=allActivitiesNosInProjectProgress(activityAuth,role);result.push.apply(result,_toConsumableArray(tmp));});return Array.from(new Set([].concat(result)));}var authDesc=activityAuth[rolesMapper[role]];var authActivities=Array.from(new Set([].concat(_toConsumableArray(authDesc.authorization.c),_toConsumableArray(authDesc.authorization.r))));var filteredActivities=authActivities.filter(function(value){return value.length===4;});var installationSteps=[\"7010\",\"7020\",\"7030\",\"7040\",\"7050\",\"7060\",\"7070\",\"7080\",\"7090\",\"70A0\",\"70B0\",\"70C0\",\"70D0\",\"7600\"];filteredActivities=filteredActivities.filter(function(value){return!installationSteps.includes(value);});return filteredActivities;};export var allOrderDetailSteps=function allOrderDetailSteps(orderActivities,orderNumber,activityAuth,role){var rolesMapper={PE:\"pe\",\"Subcon TL\":\"subconTL\",\"SL\":\"sl\"};var result=[];if(role===\"admin\"){Object.keys(rolesMapper).forEach(function(key){var tmp=allOrderDetailSteps(orderActivities,orderNumber,activityAuth,key);result.push.apply(result,_toConsumableArray(tmp));});return Array.from(new Set([].concat(result)));}var authDesc=activityAuth[rolesMapper[role]];var steps=Array.from(new Set([].concat(_toConsumableArray(authDesc.authorization.c),_toConsumableArray(authDesc.documentAuthorization.c),_toConsumableArray(authDesc.authorization.r),_toConsumableArray(authDesc.documentAuthorization.r))));var filteredSteps=steps.filter(function(value){return value.length===4;});if(role===\"PE\"){// 3 steps\nif(orderActivities[orderNumber+\"-7020\"]&&!orderActivities[orderNumber+\"-7030\"]){filteredSteps.push(\"7020\");}else{// 14 steps\nfilteredSteps.push(\"70D0\");}}else if(role===\"SL\"){filteredSteps.push(\"7800\");}else{// 3 steps\n// subcon tl:  remove 7020 when this order contains 3 steps\n// add 7020/70D0\nif(orderActivities[orderNumber+\"-7020\"]&&!orderActivities[orderNumber+\"-7030\"]){var removeSteps=[\"7030\",\"7040\",\"7050\",\"7060\",\"7070\",\"7080\",\"7090\",\"70A0\",\"70B0\",\"70C0\",\"70D0\"];_.remove(filteredSteps,function(number){return removeSteps.includes(number);});}else{// 14 steps\nfilteredSteps.push(\"70D0\");}}return Array.from(new Set(_toConsumableArray(filteredSteps)));};export var authorizationC=function authorizationC(orderActivities,orderNumber,activityAuth,role){var rolesMapper={PE:\"pe\",\"Subcon TL\":\"subconTL\",SL:\"sl\"};var result=[];if(role===\"admin\"){Object.keys(rolesMapper).forEach(function(key){var tmp=authorizationC(orderActivities,orderNumber,activityAuth,key);result.push.apply(result,_toConsumableArray(tmp));});return Array.from(new Set([].concat(result)));}var authDesc=activityAuth[rolesMapper[role]];var steps=Array.from(new Set(_toConsumableArray(authDesc.authorization.c)));var filteredSteps=steps.filter(function(value){return value.length===4;});if(role===\"PE\"){// 3 steps\nif(orderActivities[orderNumber+\"-7020\"]&&!orderActivities[orderNumber+\"-7030\"]){filteredSteps.push(\"7020\");}else{// 14 steps\nfilteredSteps.push(\"70D0\");}}else{// 3 steps\n// subcon tl:  remove 7020 when this order contains 3 steps\nif(orderActivities[orderNumber+\"-7020\"]&&!orderActivities[orderNumber+\"-7030\"]){var removeSteps=[\"7020\",\"7030\",\"7040\",\"7050\",\"7060\",\"7070\",\"7080\",\"7090\",\"70A0\",\"70B0\",\"70C0\",\"70D0\"];_.remove(filteredSteps,function(number){return removeSteps.includes(number);});}}return _toConsumableArray(new Set(filteredSteps));};export var documentAuthorizationC=function documentAuthorizationC(orderActivities,orderNumber,activityAuth,role){var rolesMapper={PE:\"pe\",\"Subcon TL\":\"subconTL\",\"SL\":\"sl\"};var result=[];if(role===\"admin\"){Object.keys(rolesMapper).forEach(function(key){var tmp=documentAuthorizationC(orderActivities,orderNumber,activityAuth,key);result.push.apply(result,_toConsumableArray(tmp));});return Array.from(new Set([].concat(result)));}var authDesc=activityAuth[rolesMapper[role]];var steps=Array.from(new Set(_toConsumableArray(authDesc.documentAuthorization.c)));var filteredSteps=steps.filter(function(value){return value.length===4;});if(role===\"PE\"){// 3 steps\nif(orderActivities[orderNumber+\"-7020\"]&&!orderActivities[orderNumber+\"-7030\"]){filteredSteps.push(\"7020\");}else{// 14 steps\nfilteredSteps.push(\"70D0\");}}else if(role===\"SL\"){filteredSteps.push(\"7800\");}else{// 3 steps\n// subcon tl:  remove 7020 when this order contains 3 steps\nif(orderActivities[orderNumber+\"-7020\"]&&!orderActivities[orderNumber+\"-7030\"]){var removeSteps=[\"7020\",\"7030\",\"7040\",\"7050\",\"7060\",\"7070\",\"7080\",\"7090\",\"70A0\",\"70B0\",\"70C0\",\"70D0\"];_.remove(filteredSteps,function(number){return removeSteps.includes(number);});}}return _toConsumableArray(new Set(filteredSteps));};export var documentAuthorizationR=function documentAuthorizationR(orderActivities,orderNumber,activityAuth,role){var rolesMapper={PE:\"pe\",\"Subcon TL\":\"subconTL\",\"SL\":\"sl\"};var result=[];if(role===\"admin\"){Object.keys(rolesMapper).forEach(function(key){var tmp=documentAuthorizationR(orderActivities,orderNumber,activityAuth,key);result.push.apply(result,_toConsumableArray(tmp));});return Array.from(new Set([].concat(result)));}var authDesc=activityAuth[rolesMapper[role]];var steps=Array.from(new Set([].concat(_toConsumableArray(authDesc.documentAuthorization.c),_toConsumableArray(authDesc.documentAuthorization.r))));var filteredSteps=steps.filter(function(value){return value.length===4;});if(role===\"PE\"){// 3 steps\nif(orderActivities[orderNumber+\"-7020\"]&&!orderActivities[orderNumber+\"-7030\"]){filteredSteps.push(\"7020\");}else{// 14 steps\nfilteredSteps.push(\"70D0\");}}else if(role===\"SL\"){filteredSteps.push(\"7800\");}else{// 3 steps\n// subcon tl:  remove 7020 when this order contains 3 steps\nif(orderActivities[orderNumber+\"-7020\"]&&!orderActivities[orderNumber+\"-7030\"]){var removeSteps=[\"7020\",\"7030\",\"7040\",\"7050\",\"7060\",\"7070\",\"7080\",\"7090\",\"70A0\",\"70B0\",\"70C0\",\"70D0\"];_.remove(filteredSteps,function(number){return removeSteps.includes(number);});}}return _toConsumableArray(new Set(filteredSteps));};","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/src/js/publicFn/authUtils.js"],"names":["_","showInActivityListSteps","activityAuth","role","rolesMapper","PE","result","Object","keys","forEach","key","tmp","push","Array","from","Set","authDesc","steps","authorization","c","documentAuthorization","step","split","orderDetailSteps","orderActivities","orderNumber","filteredSteps","filter","value","length","removeSteps","remove","number","includes","allActivitiesNosInProjectProgress","SL","authActivities","r","filteredActivities","installationSteps","allOrderDetailSteps","authorizationC","documentAuthorizationC","documentAuthorizationR"],"mappings":"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","sourcesContent":["import _ from \"lodash\";\r\n\r\nexport const showInActivityListSteps = (activityAuth, role) => {\r\n  const rolesMapper = {\r\n    PE: \"pe\",\r\n    \"Subcon TL\": \"subconTL\",\r\n    \"SL\":\"sl\"\r\n  };\r\n\r\n  const result = [];\r\n\r\n  if (role === \"admin\") {\r\n    Object.keys(rolesMapper).forEach((key) => {\r\n      const tmp = showInActivityListSteps(activityAuth, key);\r\n      result.push(...tmp);\r\n    });\r\n\r\n    return Array.from(new Set([...result]));\r\n  }\r\n\r\n  const authDesc = activityAuth[rolesMapper[role]];\r\n\r\n  const steps = Array.from(\r\n    new Set([...authDesc.authorization.c, ...authDesc.documentAuthorization.c])\r\n  );\r\n\r\n  steps.forEach((step) => {\r\n    result.push(...step.split(\"/\"));\r\n  });\r\n\r\n  return result;\r\n};\r\n\r\nexport const orderDetailSteps = (\r\n  orderActivities,\r\n  orderNumber,\r\n  activityAuth,\r\n  role\r\n) => {\r\n  const rolesMapper = {\r\n    PE: \"pe\",\r\n    \"Subcon TL\": \"subconTL\",\r\n    \"SL\":\"sl\"\r\n  };\r\n\r\n  const result = [];\r\n\r\n  if (role === \"admin\") {\r\n    Object.keys(rolesMapper).forEach((key) => {\r\n      const tmp = orderDetailSteps(\r\n        orderActivities,\r\n        orderNumber,\r\n        activityAuth,\r\n        key\r\n      );\r\n      result.push(...tmp);\r\n    });\r\n\r\n    return Array.from(new Set([...result]));\r\n  }\r\n\r\n  const authDesc = activityAuth[rolesMapper[role]];\r\n\r\n  const steps = Array.from(\r\n    new Set([...authDesc.authorization.c, ...authDesc.documentAuthorization.c])\r\n  );\r\n\r\n  var filteredSteps = steps.filter((value) => {\r\n    return value.length === 4;\r\n  });\r\n\r\n  if (role === \"PE\") {\r\n    // 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      filteredSteps.push(\"7020\");\r\n    } else {\r\n      // 14 steps\r\n      filteredSteps.push(\"70D0\");\r\n    }\r\n  } else if (role === \"SL\") {\r\n    filteredSteps.push(\"7800\");\r\n   } else {\r\n    // 3 steps\r\n    // subcon tl:  remove 7020 when this order contains 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      const removeSteps = [\r\n        \"7020\",\r\n        \"7030\",\r\n        \"7040\",\r\n        \"7050\",\r\n        \"7060\",\r\n        \"7070\",\r\n        \"7080\",\r\n        \"7090\",\r\n        \"70A0\",\r\n        \"70B0\",\r\n        \"70C0\",\r\n        \"70D0\",\r\n      ];\r\n\r\n      _.remove(filteredSteps, (number) => {\r\n        return removeSteps.includes(number);\r\n      });\r\n    }\r\n  }\r\n  return [...new Set(filteredSteps)];\r\n};\r\n\r\nexport const allActivitiesNosInProjectProgress = (activityAuth, role) => {\r\n  const rolesMapper = {\r\n    PE: \"pe\",\r\n    \"Subcon TL\": \"subconTL\",\r\n    SL:\"sl\"\r\n  };\r\n\r\n  const result = [];\r\n\r\n  if (role === \"admin\") {\r\n    Object.keys(rolesMapper).forEach((key) => {\r\n      const tmp = allActivitiesNosInProjectProgress(activityAuth, role);\r\n      result.push(...tmp);\r\n    });\r\n\r\n    return Array.from(new Set([...result]));\r\n  }\r\n\r\n  const authDesc = activityAuth[rolesMapper[role]];\r\n\r\n  const authActivities = Array.from(\r\n    new Set([...authDesc.authorization.c, ...authDesc.authorization.r])\r\n  );\r\n\r\n  var filteredActivities = authActivities.filter((value) => {\r\n    return value.length === 4;\r\n  });\r\n\r\n  const installationSteps = [\r\n    \"7010\",\r\n    \"7020\",\r\n    \"7030\",\r\n    \"7040\",\r\n    \"7050\",\r\n    \"7060\",\r\n    \"7070\",\r\n    \"7080\",\r\n    \"7090\",\r\n    \"70A0\",\r\n    \"70B0\",\r\n    \"70C0\",\r\n    \"70D0\",\r\n    \"7600\",\r\n  ];\r\n\r\n  filteredActivities = filteredActivities.filter(\r\n    (value) => !installationSteps.includes(value)\r\n  );\r\n\r\n  return filteredActivities;\r\n};\r\n\r\nexport const allOrderDetailSteps = (\r\n  orderActivities,\r\n  orderNumber,\r\n  activityAuth,\r\n  role\r\n) => {\r\n  const rolesMapper = {\r\n    PE: \"pe\",\r\n    \"Subcon TL\": \"subconTL\",\r\n    \"SL\":\"sl\"\r\n  };\r\n\r\n  const result = [];\r\n\r\n  if (role === \"admin\") {\r\n    Object.keys(rolesMapper).forEach((key) => {\r\n      const tmp = allOrderDetailSteps(\r\n        orderActivities,\r\n        orderNumber,\r\n        activityAuth,\r\n        key\r\n      );\r\n      result.push(...tmp);\r\n    });\r\n\r\n    return Array.from(new Set([...result]));\r\n  }\r\n\r\n  const authDesc = activityAuth[rolesMapper[role]];\r\n\r\n  const steps = Array.from(\r\n    new Set([\r\n      ...authDesc.authorization.c,\r\n      ...authDesc.documentAuthorization.c,\r\n      ...authDesc.authorization.r,\r\n      ...authDesc.documentAuthorization.r,\r\n    ])\r\n  );\r\n\r\n  var filteredSteps = steps.filter((value) => {\r\n    return value.length === 4;\r\n  });\r\n\r\n  if (role === \"PE\") {\r\n    // 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      filteredSteps.push(\"7020\");\r\n    } else {\r\n      // 14 steps\r\n      filteredSteps.push(\"70D0\");\r\n    }\r\n  } else if (role === \"SL\") {\r\n    filteredSteps.push(\"7800\");\r\n  } else {\r\n    // 3 steps\r\n    // subcon tl:  remove 7020 when this order contains 3 steps\r\n    // add 7020/70D0\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      const removeSteps = [\r\n        \"7030\",\r\n        \"7040\",\r\n        \"7050\",\r\n        \"7060\",\r\n        \"7070\",\r\n        \"7080\",\r\n        \"7090\",\r\n        \"70A0\",\r\n        \"70B0\",\r\n        \"70C0\",\r\n        \"70D0\",\r\n      ];\r\n\r\n      _.remove(filteredSteps, (number) => {\r\n        return removeSteps.includes(number);\r\n      });\r\n    } else {\r\n      // 14 steps\r\n      filteredSteps.push(\"70D0\");\r\n    }\r\n  }\r\n\r\n  return Array.from(new Set([...filteredSteps]));\r\n};\r\n\r\nexport const authorizationC = (\r\n  orderActivities,\r\n  orderNumber,\r\n  activityAuth,\r\n  role\r\n) => {\r\n  const rolesMapper = {\r\n    PE: \"pe\",\r\n    \"Subcon TL\": \"subconTL\",\r\n    SL:\"sl\"\r\n  };\r\n\r\n  const result = [];\r\n\r\n  if (role === \"admin\") {\r\n    Object.keys(rolesMapper).forEach((key) => {\r\n      const tmp = authorizationC(\r\n        orderActivities,\r\n        orderNumber,\r\n        activityAuth,\r\n        key\r\n      );\r\n      result.push(...tmp);\r\n    });\r\n\r\n    return Array.from(new Set([...result]));\r\n  }\r\n\r\n  const authDesc = activityAuth[rolesMapper[role]];\r\n\r\n  const steps = Array.from(new Set([...authDesc.authorization.c]));\r\n\r\n  var filteredSteps = steps.filter((value) => {\r\n    return value.length === 4;\r\n  });\r\n\r\n  if (role === \"PE\") {\r\n    // 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      filteredSteps.push(\"7020\");\r\n    } else {\r\n      // 14 steps\r\n      filteredSteps.push(\"70D0\");\r\n    }\r\n  } else {\r\n    // 3 steps\r\n    // subcon tl:  remove 7020 when this order contains 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      const removeSteps = [\r\n        \"7020\",\r\n        \"7030\",\r\n        \"7040\",\r\n        \"7050\",\r\n        \"7060\",\r\n        \"7070\",\r\n        \"7080\",\r\n        \"7090\",\r\n        \"70A0\",\r\n        \"70B0\",\r\n        \"70C0\",\r\n        \"70D0\",\r\n      ];\r\n\r\n      _.remove(filteredSteps, (number) => {\r\n        return removeSteps.includes(number);\r\n      });\r\n    }\r\n  }\r\n\r\n  return [...new Set(filteredSteps)];\r\n};\r\n\r\nexport const documentAuthorizationC = (\r\n  orderActivities,\r\n  orderNumber,\r\n  activityAuth,\r\n  role\r\n) => {\r\n  const rolesMapper = {\r\n    PE: \"pe\",\r\n    \"Subcon TL\": \"subconTL\",\r\n    \"SL\":\"sl\"\r\n  };\r\n\r\n  const result = [];\r\n\r\n  if (role === \"admin\") {\r\n    Object.keys(rolesMapper).forEach((key) => {\r\n      const tmp = documentAuthorizationC(\r\n        orderActivities,\r\n        orderNumber,\r\n        activityAuth,\r\n        key\r\n      );\r\n      result.push(...tmp);\r\n    });\r\n\r\n    return Array.from(new Set([...result]));\r\n  }\r\n\r\n  const authDesc = activityAuth[rolesMapper[role]];\r\n\r\n  const steps = Array.from(new Set([...authDesc.documentAuthorization.c]));\r\n\r\n  var filteredSteps = steps.filter((value) => {\r\n    return value.length === 4;\r\n  });\r\n\r\n  if (role === \"PE\") {\r\n    // 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      filteredSteps.push(\"7020\");\r\n    } else {\r\n      // 14 steps\r\n      filteredSteps.push(\"70D0\");\r\n    }\r\n  } else if (role === \"SL\") {\r\n    filteredSteps.push(\"7800\");\r\n  } else {\r\n    // 3 steps\r\n    // subcon tl:  remove 7020 when this order contains 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      const removeSteps = [\r\n        \"7020\",\r\n        \"7030\",\r\n        \"7040\",\r\n        \"7050\",\r\n        \"7060\",\r\n        \"7070\",\r\n        \"7080\",\r\n        \"7090\",\r\n        \"70A0\",\r\n        \"70B0\",\r\n        \"70C0\",\r\n        \"70D0\",\r\n      ];\r\n\r\n      _.remove(filteredSteps, (number) => {\r\n        return removeSteps.includes(number);\r\n      });\r\n    }\r\n  }\r\n\r\n  return [...new Set(filteredSteps)];\r\n};\r\n\r\nexport const documentAuthorizationR = (\r\n  orderActivities,\r\n  orderNumber,\r\n  activityAuth,\r\n  role\r\n) => {\r\n  const rolesMapper = {\r\n    PE: \"pe\",\r\n    \"Subcon TL\": \"subconTL\",\r\n    \"SL\":\"sl\"\r\n  };\r\n\r\n  const result = [];\r\n\r\n  if (role === \"admin\") {\r\n    Object.keys(rolesMapper).forEach((key) => {\r\n      const tmp = documentAuthorizationR(\r\n        orderActivities,\r\n        orderNumber,\r\n        activityAuth,\r\n        key\r\n      );\r\n      result.push(...tmp);\r\n    });\r\n\r\n    return Array.from(new Set([...result]));\r\n  }\r\n\r\n  const authDesc = activityAuth[rolesMapper[role]];\r\n\r\n  const steps = Array.from(\r\n    new Set([\r\n      ...authDesc.documentAuthorization.c,\r\n      ...authDesc.documentAuthorization.r,\r\n    ])\r\n  );\r\n\r\n  var filteredSteps = steps.filter((value) => {\r\n    return value.length === 4;\r\n  });\r\n\r\n  if (role === \"PE\") {\r\n    // 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      filteredSteps.push(\"7020\");\r\n    } else {\r\n      // 14 steps\r\n      filteredSteps.push(\"70D0\");\r\n    }\r\n  } else if (role === \"SL\") {\r\n    filteredSteps.push(\"7800\");\r\n  } else {\r\n    // 3 steps\r\n    // subcon tl:  remove 7020 when this order contains 3 steps\r\n    if (\r\n      orderActivities[orderNumber + \"-7020\"] &&\r\n      !orderActivities[orderNumber + \"-7030\"]\r\n    ) {\r\n      const removeSteps = [\r\n        \"7020\",\r\n        \"7030\",\r\n        \"7040\",\r\n        \"7050\",\r\n        \"7060\",\r\n        \"7070\",\r\n        \"7080\",\r\n        \"7090\",\r\n        \"70A0\",\r\n        \"70B0\",\r\n        \"70C0\",\r\n        \"70D0\",\r\n      ];\r\n\r\n      _.remove(filteredSteps, (number) => {\r\n        return removeSteps.includes(number);\r\n      });\r\n    }\r\n  }\r\n  return [...new Set(filteredSteps)];\r\n};\r\n"]},"metadata":{},"sourceType":"module"}