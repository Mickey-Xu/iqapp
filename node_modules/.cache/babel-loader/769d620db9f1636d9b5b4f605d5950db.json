{"ast":null,"code":"import _toConsumableArray from\"C:\\\\project\\\\SCF-NI_PM_App\\\\SCF.InstallationQuality\\\\react-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";// import ProjectCard from \"components/ProjectCard\";\n// import ProjectOrderList from \"components/ProjectOrderList\";\n// import ProjectSearchBar from \"components/ProjectSearchBar\";\nimport ProjectSiteAddress from\"components/ProjectSiteAddress\";import UnitDetail from\"components/UnitDetail\";import{LocalizeContext}from\"i18n\";// import InstallMethodSelectDialog from \"components/InstallMethodSelectDialog\";\nimport PrimaryLayout from\"layouts/PrimaryLayout\";import React from\"react\";import{connect}from\"react-redux\";var ProjectDetailPage=function ProjectDetailPage(_ref){var data=_ref.data,projectNumber=_ref.projectNumber;// const [searchCriteria, setSearchCriteria] = useState(null);\n// const [installationMethod, setInstallationMethod] = useState(null);\nvar i18n=React.useContext(LocalizeContext);var fields=[{label:i18n.PROJECTLIST_PROJECT_NO,name:\"projectNumber\"},{label:i18n.PROJECTLIST_PROJECT_DESCRIPTION,name:\"projectName\"},{label:i18n.PROJECTLIST_SITE_ADDRESS,name:\"projectSite\",component:function component(){return/*#__PURE__*/React.createElement(ProjectSiteAddress,{projectNumber:projectNumber});}},{label:i18n.JOBLIST_SUBCON_TL,name:\"teamLeader\"},{label:i18n.INSTAPP_PROJECTLIST_UnitCount,name:\"orderQuantity\"},{label:i18n.INSTAPP_PROJECTLIST_FitterCount,name:\"fitterQuantity\",muito:\"/fitters/\".concat(projectNumber)},// {\n//   label: i18n.ISNTAPP_PROJECTLIST_PROJECT_PROGRESS,\n//   to: `/projectprogress/${projectNumber}`,\n// },\n// {\n//   label: i18n.ISNTAPP_PROJECTLIST_PROJECT_INSTALLATIONSTEPS,\n//   to: `/projectInstallationSteps/${projectNumber}`,\n// },\n{label:i18n.ISNTAPP_PROJECTLIST_PROJECT_PROGRESS,to:\"/projectProgressPage/\".concat(projectNumber),description:\"ACTIVITY\"},{label:i18n.ISNTAPP_PROJECTLIST_PROJECT_INSTALLATIONSTEPS,to:\"/projectInstallationSteps/\".concat(projectNumber),description:\"STEPS\"}];// const handleClick = (method) => {\n//   setInstallationMethod(method);\n// };\nreturn/*#__PURE__*/React.createElement(PrimaryLayout,{title:i18n.PROJECTLIST_DETAILS},/*#__PURE__*/React.createElement(UnitDetail,{fields:fields,data:data}));};var mapStateToProps=function mapStateToProps(_ref2,ownProps){var _fittersAssignmentTra;var fittersAssignmentTransfer=_ref2.fittersAssignmentTransfer,orders=_ref2.orders,projects=_ref2.projects,partners=_ref2.partners;var projectNumber=ownProps.match.params.projectNumber;var _ref3=projects[projectNumber]||{},projectName=_ref3.description;//teamLeader\nvar OrderNos=Object.keys(orders).filter(function(item){return orders[item].projectNumber===projectNumber;});var teamLeader=OrderNos.map(function(item){var _partners$;return(_partners$=partners[\"\".concat(item,\"-VW\")])===null||_partners$===void 0?void 0:_partners$.name1;});return{projectNumber:projectNumber,data:{projectNumber:projectNumber,fitterQuantity:(_fittersAssignmentTra=fittersAssignmentTransfer[projectNumber])===null||_fittersAssignmentTra===void 0?void 0:_fittersAssignmentTra.length,orderQuantity:Object.keys(orders).filter(function(key){return orders[key].projectNumber===projectNumber;}).length,projectName:projectName,teamLeader:_toConsumableArray(new Set(teamLeader)).join(\"/\")}};};export default connect(mapStateToProps)(ProjectDetailPage);","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/src/pages/ProjectDetailPage/index.js"],"names":["ProjectSiteAddress","UnitDetail","LocalizeContext","PrimaryLayout","React","connect","ProjectDetailPage","data","projectNumber","i18n","useContext","fields","label","PROJECTLIST_PROJECT_NO","name","PROJECTLIST_PROJECT_DESCRIPTION","PROJECTLIST_SITE_ADDRESS","component","JOBLIST_SUBCON_TL","INSTAPP_PROJECTLIST_UnitCount","INSTAPP_PROJECTLIST_FitterCount","muito","ISNTAPP_PROJECTLIST_PROJECT_PROGRESS","to","description","ISNTAPP_PROJECTLIST_PROJECT_INSTALLATIONSTEPS","PROJECTLIST_DETAILS","mapStateToProps","ownProps","fittersAssignmentTransfer","orders","projects","partners","match","params","projectName","OrderNos","Object","keys","filter","item","teamLeader","map","name1","fitterQuantity","length","orderQuantity","key","Set","join"],"mappings":"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","sourcesContent":["// import ProjectCard from \"components/ProjectCard\";\r\n// import ProjectOrderList from \"components/ProjectOrderList\";\r\n// import ProjectSearchBar from \"components/ProjectSearchBar\";\r\nimport ProjectSiteAddress from \"components/ProjectSiteAddress\";\r\nimport UnitDetail from \"components/UnitDetail\";\r\nimport { LocalizeContext } from \"i18n\";\r\n// import InstallMethodSelectDialog from \"components/InstallMethodSelectDialog\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst ProjectDetailPage = ({ data, projectNumber }) => {\r\n  // const [searchCriteria, setSearchCriteria] = useState(null);\r\n  // const [installationMethod, setInstallationMethod] = useState(null);\r\n  const i18n = React.useContext(LocalizeContext);\r\n\r\n  const fields = [\r\n    {\r\n      label: i18n.PROJECTLIST_PROJECT_NO,\r\n      name: \"projectNumber\",\r\n    },\r\n    {\r\n      label: i18n.PROJECTLIST_PROJECT_DESCRIPTION,\r\n      name: \"projectName\",\r\n    },\r\n    {\r\n      label: i18n.PROJECTLIST_SITE_ADDRESS,\r\n      name: \"projectSite\",\r\n      component: () => <ProjectSiteAddress projectNumber={projectNumber} />,\r\n    },\r\n    {\r\n      label: i18n.JOBLIST_SUBCON_TL,\r\n      name: \"teamLeader\",\r\n    },\r\n    {\r\n      label: i18n.INSTAPP_PROJECTLIST_UnitCount,\r\n      name: \"orderQuantity\",\r\n    },\r\n    {\r\n      label: i18n.INSTAPP_PROJECTLIST_FitterCount,\r\n      name: \"fitterQuantity\",\r\n      muito: `/fitters/${projectNumber}`,\r\n    },\r\n    // {\r\n    //   label: i18n.ISNTAPP_PROJECTLIST_PROJECT_PROGRESS,\r\n    //   to: `/projectprogress/${projectNumber}`,\r\n    // },\r\n    // {\r\n    //   label: i18n.ISNTAPP_PROJECTLIST_PROJECT_INSTALLATIONSTEPS,\r\n    //   to: `/projectInstallationSteps/${projectNumber}`,\r\n    // },\r\n    {\r\n      label: i18n.ISNTAPP_PROJECTLIST_PROJECT_PROGRESS,\r\n      to: `/projectProgressPage/${projectNumber}`,\r\n      description: \"ACTIVITY\",\r\n    },\r\n    {\r\n      label: i18n.ISNTAPP_PROJECTLIST_PROJECT_INSTALLATIONSTEPS,\r\n      to: `/projectInstallationSteps/${projectNumber}`,\r\n      description: \"STEPS\",\r\n    },\r\n  ];\r\n\r\n  // const handleClick = (method) => {\r\n  //   setInstallationMethod(method);\r\n  // };\r\n\r\n  return (\r\n    <PrimaryLayout title={i18n.PROJECTLIST_DETAILS}>\r\n      <UnitDetail fields={fields} data={data} />\r\n      {/* <ProjectSearchBar\r\n        submit={(value) => {\r\n          setSearchCriteria(value);\r\n        }}\r\n      />\r\n      <ProjectCard projectNumber={projectNumber} link=\"/subconTeam/\" />\r\n      <InstallMethodSelectDialog handleClick={handleClick} />\r\n      <ProjectOrderList\r\n        installationMethod={installationMethod}\r\n        searchCriteria={searchCriteria}\r\n      /> */}\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (\r\n  { fittersAssignmentTransfer, orders, projects, partners },\r\n  ownProps\r\n) => {\r\n  const { projectNumber } = ownProps.match.params;\r\n  const { description: projectName } = projects[projectNumber] || {}; //teamLeader\r\n\r\n  const OrderNos = Object.keys(orders).filter(\r\n    (item) => orders[item].projectNumber === projectNumber\r\n  );\r\n  const teamLeader = OrderNos.map((item) => {\r\n    return partners[`${item}-VW`]?.name1;\r\n  });\r\n\r\n  return {\r\n    projectNumber: projectNumber,\r\n    data: {\r\n      projectNumber,\r\n      fitterQuantity: fittersAssignmentTransfer[projectNumber]?.length,\r\n      orderQuantity: Object.keys(orders).filter((key) => {\r\n        return orders[key].projectNumber === projectNumber;\r\n      }).length,\r\n      projectName,\r\n      teamLeader: [...new Set(teamLeader)].join(\"/\"),\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ProjectDetailPage);\r\n"]},"metadata":{},"sourceType":"module"}