{"ast":null,"code":"/******/\n(function (modules) {\n  // webpackBootstrap\n\n  /******/\n  // The module cache\n\n  /******/\n  var installedModules = {};\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n    // Check if module is in cache\n\n    /******/\n    if (installedModules[moduleId])\n      /******/\n      return installedModules[moduleId].exports;\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n    var module = installedModules[moduleId] = {\n      /******/\n      exports: {},\n\n      /******/\n      id: moduleId,\n\n      /******/\n      loaded: false\n      /******/\n\n    };\n    /******/\n    // Execute the module function\n\n    /******/\n\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n    // Flag the module as loaded\n\n    /******/\n\n    module.loaded = true;\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n    return module.exports;\n    /******/\n  }\n  /******/\n  // expose the modules object (__webpack_modules__)\n\n  /******/\n\n\n  __webpack_require__.m = modules;\n  /******/\n  // expose the module cache\n\n  /******/\n\n  __webpack_require__.c = installedModules;\n  /******/\n  // __webpack_public_path__\n\n  /******/\n\n  __webpack_require__.p = \"\";\n  /******/\n  // Load entry module and return exports\n\n  /******/\n\n  return __webpack_require__(0);\n  /******/\n})(\n/************************************************************************/\n\n/******/\n[\n/* 0 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  const GMapsApi = __webpack_require__(1);\n\n  class GMap {\n    constructor(configObject) {\n      this.groupElements = [];\n      this.groups = {};\n      this.groupOrder = [];\n      this.mapInstance = {};\n      this.activeGroup = 0;\n      this.focusMarker = {};\n      this.infoWindow = false;\n\n      if (configObject.querySelector == null) {\n        throw new Error(\"querySelector is not set.\");\n      }\n\n      if (configObject.apiKey == null) {\n        throw new Error(\"apiKey is not set.\");\n      }\n\n      if (configObject.mapConfig.center == null && configObject.mapConfig.center.lat == null && configObject.mapConfig.center.long == null) {\n        throw new Error(\"center.lat & center.long is not set.\");\n      }\n\n      this.configObject = configObject; // groupBy (property | nested array)\n\n      this.init().then(mapsApi => {\n        return this.processMapGroups(mapsApi);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n\n    init() {\n      return new Promise(resolve => {\n        GMapsApi.load(google => {\n          let mapsApi = google.maps;\n          let mountElement = document.querySelector(this.configObject.querySelector);\n          let mapConfig = this.configObject.mapConfig;\n          let mapOptions = {\n            zoom: mapConfig.zoom,\n            center: new mapsApi.LatLng(mapConfig.center.lat, mapConfig.center.long)\n          };\n          this.mapInstance = new mapsApi.Map(mountElement, mapOptions);\n          this.infoWindow = new mapsApi.InfoWindow({\n            content: 'loading'\n          });\n          resolve(mapsApi);\n        });\n      });\n    }\n\n    processMapGroups(mapsApi) {\n      return new Promise(resolve => {\n        if (this.configObject.focusElement) {\n          let focusElement = document.querySelector(this.configObject.focusElement);\n          let $focusElement = $(focusElement);\n          let focusPoint = $focusElement.data(\"marker\");\n          let focusMarkerIcon = $focusElement.data(\"marker-icon\");\n          this.focusMarker = this.createMarker(mapsApi, focusPoint, focusMarkerIcon);\n        }\n\n        this.groupElements = document.querySelectorAll(this.configObject.groupElements);\n\n        for (var i = 0; i < this.groupElements.length; ++i) {\n          let element = this.groupElements[i];\n          let $element = $(element);\n          let points = $element.data(\"markers\");\n          let id = parseInt($element.data(\"id\"));\n          let markerIcon = $element.data(\"marker-icon\");\n          let markers = [];\n          points.forEach(point => {\n            markers.push(this.createMarker(mapsApi, point, markerIcon, false));\n          });\n          this.groups[element.dataset.id] = {\n            id: id,\n            markers: markers,\n            visible: false\n          };\n          this.groupOrder.push(id);\n          this.addEvent(mapsApi, element, id);\n        }\n\n        if (this.configObject.firstGroupOn) {\n          let firstGroupkey = this.groupOrder.shift();\n          let bounds = new mapsApi.LatLngBounds();\n          this.markerVisible(mapsApi, this.groups[firstGroupkey].markers, true, bounds);\n          this.groups[firstGroupkey].visible = true;\n          this.activeGroup = firstGroupkey;\n          this.groupOrder = this.groupOrder.unshift(firstGroupkey);\n        }\n\n        resolve(mapsApi);\n      });\n    }\n\n    createMarker(mapsApi, point, markerIcon, setVisible = true) {\n      let lat = parseFloat(point.latitude);\n      let Lng = parseFloat(point.longitude);\n      let position = new mapsApi.LatLng(lat, Lng);\n      let marker = new mapsApi.Marker({\n        position: position,\n        map: this.mapInstance,\n        icon: markerIcon\n      });\n      var infoContent = `<div class=\"mapPopUp\">`;\n      infoContent += `<p>${point.title}</p>`; //let fromDirection = `http://maps.google.com/maps?f=d&hl=en&geocode=&time=&date=&ttype=&saddr=${lat},${Lng}`;\n      //<a target=\"_BLANK\" href=\"${fromDirection}\">From</a> -\n\n      let toDirection = `http://maps.google.com/maps?f=d&hl=en&geocode=&time=&date=&ttype=&saddr=&daddr=${lat},${Lng}`;\n      infoContent += `<p><a target=\"_BLANK\" href=\"${toDirection}\" style=\"color: #000;\">Directions</a></p>`;\n\n      if (point.description !== \"\" && point.description !== null) {\n        infoContent += `<p>${point.description}</p>`;\n      }\n\n      infoContent += `</div>`;\n      mapsApi.event.addListener(marker, 'click', () => {\n        this.infoWindow.setContent(infoContent);\n        this.infoWindow.open(this.mapInstance, marker);\n      });\n      let bounds = new mapsApi.LatLngBounds();\n      this.markerVisible(mapsApi, marker, setVisible, bounds);\n      return marker;\n    }\n\n    markerVisible(mapsApi, markers, setVisible, bounds = false) {\n      this.infoWindow.close();\n\n      if (Array.isArray(markers)) {\n        markers.forEach(element => {\n          if (bounds) {\n            bounds.extend(element.getPosition());\n          }\n\n          element.setVisible(setVisible);\n        });\n\n        if (bounds) {\n          bounds.extend(this.focusMarker.getPosition());\n          this.mapInstance.fitBounds(bounds);\n        }\n      } else {\n        markers.setVisible(setVisible);\n      }\n    }\n\n    addEvent(mapsApi, element, id) {\n      element.addEventListener(\"click\", this.eventHandler(mapsApi, id));\n      element.addEventListener(\"touchstart\", this.eventHandler(mapsApi, id));\n    }\n\n    eventHandler(mapsApi, id) {\n      return event => {\n        this.menuEventActions(event, mapsApi, id);\n      };\n    }\n\n    menuEventActions(event, mapsApi, id) {\n      event.preventDefault();\n\n      if (this.activeGroup !== id) {\n        this.markerVisible(mapsApi, this.groups[this.activeGroup].markers, false);\n        this.groups[this.activeGroup].visible = false;\n      }\n\n      this.activeGroup = id;\n      let visible = this.groups[id].visible ? false : true;\n      let bounds = visible ? new mapsApi.LatLngBounds() : false;\n      this.markerVisible(mapsApi, this.groups[id].markers, visible, bounds);\n    }\n\n  }\n\n  module.exports = GMap;\n  /***/\n},\n/* 1 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\n  (function (root, factory) {\n    if (root === null) {\n      throw new Error('Google-maps package can be used only in browser');\n    }\n\n    if (true) {\n      !(__WEBPACK_AMD_DEFINE_FACTORY__ = factory, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? __WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module) : __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports === 'object') {\n      module.exports = factory();\n    } else {\n      root.GoogleMapsLoader = factory();\n    }\n  })(typeof window !== 'undefined' ? window : null, function () {\n    'use strict';\n\n    var googleVersion = '3.18';\n    var script = null;\n    var google = null;\n    var loading = false;\n    var callbacks = [];\n    var onLoadEvents = [];\n    var originalCreateLoaderMethod = null;\n    var GoogleMapsLoader = {};\n    GoogleMapsLoader.URL = 'https://maps.googleapis.com/maps/api/js';\n    GoogleMapsLoader.KEY = null;\n    GoogleMapsLoader.LIBRARIES = [];\n    GoogleMapsLoader.CLIENT = null;\n    GoogleMapsLoader.CHANNEL = null;\n    GoogleMapsLoader.SENSOR = null;\n    GoogleMapsLoader.VERSION = googleVersion;\n    GoogleMapsLoader.WINDOW_CALLBACK_NAME = '__google_maps_api_provider_initializator__';\n    GoogleMapsLoader._googleMockApiObject = {};\n\n    GoogleMapsLoader.load = function (fn) {\n      if (google === null) {\n        if (loading === true) {\n          if (fn) {\n            callbacks.push(fn);\n          }\n        } else {\n          loading = true;\n\n          window[GoogleMapsLoader.WINDOW_CALLBACK_NAME] = function () {\n            ready(fn);\n          };\n\n          GoogleMapsLoader.createLoader();\n        }\n      } else if (fn) {\n        fn(google);\n      }\n\n      var promiseError = function () {\n        throw new Error('Using promises is not supported anymore. Please take a look in new documentation and use callback instead.');\n      };\n\n      return {\n        then: promiseError,\n        catch: promiseError,\n        fail: promiseError\n      };\n    };\n\n    GoogleMapsLoader.createLoader = function () {\n      script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = GoogleMapsLoader.createUrl();\n      document.body.appendChild(script);\n    };\n\n    GoogleMapsLoader.isLoaded = function () {\n      return google !== null;\n    };\n\n    GoogleMapsLoader.createUrl = function () {\n      var url = GoogleMapsLoader.URL;\n      url += '?callback=' + GoogleMapsLoader.WINDOW_CALLBACK_NAME;\n      url += '&sensor=' + (GoogleMapsLoader.SENSOR === true || GoogleMapsLoader.SENSOR === 'true' ? 'true' : 'false');\n\n      if (GoogleMapsLoader.KEY) {\n        url += '&key=' + GoogleMapsLoader.KEY;\n      }\n\n      if (GoogleMapsLoader.LIBRARIES.length > 0) {\n        url += '&libraries=' + GoogleMapsLoader.LIBRARIES.join(',');\n      }\n\n      if (GoogleMapsLoader.CLIENT) {\n        url += '&client=' + GoogleMapsLoader.CLIENT + '&v=' + GoogleMapsLoader.VERSION;\n      }\n\n      if (GoogleMapsLoader.CHANNEL) {\n        url += '&channel=' + GoogleMapsLoader.CHANNEL;\n      }\n\n      return url;\n    };\n\n    GoogleMapsLoader.release = function (fn) {\n      var release = function () {\n        GoogleMapsLoader.KEY = null;\n        GoogleMapsLoader.LIBRARIES = [];\n        GoogleMapsLoader.CLIENT = null;\n        GoogleMapsLoader.SENSOR = false;\n        GoogleMapsLoader.VERSION = googleVersion;\n        google = null;\n        loading = false;\n        callbacks = [];\n        onLoadEvents = [];\n\n        if (typeof window.google !== 'undefined') {\n          delete window.google;\n        }\n\n        if (typeof window[GoogleMapsLoader.WINDOW_CALLBACK_NAME] !== 'undefined') {\n          delete window[GoogleMapsLoader.WINDOW_CALLBACK_NAME];\n        }\n\n        if (originalCreateLoaderMethod !== null) {\n          GoogleMapsLoader.createLoader = originalCreateLoaderMethod;\n          originalCreateLoaderMethod = null;\n        }\n\n        if (script !== null) {\n          script.parentElement.removeChild(script);\n          script = null;\n        }\n\n        fn();\n      };\n\n      if (loading) {\n        GoogleMapsLoader.load(function () {\n          release();\n        });\n      } else {\n        release();\n      }\n    };\n\n    GoogleMapsLoader.onLoad = function (fn) {\n      onLoadEvents.push(fn);\n    };\n\n    GoogleMapsLoader.makeMock = function () {\n      originalCreateLoaderMethod = GoogleMapsLoader.createLoader;\n\n      GoogleMapsLoader.createLoader = function () {\n        window.google = GoogleMapsLoader._googleMockApiObject;\n        window[GoogleMapsLoader.WINDOW_CALLBACK_NAME]();\n      };\n    };\n\n    var ready = function (fn) {\n      var i;\n      loading = false;\n\n      if (google === null) {\n        google = window.google;\n      }\n\n      for (i = 0; i < onLoadEvents.length; i++) {\n        onLoadEvents[i](google);\n      }\n\n      if (fn) {\n        fn(google);\n      }\n\n      for (i = 0; i < callbacks.length; i++) {\n        callbacks[i](google);\n      }\n\n      callbacks = [];\n    };\n\n    return GoogleMapsLoader;\n  });\n  /***/\n\n}\n/******/\n]);","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/node_modules/bmap/build/index.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","GMapsApi","GMap","constructor","configObject","groupElements","groups","groupOrder","mapInstance","activeGroup","focusMarker","infoWindow","querySelector","Error","apiKey","mapConfig","center","lat","long","init","then","mapsApi","processMapGroups","catch","err","console","log","Promise","resolve","load","google","maps","mountElement","document","mapOptions","zoom","LatLng","Map","InfoWindow","content","focusElement","$focusElement","$","focusPoint","data","focusMarkerIcon","createMarker","querySelectorAll","i","length","element","$element","points","parseInt","markerIcon","markers","forEach","point","push","dataset","visible","addEvent","firstGroupOn","firstGroupkey","shift","bounds","LatLngBounds","markerVisible","unshift","setVisible","parseFloat","latitude","Lng","longitude","position","marker","Marker","map","icon","infoContent","title","toDirection","description","event","addListener","setContent","open","close","Array","isArray","extend","getPosition","fitBounds","addEventListener","eventHandler","menuEventActions","preventDefault","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","root","factory","undefined","GoogleMapsLoader","window","googleVersion","script","loading","callbacks","onLoadEvents","originalCreateLoaderMethod","URL","KEY","LIBRARIES","CLIENT","CHANNEL","SENSOR","VERSION","WINDOW_CALLBACK_NAME","_googleMockApiObject","fn","ready","createLoader","promiseError","fail","createElement","type","src","createUrl","body","appendChild","isLoaded","url","join","release","parentElement","removeChild","onLoad","makeMock"],"mappings":"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","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tconst GMapsApi = __webpack_require__(1);\n\n\n\n\tclass GMap {\n\n\t  constructor(configObject) {\n\n\t    this.groupElements = [];\n\t    this.groups = {};\n\t    this.groupOrder = [];\n\t    this.mapInstance = {};\n\t    this.activeGroup = 0;\n\t    this.focusMarker = {};\n\t    this.infoWindow = false;\n\n\n\t    if (configObject.querySelector == null) {\n\t      throw new Error(\"querySelector is not set.\");\n\t    }\n\n\t    if (configObject.apiKey == null) {\n\t      throw new Error(\"apiKey is not set.\");\n\t    }\n\n\t    if (configObject.mapConfig.center == null &&\n\t      configObject.mapConfig.center.lat == null &&\n\t      configObject.mapConfig.center.long == null\n\t    ) {\n\t      throw new Error(\"center.lat & center.long is not set.\");\n\t    }\n\n\n\t    this.configObject = configObject;\n\n\t    // groupBy (property | nested array)\n\n\n\t    this.init()\n\t    .then((mapsApi) => {\n\t      return this.processMapGroups(mapsApi);\n\t    })\n\t    .catch(err => {\n\t      console.log(err);\n\t    });\n\n\t  }\n\n\n\t  init() {\n\n\t    return new Promise((resolve) => {\n\n\t      GMapsApi.load(google => {\n\n\t        let mapsApi = google.maps;\n\t        let mountElement = document.querySelector(this.configObject.querySelector);\n\t        let mapConfig = this.configObject.mapConfig;\n\t        let mapOptions = {\n\t          zoom: mapConfig.zoom,\n\t          center: new mapsApi.LatLng(mapConfig.center.lat, mapConfig.center.long)\n\t        };\n\n\t        this.mapInstance = new mapsApi.Map(mountElement, mapOptions);\n\n\t        this.infoWindow = new mapsApi.InfoWindow({\n\t            content: 'loading'\n\t        });\n\n\t        resolve(mapsApi);\n\t      });\n\n\t    });\n\t  }\n\n\t  processMapGroups(mapsApi) {\n\n\t    return new Promise((resolve) => {\n\n\t      if (this.configObject.focusElement) {\n\t        let focusElement = document.querySelector(this.configObject.focusElement);\n\t        let $focusElement = $(focusElement);\n\t        let focusPoint = $focusElement.data(\"marker\");\n\t        let focusMarkerIcon = $focusElement.data(\"marker-icon\");\n\t        this.focusMarker = this.createMarker(mapsApi, focusPoint, focusMarkerIcon);\n\t      }\n\n\n\n\n\n\t      this.groupElements = document.querySelectorAll(this.configObject.groupElements);\n\n\t      for (var i = 0; i < this.groupElements.length; ++i) {\n\n\t        let element = this.groupElements[i];\n\t        let $element = $(element);\n\t        let points = $element.data(\"markers\");\n\t        let id = parseInt($element.data(\"id\"));\n\t        let markerIcon = $element.data(\"marker-icon\");\n\n\t        let markers = [];\n\n\t        points.forEach((point) => {\n\t          markers.push(this.createMarker(mapsApi, point, markerIcon, false));\n\t        });\n\n\n\t        this.groups[element.dataset.id] = {\n\t          id: id,\n\t          markers: markers,\n\t          visible: false\n\t        };\n\n\t        this.groupOrder.push(id);\n\n\t        this.addEvent(mapsApi, element, id);\n\n\t      }\n\n\t      if (this.configObject.firstGroupOn) {\n\t        let firstGroupkey = this.groupOrder.shift();\n\t        let bounds = new mapsApi.LatLngBounds();\n\t        this.markerVisible(mapsApi, this.groups[firstGroupkey].markers, true, bounds);\n\t        this.groups[firstGroupkey].visible = true;\n\t        this.activeGroup = firstGroupkey;\n\t        this.groupOrder = this.groupOrder.unshift(firstGroupkey);\n\t      }\n\n\t      resolve(mapsApi);\n\n\t    });\n\t  }\n\n\n\t  createMarker(mapsApi, point, markerIcon, setVisible = true) {\n\t    let lat = parseFloat(point.latitude);\n\t    let Lng = parseFloat(point.longitude);\n\n\t    let position = new mapsApi.LatLng(lat, Lng);\n\n\t    let marker = new mapsApi.Marker({\n\t      position: position,\n\t      map: this.mapInstance,\n\t      icon: markerIcon\n\t    });\n\n\t    var infoContent = `<div class=\"mapPopUp\">`;\n\t    infoContent += `<p>${point.title}</p>`;\n\n\t    //let fromDirection = `http://maps.google.com/maps?f=d&hl=en&geocode=&time=&date=&ttype=&saddr=${lat},${Lng}`;\n\t    //<a target=\"_BLANK\" href=\"${fromDirection}\">From</a> -\n\t    let toDirection = `http://maps.google.com/maps?f=d&hl=en&geocode=&time=&date=&ttype=&saddr=&daddr=${lat},${Lng}`;\n\t    infoContent += `<p><a target=\"_BLANK\" href=\"${toDirection}\" style=\"color: #000;\">Directions</a></p>`;\n\n\t    if (point.description !== \"\" && point.description !== null) {\n\t      infoContent += `<p>${point.description}</p>`;\n\t    }\n\n\t    infoContent += `</div>`;\n\n\t    mapsApi.event.addListener(marker, 'click', () => {\n\t        this.infoWindow.setContent(infoContent);\n\t        this.infoWindow.open(this.mapInstance, marker);\n\t    });\n\n\t    let bounds = new mapsApi.LatLngBounds();\n\n\t    this.markerVisible(mapsApi, marker, setVisible, bounds);\n\t    return marker;\n\n\t  }\n\n\n\t  markerVisible(mapsApi, markers, setVisible, bounds = false) {\n\n\t    this.infoWindow.close();\n\n\t    if (Array.isArray(markers)) {\n\n\t      markers.forEach((element) => {\n\t        if (bounds) {\n\t          bounds.extend(element.getPosition());\n\t        }\n\t        element.setVisible(setVisible);\n\t      });\n\n\t      if (bounds) {\n\t        bounds.extend(this.focusMarker.getPosition());\n\t        this.mapInstance.fitBounds(bounds);\n\t      }\n\t    } else {\n\t      markers.setVisible(setVisible);\n\t    }\n\t  }\n\n\n\t  addEvent(mapsApi, element, id){\n\n\t    element.addEventListener(\"click\", this.eventHandler(mapsApi, id));\n\t    element.addEventListener(\"touchstart\", this.eventHandler(mapsApi, id));\n\t  }\n\n\t  eventHandler(mapsApi, id) {\n\t      return (event) => {\n\t          this.menuEventActions(event, mapsApi, id);\n\t      };\n\t  }\n\n\t  menuEventActions(event, mapsApi, id) {\n\t    event.preventDefault();\n\n\t    if (this.activeGroup !== id) {\n\t      this.markerVisible(mapsApi, this.groups[this.activeGroup].markers, false);\n\t      this.groups[this.activeGroup].visible = false;\n\t    }\n\n\t    this.activeGroup = id;\n\t    let visible = (this.groups[id].visible) ? false : true;\n\n\t    let bounds = (visible) ? new mapsApi.LatLngBounds() : false;\n\t    this.markerVisible(mapsApi, this.groups[id].markers, visible, bounds);\n\n\t  }\n\n\t}\n\n\n\n\n\tmodule.exports = GMap;\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(root, factory) {\n\n\t\tif (root === null) {\n\t\t\tthrow new Error('Google-maps package can be used only in browser');\n\t\t}\n\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\troot.GoogleMapsLoader = factory();\n\t\t}\n\n\t})(typeof window !== 'undefined' ? window : null, function() {\n\n\n\t\t'use strict';\n\n\n\t\tvar googleVersion = '3.18';\n\n\t\tvar script = null;\n\n\t\tvar google = null;\n\n\t\tvar loading = false;\n\n\t\tvar callbacks = [];\n\n\t\tvar onLoadEvents = [];\n\n\t\tvar originalCreateLoaderMethod = null;\n\n\n\t\tvar GoogleMapsLoader = {};\n\n\n\t\tGoogleMapsLoader.URL = 'https://maps.googleapis.com/maps/api/js';\n\n\t\tGoogleMapsLoader.KEY = null;\n\n\t\tGoogleMapsLoader.LIBRARIES = [];\n\n\t\tGoogleMapsLoader.CLIENT = null;\n\n\t\tGoogleMapsLoader.CHANNEL = null;\n\n\t\tGoogleMapsLoader.SENSOR = null;\n\n\t\tGoogleMapsLoader.VERSION = googleVersion;\n\n\t\tGoogleMapsLoader.WINDOW_CALLBACK_NAME = '__google_maps_api_provider_initializator__';\n\n\n\t\tGoogleMapsLoader._googleMockApiObject = {};\n\n\n\t\tGoogleMapsLoader.load = function(fn) {\n\t\t\tif (google === null) {\n\t\t\t\tif (loading === true) {\n\t\t\t\t\tif (fn) {\n\t\t\t\t\t\tcallbacks.push(fn);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tloading = true;\n\n\t\t\t\t\twindow[GoogleMapsLoader.WINDOW_CALLBACK_NAME] = function() {\n\t\t\t\t\t\tready(fn);\n\t\t\t\t\t};\n\n\t\t\t\t\tGoogleMapsLoader.createLoader();\n\t\t\t\t}\n\t\t\t} else if (fn) {\n\t\t\t\tfn(google);\n\t\t\t}\n\n\t\t\tvar promiseError = function() {\n\t\t\t\tthrow new Error('Using promises is not supported anymore. Please take a look in new documentation and use callback instead.');\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tthen: promiseError,\n\t\t\t\tcatch: promiseError,\n\t\t\t\tfail: promiseError\n\t\t\t};\n\t\t};\n\n\n\t\tGoogleMapsLoader.createLoader = function() {\n\t\t\tscript = document.createElement('script');\n\t\t\tscript.type = 'text/javascript';\n\t\t\tscript.src = GoogleMapsLoader.createUrl();\n\n\t\t\tdocument.body.appendChild(script);\n\t\t};\n\n\n\t\tGoogleMapsLoader.isLoaded = function() {\n\t\t\treturn google !== null;\n\t\t};\n\n\n\t\tGoogleMapsLoader.createUrl = function() {\n\t\t\tvar url = GoogleMapsLoader.URL;\n\n\t\t\turl += '?callback=' + GoogleMapsLoader.WINDOW_CALLBACK_NAME;\n\n\t\t\turl += '&sensor=' + ((GoogleMapsLoader.SENSOR === true || GoogleMapsLoader.SENSOR === 'true') ? 'true' : 'false');\n\n\t\t\tif (GoogleMapsLoader.KEY) {\n\t\t\t\turl += '&key=' + GoogleMapsLoader.KEY;\n\t\t\t}\n\n\t\t\tif (GoogleMapsLoader.LIBRARIES.length > 0) {\n\t\t\t\turl += '&libraries=' + GoogleMapsLoader.LIBRARIES.join(',');\n\t\t\t}\n\n\t\t\tif (GoogleMapsLoader.CLIENT) {\n\t\t\t\turl += '&client=' + GoogleMapsLoader.CLIENT + '&v=' + GoogleMapsLoader.VERSION;\n\t\t\t}\n\n\t\t\tif (GoogleMapsLoader.CHANNEL) {\n\t\t\t\turl += '&channel=' + GoogleMapsLoader.CHANNEL;\n\t\t\t}\n\n\t\t\treturn url;\n\t\t};\n\n\n\t\tGoogleMapsLoader.release = function(fn) {\n\t\t\tvar release = function() {\n\t\t\t\tGoogleMapsLoader.KEY = null;\n\t\t\t\tGoogleMapsLoader.LIBRARIES = [];\n\t\t\t\tGoogleMapsLoader.CLIENT = null;\n\t\t\t\tGoogleMapsLoader.SENSOR = false;\n\t\t\t\tGoogleMapsLoader.VERSION = googleVersion;\n\n\t\t\t\tgoogle = null;\n\t\t\t\tloading = false;\n\t\t\t\tcallbacks = [];\n\t\t\t\tonLoadEvents = [];\n\n\t\t\t\tif (typeof window.google !== 'undefined') {\n\t\t\t\t\tdelete window.google;\n\t\t\t\t}\n\n\t\t\t\tif (typeof window[GoogleMapsLoader.WINDOW_CALLBACK_NAME] !== 'undefined') {\n\t\t\t\t\tdelete window[GoogleMapsLoader.WINDOW_CALLBACK_NAME];\n\t\t\t\t}\n\n\t\t\t\tif (originalCreateLoaderMethod !== null) {\n\t\t\t\t\tGoogleMapsLoader.createLoader = originalCreateLoaderMethod;\n\t\t\t\t\toriginalCreateLoaderMethod = null;\n\t\t\t\t}\n\n\t\t\t\tif (script !== null) {\n\t\t\t\t\tscript.parentElement.removeChild(script);\n\t\t\t\t\tscript = null;\n\t\t\t\t}\n\n\t\t\t\tfn();\n\t\t\t};\n\n\t\t\tif (loading) {\n\t\t\t\tGoogleMapsLoader.load(function() {\n\t\t\t\t\trelease();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\trelease();\n\t\t\t}\n\t\t};\n\n\n\t\tGoogleMapsLoader.onLoad = function(fn) {\n\t\t\tonLoadEvents.push(fn);\n\t\t};\n\n\n\t\tGoogleMapsLoader.makeMock = function() {\n\t\t\toriginalCreateLoaderMethod = GoogleMapsLoader.createLoader;\n\n\t\t\tGoogleMapsLoader.createLoader = function() {\n\t\t\t\twindow.google = GoogleMapsLoader._googleMockApiObject;\n\t\t\t\twindow[GoogleMapsLoader.WINDOW_CALLBACK_NAME]();\n\t\t\t};\n\t\t};\n\n\n\t\tvar ready = function(fn) {\n\t\t\tvar i;\n\n\t\t\tloading = false;\n\n\t\t\tif (google === null) {\n\t\t\t\tgoogle = window.google;\n\t\t\t}\n\n\t\t\tfor (i = 0; i < onLoadEvents.length; i++) {\n\t\t\t\tonLoadEvents[i](google);\n\t\t\t}\n\n\t\t\tif (fn) {\n\t\t\t\tfn(google);\n\t\t\t}\n\n\t\t\tfor (i = 0; i < callbacks.length; i++) {\n\t\t\t\tcallbacks[i](google);\n\t\t\t}\n\n\t\t\tcallbacks = [];\n\t\t};\n\n\n\t\treturn GoogleMapsLoader;\n\n\t});\n\n\n/***/ }\n/******/ ]);"]},"metadata":{},"sourceType":"script"}