{"ast":null,"code":"var _jsxFileName = \"C:\\\\project\\\\SCF-NI_PM_App\\\\SCF.InstallationQuality\\\\react-client\\\\src\\\\components\\\\TemplateForm\\\\Photo\\\\index.js\";\nimport React, { useRef, useState } from 'react';\nexport const Photo = () => {\n  const inputRef = useRef(null);\n  const [image, setImage] = useState(null);\n  const [showOverlay, setShowOverlay] = useState(false);\n\n  const handleInputChange = () => {\n    setShowOverlay(true);\n    capture();\n  };\n\n  const capture = async () => {\n    const file = inputRef.current.files[0];\n\n    if (file) {\n      const url = URL.createObjectURL(file);\n      const img = new Image();\n      img.src = url;\n\n      img.onload = () => {\n        const canvas = document.createElement('canvas');\n        const context = canvas.getContext('2d');\n        canvas.width = img.width;\n        canvas.height = img.height;\n        context.drawImage(img, 0, 0);\n        const dataURL = canvas.toDataURL('image/jpeg');\n        setImage(dataURL);\n        setShowOverlay(false); // Hide overlay after capturing\n      };\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'relative',\n      width: '100%',\n      height: '400px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \"image/*\",\n    capture: \"camera\",\n    ref: inputRef,\n    onChange: handleInputChange,\n    style: {\n      width: '100%',\n      height: '100%',\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      opacity: 0,\n      zIndex: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }), showOverlay && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      top: '25%',\n      left: '25%',\n      width: '50%',\n      height: '50%',\n      border: '2px dashed red',\n      pointerEvents: 'none',\n      zIndex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }), image && /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: \"Captured\",\n    style: {\n      marginTop: '10px',\n      maxWidth: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }));\n};","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/src/components/TemplateForm/Photo/index.js"],"names":["React","useRef","useState","Photo","inputRef","image","setImage","showOverlay","setShowOverlay","handleInputChange","capture","file","current","files","url","URL","createObjectURL","img","Image","src","onload","canvas","document","createElement","context","getContext","width","height","drawImage","dataURL","toDataURL","position","top","left","opacity","zIndex","border","pointerEvents","marginTop","maxWidth"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from 'react';\r\n\r\nexport const Photo = () => {\r\n  const inputRef = useRef(null);\r\n  const [image, setImage] = useState(null);\r\n  const [showOverlay, setShowOverlay] = useState(false);\r\n\r\n  const handleInputChange = () => {\r\n    setShowOverlay(true);\r\n    capture();\r\n  };\r\n\r\n  const capture = async () => {\r\n    const file = inputRef.current.files[0];\r\n    if (file) {\r\n      const url = URL.createObjectURL(file);\r\n      const img = new Image();\r\n      img.src = url;\r\n      img.onload = () => {\r\n        const canvas = document.createElement('canvas');\r\n        const context = canvas.getContext('2d');\r\n        canvas.width = img.width;\r\n        canvas.height = img.height;\r\n        context.drawImage(img, 0, 0);\r\n        const dataURL = canvas.toDataURL('image/jpeg');\r\n        setImage(dataURL);\r\n        setShowOverlay(false); // Hide overlay after capturing\r\n      };\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'relative', width: '100%', height: '400px' }}>\r\n      <input\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        capture=\"camera\"\r\n        ref={inputRef}\r\n        onChange={handleInputChange}\r\n        style={{\r\n          width: '100%',\r\n          height: '100%',\r\n          position: 'absolute',\r\n          top: 0,\r\n          left: 0,\r\n          opacity: 0,\r\n          zIndex: 2\r\n        }}\r\n      />\r\n      {showOverlay && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: '25%',\r\n          left: '25%',\r\n          width: '50%',\r\n          height: '50%',\r\n          border: '2px dashed red',\r\n          pointerEvents: 'none',\r\n          zIndex: 1\r\n        }} />\r\n      )}\r\n      {image && <img src={image} alt=\"Captured\" style={{ marginTop: '10px', maxWidth: '100%' }} />}\r\n    </div>\r\n  \r\n  );\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}