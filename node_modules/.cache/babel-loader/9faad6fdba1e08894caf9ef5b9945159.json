{"ast":null,"code":"import _defineProperty from\"C:\\\\project\\\\SCF-NI_PM_App\\\\SCF.InstallationQuality\\\\react-client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */import{appendChild,appendVisRules,appendStaticTagRules,appendImages,getChildNodes,getRequiredAttr,readImages,getAttrWithDefault,appendPrintTagRules,appendAuthorizationRules,appendExtVisRules}from\"./utils/xml\";import uuid from\"node-uuid\";import{DEFAULT_LANG}from\"./constants/global\";export default{serialize:function serialize(doc,findField,parentNode,field){var id=field.id;var _field$settings=field.settings,identifier=_field$settings.identifier,textI18n=_field$settings.textI18n,important=_field$settings.important,visRules=_field$settings.visRules,images=_field$settings.images,authorizationRules=_field$settings.authorizationRules,tagRules=_field$settings.tagRules,printTagRules=_field$settings.printTagRules,externalVisRules=_field$settings.externalVisRules;var labelNode=appendChild(doc,parentNode,\"label\",null,{guid:id,identifier:identifier,important:important});Object.keys(textI18n).forEach(function(lang){if(typeof textI18n[lang]!==\"undefined\"){appendChild(doc,labelNode,\"text\",textI18n[lang],{lang:lang});}});appendVisRules(doc,findField,labelNode,visRules);appendExtVisRules(doc,findField,labelNode,externalVisRules);appendImages(doc,labelNode,images);appendAuthorizationRules(doc,labelNode,field,authorizationRules);appendStaticTagRules(doc,labelNode,field,tagRules);appendPrintTagRules(doc,labelNode,field,printTagRules);},canDeserialize:function canDeserialize(node){return node.nodeName===\"label\";},deserialize:function deserialize(node){var textI18n=getChildNodes(node,\"text\").reduce(function(acc,textNode){return Object.assign({},acc,_defineProperty({},getAttrWithDefault(textNode,\"lang\",DEFAULT_LANG),textNode.textContent));},{});return{id:getAttrWithDefault(node,\"guid\",uuid.v4()),type:\"staticText\",settings:{identifier:getAttrWithDefault(node,\"identifier\",uuid.v4()),textI18n:textI18n,important:getRequiredAttr(node,\"important\")===\"true\",images:readImages(node)}};}};","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/src/js/sfdl/StaticTextIO.js"],"names":["appendChild","appendVisRules","appendStaticTagRules","appendImages","getChildNodes","getRequiredAttr","readImages","getAttrWithDefault","appendPrintTagRules","appendAuthorizationRules","appendExtVisRules","uuid","DEFAULT_LANG","serialize","doc","findField","parentNode","field","id","settings","identifier","textI18n","important","visRules","images","authorizationRules","tagRules","printTagRules","externalVisRules","labelNode","guid","Object","keys","forEach","lang","canDeserialize","node","nodeName","deserialize","reduce","acc","textNode","assign","textContent","v4","type"],"mappings":"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","sourcesContent":["/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  appendChild,\r\n  appendVisRules,\r\n  appendStaticTagRules,\r\n  appendImages,\r\n  getChildNodes,\r\n  getRequiredAttr,\r\n  readImages,\r\n  getAttrWithDefault,\r\n  appendPrintTagRules,\r\n  appendAuthorizationRules,\r\n  appendExtVisRules,\r\n} from \"./utils/xml\";\r\nimport uuid from \"node-uuid\";\r\nimport { DEFAULT_LANG } from \"./constants/global\";\r\n\r\nexport default {\r\n  serialize(doc, findField, parentNode, field) {\r\n    const { id } = field;\r\n    const {\r\n      identifier,\r\n      textI18n,\r\n      important,\r\n      visRules,\r\n      images,\r\n      authorizationRules,\r\n      tagRules,\r\n      printTagRules,\r\n      externalVisRules,\r\n    } = field.settings;\r\n\r\n    const labelNode = appendChild(doc, parentNode, \"label\", null, {\r\n      guid: id,\r\n      identifier: identifier,\r\n      important,\r\n    });\r\n\r\n    Object.keys(textI18n).forEach((lang) => {\r\n      if (typeof textI18n[lang] !== \"undefined\") {\r\n        appendChild(doc, labelNode, \"text\", textI18n[lang], { lang });\r\n      }\r\n    });\r\n\r\n    appendVisRules(doc, findField, labelNode, visRules);\r\n    appendExtVisRules(doc, findField, labelNode, externalVisRules);\r\n    appendImages(doc, labelNode, images);\r\n    appendAuthorizationRules(doc, labelNode, field, authorizationRules);\r\n    appendStaticTagRules(doc, labelNode, field, tagRules);\r\n    appendPrintTagRules(doc, labelNode, field, printTagRules);\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return node.nodeName === \"label\";\r\n  },\r\n\r\n  deserialize(node) {\r\n    const textI18n = getChildNodes(node, \"text\").reduce((acc, textNode) => {\r\n      return Object.assign({}, acc, {\r\n        [getAttrWithDefault(\r\n          textNode,\r\n          \"lang\",\r\n          DEFAULT_LANG\r\n        )]: textNode.textContent,\r\n      });\r\n    }, {});\r\n\r\n    return {\r\n      id: getAttrWithDefault(node, \"guid\", uuid.v4()),\r\n      type: \"staticText\",\r\n      settings: {\r\n        identifier: getAttrWithDefault(node, \"identifier\", uuid.v4()),\r\n        textI18n: textI18n,\r\n        important: getRequiredAttr(node, \"important\") === \"true\",\r\n        images: readImages(node),\r\n      },\r\n    };\r\n  },\r\n};\r\n"]},"metadata":{},"sourceType":"module"}