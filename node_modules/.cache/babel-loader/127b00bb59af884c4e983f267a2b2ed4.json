{"ast":null,"code":"var _jsxFileName = \"C:\\\\project\\\\SCF-NI_PM_App\\\\SCF.InstallationQuality\\\\react-client\\\\src\\\\pages\\\\MePage\\\\index.js\";\nimport { Box, Button, Grid, makeStyles, Typography } from \"@material-ui/core\";\nimport Divider from \"@material-ui/core/Divider\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport * as action from \"actions\";\nimport fitter from \"assets/svg/fitter.svg\";\nimport SwitchLanguage from \"components/SwitchLanguage\";\nimport { LocalizeContext } from \"i18n\";\nimport { calculationOfInstallationSteps } from \"js/util\";\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport projectIcon from \"../../img/projectIcon.png\";\nimport userManualIcon from \"../../img/userManual.png\";\nimport about from \"../././../assets/svg/about.svg\";\nimport downLoad from \"../././../assets/svg/downLoad.svg\";\nimport Elevator from \"../././../assets/svg/Elevator.svg\";\nimport key from \"../././../assets/svg/key.svg\";\nimport language from \"../././../assets/svg/language.svg\";\nimport axios from \"axios\";\nconst useStyles = makeStyles(({\n  spacing\n}) => ({\n  root: {\n    width: \"100%\"\n  },\n  instructions: {\n    marginTop: spacing(1),\n    marginBottom: spacing(1)\n  },\n  header: {\n    display: \"flex\"\n  },\n  headerContainer: {\n    width: \"100%\",\n    margin: spacing(2, 0, 1, 0),\n    padding: spacing(2, 2, 1, 2),\n    backgroundColor: \"#FFF\"\n  },\n  units: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  listItem: {\n    backgroundColor: \"#fff\",\n    margin: spacing(0, 0, 2, 0)\n  },\n  listItemText: {\n    margin: spacing(0, 0, 0, 2)\n  },\n  name: {\n    marginLeft: spacing(2),\n    whiteSpace: \"nowrap\"\n  },\n  userName: {\n    marginLeft: spacing(7)\n  },\n  btn: {\n    display: \"block\",\n    textTransform: \"capitalize\",\n    margin: spacing(3, \"auto\"),\n    fontSize: spacing(2),\n    color: \"red\"\n  },\n  asdf: {\n    display: \"flex\",\n    margin: \"8px\",\n    width: \" 100%\"\n  }\n}));\n\nconst MePage = ({\n  company,\n  userName,\n  roles,\n  ProjectQuantity,\n  progress,\n  logout,\n  getToken\n}) => {\n  const classes = useStyles();\n  const i18n = React.useContext(LocalizeContext);\n  const [peInfo] = React.useState(JSON.parse(window.localStorage.getItem(\"peInfo\")));\n  const list = [{\n    name: i18n.ISNTAPP_LANGUAGE,\n    imgSrc: language,\n    type: \"Language\"\n  }, {\n    name: i18n.ISNTAPP_SYNCHRONIZE,\n    imgSrc: downLoad,\n    link: \"synchronize\"\n  }, {\n    name: i18n.ISNTAPP_CHANGE_PASSWORD,\n    imgSrc: key,\n    link: \"ChangePassword\"\n  }, {\n    name: i18n.ISNTAPP_ABOUT,\n    id: 18,\n    imgSrc: about,\n    link: \"about\"\n  }, {\n    name: i18n.INSTALLATION_USER_MANUAL,\n    imgSrc: userManualIcon,\n    link: \"userManual\"\n  }];\n  const menuItemData = [{\n    label: i18n.ISNTAPP_LANGUAGE_ZH_CN,\n    value: \"zh-cn\"\n  }, {\n    label: i18n.ISNTAPP_LANGUAGE_EN,\n    value: \"en\"\n  }];\n  const history = useHistory();\n  return /*#__PURE__*/React.createElement(PrimaryLayout, {\n    name: \"me\",\n    title: i18n.ISNTAPP_ME,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    className: classes.headerContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    style: {\n      display: \"flex\",\n      margin: \"8px\",\n      width: \" 100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: fitter,\n    style: {\n      width: \"22px\",\n      height: \"24px\"\n    },\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    align: \"center\",\n    className: classes.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, userName)), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    align: \"left\",\n    style: {\n      marginLeft: \"42px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, roles === \"Subcon TL\" ? i18n.JOBLIST_SUBCON_TL : roles)), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, company)), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: classes.units,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Elevator,\n    width: \"24\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    align: \"center\",\n    className: classes.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, i18n.ISNTAPP_UNITS))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }, progress.theOverallProgress)), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }, roles === \"SL\" && (peInfo === null || peInfo === void 0 ? void 0 : peInfo.pNumber) && `PE工号：${peInfo === null || peInfo === void 0 ? void 0 : peInfo.pNumber}`)), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: classes.units,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: projectIcon,\n    width: \"24\",\n    style: {\n      marginLeft: \"2px\",\n      transform: \" scaleX(-1)\"\n    },\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    align: \"center\",\n    className: classes.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }\n  }, i18n.ISNTAPP_PROJECTS))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }, ProjectQuantity))), /*#__PURE__*/React.createElement(List, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }\n  }, list.map((item, index) => {\n    return /*#__PURE__*/React.createElement(ListItem, {\n      key: index,\n      className: classes.listItem,\n      onClick: () => {\n        // history.push(item.link);\n        getToken();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.imgSrc,\n      width: \"24\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: item.name,\n      className: classes.listItemText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(ListItemAvatar, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 15\n      }\n    }, item.type ? /*#__PURE__*/React.createElement(SwitchLanguage, {\n      menuItemData: menuItemData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 19\n      }\n    }) : /*#__PURE__*/React.createElement(ArrowForwardIosIcon, {\n      fontSize: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 19\n      }\n    })));\n  })), /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    className: classes.btn,\n    onClick: () => logout(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 9\n    }\n  }, i18n.ISNTAPP_SIGN_OUT)));\n};\n\nexport default connect(({\n  auth: {\n    userName,\n    roles,\n    company: {\n      name\n    }\n  },\n  orderActivities,\n  projects,\n  orders\n}) => {\n  const ProjectQuantity = Object.keys(projects).length;\n  const progress = calculationOfInstallationSteps(orderActivities, orders);\n  return {\n    userName,\n    roles: roles[0],\n    orderActivities,\n    ProjectQuantity,\n    progress,\n    company: name\n  };\n}, dispatch => {\n  return {\n    logout: () => {\n      dispatch(action.logout());\n    },\n    getToken: () => {\n      const data = {\n        appId: 'appId',\n        userName: 'username',\n        password: 'password'\n      };\n      axios.post('https://ldp.sodec.cn/user/login', data).then(() => {});\n    }\n  };\n})(MePage);","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/src/pages/MePage/index.js"],"names":["Box","Button","Grid","makeStyles","Typography","Divider","List","ListItem","ListItemAvatar","ListItemText","ArrowForwardIosIcon","action","SwitchLanguage","LocalizeContext","calculationOfInstallationSteps","PrimaryLayout","React","connect","useHistory","projectIcon","userManualIcon","axios","useStyles","spacing","root","width","instructions","marginTop","marginBottom","header","display","headerContainer","margin","padding","backgroundColor","units","alignItems","listItem","listItemText","name","marginLeft","whiteSpace","userName","btn","textTransform","fontSize","color","asdf","MePage","company","roles","ProjectQuantity","progress","logout","getToken","classes","i18n","useContext","peInfo","useState","JSON","parse","window","localStorage","getItem","list","ISNTAPP_LANGUAGE","imgSrc","language","type","ISNTAPP_SYNCHRONIZE","downLoad","link","ISNTAPP_CHANGE_PASSWORD","key","ISNTAPP_ABOUT","id","about","INSTALLATION_USER_MANUAL","menuItemData","label","ISNTAPP_LANGUAGE_ZH_CN","value","ISNTAPP_LANGUAGE_EN","history","ISNTAPP_ME","fitter","height","JOBLIST_SUBCON_TL","Elevator","ISNTAPP_UNITS","theOverallProgress","pNumber","transform","ISNTAPP_PROJECTS","map","item","index","ISNTAPP_SIGN_OUT","auth","orderActivities","projects","orders","Object","keys","length","dispatch","data","appId","password","post","then"],"mappings":"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","sourcesContent":["import { Box, Button, Grid, makeStyles, Typography } from \"@material-ui/core\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\r\nimport * as action from \"actions\";\r\nimport fitter from \"assets/svg/fitter.svg\";\r\nimport SwitchLanguage from \"components/SwitchLanguage\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { calculationOfInstallationSteps } from \"js/util\";\r\nimport PrimaryLayout from \"layouts/PrimaryLayout\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport projectIcon from \"../../img/projectIcon.png\";\r\nimport userManualIcon from \"../../img/userManual.png\";\r\nimport about from \"../././../assets/svg/about.svg\";\r\nimport downLoad from \"../././../assets/svg/downLoad.svg\";\r\nimport Elevator from \"../././../assets/svg/Elevator.svg\";\r\nimport key from \"../././../assets/svg/key.svg\";\r\nimport language from \"../././../assets/svg/language.svg\";\r\nimport axios from \"axios\";\r\n\r\nconst useStyles = makeStyles(({ spacing }) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n\r\n  instructions: {\r\n    marginTop: spacing(1),\r\n    marginBottom: spacing(1),\r\n  },\r\n  header: {\r\n    display: \"flex\",\r\n  },\r\n  headerContainer: {\r\n    width: \"100%\",\r\n    margin: spacing(2, 0, 1, 0),\r\n    padding: spacing(2, 2, 1, 2),\r\n    backgroundColor: \"#FFF\",\r\n  },\r\n  units: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  listItem: {\r\n    backgroundColor: \"#fff\",\r\n    margin: spacing(0, 0, 2, 0),\r\n  },\r\n  listItemText: {\r\n    margin: spacing(0, 0, 0, 2),\r\n  },\r\n  name: {\r\n    marginLeft: spacing(2),\r\n    whiteSpace: \"nowrap\",\r\n  },\r\n  userName: {\r\n    marginLeft: spacing(7),\r\n  },\r\n  btn: {\r\n    display: \"block\",\r\n    textTransform: \"capitalize\",\r\n    margin: spacing(3, \"auto\"),\r\n    fontSize: spacing(2),\r\n    color: \"red\",\r\n  },\r\n  asdf: {\r\n    display: \"flex\",\r\n    margin: \"8px\",\r\n    width: \" 100%\",\r\n  },\r\n}));\r\n\r\nconst MePage = ({\r\n  company,\r\n  userName,\r\n  roles,\r\n  ProjectQuantity,\r\n  progress,\r\n  logout,\r\n  getToken\r\n}) => {\r\n  const classes = useStyles();\r\n  const i18n = React.useContext(LocalizeContext);\r\n  const [peInfo] = React.useState(JSON.parse(window.localStorage.getItem(\"peInfo\")));\r\n\r\n  const list = [\r\n    {\r\n      name: i18n.ISNTAPP_LANGUAGE,\r\n      imgSrc: language,\r\n      type: \"Language\",\r\n    },\r\n    {\r\n      name: i18n.ISNTAPP_SYNCHRONIZE,\r\n      imgSrc: downLoad,\r\n      link: \"synchronize\",\r\n    },\r\n    {\r\n      name: i18n.ISNTAPP_CHANGE_PASSWORD,\r\n      imgSrc: key,\r\n      link: \"ChangePassword\",\r\n    },\r\n    {\r\n      name: i18n.ISNTAPP_ABOUT,\r\n      id: 18,\r\n      imgSrc: about,\r\n      link: \"about\",\r\n    },\r\n    {\r\n      name: i18n.INSTALLATION_USER_MANUAL,\r\n      imgSrc: userManualIcon,\r\n      link: \"userManual\",\r\n    },\r\n  ];\r\n\r\n  const menuItemData = [\r\n    { label: i18n.ISNTAPP_LANGUAGE_ZH_CN, value: \"zh-cn\" },\r\n    { label: i18n.ISNTAPP_LANGUAGE_EN, value: \"en\" },\r\n  ];\r\n\r\n  const history = useHistory();\r\n  return (\r\n    <PrimaryLayout name=\"me\" title={i18n.ISNTAPP_ME}>\r\n      <Grid container spacing={1} className={classes.headerContainer}>\r\n        <Grid style={{ display: \"flex\", margin: \"8px\", width: \" 100%\" }}>\r\n          <img src={fitter} style={{ width: \"22px\", height: \"24px\" }} alt=\"\" />\r\n          <Typography align=\"center\" className={classes.name}>\r\n            {userName}\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <Grid item xs={5}>\r\n          <Typography\r\n            variant=\"subtitle1\"\r\n            align=\"left\"\r\n            style={{ marginLeft: \"42px\" }}\r\n          >\r\n            {roles === \"Subcon TL\" ? i18n.JOBLIST_SUBCON_TL : roles}\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <Grid item xs={5}>\r\n          <Typography variant=\"subtitle1\" align=\"center\">\r\n            {company}\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <Divider />\r\n        </Grid>\r\n\r\n        <Grid item xs={3}>\r\n          <Box className={classes.units}>\r\n            <img src={Elevator} width=\"24\" alt=\"\"></img>\r\n            <Typography\r\n              variant=\"subtitle1\"\r\n              align=\"center\"\r\n              className={classes.name}\r\n            >\r\n              {i18n.ISNTAPP_UNITS}\r\n            </Typography>\r\n          </Box>\r\n        </Grid>\r\n        <Grid item xs={3} align=\"center\">\r\n          <Typography variant=\"subtitle1\">\r\n            {progress.theOverallProgress}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={6} align=\"center\">\r\n          <Typography variant=\"subtitle1\">\r\n            {roles===\"SL\"&&peInfo?.pNumber&&`PE工号：${peInfo?.pNumber}`} \r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={3}></Grid>\r\n        <Grid item xs={12}></Grid>\r\n        <Grid item xs={3}>\r\n          <Box className={classes.units}>\r\n            <img\r\n              src={projectIcon}\r\n              width=\"24\"\r\n              style={{ marginLeft: \"2px\", transform: \" scaleX(-1)\" }}\r\n              alt=\"\"\r\n            ></img>\r\n            <Typography\r\n              variant=\"subtitle1\"\r\n              align=\"center\"\r\n              className={classes.name}\r\n            >\r\n              {i18n.ISNTAPP_PROJECTS}\r\n            </Typography>\r\n          </Box>\r\n        </Grid>\r\n        <Grid item xs={3} align=\"center\">\r\n          <Typography variant=\"subtitle1\">{ProjectQuantity}</Typography>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <List className={classes.root}>\r\n        {list.map((item, index) => {\r\n          return (\r\n            <ListItem\r\n              key={index}\r\n              className={classes.listItem}\r\n              onClick={() => {\r\n                // history.push(item.link);\r\n                getToken()\r\n              }}\r\n            >\r\n              <img src={item.imgSrc} width=\"24\" alt=\"\" />\r\n              <ListItemText\r\n                primary={item.name}\r\n                className={classes.listItemText}\r\n              />\r\n              <ListItemAvatar align=\"right\">\r\n                {item.type ? (\r\n                  <SwitchLanguage menuItemData={menuItemData} />\r\n                ) : (\r\n                  <ArrowForwardIosIcon fontSize=\"inherit\" />\r\n                )}\r\n              </ListItemAvatar>\r\n            </ListItem>\r\n          );\r\n        })}\r\n      </List>\r\n      <Box>\r\n        <Button\r\n          color=\"secondary\"\r\n          className={classes.btn}\r\n          onClick={() => logout()}\r\n        >\r\n          {i18n.ISNTAPP_SIGN_OUT}\r\n        </Button>\r\n      </Box>\r\n    </PrimaryLayout>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  ({\r\n    auth: {\r\n      userName,\r\n      roles,\r\n      company: { name },\r\n    },\r\n    orderActivities,\r\n    projects,\r\n    orders,\r\n  }) => {\r\n    const ProjectQuantity = Object.keys(projects).length;\r\n    const progress = calculationOfInstallationSteps(orderActivities, orders);\r\n    return {\r\n      userName,\r\n      roles: roles[0],\r\n      orderActivities,\r\n      ProjectQuantity,\r\n      progress,\r\n      company: name,\r\n    };\r\n  },\r\n  (dispatch) => {\r\n    return {\r\n      logout: () => {\r\n        dispatch(action.logout());\r\n      },\r\n      getToken: () => {\r\n        const data = {\r\n          appId: 'appId',\r\n          userName: 'username',\r\n          password: 'password'\r\n        }\r\n        axios.post('https://ldp.sodec.cn/user/login', data).then(() => {\r\n\r\n        })\r\n      }\r\n    };\r\n  }\r\n)(MePage);\r\n"]},"metadata":{},"sourceType":"module"}