{"ast":null,"code":"import*as action from\"actions\";import{Checkboxes,DateTime,Dropdown,NaYesNo,NumberText,PageBreak,Paragraph,Photo,SectionBreak,Signature,SingleChoice,SingleLine,Slider,StaticText,YesNo}from\"components/TemplateForm\";import store from\"js/store\";import Moment from\"moment\";import React from\"react\";import{getListOfInstallationBranches}from\"js/publicFn\";var defaultNaYesNoValues={na:\"N/A\",fixed:\"Fixed\",yes:\"Yes\",no:\"No\"};var customizeNaYesNoValues={yes:\"YES\",no:\"NO\",na:\"N/A\",notok:\"Not OK\",ok:\"OK\",square:\"□\",triangle:\"▽\",fixed:\"Fixed\"};var verifyNumber=function verifyNumber(value,props){// if (value > props.max) {\n//   return props.max;\n// } else {\n//   if (value === \"\") {\n//     return \"\";\n//   }\n//   console.log(value)\nreturn value;// }\n};export var initFormState=function initFormState(state,routeParams){state.fields.forEach(function(field){switch(field.type){case\"singleLine\":if(!field.settings.value){field.settings.value=field.settings.prefilledAnswer;}if(field.settings.value.indexOf(\"%%!\")>-1){var _partners$,_partners$2,_partners$3,_partners$4,_partners$5,_partners$6;var _store$getState=store.getState(),orders=_store$getState.orders,projects=_store$getState.projects,partners=_store$getState.partners,auth=_store$getState.auth;var orderData=orders[routeParams.orderNo];var textFieldText=field.settings.value.slice(3,-3);var projectName=projects[orderData.projectNumber].description;var PM=(_partners$=partners[\"\".concat(orderData[\"number\"],\"-YI\")])===null||_partners$===void 0?void 0:_partners$.name1;var PE=(_partners$2=partners[\"\".concat(orderData[\"number\"],\"-Z(\")])===null||_partners$2===void 0?void 0:_partners$2.name1;var InstallationClientName=(_partners$3=partners[\"\".concat(orderData[\"number\"],\"-Z&\")])===null||_partners$3===void 0?void 0:_partners$3.name1;var installationTeamLeader=((_partners$4=partners[\"\".concat(orderData[\"number\"],\"-SC\")])===null||_partners$4===void 0?void 0:_partners$4.name1)?(_partners$5=partners[\"\".concat(orderData[\"number\"],\"-SC\")])===null||_partners$5===void 0?void 0:_partners$5.name1:(_partners$6=partners[\"\".concat(orderData[\"number\"],\"-VW\")])===null||_partners$6===void 0?void 0:_partners$6.name1;var branchName=getListOfInstallationBranches(orderData[\"prctr\"]);field.settings.value=textFieldText===\"orderno\"?orderData[\"number\"]:textFieldText===\"liftno\"?orderData[\"unitDesignation\"]:textFieldText===\"projectname\"?projectName:textFieldText===\"instbranch\"?branchName:textFieldText===\"pl\"?PM:textFieldText===\"instcustname\"?InstallationClientName:textFieldText===\"pe\"?PE:textFieldText===\"tl\"?installationTeamLeader:textFieldText===\"CurrentDate\"?auth===null||auth===void 0?void 0:auth.CurrentDate:textFieldText===\"LoginUserName\"?auth===null||auth===void 0?void 0:auth.name:\"\";}break;case\"yesNo\":if(!field.settings.value){field.settings.value=field.settings.initialValue;}break;case\"slider\":if(!field.settings.value){field.settings.value=field.settings.initialValue;}break;case\"paragraph\":if(!field.settings.value){field.settings.value=field.settings.prefilledAnswer;}break;case\"naYesNo\":if(!field.settings.itemTexts&&!field.settings.itemValues||field.settings.itemTexts.length===0&&field.settings.itemValues.length===0){field.settings.itemTexts=[];field.settings.itemValues=[];field.settings.itemTexts.push(\"-\");field.settings.itemValues.push(\"-\");if(field.settings.notApplicableOption){field.settings.itemValues.push(\"na\");field.settings.itemTexts.push(defaultNaYesNoValues[\"na\"]);}if(field.settings.fixedOption){field.settings.itemValues.push(\"fixed\");field.settings.itemTexts.push(defaultNaYesNoValues[\"fixed\"]);}field.settings.itemValues.push(\"yes\");field.settings.itemTexts.push(defaultNaYesNoValues[\"yes\"]);field.settings.itemValues.push(\"no\");field.settings.itemTexts.push(defaultNaYesNoValues[\"no\"]);field.settings.buttonDescriptions.forEach(function(desc){for(var i=0;i<field.settings.itemValues.length;i++){if(desc.selectedButtonId===field.settings.itemValues[i]){// field.settings.itemValues[i] = desc.selectedDescriptionId;\nfield.settings.itemTexts[i]=customizeNaYesNoValues[desc.selectedDescriptionId];break;}}});}if(!field.settings.value){field.settings.value=\"-\";}break;case\"photo\":if(!field.settings.value){field.settings.value=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";}break;case\"date\":if(!field.settings.value){field.settings.value=Moment();if(field.settings.includeTime){field.settings.value=Moment().format(\"YYYY-MM-DDTHH:mm\");}else{field.settings.value=Moment().format(\"YYYY-MM-DD\");}}break;case\"number\":// if (!field.settings.value) {\n//   field.settings.value = Number(\n//     field.settings.prefilledAnswer\n//       ? field.settings.prefilledAnswer\n//       : 0 || field.settings.prefilledAnswer === \"\"\n//       ? 0\n//       : field.settings.prefilledAnswer\n//   );\n// }\nif(!field.settings.value){if(!field.settings.prefilledAnswer){if(field.settings.prefilledAnswer===0||field.settings.prefilledAnswer===\"0\"||field.settings.prefilledAnswer){field.settings.value=field.settings.prefilledAnswer;}else{field.settings.value=\"\";}}else{var _store$getState2=store.getState(),_auth=_store$getState2.auth;if(field.settings.prefilledAnswer===\"%%!LoginUserNo!%%\"){field.settings.value=_auth===null||_auth===void 0?void 0:_auth.personalNumber;}else{field.settings.value=field.settings.prefilledAnswer;}}}break;case\"multipleChoice\":if(!field.settings.value){// field.settings.value = field.settings.value\n//   ? field.settings.value\n//   : \"\";\nfield.settings.value=\"\";}break;case\"checkboxes\":if(!field.settings.value){field.settings.value=field.settings.value?field.settings.value:[];}break;case\"signature\":if(!field.settings.value){field.settings.value=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";}break;case\"dropdown\":if(!field.settings.value){field.settings.value=field.settings.value?field.settings.value:\"\";}break;default:}});return state;};export var initProps=function initProps(field,language){var lang=tmplLangMapper[language];var props=Object();props.id=field.id;props.key=field.id;switch(field.type){case\"checkboxes\":props.value=field.settings.value;props.label=field.settings.labelI18n[lang]?field.settings.labelI18n[lang]:field.settings.labelI18n.English;props.descriptionI18n=field.settings.descriptionI18n[lang]?field.settings.descriptionI18n[lang]:field.settings.descriptionI18n.English;props.options=field.settings.options;props.required=field.settings.required;props.onChange=function(value){props.value.indexOf(value)>-1?props.value.splice(props.value.indexOf(value),1):props.value.push(value);store.dispatch(action.handleOnChange({id:field.id,type:field.type,value:props.value}));};return props;case\"date\":props.value=field.settings.value;props.required=field.settings.required;props.label=field.settings.labelI18n[lang]?field.settings.labelI18n[lang]:field.settings.labelI18n.English;props.descriptionI18n=field.settings.descriptionI18n[lang]?field.settings.descriptionI18n[lang]:field.settings.descriptionI18n.English;props.includeTime=field.settings.includeTime;props.onChange=function(e){store.dispatch(action.handleOnChange({id:field.id,type:field.type,value:e.target.value}));};return props;case\"dropdown\":props.value=field.settings.value;props.required=field.settings.required;props.label=field.settings.labelI18n[lang]?field.settings.labelI18n[lang]:field.settings.labelI18n.English;props.helperText=field.settings.descriptionI18n[lang]?field.settings.descriptionI18n[lang]:field.settings.descriptionI18n.English;props.options=field.settings.options;props.onChange=function(e){store.dispatch(action.handleOnChange({id:field.id,type:field.type,value:e}));};return props;case\"number\":props.prefilledAnswer=field.settings.prefilledAnswer;props.value=field.settings.value;props.required=field.settings.required;props.label=field.settings.labelI18n[lang]?field.settings.labelI18n[lang]:field.settings.labelI18n.English;props.helperText=field.settings.descriptionI18n[lang]?field.settings.descriptionI18n[lang]:field.settings.descriptionI18n.English;props.unit=field.settings.unit;props.type=field.type;props.unitFront=field.settings.unitFront;props.min=field.settings.min;props.max=field.settings.max;props.onChange=function(e,props){store.dispatch(action.handleOnChange({id:field.id,type:field.type,value:props.max||props.min?verifyNumber(e.target.value,props).toString():e.target.value}));};return props;case\"multipleChoice\":props.value=field.settings.value;props.required=field.settings.required;props.label=field.settings.labelI18n[lang]?field.settings.labelI18n[lang]:field.settings.labelI18n.English;props.helperText=field.settings.descriptionI18n[lang]?field.settings.descriptionI18n[lang]:field.settings.descriptionI18n.English;props.options=field.settings.options;props.onChange=function(e){store.dispatch(action.handleOnChange({id:field.id,type:field.type,value:e.target.value}));};return props;case\"singleLine\":props.identifier=field.settings.identifier;props.value=field.settings.value;props.required=field.settings.required;props.label=field.settings.labelI18n[lang]?field.settings.labelI18n[lang]:field.settings.labelI18n.English;props.helperText=field.settings.descriptionI18n[lang]?field.settings.descriptionI18n[lang]:field.settings.descriptionI18n.English;props.onChange=function(e){store.dispatch(action.handleOnChange({id:field.id,type:field.type,value:e.target.value}));};return props;case\"yesNo\":props.value=field.settings.value;props.label=field.settings.labelI18n[lang]?field.settings.labelI18n[lang]:field.settings.labelI18n.English;props.onChange=function(e){store.dispatch(action.handleOnChange({id:field.id,type:field.type,value:e.target.checked}));};return props;case\"staticText\":props.value=field.settings.textI18n[lang]?field.settings.textI18n[lang]:field.settings.textI18n.English;props.images=field.settings.images;props.required=field.settings.required;return props;case\"pageBreak\":return props;case\"sectionBreak\":props.label=field.settings.labelI18n[lang]?field.settings.labelI18n[lang]:field.settings.labelI18n.English;props.description=field.settings.descriptionI18n[lang]?field.settings.descriptionI18n[lang]:field.settings.descriptionI18n.English;return props;case\"photo\":props.label=field.settings.labelI18n[lang]?field.settings.labelI18n[lang]:field.settings.labelI18n.English;props.description=field.settings.descriptionI18n[lang]?field.settings.descriptionI18n[lang]:field.settings.descriptionI18n.English;props.value=field.settings.value;props.required=field.settings.required;props.onChange=function(photoURL){store.dispatch(action.handleOnChange({id:field.id,type:field.type,value:photoURL===\"#\"?\"#\":photoURL}));};return props;case\"slider\":props.label=field.settings.labelI18n[lang]?field.settings.labelI18n[lang]:field.settings.labelI18n.English;props.description=field.settings.descriptionI18n[lang]?field.settings.descriptionI18n[lang]:field.settings.descriptionI18n.English;props.min=field.settings.min;props.max=field.settings.max;props.step=field.settings.step;props.value=field.settings.value;props.onChange=function(e,value){store.dispatch(action.handleOnChange({id:field.id,type:field.type,value:value}));};return props;case\"paragraph\":props.value=field.settings.value;props.required=field.settings.required;props.label=field.settings.labelI18n[lang]?field.settings.labelI18n[lang]:field.settings.labelI18n.English;props.helperText=field.settings.descriptionI18n[lang]?field.settings.descriptionI18n[lang]:field.settings.descriptionI18n.English;props.onChange=function(e){store.dispatch(action.handleOnChange({id:field.id,type:field.type,value:e.target.value}));};return props;case\"naYesNo\":props.label=field.settings.labelI18n[lang]?field.settings.labelI18n[lang]:field.settings.labelI18n.English;props.description=field.settings.descriptionI18n[lang]?field.settings.descriptionI18n[lang]:field.settings.descriptionI18n.English;props.images=field.settings.images;props.value=field.settings.value;props.itemTexts=field.settings.itemTexts;props.itemValues=field.settings.itemValues;props.required=field.settings.required;props.onClick=function(e){store.dispatch(action.handleOnChange({id:field.id,type:field.type,value:e.currentTarget.value}));};return props;case\"signature\":props.label=field.settings.labelI18n[lang]?field.settings.labelI18n[lang]:field.settings.labelI18n.English;props.description=field.settings.descriptionI18n[lang]?field.settings.descriptionI18n[lang]:field.settings.descriptionI18n.English;props.value=field.settings.value;props.onChange=function(value){store.dispatch(action.handleOnChange({id:field.id,type:field.type,value:value}));};return props;default:}return props;};var componentMapper={checkboxes:Checkboxes,date:DateTime,dropdown:Dropdown,number:NumberText,multipleChoice:SingleChoice,singleLine:SingleLine,yesNo:YesNo,staticText:StaticText,pageBreak:PageBreak,sectionBreak:SectionBreak,photo:Photo,slider:Slider,paragraph:Paragraph,naYesNo:NaYesNo,signature:Signature};export var componentGenerator=function componentGenerator(field,props){if(typeof componentMapper[field.type]!==\"undefined\"){return React.createElement(componentMapper[field.type],props);}return React.createElement(function(){return/*#__PURE__*/React.createElement(\"div\",null,\"The component \",field.type,\" has not been created yet.\");},props);};export var changeValue=function changeValue(state,data){var param=state.currentTemplateParams;// documentNo +\n//   \"-\" +\n//   documentPart +\n//   \"-\" +\n//   activityNo +\n//   \"-\" +\n//   productFamily +\n//   \"-\" +\n//   productLine +\n//   \"-\" +\n//   language;\nvar fields=state[param.documentNo+\"-\"+param.documentPart+\"-\"+param.activityNo+\"-\"+param.productFamily+\"-\"+param.productLine+\"-\"+param.language].fields;for(var i=0;i<fields.length;i++){if(data.id===fields[i].id){switch(fields[i].type){case\"singleLine\":fields[i].settings.value=data.value;break;case\"yesNo\":fields[i].settings.value=data.value;break;case\"photo\":fields[i].settings.value=data.value;break;case\"slider\":fields[i].settings.value=data.value;break;case\"paragraph\":fields[i].settings.value=data.value;break;case\"naYesNo\":fields[i].settings.value=data.value;break;case\"date\":fields[i].settings.value=data.value;break;case\"number\":fields[i].settings.value=data.value;break;case\"signature\":fields[i].settings.value=data.value;break;case\"multipleChoice\":fields[i].settings.value=data.value;break;case\"checkboxes\":fields[i].settings.value=data.value;break;case\"dropdown\":fields[i].settings.value=data.value;break;default:}return state;}}};var ops={isString:\"==\",isNotString:\"!=\",isNumber:\"==\",isNotNumber:\"!=\",isOption:\"==\",isNotOption:\"!=\",isBool:\"==\",isExtBool:\"==\",isNotExtBool:\"!=\",isDate:\"==\",isNotDate:\"!=\",before:\"==\",// TODO: below need handle\nafter:\"==\",startsWith:\"==\",endsWith:\"==\",greaterThan:\"==\",lessThan:\"==\",containsString:\"!=\",containsOption:\"==\",doesNotContainString:\"!=\",doesNotContainOption:\"==\",and:\"&&\",or:\"||\"};export var isVisible=function isVisible(field){var _store$getState$templ;var res=true;var param=(_store$getState$templ=store.getState().templateForm)===null||_store$getState$templ===void 0?void 0:_store$getState$templ.currentTemplateParams;if(!param)return res;var templateForm=store.getState().templateForm[param.documentNo+\"-\"+param.documentPart+\"-\"+param.activityNo+\"-\"+param.productFamily+\"-\"+param.productLine+\"-\"+param.language];var fields=templateForm===null||templateForm===void 0?void 0:templateForm.fields;for(var rulesIndex=0;rulesIndex<field.settings.visRules.length;rulesIndex++){for(var fieldIndex=0;fieldIndex<fields.length;fieldIndex++){if(fields[fieldIndex].id===field.settings.visRules[rulesIndex].fieldId){/*eslint no-eval: 0*/var result=void 0;if(fields[fieldIndex].type===\"naYesNo\"){var value=void 0;if(fields[fieldIndex].settings.value===\"yes\"){value=\"true\";}else if(fields[fieldIndex].settings.value===\"no\"){value=\"false\";}else{value=fields[fieldIndex].settings.value;}result=JSON.stringify(value);}else{result=JSON.stringify(fields[fieldIndex].settings.value);}var cond=eval(result+ops[field.settings.visRules[rulesIndex].operatorId]+JSON.stringify(field.settings.visRules[rulesIndex].argument));/*eslint no-eval: 0*/res=eval(JSON.stringify(res)+ops[field.settings.visRules[rulesIndex].conjunctionOperator]+JSON.stringify(cond));break;}}}return res;};export var tmplLangMapper={EN:\"English\",ZH:\"Chinese\"};","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/src/js/templateFormUtil/index.js"],"names":["action","Checkboxes","DateTime","Dropdown","NaYesNo","NumberText","PageBreak","Paragraph","Photo","SectionBreak","Signature","SingleChoice","SingleLine","Slider","StaticText","YesNo","store","Moment","React","getListOfInstallationBranches","defaultNaYesNoValues","na","fixed","yes","no","customizeNaYesNoValues","notok","ok","square","triangle","verifyNumber","value","props","initFormState","state","routeParams","fields","forEach","field","type","settings","prefilledAnswer","indexOf","getState","orders","projects","partners","auth","orderData","orderNo","textFieldText","slice","projectName","projectNumber","description","PM","name1","PE","InstallationClientName","installationTeamLeader","branchName","CurrentDate","name","initialValue","itemTexts","itemValues","length","push","notApplicableOption","fixedOption","buttonDescriptions","desc","i","selectedButtonId","selectedDescriptionId","includeTime","format","personalNumber","initProps","language","lang","tmplLangMapper","Object","id","key","label","labelI18n","English","descriptionI18n","options","required","onChange","splice","dispatch","handleOnChange","e","target","helperText","unit","unitFront","min","max","toString","identifier","checked","textI18n","images","photoURL","step","onClick","currentTarget","componentMapper","checkboxes","date","dropdown","number","multipleChoice","singleLine","yesNo","staticText","pageBreak","sectionBreak","photo","slider","paragraph","naYesNo","signature","componentGenerator","createElement","changeValue","data","param","currentTemplateParams","documentNo","documentPart","activityNo","productFamily","productLine","ops","isString","isNotString","isNumber","isNotNumber","isOption","isNotOption","isBool","isExtBool","isNotExtBool","isDate","isNotDate","before","after","startsWith","endsWith","greaterThan","lessThan","containsString","containsOption","doesNotContainString","doesNotContainOption","and","or","isVisible","res","templateForm","rulesIndex","visRules","fieldIndex","fieldId","result","JSON","stringify","cond","eval","operatorId","argument","conjunctionOperator","EN","ZH"],"mappings":"AAAA,MAAO,GAAKA,CAAAA,MAAZ,KAAwB,SAAxB,CACA,OACEC,UADF,CAEEC,QAFF,CAGEC,QAHF,CAIEC,OAJF,CAKEC,UALF,CAMEC,SANF,CAOEC,SAPF,CAQEC,KARF,CASEC,YATF,CAUEC,SAVF,CAWEC,YAXF,CAYEC,UAZF,CAaEC,MAbF,CAcEC,UAdF,CAeEC,KAfF,KAgBO,yBAhBP,CAiBA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,6BAAT,KAA8C,aAA9C,CAEA,GAAMC,CAAAA,oBAAoB,CAAG,CAC3BC,EAAE,CAAE,KADuB,CAE3BC,KAAK,CAAE,OAFoB,CAG3BC,GAAG,CAAE,KAHsB,CAI3BC,EAAE,CAAE,IAJuB,CAA7B,CAOA,GAAMC,CAAAA,sBAAsB,CAAG,CAC7BF,GAAG,CAAE,KADwB,CAE7BC,EAAE,CAAE,IAFyB,CAG7BH,EAAE,CAAE,KAHyB,CAI7BK,KAAK,CAAE,QAJsB,CAK7BC,EAAE,CAAE,IALyB,CAM7BC,MAAM,CAAE,GANqB,CAO7BC,QAAQ,CAAE,GAPmB,CAQ7BP,KAAK,CAAE,OARsB,CAA/B,CAWA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAQC,KAAR,CAAkB,CACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACE,MAAOD,CAAAA,KAAP,CACF;AACD,CAVD,CAYA,MAAO,IAAME,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAQC,WAAR,CAAwB,CACnDD,KAAK,CAACE,MAAN,CAAaC,OAAb,CAAqB,SAACC,KAAD,CAAW,CAC9B,OAAQA,KAAK,CAACC,IAAd,EACE,IAAK,YAAL,CACE,GAAI,CAACD,KAAK,CAACE,QAAN,CAAeT,KAApB,CAA2B,CACzBO,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAuBO,KAAK,CAACE,QAAN,CAAeC,eAAtC,CACD,CACD,GAAIH,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAqBW,OAArB,CAA6B,KAA7B,EAAsC,CAAC,CAA3C,CAA8C,gGACC1B,KAAK,CAAC2B,QAAN,EADD,CACpCC,MADoC,iBACpCA,MADoC,CAC5BC,QAD4B,iBAC5BA,QAD4B,CAClBC,QADkB,iBAClBA,QADkB,CACRC,IADQ,iBACRA,IADQ,CAE5C,GAAMC,CAAAA,SAAS,CAAGJ,MAAM,CAACT,WAAW,CAACc,OAAb,CAAxB,CACA,GAAMC,CAAAA,aAAa,CAAGZ,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAqBoB,KAArB,CAA2B,CAA3B,CAA8B,CAAC,CAA/B,CAAtB,CAH4C,GAIvBC,CAAAA,WAJuB,CAK1CP,QAAQ,CAACG,SAAS,CAACK,aAAX,CALkC,CAIpCC,WAJoC,CAM5C,GAAMC,CAAAA,EAAE,aAAGT,QAAQ,WAAIE,SAAS,CAAC,QAAD,CAAb,QAAX,qCAAG,WAAuCQ,KAAlD,CACA,GAAMC,CAAAA,EAAE,cAAGX,QAAQ,WAAIE,SAAS,CAAC,QAAD,CAAb,QAAX,sCAAG,YAAuCQ,KAAlD,CACA,GAAME,CAAAA,sBAAsB,cAC1BZ,QAAQ,WAAIE,SAAS,CAAC,QAAD,CAAb,QADkB,sCAC1B,YAAuCQ,KADzC,CAEA,GAAMG,CAAAA,sBAAsB,CAAG,cAAAb,QAAQ,WAAIE,SAAS,CAAC,QAAD,CAAb,QAAR,kDAC3BQ,KAD2B,eAE3BV,QAAQ,WAAIE,SAAS,CAAC,QAAD,CAAb,QAFmB,sCAE3B,YAAuCQ,KAFZ,cAG3BV,QAAQ,WAAIE,SAAS,CAAC,QAAD,CAAb,QAHmB,sCAG3B,YAAuCQ,KAH3C,CAKA,GAAMI,CAAAA,UAAU,CAAGzC,6BAA6B,CAAC6B,SAAS,CAAC,OAAD,CAAV,CAAhD,CACAV,KAAK,CAACE,QAAN,CAAeT,KAAf,CACEmB,aAAa,GAAK,SAAlB,CACIF,SAAS,CAAC,QAAD,CADb,CAEIE,aAAa,GAAK,QAAlB,CACAF,SAAS,CAAC,iBAAD,CADT,CAEAE,aAAa,GAAK,aAAlB,CACAE,WADA,CAEAF,aAAa,GAAK,YAAlB,CACAU,UADA,CAEAV,aAAa,GAAK,IAAlB,CACAK,EADA,CAEAL,aAAa,GAAK,cAAlB,CACAQ,sBADA,CAEAR,aAAa,GAAK,IAAlB,CACAO,EADA,CAEAP,aAAa,GAAK,IAAlB,CACAS,sBADA,CAEAT,aAAa,GAAK,aAAlB,CACAH,IADA,SACAA,IADA,iBACAA,IAAI,CAAEc,WADN,CAEAX,aAAa,GAAK,eAAlB,CACAH,IADA,SACAA,IADA,iBACAA,IAAI,CAAEe,IADN,CAEA,EArBN,CAsBD,CACD,MACF,IAAK,OAAL,CACE,GAAI,CAACxB,KAAK,CAACE,QAAN,CAAeT,KAApB,CAA2B,CACzBO,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAuBO,KAAK,CAACE,QAAN,CAAeuB,YAAtC,CACD,CACD,MACF,IAAK,QAAL,CACE,GAAI,CAACzB,KAAK,CAACE,QAAN,CAAeT,KAApB,CAA2B,CACzBO,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAuBO,KAAK,CAACE,QAAN,CAAeuB,YAAtC,CACD,CACD,MACF,IAAK,WAAL,CACE,GAAI,CAACzB,KAAK,CAACE,QAAN,CAAeT,KAApB,CAA2B,CACzBO,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAuBO,KAAK,CAACE,QAAN,CAAeC,eAAtC,CACD,CACD,MACF,IAAK,SAAL,CACE,GACG,CAACH,KAAK,CAACE,QAAN,CAAewB,SAAhB,EAA6B,CAAC1B,KAAK,CAACE,QAAN,CAAeyB,UAA9C,EACC3B,KAAK,CAACE,QAAN,CAAewB,SAAf,CAAyBE,MAAzB,GAAoC,CAApC,EACC5B,KAAK,CAACE,QAAN,CAAeyB,UAAf,CAA0BC,MAA1B,GAAqC,CAHzC,CAIE,CACA5B,KAAK,CAACE,QAAN,CAAewB,SAAf,CAA2B,EAA3B,CACA1B,KAAK,CAACE,QAAN,CAAeyB,UAAf,CAA4B,EAA5B,CAEA3B,KAAK,CAACE,QAAN,CAAewB,SAAf,CAAyBG,IAAzB,CAA8B,GAA9B,EACA7B,KAAK,CAACE,QAAN,CAAeyB,UAAf,CAA0BE,IAA1B,CAA+B,GAA/B,EAEA,GAAI7B,KAAK,CAACE,QAAN,CAAe4B,mBAAnB,CAAwC,CACtC9B,KAAK,CAACE,QAAN,CAAeyB,UAAf,CAA0BE,IAA1B,CAA+B,IAA/B,EACA7B,KAAK,CAACE,QAAN,CAAewB,SAAf,CAAyBG,IAAzB,CAA8B/C,oBAAoB,CAAC,IAAD,CAAlD,EACD,CAED,GAAIkB,KAAK,CAACE,QAAN,CAAe6B,WAAnB,CAAgC,CAC9B/B,KAAK,CAACE,QAAN,CAAeyB,UAAf,CAA0BE,IAA1B,CAA+B,OAA/B,EACA7B,KAAK,CAACE,QAAN,CAAewB,SAAf,CAAyBG,IAAzB,CAA8B/C,oBAAoB,CAAC,OAAD,CAAlD,EACD,CAEDkB,KAAK,CAACE,QAAN,CAAeyB,UAAf,CAA0BE,IAA1B,CAA+B,KAA/B,EACA7B,KAAK,CAACE,QAAN,CAAewB,SAAf,CAAyBG,IAAzB,CAA8B/C,oBAAoB,CAAC,KAAD,CAAlD,EAEAkB,KAAK,CAACE,QAAN,CAAeyB,UAAf,CAA0BE,IAA1B,CAA+B,IAA/B,EACA7B,KAAK,CAACE,QAAN,CAAewB,SAAf,CAAyBG,IAAzB,CAA8B/C,oBAAoB,CAAC,IAAD,CAAlD,EAEAkB,KAAK,CAACE,QAAN,CAAe8B,kBAAf,CAAkCjC,OAAlC,CAA0C,SAACkC,IAAD,CAAU,CAClD,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGlC,KAAK,CAACE,QAAN,CAAeyB,UAAf,CAA0BC,MAA9C,CAAsDM,CAAC,EAAvD,CAA2D,CACzD,GAAID,IAAI,CAACE,gBAAL,GAA0BnC,KAAK,CAACE,QAAN,CAAeyB,UAAf,CAA0BO,CAA1B,CAA9B,CAA4D,CAC1D;AACAlC,KAAK,CAACE,QAAN,CAAewB,SAAf,CAAyBQ,CAAzB,EACE/C,sBAAsB,CAAC8C,IAAI,CAACG,qBAAN,CADxB,CAEA,MACD,CACF,CACF,CATD,EAUD,CAED,GAAI,CAACpC,KAAK,CAACE,QAAN,CAAeT,KAApB,CAA2B,CACzBO,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAuB,GAAvB,CACD,CACD,MACF,IAAK,OAAL,CACE,GAAI,CAACO,KAAK,CAACE,QAAN,CAAeT,KAApB,CAA2B,CACzBO,KAAK,CAACE,QAAN,CAAeT,KAAf,CACE,gFADF,CAED,CACD,MACF,IAAK,MAAL,CACE,GAAI,CAACO,KAAK,CAACE,QAAN,CAAeT,KAApB,CAA2B,CACzBO,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAuBd,MAAM,EAA7B,CACA,GAAIqB,KAAK,CAACE,QAAN,CAAemC,WAAnB,CAAgC,CAC9BrC,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAuBd,MAAM,GAAG2D,MAAT,CAAgB,kBAAhB,CAAvB,CACD,CAFD,IAEO,CACLtC,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAuBd,MAAM,GAAG2D,MAAT,CAAgB,YAAhB,CAAvB,CACD,CACF,CACD,MACF,IAAK,QAAL,CACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAI,CAACtC,KAAK,CAACE,QAAN,CAAeT,KAApB,CAA2B,CACzB,GAAI,CAACO,KAAK,CAACE,QAAN,CAAeC,eAApB,CAAqC,CACnC,GACEH,KAAK,CAACE,QAAN,CAAeC,eAAf,GAAmC,CAAnC,EACAH,KAAK,CAACE,QAAN,CAAeC,eAAf,GAAmC,GADnC,EAEAH,KAAK,CAACE,QAAN,CAAeC,eAHjB,CAIE,CACAH,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAuBO,KAAK,CAACE,QAAN,CAAeC,eAAtC,CACD,CAND,IAMO,CACLH,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAuB,EAAvB,CACD,CACF,CAVD,IAUO,sBACYf,KAAK,CAAC2B,QAAN,EADZ,CACGI,KADH,kBACGA,IADH,CAEL,GAAIT,KAAK,CAACE,QAAN,CAAeC,eAAf,GAAmC,mBAAvC,CAA4D,CAC1DH,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAsBgB,KAAtB,SAAsBA,KAAtB,iBAAsBA,KAAI,CAAE8B,cAA5B,CACD,CAFD,IAEO,CACLvC,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAuBO,KAAK,CAACE,QAAN,CAAeC,eAAtC,CACD,CACF,CACF,CACD,MACF,IAAK,gBAAL,CACE,GAAI,CAACH,KAAK,CAACE,QAAN,CAAeT,KAApB,CAA2B,CACzB;AACA;AACA;AACAO,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAuB,EAAvB,CACD,CAED,MACF,IAAK,YAAL,CACE,GAAI,CAACO,KAAK,CAACE,QAAN,CAAeT,KAApB,CAA2B,CACzBO,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAuBO,KAAK,CAACE,QAAN,CAAeT,KAAf,CACnBO,KAAK,CAACE,QAAN,CAAeT,KADI,CAEnB,EAFJ,CAGD,CACD,MACF,IAAK,WAAL,CACE,GAAI,CAACO,KAAK,CAACE,QAAN,CAAeT,KAApB,CAA2B,CACzBO,KAAK,CAACE,QAAN,CAAeT,KAAf,CACE,gFADF,CAED,CACD,MACF,IAAK,UAAL,CACE,GAAI,CAACO,KAAK,CAACE,QAAN,CAAeT,KAApB,CAA2B,CACzBO,KAAK,CAACE,QAAN,CAAeT,KAAf,CAAuBO,KAAK,CAACE,QAAN,CAAeT,KAAf,CACnBO,KAAK,CAACE,QAAN,CAAeT,KADI,CAEnB,EAFJ,CAGD,CACD,MACF,QApLF,CAsLD,CAvLD,EAyLA,MAAOG,CAAAA,KAAP,CACD,CA3LM,CA6LP,MAAO,IAAM4C,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACxC,KAAD,CAAQyC,QAAR,CAAqB,CAC5C,GAAMC,CAAAA,IAAI,CAAGC,cAAc,CAACF,QAAD,CAA3B,CAEA,GAAM/C,CAAAA,KAAK,CAAGkD,MAAM,EAApB,CACAlD,KAAK,CAACmD,EAAN,CAAW7C,KAAK,CAAC6C,EAAjB,CACAnD,KAAK,CAACoD,GAAN,CAAY9C,KAAK,CAAC6C,EAAlB,CACA,OAAQ7C,KAAK,CAACC,IAAd,EACE,IAAK,YAAL,CACEP,KAAK,CAACD,KAAN,CAAcO,KAAK,CAACE,QAAN,CAAeT,KAA7B,CACAC,KAAK,CAACqD,KAAN,CAAc/C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,EACV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,CADU,CAEV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBC,OAF7B,CAGAvD,KAAK,CAACwD,eAAN,CAAwBlD,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,EACpB1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,CADoB,CAEpB1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BD,OAFnC,CAGAvD,KAAK,CAACyD,OAAN,CAAgBnD,KAAK,CAACE,QAAN,CAAeiD,OAA/B,CACAzD,KAAK,CAAC0D,QAAN,CAAiBpD,KAAK,CAACE,QAAN,CAAekD,QAAhC,CACA1D,KAAK,CAAC2D,QAAN,CAAiB,SAAC5D,KAAD,CAAW,CAC1BC,KAAK,CAACD,KAAN,CAAYW,OAAZ,CAAoBX,KAApB,EAA6B,CAAC,CAA9B,CACIC,KAAK,CAACD,KAAN,CAAY6D,MAAZ,CAAmB5D,KAAK,CAACD,KAAN,CAAYW,OAAZ,CAAoBX,KAApB,CAAnB,CAA+C,CAA/C,CADJ,CAEIC,KAAK,CAACD,KAAN,CAAYoC,IAAZ,CAAiBpC,KAAjB,CAFJ,CAGAf,KAAK,CAAC6E,QAAN,CACE7F,MAAM,CAAC8F,cAAP,CAAsB,CACpBX,EAAE,CAAE7C,KAAK,CAAC6C,EADU,CAEpB5C,IAAI,CAAED,KAAK,CAACC,IAFQ,CAGpBR,KAAK,CAAEC,KAAK,CAACD,KAHO,CAAtB,CADF,EAOD,CAXD,CAYA,MAAOC,CAAAA,KAAP,CACF,IAAK,MAAL,CACEA,KAAK,CAACD,KAAN,CAAcO,KAAK,CAACE,QAAN,CAAeT,KAA7B,CACAC,KAAK,CAAC0D,QAAN,CAAiBpD,KAAK,CAACE,QAAN,CAAekD,QAAhC,CACA1D,KAAK,CAACqD,KAAN,CAAc/C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,EACV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,CADU,CAEV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBC,OAF7B,CAGAvD,KAAK,CAACwD,eAAN,CAAwBlD,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,EACpB1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,CADoB,CAEpB1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BD,OAFnC,CAGAvD,KAAK,CAAC2C,WAAN,CAAoBrC,KAAK,CAACE,QAAN,CAAemC,WAAnC,CACA3C,KAAK,CAAC2D,QAAN,CAAiB,SAACI,CAAD,CAAO,CACtB/E,KAAK,CAAC6E,QAAN,CACE7F,MAAM,CAAC8F,cAAP,CAAsB,CACpBX,EAAE,CAAE7C,KAAK,CAAC6C,EADU,CAEpB5C,IAAI,CAAED,KAAK,CAACC,IAFQ,CAGpBR,KAAK,CAAEgE,CAAC,CAACC,MAAF,CAASjE,KAHI,CAAtB,CADF,EAOD,CARD,CASA,MAAOC,CAAAA,KAAP,CACF,IAAK,UAAL,CACEA,KAAK,CAACD,KAAN,CAAcO,KAAK,CAACE,QAAN,CAAeT,KAA7B,CACAC,KAAK,CAAC0D,QAAN,CAAiBpD,KAAK,CAACE,QAAN,CAAekD,QAAhC,CACA1D,KAAK,CAACqD,KAAN,CAAc/C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,EACV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,CADU,CAEV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBC,OAF7B,CAGAvD,KAAK,CAACiE,UAAN,CAAmB3D,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,EACf1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,CADe,CAEf1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BD,OAFnC,CAGAvD,KAAK,CAACyD,OAAN,CAAgBnD,KAAK,CAACE,QAAN,CAAeiD,OAA/B,CACAzD,KAAK,CAAC2D,QAAN,CAAiB,SAACI,CAAD,CAAO,CACtB/E,KAAK,CAAC6E,QAAN,CACE7F,MAAM,CAAC8F,cAAP,CAAsB,CACpBX,EAAE,CAAE7C,KAAK,CAAC6C,EADU,CAEpB5C,IAAI,CAAED,KAAK,CAACC,IAFQ,CAGpBR,KAAK,CAAEgE,CAHa,CAAtB,CADF,EAOD,CARD,CASA,MAAO/D,CAAAA,KAAP,CACF,IAAK,QAAL,CACEA,KAAK,CAACS,eAAN,CAAwBH,KAAK,CAACE,QAAN,CAAeC,eAAvC,CACAT,KAAK,CAACD,KAAN,CAAcO,KAAK,CAACE,QAAN,CAAeT,KAA7B,CACAC,KAAK,CAAC0D,QAAN,CAAiBpD,KAAK,CAACE,QAAN,CAAekD,QAAhC,CACA1D,KAAK,CAACqD,KAAN,CAAc/C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,EACV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,CADU,CAEV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBC,OAF7B,CAGAvD,KAAK,CAACiE,UAAN,CAAmB3D,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,EACf1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,CADe,CAEf1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BD,OAFnC,CAGAvD,KAAK,CAACkE,IAAN,CAAa5D,KAAK,CAACE,QAAN,CAAe0D,IAA5B,CACAlE,KAAK,CAACO,IAAN,CAAaD,KAAK,CAACC,IAAnB,CACAP,KAAK,CAACmE,SAAN,CAAkB7D,KAAK,CAACE,QAAN,CAAe2D,SAAjC,CACAnE,KAAK,CAACoE,GAAN,CAAY9D,KAAK,CAACE,QAAN,CAAe4D,GAA3B,CACApE,KAAK,CAACqE,GAAN,CAAY/D,KAAK,CAACE,QAAN,CAAe6D,GAA3B,CACArE,KAAK,CAAC2D,QAAN,CAAiB,SAACI,CAAD,CAAI/D,KAAJ,CAAc,CAC7BhB,KAAK,CAAC6E,QAAN,CACE7F,MAAM,CAAC8F,cAAP,CAAsB,CACpBX,EAAE,CAAE7C,KAAK,CAAC6C,EADU,CAEpB5C,IAAI,CAAED,KAAK,CAACC,IAFQ,CAGpBR,KAAK,CACHC,KAAK,CAACqE,GAAN,EAAarE,KAAK,CAACoE,GAAnB,CACItE,YAAY,CAACiE,CAAC,CAACC,MAAF,CAASjE,KAAV,CAAiBC,KAAjB,CAAZ,CAAoCsE,QAApC,EADJ,CAEIP,CAAC,CAACC,MAAF,CAASjE,KANK,CAAtB,CADF,EAUD,CAXD,CAYA,MAAOC,CAAAA,KAAP,CACF,IAAK,gBAAL,CACEA,KAAK,CAACD,KAAN,CAAcO,KAAK,CAACE,QAAN,CAAeT,KAA7B,CACAC,KAAK,CAAC0D,QAAN,CAAiBpD,KAAK,CAACE,QAAN,CAAekD,QAAhC,CACA1D,KAAK,CAACqD,KAAN,CAAc/C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,EACV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,CADU,CAEV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBC,OAF7B,CAGAvD,KAAK,CAACiE,UAAN,CAAmB3D,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,EACf1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,CADe,CAEf1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BD,OAFnC,CAGAvD,KAAK,CAACyD,OAAN,CAAgBnD,KAAK,CAACE,QAAN,CAAeiD,OAA/B,CACAzD,KAAK,CAAC2D,QAAN,CAAiB,SAACI,CAAD,CAAO,CACtB/E,KAAK,CAAC6E,QAAN,CACE7F,MAAM,CAAC8F,cAAP,CAAsB,CACpBX,EAAE,CAAE7C,KAAK,CAAC6C,EADU,CAEpB5C,IAAI,CAAED,KAAK,CAACC,IAFQ,CAGpBR,KAAK,CAAEgE,CAAC,CAACC,MAAF,CAASjE,KAHI,CAAtB,CADF,EAOD,CARD,CASA,MAAOC,CAAAA,KAAP,CACF,IAAK,YAAL,CACEA,KAAK,CAACuE,UAAN,CAAmBjE,KAAK,CAACE,QAAN,CAAe+D,UAAlC,CACAvE,KAAK,CAACD,KAAN,CAAcO,KAAK,CAACE,QAAN,CAAeT,KAA7B,CACAC,KAAK,CAAC0D,QAAN,CAAiBpD,KAAK,CAACE,QAAN,CAAekD,QAAhC,CACA1D,KAAK,CAACqD,KAAN,CAAc/C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,EACV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,CADU,CAEV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBC,OAF7B,CAGAvD,KAAK,CAACiE,UAAN,CAAmB3D,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,EACf1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,CADe,CAEf1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BD,OAFnC,CAGAvD,KAAK,CAAC2D,QAAN,CAAiB,SAACI,CAAD,CAAO,CACtB/E,KAAK,CAAC6E,QAAN,CACE7F,MAAM,CAAC8F,cAAP,CAAsB,CACpBX,EAAE,CAAE7C,KAAK,CAAC6C,EADU,CAEpB5C,IAAI,CAAED,KAAK,CAACC,IAFQ,CAGpBR,KAAK,CAAEgE,CAAC,CAACC,MAAF,CAASjE,KAHI,CAAtB,CADF,EAOD,CARD,CASA,MAAOC,CAAAA,KAAP,CACF,IAAK,OAAL,CACEA,KAAK,CAACD,KAAN,CAAcO,KAAK,CAACE,QAAN,CAAeT,KAA7B,CACAC,KAAK,CAACqD,KAAN,CAAc/C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,EACV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,CADU,CAEV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBC,OAF7B,CAGAvD,KAAK,CAAC2D,QAAN,CAAiB,SAACI,CAAD,CAAO,CACtB/E,KAAK,CAAC6E,QAAN,CACE7F,MAAM,CAAC8F,cAAP,CAAsB,CACpBX,EAAE,CAAE7C,KAAK,CAAC6C,EADU,CAEpB5C,IAAI,CAAED,KAAK,CAACC,IAFQ,CAGpBR,KAAK,CAAEgE,CAAC,CAACC,MAAF,CAASQ,OAHI,CAAtB,CADF,EAOD,CARD,CASA,MAAOxE,CAAAA,KAAP,CACF,IAAK,YAAL,CACEA,KAAK,CAACD,KAAN,CAAcO,KAAK,CAACE,QAAN,CAAeiE,QAAf,CAAwBzB,IAAxB,EACV1C,KAAK,CAACE,QAAN,CAAeiE,QAAf,CAAwBzB,IAAxB,CADU,CAEV1C,KAAK,CAACE,QAAN,CAAeiE,QAAf,CAAwBlB,OAF5B,CAGAvD,KAAK,CAAC0E,MAAN,CAAepE,KAAK,CAACE,QAAN,CAAekE,MAA9B,CACA1E,KAAK,CAAC0D,QAAN,CAAiBpD,KAAK,CAACE,QAAN,CAAekD,QAAhC,CACA,MAAO1D,CAAAA,KAAP,CACF,IAAK,WAAL,CACE,MAAOA,CAAAA,KAAP,CACF,IAAK,cAAL,CACEA,KAAK,CAACqD,KAAN,CAAc/C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,EACV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,CADU,CAEV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBC,OAF7B,CAGAvD,KAAK,CAACsB,WAAN,CAAoBhB,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,EAChB1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,CADgB,CAEhB1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BD,OAFnC,CAGA,MAAOvD,CAAAA,KAAP,CACF,IAAK,OAAL,CACEA,KAAK,CAACqD,KAAN,CAAc/C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,EACV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,CADU,CAEV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBC,OAF7B,CAGAvD,KAAK,CAACsB,WAAN,CAAoBhB,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,EAChB1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,CADgB,CAEhB1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BD,OAFnC,CAGAvD,KAAK,CAACD,KAAN,CAAcO,KAAK,CAACE,QAAN,CAAeT,KAA7B,CACAC,KAAK,CAAC0D,QAAN,CAAiBpD,KAAK,CAACE,QAAN,CAAekD,QAAhC,CACA1D,KAAK,CAAC2D,QAAN,CAAiB,SAACgB,QAAD,CAAc,CAC7B3F,KAAK,CAAC6E,QAAN,CACE7F,MAAM,CAAC8F,cAAP,CAAsB,CACpBX,EAAE,CAAE7C,KAAK,CAAC6C,EADU,CAEpB5C,IAAI,CAAED,KAAK,CAACC,IAFQ,CAGpBR,KAAK,CAAE4E,QAAQ,GAAK,GAAb,CAAmB,GAAnB,CAAyBA,QAHZ,CAAtB,CADF,EAOD,CARD,CASA,MAAO3E,CAAAA,KAAP,CACF,IAAK,QAAL,CACEA,KAAK,CAACqD,KAAN,CAAc/C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,EACV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,CADU,CAEV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBC,OAF7B,CAGAvD,KAAK,CAACsB,WAAN,CAAoBhB,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,EAChB1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,CADgB,CAEhB1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BD,OAFnC,CAGAvD,KAAK,CAACoE,GAAN,CAAY9D,KAAK,CAACE,QAAN,CAAe4D,GAA3B,CACApE,KAAK,CAACqE,GAAN,CAAY/D,KAAK,CAACE,QAAN,CAAe6D,GAA3B,CACArE,KAAK,CAAC4E,IAAN,CAAatE,KAAK,CAACE,QAAN,CAAeoE,IAA5B,CACA5E,KAAK,CAACD,KAAN,CAAcO,KAAK,CAACE,QAAN,CAAeT,KAA7B,CACAC,KAAK,CAAC2D,QAAN,CAAiB,SAACI,CAAD,CAAIhE,KAAJ,CAAc,CAC7Bf,KAAK,CAAC6E,QAAN,CACE7F,MAAM,CAAC8F,cAAP,CAAsB,CACpBX,EAAE,CAAE7C,KAAK,CAAC6C,EADU,CAEpB5C,IAAI,CAAED,KAAK,CAACC,IAFQ,CAGpBR,KAAK,CAAEA,KAHa,CAAtB,CADF,EAOD,CARD,CASA,MAAOC,CAAAA,KAAP,CACF,IAAK,WAAL,CACEA,KAAK,CAACD,KAAN,CAAcO,KAAK,CAACE,QAAN,CAAeT,KAA7B,CACAC,KAAK,CAAC0D,QAAN,CAAiBpD,KAAK,CAACE,QAAN,CAAekD,QAAhC,CACA1D,KAAK,CAACqD,KAAN,CAAc/C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,EACV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,CADU,CAEV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBC,OAF7B,CAGAvD,KAAK,CAACiE,UAAN,CAAmB3D,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,EACf1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,CADe,CAEf1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BD,OAFnC,CAGAvD,KAAK,CAAC2D,QAAN,CAAiB,SAACI,CAAD,CAAO,CACtB/E,KAAK,CAAC6E,QAAN,CACE7F,MAAM,CAAC8F,cAAP,CAAsB,CACpBX,EAAE,CAAE7C,KAAK,CAAC6C,EADU,CAEpB5C,IAAI,CAAED,KAAK,CAACC,IAFQ,CAGpBR,KAAK,CAAEgE,CAAC,CAACC,MAAF,CAASjE,KAHI,CAAtB,CADF,EAOD,CARD,CASA,MAAOC,CAAAA,KAAP,CACF,IAAK,SAAL,CACEA,KAAK,CAACqD,KAAN,CAAc/C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,EACV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,CADU,CAEV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBC,OAF7B,CAGAvD,KAAK,CAACsB,WAAN,CAAoBhB,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,EAChB1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,CADgB,CAEhB1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BD,OAFnC,CAGAvD,KAAK,CAAC0E,MAAN,CAAepE,KAAK,CAACE,QAAN,CAAekE,MAA9B,CACA1E,KAAK,CAACD,KAAN,CAAcO,KAAK,CAACE,QAAN,CAAeT,KAA7B,CACAC,KAAK,CAACgC,SAAN,CAAkB1B,KAAK,CAACE,QAAN,CAAewB,SAAjC,CACAhC,KAAK,CAACiC,UAAN,CAAmB3B,KAAK,CAACE,QAAN,CAAeyB,UAAlC,CACAjC,KAAK,CAAC0D,QAAN,CAAiBpD,KAAK,CAACE,QAAN,CAAekD,QAAhC,CACA1D,KAAK,CAAC6E,OAAN,CAAgB,SAACd,CAAD,CAAO,CACrB/E,KAAK,CAAC6E,QAAN,CACE7F,MAAM,CAAC8F,cAAP,CAAsB,CACpBX,EAAE,CAAE7C,KAAK,CAAC6C,EADU,CAEpB5C,IAAI,CAAED,KAAK,CAACC,IAFQ,CAGpBR,KAAK,CAAEgE,CAAC,CAACe,aAAF,CAAgB/E,KAHH,CAAtB,CADF,EAOD,CARD,CASA,MAAOC,CAAAA,KAAP,CACF,IAAK,WAAL,CACEA,KAAK,CAACqD,KAAN,CAAc/C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,EACV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBN,IAAzB,CADU,CAEV1C,KAAK,CAACE,QAAN,CAAe8C,SAAf,CAAyBC,OAF7B,CAGAvD,KAAK,CAACsB,WAAN,CAAoBhB,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,EAChB1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BR,IAA/B,CADgB,CAEhB1C,KAAK,CAACE,QAAN,CAAegD,eAAf,CAA+BD,OAFnC,CAGAvD,KAAK,CAACD,KAAN,CAAcO,KAAK,CAACE,QAAN,CAAeT,KAA7B,CACAC,KAAK,CAAC2D,QAAN,CAAiB,SAAC5D,KAAD,CAAW,CAC1Bf,KAAK,CAAC6E,QAAN,CACE7F,MAAM,CAAC8F,cAAP,CAAsB,CACpBX,EAAE,CAAE7C,KAAK,CAAC6C,EADU,CAEpB5C,IAAI,CAAED,KAAK,CAACC,IAFQ,CAGpBR,KAAK,CAAEA,KAHa,CAAtB,CADF,EAOD,CARD,CASA,MAAOC,CAAAA,KAAP,CACF,QAvQF,CAyQA,MAAOA,CAAAA,KAAP,CACD,CAhRM,CAkRP,GAAM+E,CAAAA,eAAe,CAAG,CACtBC,UAAU,CAAE/G,UADU,CAEtBgH,IAAI,CAAE/G,QAFgB,CAGtBgH,QAAQ,CAAE/G,QAHY,CAItBgH,MAAM,CAAE9G,UAJc,CAKtB+G,cAAc,CAAEzG,YALM,CAMtB0G,UAAU,CAAEzG,UANU,CAOtB0G,KAAK,CAAEvG,KAPe,CAQtBwG,UAAU,CAAEzG,UARU,CAStB0G,SAAS,CAAElH,SATW,CAUtBmH,YAAY,CAAEhH,YAVQ,CAWtBiH,KAAK,CAAElH,KAXe,CAYtBmH,MAAM,CAAE9G,MAZc,CAatB+G,SAAS,CAAErH,SAbW,CActBsH,OAAO,CAAEzH,OAda,CAetB0H,SAAS,CAAEpH,SAfW,CAAxB,CAkBA,MAAO,IAAMqH,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACzF,KAAD,CAAQN,KAAR,CAAkB,CAClD,GAAI,MAAO+E,CAAAA,eAAe,CAACzE,KAAK,CAACC,IAAP,CAAtB,GAAuC,WAA3C,CAAwD,CACtD,MAAOrB,CAAAA,KAAK,CAAC8G,aAAN,CAAoBjB,eAAe,CAACzE,KAAK,CAACC,IAAP,CAAnC,CAAiDP,KAAjD,CAAP,CACD,CAED,MAAOd,CAAAA,KAAK,CAAC8G,aAAN,CACL,8BAAM,gDAAoB1F,KAAK,CAACC,IAA1B,8BAAN,EADK,CAELP,KAFK,CAAP,CAID,CATM,CAWP,MAAO,IAAMiG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAC/F,KAAD,CAAQgG,IAAR,CAAiB,CAC1C,GAAMC,CAAAA,KAAK,CAAGjG,KAAK,CAACkG,qBAApB,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAMhG,CAAAA,MAAM,CACVF,KAAK,CACHiG,KAAK,CAACE,UAAN,CACE,GADF,CAEEF,KAAK,CAACG,YAFR,CAGE,GAHF,CAIEH,KAAK,CAACI,UAJR,CAKE,GALF,CAMEJ,KAAK,CAACK,aANR,CAOE,GAPF,CAQEL,KAAK,CAACM,WARR,CASE,GATF,CAUEN,KAAK,CAACpD,QAXL,CAAL,CAYE3C,MAbJ,CAeA,IAAK,GAAIoC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGpC,MAAM,CAAC8B,MAA3B,CAAmCM,CAAC,EAApC,CAAwC,CACtC,GAAI0D,IAAI,CAAC/C,EAAL,GAAY/C,MAAM,CAACoC,CAAD,CAAN,CAAUW,EAA1B,CAA8B,CAC5B,OAAQ/C,MAAM,CAACoC,CAAD,CAAN,CAAUjC,IAAlB,EACE,IAAK,YAAL,CACEH,MAAM,CAACoC,CAAD,CAAN,CAAUhC,QAAV,CAAmBT,KAAnB,CAA2BmG,IAAI,CAACnG,KAAhC,CACA,MACF,IAAK,OAAL,CACEK,MAAM,CAACoC,CAAD,CAAN,CAAUhC,QAAV,CAAmBT,KAAnB,CAA2BmG,IAAI,CAACnG,KAAhC,CACA,MACF,IAAK,OAAL,CACEK,MAAM,CAACoC,CAAD,CAAN,CAAUhC,QAAV,CAAmBT,KAAnB,CAA2BmG,IAAI,CAACnG,KAAhC,CACA,MACF,IAAK,QAAL,CACEK,MAAM,CAACoC,CAAD,CAAN,CAAUhC,QAAV,CAAmBT,KAAnB,CAA2BmG,IAAI,CAACnG,KAAhC,CACA,MACF,IAAK,WAAL,CACEK,MAAM,CAACoC,CAAD,CAAN,CAAUhC,QAAV,CAAmBT,KAAnB,CAA2BmG,IAAI,CAACnG,KAAhC,CACA,MACF,IAAK,SAAL,CACEK,MAAM,CAACoC,CAAD,CAAN,CAAUhC,QAAV,CAAmBT,KAAnB,CAA2BmG,IAAI,CAACnG,KAAhC,CACA,MACF,IAAK,MAAL,CACEK,MAAM,CAACoC,CAAD,CAAN,CAAUhC,QAAV,CAAmBT,KAAnB,CAA2BmG,IAAI,CAACnG,KAAhC,CACA,MACF,IAAK,QAAL,CACEK,MAAM,CAACoC,CAAD,CAAN,CAAUhC,QAAV,CAAmBT,KAAnB,CAA2BmG,IAAI,CAACnG,KAAhC,CACA,MACF,IAAK,WAAL,CACEK,MAAM,CAACoC,CAAD,CAAN,CAAUhC,QAAV,CAAmBT,KAAnB,CAA2BmG,IAAI,CAACnG,KAAhC,CACA,MACF,IAAK,gBAAL,CACEK,MAAM,CAACoC,CAAD,CAAN,CAAUhC,QAAV,CAAmBT,KAAnB,CAA2BmG,IAAI,CAACnG,KAAhC,CACA,MACF,IAAK,YAAL,CACEK,MAAM,CAACoC,CAAD,CAAN,CAAUhC,QAAV,CAAmBT,KAAnB,CAA2BmG,IAAI,CAACnG,KAAhC,CACA,MACF,IAAK,UAAL,CACEK,MAAM,CAACoC,CAAD,CAAN,CAAUhC,QAAV,CAAmBT,KAAnB,CAA2BmG,IAAI,CAACnG,KAAhC,CACA,MACF,QArCF,CAuCA,MAAOG,CAAAA,KAAP,CACD,CACF,CACF,CA1EM,CA4EP,GAAMwG,CAAAA,GAAG,CAAG,CACVC,QAAQ,CAAE,IADA,CAEVC,WAAW,CAAE,IAFH,CAGVC,QAAQ,CAAE,IAHA,CAIVC,WAAW,CAAE,IAJH,CAKVC,QAAQ,CAAE,IALA,CAMVC,WAAW,CAAE,IANH,CAOVC,MAAM,CAAE,IAPE,CAQVC,SAAS,CAAE,IARD,CASVC,YAAY,CAAE,IATJ,CAUVC,MAAM,CAAE,IAVE,CAWVC,SAAS,CAAE,IAXD,CAYVC,MAAM,CAAE,IAZE,CAYI;AACdC,KAAK,CAAE,IAbG,CAcVC,UAAU,CAAE,IAdF,CAeVC,QAAQ,CAAE,IAfA,CAgBVC,WAAW,CAAE,IAhBH,CAiBVC,QAAQ,CAAE,IAjBA,CAkBVC,cAAc,CAAE,IAlBN,CAmBVC,cAAc,CAAE,IAnBN,CAoBVC,oBAAoB,CAAE,IApBZ,CAqBVC,oBAAoB,CAAE,IArBZ,CAsBVC,GAAG,CAAE,IAtBK,CAuBVC,EAAE,CAAE,IAvBM,CAAZ,CA0BA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAC5H,KAAD,CAAW,2BAClC,GAAI6H,CAAAA,GAAG,CAAG,IAAV,CAEA,GAAMhC,CAAAA,KAAK,wBAAGnH,KAAK,CAAC2B,QAAN,GAAiByH,YAApB,gDAAG,sBAA+BhC,qBAA7C,CACA,GAAI,CAACD,KAAL,CAAY,MAAOgC,CAAAA,GAAP,CACZ,GAAMC,CAAAA,YAAY,CAChBpJ,KAAK,CAAC2B,QAAN,GAAiByH,YAAjB,CACEjC,KAAK,CAACE,UAAN,CACE,GADF,CAEEF,KAAK,CAACG,YAFR,CAGE,GAHF,CAIEH,KAAK,CAACI,UAJR,CAKE,GALF,CAMEJ,KAAK,CAACK,aANR,CAOE,GAPF,CAQEL,KAAK,CAACM,WARR,CASE,GATF,CAUEN,KAAK,CAACpD,QAXV,CADF,CAeA,GAAM3C,CAAAA,MAAM,CAAGgI,YAAH,SAAGA,YAAH,iBAAGA,YAAY,CAAEhI,MAA7B,CAEA,IACE,GAAIiI,CAAAA,UAAU,CAAG,CADnB,CAEEA,UAAU,CAAG/H,KAAK,CAACE,QAAN,CAAe8H,QAAf,CAAwBpG,MAFvC,CAGEmG,UAAU,EAHZ,CAIE,CACA,IAAK,GAAIE,CAAAA,UAAU,CAAG,CAAtB,CAAyBA,UAAU,CAAGnI,MAAM,CAAC8B,MAA7C,CAAqDqG,UAAU,EAA/D,CAAmE,CACjE,GACEnI,MAAM,CAACmI,UAAD,CAAN,CAAmBpF,EAAnB,GAA0B7C,KAAK,CAACE,QAAN,CAAe8H,QAAf,CAAwBD,UAAxB,EAAoCG,OADhE,CAEE,CACA,qBACA,GAAIC,CAAAA,MAAM,OAAV,CACA,GAAIrI,MAAM,CAACmI,UAAD,CAAN,CAAmBhI,IAAnB,GAA4B,SAAhC,CAA2C,CACzC,GAAIR,CAAAA,KAAK,OAAT,CACA,GAAIK,MAAM,CAACmI,UAAD,CAAN,CAAmB/H,QAAnB,CAA4BT,KAA5B,GAAsC,KAA1C,CAAiD,CAC/CA,KAAK,CAAG,MAAR,CACD,CAFD,IAEO,IAAIK,MAAM,CAACmI,UAAD,CAAN,CAAmB/H,QAAnB,CAA4BT,KAA5B,GAAsC,IAA1C,CAAgD,CACrDA,KAAK,CAAG,OAAR,CACD,CAFM,IAEA,CACLA,KAAK,CAAGK,MAAM,CAACmI,UAAD,CAAN,CAAmB/H,QAAnB,CAA4BT,KAApC,CACD,CACD0I,MAAM,CAAGC,IAAI,CAACC,SAAL,CAAe5I,KAAf,CAAT,CACD,CAVD,IAUO,CACL0I,MAAM,CAAGC,IAAI,CAACC,SAAL,CAAevI,MAAM,CAACmI,UAAD,CAAN,CAAmB/H,QAAnB,CAA4BT,KAA3C,CAAT,CACD,CAED,GAAM6I,CAAAA,IAAI,CAAGC,IAAI,CACfJ,MAAM,CACJ/B,GAAG,CAACpG,KAAK,CAACE,QAAN,CAAe8H,QAAf,CAAwBD,UAAxB,EAAoCS,UAArC,CADL,CAEEJ,IAAI,CAACC,SAAL,CAAerI,KAAK,CAACE,QAAN,CAAe8H,QAAf,CAAwBD,UAAxB,EAAoCU,QAAnD,CAHa,CAAjB,CAMA,qBACAZ,GAAG,CAAGU,IAAI,CACRH,IAAI,CAACC,SAAL,CAAeR,GAAf,EACEzB,GAAG,CAACpG,KAAK,CAACE,QAAN,CAAe8H,QAAf,CAAwBD,UAAxB,EAAoCW,mBAArC,CADL,CAEEN,IAAI,CAACC,SAAL,CAAeC,IAAf,CAHM,CAAV,CAKA,MACD,CACF,CACF,CAED,MAAOT,CAAAA,GAAP,CACD,CAjEM,CAmEP,MAAO,IAAMlF,CAAAA,cAAc,CAAG,CAC5BgG,EAAE,CAAE,SADwB,CAE5BC,EAAE,CAAE,SAFwB,CAAvB","sourcesContent":["import * as action from \"actions\";\r\nimport {\r\n  Checkboxes,\r\n  DateTime,\r\n  Dropdown,\r\n  NaYesNo,\r\n  NumberText,\r\n  PageBreak,\r\n  Paragraph,\r\n  Photo,\r\n  SectionBreak,\r\n  Signature,\r\n  SingleChoice,\r\n  SingleLine,\r\n  Slider,\r\n  StaticText,\r\n  YesNo,\r\n} from \"components/TemplateForm\";\r\nimport store from \"js/store\";\r\nimport Moment from \"moment\";\r\nimport React from \"react\";\r\nimport { getListOfInstallationBranches } from \"js/publicFn\";\r\n\r\nconst defaultNaYesNoValues = {\r\n  na: \"N/A\",\r\n  fixed: \"Fixed\",\r\n  yes: \"Yes\",\r\n  no: \"No\",\r\n};\r\n\r\nconst customizeNaYesNoValues = {\r\n  yes: \"YES\",\r\n  no: \"NO\",\r\n  na: \"N/A\",\r\n  notok: \"Not OK\",\r\n  ok: \"OK\",\r\n  square: \"□\",\r\n  triangle: \"▽\",\r\n  fixed: \"Fixed\",\r\n};\r\n\r\nconst verifyNumber = (value, props) => {\r\n  // if (value > props.max) {\r\n  //   return props.max;\r\n  // } else {\r\n  //   if (value === \"\") {\r\n  //     return \"\";\r\n  //   }\r\n  //   console.log(value)\r\n    return value;\r\n  // }\r\n};\r\n\r\nexport const initFormState = (state, routeParams) => {\r\n  state.fields.forEach((field) => {\r\n    switch (field.type) {\r\n      case \"singleLine\":\r\n        if (!field.settings.value) {\r\n          field.settings.value = field.settings.prefilledAnswer;\r\n        }\r\n        if (field.settings.value.indexOf(\"%%!\") > -1) {\r\n          const { orders, projects, partners, auth } = store.getState();\r\n          const orderData = orders[routeParams.orderNo];\r\n          const textFieldText = field.settings.value.slice(3, -3);\r\n          const { description: projectName } =\r\n            projects[orderData.projectNumber];\r\n          const PM = partners[`${orderData[\"number\"]}-YI`]?.name1;\r\n          const PE = partners[`${orderData[\"number\"]}-Z(`]?.name1;\r\n          const InstallationClientName =\r\n            partners[`${orderData[\"number\"]}-Z&`]?.name1;\r\n          const installationTeamLeader = partners[`${orderData[\"number\"]}-SC`]\r\n            ?.name1\r\n            ? partners[`${orderData[\"number\"]}-SC`]?.name1\r\n            : partners[`${orderData[\"number\"]}-VW`]?.name1;\r\n\r\n          const branchName = getListOfInstallationBranches(orderData[\"prctr\"]);\r\n          field.settings.value =\r\n            textFieldText === \"orderno\"\r\n              ? orderData[\"number\"]\r\n              : textFieldText === \"liftno\"\r\n              ? orderData[\"unitDesignation\"]\r\n              : textFieldText === \"projectname\"\r\n              ? projectName\r\n              : textFieldText === \"instbranch\"\r\n              ? branchName\r\n              : textFieldText === \"pl\"\r\n              ? PM\r\n              : textFieldText === \"instcustname\"\r\n              ? InstallationClientName\r\n              : textFieldText === \"pe\"\r\n              ? PE\r\n              : textFieldText === \"tl\"\r\n              ? installationTeamLeader\r\n              : textFieldText === \"CurrentDate\"\r\n              ? auth?.CurrentDate\r\n              : textFieldText === \"LoginUserName\"\r\n              ? auth?.name\r\n              : \"\";\r\n        }\r\n        break;\r\n      case \"yesNo\":\r\n        if (!field.settings.value) {\r\n          field.settings.value = field.settings.initialValue;\r\n        }\r\n        break;\r\n      case \"slider\":\r\n        if (!field.settings.value) {\r\n          field.settings.value = field.settings.initialValue;\r\n        }\r\n        break;\r\n      case \"paragraph\":\r\n        if (!field.settings.value) {\r\n          field.settings.value = field.settings.prefilledAnswer;\r\n        }\r\n        break;\r\n      case \"naYesNo\":\r\n        if (\r\n          (!field.settings.itemTexts && !field.settings.itemValues) ||\r\n          (field.settings.itemTexts.length === 0 &&\r\n            field.settings.itemValues.length === 0)\r\n        ) {\r\n          field.settings.itemTexts = [];\r\n          field.settings.itemValues = [];\r\n\r\n          field.settings.itemTexts.push(\"-\");\r\n          field.settings.itemValues.push(\"-\");\r\n\r\n          if (field.settings.notApplicableOption) {\r\n            field.settings.itemValues.push(\"na\");\r\n            field.settings.itemTexts.push(defaultNaYesNoValues[\"na\"]);\r\n          }\r\n\r\n          if (field.settings.fixedOption) {\r\n            field.settings.itemValues.push(\"fixed\");\r\n            field.settings.itemTexts.push(defaultNaYesNoValues[\"fixed\"]);\r\n          }\r\n\r\n          field.settings.itemValues.push(\"yes\");\r\n          field.settings.itemTexts.push(defaultNaYesNoValues[\"yes\"]);\r\n\r\n          field.settings.itemValues.push(\"no\");\r\n          field.settings.itemTexts.push(defaultNaYesNoValues[\"no\"]);\r\n\r\n          field.settings.buttonDescriptions.forEach((desc) => {\r\n            for (let i = 0; i < field.settings.itemValues.length; i++) {\r\n              if (desc.selectedButtonId === field.settings.itemValues[i]) {\r\n                // field.settings.itemValues[i] = desc.selectedDescriptionId;\r\n                field.settings.itemTexts[i] =\r\n                  customizeNaYesNoValues[desc.selectedDescriptionId];\r\n                break;\r\n              }\r\n            }\r\n          });\r\n        }\r\n\r\n        if (!field.settings.value) {\r\n          field.settings.value = \"-\";\r\n        }\r\n        break;\r\n      case \"photo\":\r\n        if (!field.settings.value) {\r\n          field.settings.value =\r\n            \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\r\n        }\r\n        break;\r\n      case \"date\":\r\n        if (!field.settings.value) {\r\n          field.settings.value = Moment();\r\n          if (field.settings.includeTime) {\r\n            field.settings.value = Moment().format(\"YYYY-MM-DDTHH:mm\");\r\n          } else {\r\n            field.settings.value = Moment().format(\"YYYY-MM-DD\");\r\n          }\r\n        }\r\n        break;\r\n      case \"number\":\r\n        // if (!field.settings.value) {\r\n        //   field.settings.value = Number(\r\n        //     field.settings.prefilledAnswer\r\n        //       ? field.settings.prefilledAnswer\r\n        //       : 0 || field.settings.prefilledAnswer === \"\"\r\n        //       ? 0\r\n        //       : field.settings.prefilledAnswer\r\n        //   );\r\n        // }\r\n        if (!field.settings.value) {\r\n          if (!field.settings.prefilledAnswer) {\r\n            if (\r\n              field.settings.prefilledAnswer === 0 ||\r\n              field.settings.prefilledAnswer === \"0\" ||\r\n              field.settings.prefilledAnswer\r\n            ) {\r\n              field.settings.value = field.settings.prefilledAnswer;\r\n            } else {\r\n              field.settings.value = \"\";\r\n            }\r\n          } else {\r\n            const { auth } = store.getState();\r\n            if (field.settings.prefilledAnswer === \"%%!LoginUserNo!%%\") {\r\n              field.settings.value =auth?.personalNumber\r\n            } else {\r\n              field.settings.value = field.settings.prefilledAnswer;\r\n            }\r\n          }\r\n        }\r\n        break;\r\n      case \"multipleChoice\":\r\n        if (!field.settings.value) {\r\n          // field.settings.value = field.settings.value\r\n          //   ? field.settings.value\r\n          //   : \"\";\r\n          field.settings.value = \"\";\r\n        }\r\n\r\n        break;\r\n      case \"checkboxes\":\r\n        if (!field.settings.value) {\r\n          field.settings.value = field.settings.value\r\n            ? field.settings.value\r\n            : [];\r\n        }\r\n        break;\r\n      case \"signature\":\r\n        if (!field.settings.value) {\r\n          field.settings.value =\r\n            \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\r\n        }\r\n        break;\r\n      case \"dropdown\":\r\n        if (!field.settings.value) {\r\n          field.settings.value = field.settings.value\r\n            ? field.settings.value\r\n            : \"\";\r\n        }\r\n        break;\r\n      default:\r\n    }\r\n  });\r\n\r\n  return state;\r\n};\r\n\r\nexport const initProps = (field, language) => {\r\n  const lang = tmplLangMapper[language];\r\n\r\n  const props = Object();\r\n  props.id = field.id;\r\n  props.key = field.id;\r\n  switch (field.type) {\r\n    case \"checkboxes\":\r\n      props.value = field.settings.value;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.descriptionI18n = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.options = field.settings.options;\r\n      props.required = field.settings.required;\r\n      props.onChange = (value) => {\r\n        props.value.indexOf(value) > -1\r\n          ? props.value.splice(props.value.indexOf(value), 1)\r\n          : props.value.push(value);\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: props.value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"date\":\r\n      props.value = field.settings.value;\r\n      props.required = field.settings.required;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.descriptionI18n = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.includeTime = field.settings.includeTime;\r\n      props.onChange = (e) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: e.target.value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"dropdown\":\r\n      props.value = field.settings.value;\r\n      props.required = field.settings.required;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.helperText = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.options = field.settings.options;\r\n      props.onChange = (e) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: e,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"number\":\r\n      props.prefilledAnswer = field.settings.prefilledAnswer;\r\n      props.value = field.settings.value;\r\n      props.required = field.settings.required;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.helperText = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.unit = field.settings.unit;\r\n      props.type = field.type;\r\n      props.unitFront = field.settings.unitFront;\r\n      props.min = field.settings.min;\r\n      props.max = field.settings.max;\r\n      props.onChange = (e, props) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value:\r\n              props.max || props.min\r\n                ? verifyNumber(e.target.value, props).toString()\r\n                : e.target.value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"multipleChoice\":\r\n      props.value = field.settings.value;\r\n      props.required = field.settings.required;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.helperText = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.options = field.settings.options;\r\n      props.onChange = (e) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: e.target.value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"singleLine\":\r\n      props.identifier = field.settings.identifier;\r\n      props.value = field.settings.value;\r\n      props.required = field.settings.required;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.helperText = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.onChange = (e) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: e.target.value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"yesNo\":\r\n      props.value = field.settings.value;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.onChange = (e) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: e.target.checked,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"staticText\":\r\n      props.value = field.settings.textI18n[lang]\r\n        ? field.settings.textI18n[lang]\r\n        : field.settings.textI18n.English;\r\n      props.images = field.settings.images;\r\n      props.required = field.settings.required;\r\n      return props;\r\n    case \"pageBreak\":\r\n      return props;\r\n    case \"sectionBreak\":\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.description = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      return props;\r\n    case \"photo\":\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.description = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.value = field.settings.value;\r\n      props.required = field.settings.required;\r\n      props.onChange = (photoURL) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: photoURL === \"#\" ? \"#\" : photoURL,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"slider\":\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.description = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.min = field.settings.min;\r\n      props.max = field.settings.max;\r\n      props.step = field.settings.step;\r\n      props.value = field.settings.value;\r\n      props.onChange = (e, value) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"paragraph\":\r\n      props.value = field.settings.value;\r\n      props.required = field.settings.required;\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.helperText = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.onChange = (e) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: e.target.value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"naYesNo\":\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.description = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.images = field.settings.images;\r\n      props.value = field.settings.value;\r\n      props.itemTexts = field.settings.itemTexts;\r\n      props.itemValues = field.settings.itemValues;\r\n      props.required = field.settings.required;\r\n      props.onClick = (e) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: e.currentTarget.value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    case \"signature\":\r\n      props.label = field.settings.labelI18n[lang]\r\n        ? field.settings.labelI18n[lang]\r\n        : field.settings.labelI18n.English;\r\n      props.description = field.settings.descriptionI18n[lang]\r\n        ? field.settings.descriptionI18n[lang]\r\n        : field.settings.descriptionI18n.English;\r\n      props.value = field.settings.value;\r\n      props.onChange = (value) => {\r\n        store.dispatch(\r\n          action.handleOnChange({\r\n            id: field.id,\r\n            type: field.type,\r\n            value: value,\r\n          })\r\n        );\r\n      };\r\n      return props;\r\n    default:\r\n  }\r\n  return props;\r\n};\r\n\r\nconst componentMapper = {\r\n  checkboxes: Checkboxes,\r\n  date: DateTime,\r\n  dropdown: Dropdown,\r\n  number: NumberText,\r\n  multipleChoice: SingleChoice,\r\n  singleLine: SingleLine,\r\n  yesNo: YesNo,\r\n  staticText: StaticText,\r\n  pageBreak: PageBreak,\r\n  sectionBreak: SectionBreak,\r\n  photo: Photo,\r\n  slider: Slider,\r\n  paragraph: Paragraph,\r\n  naYesNo: NaYesNo,\r\n  signature: Signature,\r\n};\r\n\r\nexport const componentGenerator = (field, props) => {\r\n  if (typeof componentMapper[field.type] !== \"undefined\") {\r\n    return React.createElement(componentMapper[field.type], props);\r\n  }\r\n\r\n  return React.createElement(\r\n    () => <div>The component {field.type} has not been created yet.</div>,\r\n    props\r\n  );\r\n};\r\n\r\nexport const changeValue = (state, data) => {\r\n  const param = state.currentTemplateParams;\r\n\r\n  // documentNo +\r\n  //   \"-\" +\r\n  //   documentPart +\r\n  //   \"-\" +\r\n  //   activityNo +\r\n  //   \"-\" +\r\n  //   productFamily +\r\n  //   \"-\" +\r\n  //   productLine +\r\n  //   \"-\" +\r\n  //   language;\r\n\r\n  const fields =\r\n    state[\r\n      param.documentNo +\r\n        \"-\" +\r\n        param.documentPart +\r\n        \"-\" +\r\n        param.activityNo +\r\n        \"-\" +\r\n        param.productFamily +\r\n        \"-\" +\r\n        param.productLine +\r\n        \"-\" +\r\n        param.language\r\n    ].fields;\r\n\r\n  for (let i = 0; i < fields.length; i++) {\r\n    if (data.id === fields[i].id) {\r\n      switch (fields[i].type) {\r\n        case \"singleLine\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"yesNo\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"photo\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"slider\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"paragraph\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"naYesNo\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"date\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"number\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"signature\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"multipleChoice\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"checkboxes\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        case \"dropdown\":\r\n          fields[i].settings.value = data.value;\r\n          break;\r\n        default:\r\n      }\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nconst ops = {\r\n  isString: \"==\",\r\n  isNotString: \"!=\",\r\n  isNumber: \"==\",\r\n  isNotNumber: \"!=\",\r\n  isOption: \"==\",\r\n  isNotOption: \"!=\",\r\n  isBool: \"==\",\r\n  isExtBool: \"==\",\r\n  isNotExtBool: \"!=\",\r\n  isDate: \"==\",\r\n  isNotDate: \"!=\",\r\n  before: \"==\", // TODO: below need handle\r\n  after: \"==\",\r\n  startsWith: \"==\",\r\n  endsWith: \"==\",\r\n  greaterThan: \"==\",\r\n  lessThan: \"==\",\r\n  containsString: \"!=\",\r\n  containsOption: \"==\",\r\n  doesNotContainString: \"!=\",\r\n  doesNotContainOption: \"==\",\r\n  and: \"&&\",\r\n  or: \"||\",\r\n};\r\n\r\nexport const isVisible = (field) => {\r\n  let res = true;\r\n\r\n  const param = store.getState().templateForm?.currentTemplateParams;\r\n  if (!param) return res;\r\n  const templateForm =\r\n    store.getState().templateForm[\r\n      param.documentNo +\r\n        \"-\" +\r\n        param.documentPart +\r\n        \"-\" +\r\n        param.activityNo +\r\n        \"-\" +\r\n        param.productFamily +\r\n        \"-\" +\r\n        param.productLine +\r\n        \"-\" +\r\n        param.language\r\n    ];\r\n\r\n  const fields = templateForm?.fields;\r\n\r\n  for (\r\n    let rulesIndex = 0;\r\n    rulesIndex < field.settings.visRules.length;\r\n    rulesIndex++\r\n  ) {\r\n    for (let fieldIndex = 0; fieldIndex < fields.length; fieldIndex++) {\r\n      if (\r\n        fields[fieldIndex].id === field.settings.visRules[rulesIndex].fieldId\r\n      ) {\r\n        /*eslint no-eval: 0*/\r\n        let result;\r\n        if (fields[fieldIndex].type === \"naYesNo\") {\r\n          let value;\r\n          if (fields[fieldIndex].settings.value === \"yes\") {\r\n            value = \"true\";\r\n          } else if (fields[fieldIndex].settings.value === \"no\") {\r\n            value = \"false\";\r\n          } else {\r\n            value = fields[fieldIndex].settings.value;\r\n          }\r\n          result = JSON.stringify(value);\r\n        } else {\r\n          result = JSON.stringify(fields[fieldIndex].settings.value);\r\n        }\r\n\r\n        const cond = eval(\r\n          result +\r\n            ops[field.settings.visRules[rulesIndex].operatorId] +\r\n            JSON.stringify(field.settings.visRules[rulesIndex].argument)\r\n        );\r\n\r\n        /*eslint no-eval: 0*/\r\n        res = eval(\r\n          JSON.stringify(res) +\r\n            ops[field.settings.visRules[rulesIndex].conjunctionOperator] +\r\n            JSON.stringify(cond)\r\n        );\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  return res;\r\n};\r\n\r\nexport const tmplLangMapper = {\r\n  EN: \"English\",\r\n  ZH: \"Chinese\",\r\n};\r\n"]},"metadata":{},"sourceType":"module"}