{"ast":null,"code":"export const stepSplit = data => {\n  const setpMapping = {\n    7010: {\n      7010: {\n        description: \"开箱检查及仓储\"\n      },\n      7020: {\n        description: \"安装起吊设备\"\n      }\n    },\n    7020: {\n      7030: {\n        description: \"安装前的检查工作\"\n      }\n    },\n    7030: {\n      7040: {\n        description: \"安装底坑部件\"\n      },\n      7050: {\n        description: \"安装轿厢部件\"\n      },\n      7060: {\n        description: \"安装导轨、支架\"\n      }\n    },\n    7040: {\n      7070: {\n        description: \"安装顶部部件及曳引机检查\"\n      }\n    },\n    7050: {\n      7080: {\n        description: \"安装曳引媒介\"\n      },\n      7090: {\n        description: \"安装轿门地坎和厅门\"\n      }\n    },\n    7060: {\n      \"70A0\": {\n        description: \"\t井道和地坑接线\"\n      },\n      \"70B0\": {\n        description: \"轿厢竣工检查\"\n      }\n    },\n    7070: {\n      \"70C0\": {\n        description: \"调试前最终任务检查\"\n      }\n    },\n    7080: {\n      \"70D0\": {\n        description: \"调试\t\"\n      }\n    },\n    7600: {\n      7600: {\n        description: \"配合SAIS检查\t\"\n      }\n    }\n  };\n  const installationData = [];\n  let isLastStep = false;\n  data.forEach(stepObj => {\n    Object.keys(setpMapping[stepObj.stepNumber]).forEach((fourTeenStep, index) => {\n      if (Object.keys(setpMapping[stepObj.stepNumber]).length - 1 === index) {\n        isLastStep = true;\n      } else {\n        isLastStep = false;\n      }\n\n      const nineStepNumber = stepObj.stepNumber;\n      installationData.push({ ...stepObj,\n        stepNumber: fourTeenStep,\n        description: setpMapping[stepObj.stepNumber][fourTeenStep].description,\n        isLastStep,\n        nineStepNumber\n      });\n    });\n  });\n  return installationData;\n};","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/src/js/publicFn/stepSplit.js"],"names":["stepSplit","data","setpMapping","description","installationData","isLastStep","forEach","stepObj","Object","keys","stepNumber","fourTeenStep","index","length","nineStepNumber","push"],"mappings":"AAAA,OAAO,MAAMA,SAAS,GAAIC,IAAD,IAAU;AACjC,QAAMC,WAAW,GAAG;AAClB,UAAM;AACJ,YAAM;AAAEC,QAAAA,WAAW,EAAE;AAAf,OADF;AAEJ,YAAM;AAAEA,QAAAA,WAAW,EAAE;AAAf;AAFF,KADY;AAKlB,UAAM;AAAE,YAAM;AAAEA,QAAAA,WAAW,EAAE;AAAf;AAAR,KALY;AAMlB,UAAM;AACJ,YAAM;AAAEA,QAAAA,WAAW,EAAE;AAAf,OADF;AAEJ,YAAM;AAAEA,QAAAA,WAAW,EAAE;AAAf,OAFF;AAGJ,YAAM;AAAEA,QAAAA,WAAW,EAAE;AAAf;AAHF,KANY;AAWlB,UAAM;AAAE,YAAM;AAAEA,QAAAA,WAAW,EAAE;AAAf;AAAR,KAXY;AAYlB,UAAM;AACJ,YAAM;AAAEA,QAAAA,WAAW,EAAE;AAAf,OADF;AAEJ,YAAM;AAAEA,QAAAA,WAAW,EAAE;AAAf;AAFF,KAZY;AAgBlB,UAAM;AACJ,cAAQ;AAAEA,QAAAA,WAAW,EAAE;AAAf,OADJ;AAEJ,cAAQ;AAAEA,QAAAA,WAAW,EAAE;AAAf;AAFJ,KAhBY;AAoBlB,UAAM;AAAE,cAAQ;AAAEA,QAAAA,WAAW,EAAE;AAAf;AAAV,KApBY;AAqBlB,UAAM;AAAE,cAAQ;AAAEA,QAAAA,WAAW,EAAE;AAAf;AAAV,KArBY;AAsBlB,UAAM;AAAE,YAAM;AAAEA,QAAAA,WAAW,EAAE;AAAf;AAAR;AAtBY,GAApB;AAwBA,QAAMC,gBAAgB,GAAG,EAAzB;AACA,MAAIC,UAAU,GAAG,KAAjB;AACAJ,EAAAA,IAAI,CAACK,OAAL,CAAcC,OAAD,IAAa;AACxBC,IAAAA,MAAM,CAACC,IAAP,CAAYP,WAAW,CAACK,OAAO,CAACG,UAAT,CAAvB,EAA6CJ,OAA7C,CACE,CAACK,YAAD,EAAeC,KAAf,KAAyB;AACvB,UAAIJ,MAAM,CAACC,IAAP,CAAYP,WAAW,CAACK,OAAO,CAACG,UAAT,CAAvB,EAA6CG,MAA7C,GAAsD,CAAtD,KAA4DD,KAAhE,EAAuE;AACrEP,QAAAA,UAAU,GAAG,IAAb;AACD,OAFD,MAEO;AACLA,QAAAA,UAAU,GAAG,KAAb;AACD;;AACD,YAAMS,cAAc,GAAGP,OAAO,CAACG,UAA/B;AACAN,MAAAA,gBAAgB,CAACW,IAAjB,CAAsB,EACpB,GAAGR,OADiB;AAEpBG,QAAAA,UAAU,EAAEC,YAFQ;AAGpBR,QAAAA,WAAW,EACTD,WAAW,CAACK,OAAO,CAACG,UAAT,CAAX,CAAgCC,YAAhC,EAA8CR,WAJ5B;AAKpBE,QAAAA,UALoB;AAMpBS,QAAAA;AANoB,OAAtB;AAQD,KAhBH;AAkBD,GAnBD;AAoBA,SAAOV,gBAAP;AACD,CAhDM","sourcesContent":["export const stepSplit = (data) => {\r\n  const setpMapping = {\r\n    7010: {\r\n      7010: { description: \"开箱检查及仓储\" },\r\n      7020: { description: \"安装起吊设备\" },\r\n    },\r\n    7020: { 7030: { description: \"安装前的检查工作\" } },\r\n    7030: {\r\n      7040: { description: \"安装底坑部件\" },\r\n      7050: { description: \"安装轿厢部件\" },\r\n      7060: { description: \"安装导轨、支架\" },\r\n    },\r\n    7040: { 7070: { description: \"安装顶部部件及曳引机检查\" } },\r\n    7050: {\r\n      7080: { description: \"安装曳引媒介\" },\r\n      7090: { description: \"安装轿门地坎和厅门\" },\r\n    },\r\n    7060: {\r\n      \"70A0\": { description: \"\t井道和地坑接线\" },\r\n      \"70B0\": { description: \"轿厢竣工检查\" },\r\n    },\r\n    7070: { \"70C0\": { description: \"调试前最终任务检查\" } },\r\n    7080: { \"70D0\": { description: \"调试\t\" } },\r\n    7600: { 7600: { description: \"配合SAIS检查\t\" } },\r\n  };\r\n  const installationData = [];\r\n  let isLastStep = false;\r\n  data.forEach((stepObj) => {\r\n    Object.keys(setpMapping[stepObj.stepNumber]).forEach(\r\n      (fourTeenStep, index) => {\r\n        if (Object.keys(setpMapping[stepObj.stepNumber]).length - 1 === index) {\r\n          isLastStep = true;\r\n        } else {\r\n          isLastStep = false;\r\n        }\r\n        const nineStepNumber = stepObj.stepNumber;\r\n        installationData.push({\r\n          ...stepObj,\r\n          stepNumber: fourTeenStep,\r\n          description:\r\n            setpMapping[stepObj.stepNumber][fourTeenStep].description,\r\n          isLastStep,\r\n          nineStepNumber,\r\n        });\r\n      }\r\n    );\r\n  });\r\n  return installationData;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}