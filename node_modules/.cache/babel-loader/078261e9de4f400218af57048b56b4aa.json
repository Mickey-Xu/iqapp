{"ast":null,"code":"var _jsxFileName = \"C:\\\\project\\\\SCF-NI_PM_App\\\\SCF.InstallationQuality\\\\react-client\\\\src\\\\components\\\\OrderListItem\\\\index.js\";\nimport { Button, Grid, Typography } from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport * as action from \"actions\";\nimport { LocalizeContext } from \"i18n\";\nimport { getStopsOrHoistHeight } from \"js/util\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nconst OrderListItem = withStyles(({\n  spacing,\n  palette\n}) => {\n  return {\n    root: {\n      backgroundColor: \"#ffffff\",\n      padding: spacing(1.25, 0, 1.25, 2.5),\n      marginBottom: spacing(1.25)\n    },\n    date: {\n      fontSize: spacing(1.5),\n      color: \"#878787\"\n    },\n    overdue: {\n      width: spacing(11),\n      color: \"white!important\",\n      backgroundColor: \"red!important\",\n      borderRadius: spacing(2.5),\n      lineHeight: \"unset\",\n      padding: spacing(0.25, 1.75)\n    },\n    pending: {\n      width: spacing(11),\n      color: \"white!important\",\n      backgroundColor: \"#8bc34a!important\",\n      borderRadius: spacing(2.5),\n      lineHeight: \"unset\",\n      padding: spacing(0.25, 1.75)\n    },\n    button: {\n      width: spacing(11),\n      borderRadius: spacing(2.5),\n      lineHeight: \"unset\",\n      padding: spacing(0.25, 1.75)\n    }\n  };\n})(({\n  classes,\n  activityNumber,\n  confirmedDate,\n  leadingDate,\n  orderNumber,\n  projectName,\n  projectNumber,\n  productFamilyName,\n  overdueActivities,\n  pendingList,\n  toOrder,\n  unitDesignation,\n  stops,\n  hoistHeight\n}) => {\n  var _overdueActivities$ac;\n\n  const history = useHistory();\n  const i18n = React.useContext(LocalizeContext);\n  const overdueActivity = ((_overdueActivities$ac = overdueActivities[activityNumber]) === null || _overdueActivities$ac === void 0 ? void 0 : _overdueActivities$ac.indexOf(orderNumber + \"-\" + activityNumber)) > -1;\n  const pendingActivity = (pendingList === null || pendingList === void 0 ? void 0 : pendingList.indexOf(orderNumber + \"-\" + activityNumber)) > -1;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    onClick: () => toOrder(history, orderNumber),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, orderNumber), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    clolor: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, productFamilyName)), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: true,\n    classes: {\n      root: overdueActivity ? classes.overdue : pendingActivity ? classes.pending : classes.button\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"caption\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, leadingDate)), /*#__PURE__*/React.createElement(Button, {\n    disabled: true,\n    variant: \"contained\",\n    className: classes.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"caption\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, confirmedDate)))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, i18n.ISNTAPP_DESIGNATION, \":\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, unitDesignation)), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, i18n.INSTALLATION_STOPS, \":\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, stops)), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, i18n.INSTALLATION_HOIST_HEIGHT, \":\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, hoistHeight)), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, i18n.PROJECTLIST_PROJECT_NO, \":\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, projectNumber)), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, i18n.INSTALLATION_PROJECT_NAME, \":\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, projectName)));\n});\n\nconst mapStateToProps = (state, ownProps) => {\n  const {\n    orders,\n    orderActivities,\n    overdueActivities,\n    projects,\n    productFamilies,\n    chars\n  } = state;\n  const {\n    number,\n    pendingList\n  } = ownProps;\n  const {\n    activityNumber,\n    confirmedDate,\n    leadingDate,\n    orderNumber,\n    leadingStartDate,\n    leadingEndDate\n  } = orderActivities[number];\n  const {\n    productFamily,\n    projectNumber\n  } = orders[orderNumber];\n  const {\n    description: projectName\n  } = projects[projectNumber];\n  const {\n    name: productFamilyName\n  } = productFamilies[productFamily];\n  const stops = getStopsOrHoistHeight(chars, orderNumber, \"stops\");\n  const hoistHeight = getStopsOrHoistHeight(chars, orderNumber, \"hoistHeight\");\n  return {\n    activityNumber,\n    confirmedDate: confirmedDate ? new Date(confirmedDate).toLocaleDateString() : \"-\",\n    leadingDate: leadingDate ? new Date(leadingDate).toLocaleDateString() : leadingStartDate && leadingEndDate ? new Date(leadingEndDate).toLocaleDateString() : \"-\",\n    orderNumber,\n    overdueActivities,\n    pendingList,\n    productFamily,\n    productFamilyName,\n    projectName,\n    projectNumber,\n    unitDesignation: orders[orderNumber].unitDesignation,\n    stops,\n    hoistHeight\n  };\n};\n\nconst mapDispatchToState = dispatch => {\n  return {\n    toOrder: (history, orderNumber) => {\n      history.push(`/order/${orderNumber}`);\n      dispatch(action.setOrderDetailPageDefaultTab(\"basic\"));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToState)(OrderListItem);","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/src/components/OrderListItem/index.js"],"names":["Button","Grid","Typography","withStyles","action","LocalizeContext","getStopsOrHoistHeight","React","connect","useHistory","OrderListItem","spacing","palette","root","backgroundColor","padding","marginBottom","date","fontSize","color","overdue","width","borderRadius","lineHeight","pending","button","classes","activityNumber","confirmedDate","leadingDate","orderNumber","projectName","projectNumber","productFamilyName","overdueActivities","pendingList","toOrder","unitDesignation","stops","hoistHeight","history","i18n","useContext","overdueActivity","indexOf","pendingActivity","content","ISNTAPP_DESIGNATION","INSTALLATION_STOPS","INSTALLATION_HOIST_HEIGHT","PROJECTLIST_PROJECT_NO","INSTALLATION_PROJECT_NAME","mapStateToProps","state","ownProps","orders","orderActivities","projects","productFamilies","chars","number","leadingStartDate","leadingEndDate","productFamily","description","name","Date","toLocaleDateString","mapDispatchToState","dispatch","push","setOrderDetailPageDefaultTab"],"mappings":"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","sourcesContent":["import { Button, Grid, Typography } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport * as action from \"actions\";\r\nimport { LocalizeContext } from \"i18n\";\r\nimport { getStopsOrHoistHeight } from \"js/util\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst OrderListItem = withStyles(({ spacing, palette }) => {\r\n  return {\r\n    root: {\r\n      backgroundColor: \"#ffffff\",\r\n      padding: spacing(1.25, 0, 1.25, 2.5),\r\n      marginBottom: spacing(1.25),\r\n    },\r\n\r\n    date: {\r\n      fontSize: spacing(1.5),\r\n      color: \"#878787\",\r\n    },\r\n    overdue: {\r\n      width: spacing(11),\r\n      color: \"white!important\",\r\n      backgroundColor: \"red!important\",\r\n      borderRadius: spacing(2.5),\r\n      lineHeight: \"unset\",\r\n      padding: spacing(0.25, 1.75),\r\n    },\r\n    pending: {\r\n      width: spacing(11),\r\n      color: \"white!important\",\r\n      backgroundColor: \"#8bc34a!important\",\r\n      borderRadius: spacing(2.5),\r\n      lineHeight: \"unset\",\r\n      padding: spacing(0.25, 1.75),\r\n    },\r\n    button: {\r\n      width: spacing(11),\r\n      borderRadius: spacing(2.5),\r\n      lineHeight: \"unset\",\r\n      padding: spacing(0.25, 1.75),\r\n    },\r\n  };\r\n})(\r\n  ({\r\n    classes,\r\n    activityNumber,\r\n    confirmedDate,\r\n    leadingDate,\r\n    orderNumber,\r\n    projectName,\r\n    projectNumber,\r\n    productFamilyName,\r\n    overdueActivities,\r\n    pendingList,\r\n    toOrder,\r\n    unitDesignation,\r\n    stops,\r\n    hoistHeight,\r\n  }) => {\r\n    const history = useHistory();\r\n    const i18n = React.useContext(LocalizeContext);\r\n\r\n    const overdueActivity =\r\n      overdueActivities[activityNumber]?.indexOf(\r\n        orderNumber + \"-\" + activityNumber\r\n      ) > -1;\r\n    const pendingActivity =\r\n      pendingList?.indexOf(orderNumber + \"-\" + activityNumber) > -1;\r\n    return (\r\n      <div\r\n        className={classes.root}\r\n        onClick={() => toOrder(history, orderNumber)}\r\n      >\r\n        <Grid container spacing={1}>\r\n          <Grid item xs={8}>\r\n            <Typography variant=\"h6\">{orderNumber}</Typography>\r\n            <Typography variant=\"body2\" clolor=\"secondary\">\r\n              {productFamilyName}\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <Button\r\n              disabled\r\n              classes={{\r\n                root: overdueActivity\r\n                  ? classes.overdue\r\n                  : pendingActivity\r\n                  ? classes.pending\r\n                  : classes.button,\r\n              }}\r\n            >\r\n              <Typography variant=\"caption\">{leadingDate}</Typography>\r\n            </Button>\r\n            <Button disabled variant=\"contained\" className={classes.button}>\r\n              <Typography variant=\"caption\">{confirmedDate}</Typography>\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={1}>\r\n          <Grid item className={classes.content}>\r\n            {i18n.ISNTAPP_DESIGNATION}:\r\n          </Grid>\r\n          <Grid item xs className={classes.content}>\r\n            {unitDesignation}\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={1}>\r\n          <Grid item className={classes.content}>\r\n            {i18n.INSTALLATION_STOPS}:\r\n          </Grid>\r\n          <Grid item className={classes.content}>\r\n            {stops}\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={1}>\r\n          <Grid item className={classes.content}>\r\n            {i18n.INSTALLATION_HOIST_HEIGHT}:\r\n          </Grid>\r\n          <Grid item xs className={classes.content}>\r\n            {hoistHeight}\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={1}>\r\n          <Grid item className={classes.content}>\r\n            {i18n.PROJECTLIST_PROJECT_NO}:\r\n          </Grid>\r\n          <Grid item xs className={classes.content}>\r\n            {projectNumber}\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={1}>\r\n          <Grid item className={classes.content}>\r\n            {i18n.INSTALLATION_PROJECT_NAME}:\r\n          </Grid>\r\n          <Grid item xs className={classes.content}>\r\n            {projectName}\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const {\r\n    orders,\r\n    orderActivities,\r\n    overdueActivities,\r\n    projects,\r\n    productFamilies,\r\n    chars,\r\n  } = state;\r\n  const { number, pendingList } = ownProps;\r\n  const {\r\n    activityNumber,\r\n    confirmedDate,\r\n    leadingDate,\r\n    orderNumber,\r\n    leadingStartDate,\r\n    leadingEndDate,\r\n  } = orderActivities[number];\r\n  const { productFamily, projectNumber } = orders[orderNumber];\r\n  const { description: projectName } = projects[projectNumber];\r\n  const { name: productFamilyName } = productFamilies[productFamily];\r\n\r\n  const stops = getStopsOrHoistHeight(chars, orderNumber, \"stops\");\r\n\r\n  const hoistHeight = getStopsOrHoistHeight(chars, orderNumber, \"hoistHeight\");\r\n  return {\r\n    activityNumber,\r\n    confirmedDate: confirmedDate\r\n      ? new Date(confirmedDate).toLocaleDateString()\r\n      : \"-\",\r\n    leadingDate: leadingDate\r\n      ? new Date(leadingDate).toLocaleDateString()\r\n      : leadingStartDate && leadingEndDate\r\n      ? new Date(leadingEndDate).toLocaleDateString()\r\n      : \"-\",\r\n    orderNumber,\r\n    overdueActivities,\r\n    pendingList,\r\n    productFamily,\r\n    productFamilyName,\r\n    projectName,\r\n    projectNumber,\r\n    unitDesignation: orders[orderNumber].unitDesignation,\r\n    stops,\r\n    hoistHeight,\r\n  };\r\n};\r\n\r\nconst mapDispatchToState = (dispatch) => {\r\n  return {\r\n    toOrder: (history, orderNumber) => {\r\n      history.push(`/order/${orderNumber}`);\r\n      dispatch(action.setOrderDetailPageDefaultTab(\"basic\"));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToState)(OrderListItem);\r\n"]},"metadata":{},"sourceType":"module"}