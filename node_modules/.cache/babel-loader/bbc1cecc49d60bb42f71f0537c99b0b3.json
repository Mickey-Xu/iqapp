{"ast":null,"code":"export const getProjectSiteAddress = (data, params) => {\n  const {\n    orders,\n    partners\n  } = data;\n  const {\n    projectNumber\n  } = params;\n\n  const getOrderSiteAddress = orderNumber => {\n    const firstPartner = Object.keys(partners).filter(key => {\n      return partners[key].orderNumber === orderNumber && partners[key].functionNumber === \"YS\";\n    }).sort()[0];\n\n    if (firstPartner) {\n      var _partners$firstPartne;\n\n      return (_partners$firstPartne = partners[firstPartner]) === null || _partners$firstPartne === void 0 ? void 0 : _partners$firstPartne.siteAddress;\n    }\n\n    return null;\n  };\n\n  if (Object.keys(orders).length > 0) {\n    let result = Object.keys(orders).filter(orderNumber => {\n      return orders[orderNumber].projectNumber === projectNumber;\n    }).sort().map(orderNumber => {\n      return {\n        orderNumber,\n        siteAddress: getOrderSiteAddress(orderNumber)\n      };\n    }).filter(item => {\n      return !!item.siteAddress;\n    })[0];\n    return result ? result.siteAddress : \"\";\n  }\n\n  return \"\";\n};","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/src/js/publicFn/getOrderSiteAddress.js"],"names":["getProjectSiteAddress","data","params","orders","partners","projectNumber","getOrderSiteAddress","orderNumber","firstPartner","Object","keys","filter","key","functionNumber","sort","siteAddress","length","result","map","item"],"mappings":"AAAA,OAAO,MAAMA,qBAAqB,GAAG,CAACC,IAAD,EAAOC,MAAP,KAAkB;AACrD,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAuBH,IAA7B;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAoBH,MAA1B;;AAEA,QAAMI,mBAAmB,GAAIC,WAAD,IAAiB;AAC3C,UAAMC,YAAY,GAAGC,MAAM,CAACC,IAAP,CAAYN,QAAZ,EAClBO,MADkB,CACVC,GAAD,IAAS;AACf,aACER,QAAQ,CAACQ,GAAD,CAAR,CAAcL,WAAd,KAA8BA,WAA9B,IACAH,QAAQ,CAACQ,GAAD,CAAR,CAAcC,cAAd,KAAiC,IAFnC;AAID,KANkB,EAOlBC,IAPkB,GAOX,CAPW,CAArB;;AASA,QAAIN,YAAJ,EAAkB;AAAA;;AAChB,sCAAOJ,QAAQ,CAACI,YAAD,CAAf,0DAAO,sBAAwBO,WAA/B;AACD;;AACD,WAAO,IAAP;AACD,GAdD;;AAgBA,MAAIN,MAAM,CAACC,IAAP,CAAYP,MAAZ,EAAoBa,MAApB,GAA6B,CAAjC,EAAoC;AAClC,QAAIC,MAAM,GAAGR,MAAM,CAACC,IAAP,CAAYP,MAAZ,EACVQ,MADU,CACFJ,WAAD,IAAiB;AACvB,aAAOJ,MAAM,CAACI,WAAD,CAAN,CAAoBF,aAApB,KAAsCA,aAA7C;AACD,KAHU,EAIVS,IAJU,GAKVI,GALU,CAKLX,WAAD,IAAiB;AACpB,aAAO;AACLA,QAAAA,WADK;AAELQ,QAAAA,WAAW,EAAET,mBAAmB,CAACC,WAAD;AAF3B,OAAP;AAID,KAVU,EAWVI,MAXU,CAWFQ,IAAD,IAAU;AAChB,aAAO,CAAC,CAACA,IAAI,CAACJ,WAAd;AACD,KAbU,EAaR,CAbQ,CAAb;AAcA,WAAOE,MAAM,GAAGA,MAAM,CAACF,WAAV,GAAwB,EAArC;AACD;;AACD,SAAO,EAAP;AACD,CAtCM","sourcesContent":["export const getProjectSiteAddress = (data, params) => {\r\n  const { orders, partners } = data;\r\n  const { projectNumber } = params;\r\n\r\n  const getOrderSiteAddress = (orderNumber) => {\r\n    const firstPartner = Object.keys(partners)\r\n      .filter((key) => {\r\n        return (\r\n          partners[key].orderNumber === orderNumber &&\r\n          partners[key].functionNumber === \"YS\"\r\n        );\r\n      })\r\n      .sort()[0];\r\n\r\n    if (firstPartner) {\r\n      return partners[firstPartner]?.siteAddress;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  if (Object.keys(orders).length > 0) {\r\n    let result = Object.keys(orders)\r\n      .filter((orderNumber) => {\r\n        return orders[orderNumber].projectNumber === projectNumber;\r\n      })\r\n      .sort()\r\n      .map((orderNumber) => {\r\n        return {\r\n          orderNumber,\r\n          siteAddress: getOrderSiteAddress(orderNumber),\r\n        };\r\n      })\r\n      .filter((item) => {\r\n        return !!item.siteAddress;\r\n      })[0];\r\n    return result ? result.siteAddress : \"\";\r\n  }\r\n  return \"\";\r\n};\r\n"]},"metadata":{},"sourceType":"module"}