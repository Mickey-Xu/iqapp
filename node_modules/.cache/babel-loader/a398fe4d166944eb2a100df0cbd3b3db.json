{"ast":null,"code":"/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\nimport { appendChild, appendQuestionBlock, getRequiredAttr, hasChildNode, getChildNode, readQuestionBlock, getAttrWithDefault } from \"./utils/xml\";\nexport default {\n  serialize(doc, findField, parentNode, field) {\n    const questionBlock = appendQuestionBlock(doc, findField, parentNode, \"binary\", field);\n    appendChild(doc, questionBlock, \"signature\", null, {\n      src: field.settings.value === \"#\" ? \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" : field.settings.value\n    });\n  },\n\n  canDeserialize(node) {\n    return node.nodeName === \"question_block\" && hasChildNode(node, \"signature\");\n  },\n\n  deserialize(node) {\n    let field = readQuestionBlock(node, \"signature\", \"binary\"); // eslint-disable-line prefer-const\n\n    field.settings.required = getRequiredAttr(node, \"required\") === \"true\";\n    const signatureNode = getChildNode(node, \"signature\");\n    field.settings.dataUrl = getAttrWithDefault(signatureNode, \"src\", \"\").trim() || undefined;\n    field.settings.value = getAttrWithDefault(signatureNode, \"src\", \"\").trim() || undefined;\n    return field;\n  }\n\n};","map":{"version":3,"sources":["C:/project/SCF-NI_PM_App/SCF.InstallationQuality/react-client/src/js/sfdl/SignatureIO.js"],"names":["appendChild","appendQuestionBlock","getRequiredAttr","hasChildNode","getChildNode","readQuestionBlock","getAttrWithDefault","serialize","doc","findField","parentNode","field","questionBlock","src","settings","value","canDeserialize","node","nodeName","deserialize","required","signatureNode","dataUrl","trim","undefined"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SACEA,WADF,EAEEC,mBAFF,EAGEC,eAHF,EAIEC,YAJF,EAKEC,YALF,EAMEC,iBANF,EAOEC,kBAPF,QAQO,aARP;AAUA,eAAe;AACbC,EAAAA,SAAS,CAACC,GAAD,EAAMC,SAAN,EAAiBC,UAAjB,EAA6BC,KAA7B,EAAoC;AAC3C,UAAMC,aAAa,GAAGX,mBAAmB,CACvCO,GADuC,EAEvCC,SAFuC,EAGvCC,UAHuC,EAIvC,QAJuC,EAKvCC,KALuC,CAAzC;AAOAX,IAAAA,WAAW,CAACQ,GAAD,EAAMI,aAAN,EAAqB,WAArB,EAAkC,IAAlC,EAAwC;AACjDC,MAAAA,GAAG,EACDF,KAAK,CAACG,QAAN,CAAeC,KAAf,KAAyB,GAAzB,GACI,gFADJ,GAEIJ,KAAK,CAACG,QAAN,CAAeC;AAJ4B,KAAxC,CAAX;AAMD,GAfY;;AAiBbC,EAAAA,cAAc,CAACC,IAAD,EAAO;AACnB,WACEA,IAAI,CAACC,QAAL,KAAkB,gBAAlB,IAAsCf,YAAY,CAACc,IAAD,EAAO,WAAP,CADpD;AAGD,GArBY;;AAuBbE,EAAAA,WAAW,CAACF,IAAD,EAAO;AAChB,QAAIN,KAAK,GAAGN,iBAAiB,CAACY,IAAD,EAAO,WAAP,EAAoB,QAApB,CAA7B,CADgB,CAC4C;;AAC5DN,IAAAA,KAAK,CAACG,QAAN,CAAeM,QAAf,GAA0BlB,eAAe,CAACe,IAAD,EAAO,UAAP,CAAf,KAAsC,MAAhE;AAEA,UAAMI,aAAa,GAAGjB,YAAY,CAACa,IAAD,EAAO,WAAP,CAAlC;AACAN,IAAAA,KAAK,CAACG,QAAN,CAAeQ,OAAf,GACEhB,kBAAkB,CAACe,aAAD,EAAgB,KAAhB,EAAuB,EAAvB,CAAlB,CAA6CE,IAA7C,MAAuDC,SADzD;AAGAb,IAAAA,KAAK,CAACG,QAAN,CAAeC,KAAf,GACET,kBAAkB,CAACe,aAAD,EAAgB,KAAhB,EAAuB,EAAvB,CAAlB,CAA6CE,IAA7C,MAAuDC,SADzD;AAGA,WAAOb,KAAP;AACD;;AAnCY,CAAf","sourcesContent":["/**\r\n * Copyright (C) 2016 All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without modification,\r\n * are not permitted unless explicitly granted in writing.\r\n *\r\n * Usage and modification rights granted to Schindler AG, Ebikon.\r\n */\r\n\r\nimport {\r\n  appendChild,\r\n  appendQuestionBlock,\r\n  getRequiredAttr,\r\n  hasChildNode,\r\n  getChildNode,\r\n  readQuestionBlock,\r\n  getAttrWithDefault,\r\n} from \"./utils/xml\";\r\n\r\nexport default {\r\n  serialize(doc, findField, parentNode, field) {\r\n    const questionBlock = appendQuestionBlock(\r\n      doc,\r\n      findField,\r\n      parentNode,\r\n      \"binary\",\r\n      field\r\n    );\r\n    appendChild(doc, questionBlock, \"signature\", null, {\r\n      src:\r\n        field.settings.value === \"#\"\r\n          ? \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\r\n          : field.settings.value,\r\n    });\r\n  },\r\n\r\n  canDeserialize(node) {\r\n    return (\r\n      node.nodeName === \"question_block\" && hasChildNode(node, \"signature\")\r\n    );\r\n  },\r\n\r\n  deserialize(node) {\r\n    let field = readQuestionBlock(node, \"signature\", \"binary\"); // eslint-disable-line prefer-const\r\n    field.settings.required = getRequiredAttr(node, \"required\") === \"true\";\r\n\r\n    const signatureNode = getChildNode(node, \"signature\");\r\n    field.settings.dataUrl =\r\n      getAttrWithDefault(signatureNode, \"src\", \"\").trim() || undefined;\r\n\r\n    field.settings.value =\r\n      getAttrWithDefault(signatureNode, \"src\", \"\").trim() || undefined;\r\n\r\n    return field;\r\n  },\r\n};\r\n"]},"metadata":{},"sourceType":"module"}